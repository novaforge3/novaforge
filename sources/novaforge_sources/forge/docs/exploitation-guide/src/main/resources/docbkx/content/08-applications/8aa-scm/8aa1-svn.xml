<?xml version="1.0" encoding="UTF-8"?>
<!--
 * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
 * Project Management Environment.
 *
 * Copyright (C) 2007-2012  BULL SAS
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see http://www.gnu.org/licenses/.
-->
<sect2
  version="5.0"
  xml:lang="fr"
  xmlns="http://docbook.org/ns/docbook"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:ns5="http://www.w3.org/2000/svg"
  xmlns:ns4="http://www.w3.org/1998/Math/MathML"
  xmlns:ns3="http://www.w3.org/1999/xhtml"
  xmlns:db="http://docbook.org/ns/docbook">

  <title>Subversion</title>
  <sect3>
     <title>Description</title>
     <para>Subversion est utilisé dans la version <emphasis>1.7.14</emphasis>.
     Les dépôts Subversion sont desservis par le serveur web apache via le module mod_dav_svn, l'arrêt/relance est entièrement géré par le serveur web.
  </para>
  <para>Les journaux de Subversion sont inclus dans ceux du serveur Web. Voir la section associée pour plus d'information.</para>
  <para>Les dépôts sont stockés dans le dossier suivant (il existe un dossier par application projet) : </para>
  <programlisting language="shell"># /datas/novaforge3/datas/svn</programlisting>
   <para>
       <inlinemediaobject>
            <imageobject>
              <imagedata fileref="02-dialog-warning.png" width="27px"/>
            </imageobject>
       </inlinemediaobject>
      Attention, la volumétrie de ce répertoire peut augmenter très rapidement en fonction de l'activité de la forge</para>
  </sect3>
  <sect3>
    <title>Gestion des authentifications et des permissions</title>
    <para>La gestion des authentifications et des permissions est effectuée respectivement par les modules apache mod_dav_svn et mod_authz_svn_db_mysql.
    Ces modules permettent d'utiliser la base de données MariaDB nommée <emphasis>plugin_agent_svn</emphasis> pour stocker les authentifications et permissions.</para>
  </sect3>

  <sect3>
    <title>Description des fichiers de configuration du plugin</title>
    <para>Dans le cas où l'outil Subversion est distribué, un agent est localisé sur la machine hébergeant l'outil SVN en plus du plugin svn localisé sur la machine de la forge.</para>
 <para>
  <emphasis>plugins.svn.cfg</emphasis>
  <itemizedlist>
    <listitem>defaultToolUrl : URL de base d'accès au SVN dans la forge. Celle-ci peut être distribuée</listitem>
    <listitem>svnWebBrowserBaseUrl: URL de base pour l'accès au browser du SVN</listitem>
    <listitem>svnWebBrowserAlias: alias utilisé pour l'accès au browser du SVN</listitem>
  </itemizedlist>
  
  <emphasis>plugins.svn.agent.cfg</emphasis>
  <itemizedlist>
    <listitem>repositoriesPath : référence au répertoire de stockage des dépôts (<emphasis>/datas/novaforge3/datas/svn</emphasis>)</listitem>
    <listitem>rootUrl : url de base pour l'agent SVN</listitem>
  </itemizedlist>  
  </para>
  </sect3>
</sect2>
