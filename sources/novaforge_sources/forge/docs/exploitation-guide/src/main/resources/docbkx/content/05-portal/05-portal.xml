<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Copyright (c) 2011-2015, BULL SAS, NovaForge Version 3 and above.
 *
 * This file is free software: you may redistribute and/or 
 * modify it under the terms of the GNU Affero General Public License
 * as published by the Free Software Foundation, version 3 of the License.
 *
 * This file is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty
 * of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Affero General Public License for more details.
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see http://www.gnu.org/licenses.
 *
 * Additional permission under GNU AGPL version 3 (AGPL-3.0) section 7
 *
 * If you modify this Program, or any covered work,
 * by linking or combining it with libraries listed
 * in COPYRIGHT file at the top-level directof of this
 * distribution (or a modified version of that libraries),
 * containing parts covered by the terms of licenses cited
 * in the COPYRIGHT file, the licensors of this Program
 * grant you additional permission to convey the resulting work.
-->
<chapter version="5.0" xml:lang="fr" xmlns="http://docbook.org/ns/docbook"
	xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude"
	xmlns:ns5="http://www.w3.org/2000/svg" xmlns:ns4="http://www.w3.org/1998/Math/MathML"
	xmlns:ns3="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook">
	<title>Portail</title>
	<sect1>
		<title>Karaf</title>
		<sect2>
			<title>Description</title>
			<para>
				Le portail NovaForge incluant le coeur applicatif est hébergé par
				le serveur d'applications OSGi Apache Karaf en version
				3.0.1. Il
				repose entièrement sur OSGi pour proposer les services J2EE (JDBC,
				JNDI, JMX etc)
				et les composants J2EE (persistance avec JPA,
				conteneur de servlets TOMCAT, etc).
				Le portail est desservi par la
				facade web Apache
				(Mandataire
				inverse). Le port utilisé par Karaf est
				<emphasis>9000</emphasis>.
				L'instance de Karaf utilisée est localisée dans le répertoire
				$NOVA_HOME/engines/karaf
			</para>
			<para>
				Dans le répertoire	<emphasis>$NOVA_HOME/engines/karaf</emphasis>,
				se trouve notamment les dossiers suivants :
			</para>
			<itemizedlist>
				<listitem>
					<para>
						<emphasis role="bold">etc</emphasis>
						: contient les fichiers de configuration propres aux
						services
						embarqués par le serveur
						applicatif Karaf
					</para>
				</listitem>
				<listitem>
					<para>
						<emphasis role="bold">deploy</emphasis>
						: contient les "features" propres à	NovaForge
						(forge.xml) et les fichiers de description des datasources
					</para>
				</listitem>
				<listitem>
					<para>
						<emphasis role="bold">lib</emphasis>
						: contient des librairies utilisées par NovaForge
					</para>
				</listitem>
				<listitem>
					<para>
						<emphasis role="bold">nf-conf</emphasis>
						: contient les fichiers de configuration propres à NovaForge
					</para>
					<itemizedlist>
						<listitem>
							<para>
								<emphasis role="bold">forge</emphasis>
								: contient les fichiers de configuration liés au
								coeur de NovaForge
							</para>
						</listitem>
						<listitem>
							<para>
								<emphasis role="bold">plugins</emphasis>
								: contient les fichiers de configuration liés aux
								plugins présents
							</para>
						</listitem>
						<listitem>
							<para>
								<emphasis role="bold">portal</emphasis>
								: contient des éléments de configuration de l'IHM (menus du
								portail, internationalisation, icônes)
							</para>
						</listitem>
						<listitem>
							<para>
								<emphasis role="bold">datasource</emphasis>
								: contient les fichiers de configuration des datasources
							</para>
						</listitem>
					</itemizedlist>
				</listitem>
				<listitem>
					<para>
						<emphasis role="bold">system</emphasis>
						: contient les repositories locaux Maven
						utilisés par le déploiement de l'application
					</para>
				</listitem>
			</itemizedlist>
		</sect2>
		<sect2>
			<title>Arrêt/Relance</title>
			<para>
				Un service permet d'arrêter/relancer le serveur applicatif Karaf et ses dépendances
			</para>
			<programlisting language="shell"># systemctl start novaforge
# systemctl stop novaforge</programlisting>
		</sect2>
		<sect2>
			<title>Fichiers de logs</title>
			<para>Les fichiers de journalisation se trouvent dans :</para>
			<programlisting language="shell"># $NOVA_HOME/logs/karaf</programlisting>
		</sect2>
		<sect2>
			<title>Architecture à plugins</title>
			<para> Chaque outil s'interface avec la forge à l'aide d'un plugin
				localisé avec la forge. Certains outils
				comme SVN nécessitent en plus
				la présence d'un plugin agent localisé
				avec l'outil. La description
				des
				configurations propres à chaque plugin est présentée dans les
				sections relatives
				à chaque outil.
			</para>
		</sect2>
		<sect2>
			<title>Détection d'un problème par la console web de Karaf</title>
			<para>
				La console web Apache-Felix d'administration est accessible depuis
				l'url
				<ulink url="https://NOVAFORGE_HOSTNAME:8181/system/console"></ulink>
				.
				Les identifiants sont ceux de l'administrateur de forge.

			</para>
			<itemizedlist>
				<listitem>
					<para>
						La partie
						<emphasis>Bundles</emphasis>
						permet de visualiser tous les bundles installés avec leur version, catégorie et état. Il est également possible d'arrêter/démarrer, désinstaller, mettre à jour et rafraichir les packages importés par le bundle.
					</para>
				</listitem>
				<listitem>
					<para>
						La partie
						<emphasis>Features</emphasis>
						permet de visualiser toutes les applications (ou fonctionnalités) installées avec leur version (pour les fonctions de NovaForge).
						L'action possible est l'installation ou la désinstallation d'une application. Une feature est constituée d'un certains nombre de bundles.
					</para>
				</listitem>
				<listitem>
					<para>
						La partie
						<emphasis>Gogo</emphasis>
						permet d'acceder à un grand nombre de commandes shell (grep
						etc...) ou commandes spécifiques NovaForge (navigation-refresh,
						messages-refresh etc...).
						Taper sur la touche de tabulation pour
						lister les commandes possibles.
						Taper cmd --help pour obtenir une
						aide sur la commande spécifique.
						Il est possible d'utiliser la
						completion avec la commande de
						tabulation.
						Il est également
						possible d'ajouter des commandes.
					</para>
				</listitem>
			</itemizedlist>
			<para>
				Quelques exemples d'utilisation du Gogo Shell:
			</para>
			<itemizedlist>
				<listitem>La commande <emphasis>list</emphasis> permet de lister les bundles avec leur
					ID, état, nom, ...</listitem>
				<listitem>La commande <emphasis>features:list</emphasis> permet de lister les
					applications</listitem>
				<listitem>la commande <emphasis>mail:stop</emphasis> et <emphasis>mail:start</emphasis> permet de gérer
					l'activité du service de mail</listitem>
				<listitem>la commande <emphasis>messages-refresh</emphasis> permet de recharger les messages d'application, localisés par langage</listitem>
			</itemizedlist>
		</sect2>
		<sect2>
			<title>Historisation des événements applicatifs</title>
			<para>
				Les principaux événements applicatifs (création d'un utilisateur,
				validation d'un projet, ajout d'une
				application...) sont enregistrés
				et accessibles par les administrateurs
				de la forge via le journal
				applicatif.
				Les données sont stockées dans la base de données <emphasis>novaforge_histo</emphasis>.
			</para>
			<para>
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="02-dialog-warning.png" width="27px" />
					</imageobject>
				</inlinemediaobject>
				Il faut surveiller la volumétrie de cette base. Une purge
				sélective du journal peut être effectuée par les
				administrateurs via l'application.
			</para>
		</sect2>
		<sect2>
			<title>Gestion de la navigation du portail</title>
			<para>
				La navigation du portail est modifiable à chaud à partir du fichier
				<emphasis>portal-config.xml</emphasis>.
				La mise à jour de la navigation se fait via le Shell Gogo de la
				console web karaf.
				Taper la commande :
				<programlisting language="shell"># navigation-refresh</programlisting>
			</para>
			<para>
				Exemple de mise à jour :pour l'ajout d'un lien externe dans la rubrique du
				menu de gauche : Mon Espace
				Introduire la ligne suivante sous le tag <emphasis>uri-templates</emphasis> :
				<programlisting language="xml"><![CDATA[<uri-template id="monlien">http://siteExterne/lien externe</uri-template>]]></programlisting>
				Rajouter une balise <emphasis>space</emphasis> sous la balise "forge" avec l'id "myspace"
				<programlisting language="xml"><![CDATA[<space roles="Super Administrator,Administrator,Member" id="myspace">
<name>${navigation.myspace}</name>
<description>${navigation.myspace.description}</description>
<apps>
		<external-app id="monlien">
			<name>mon lien</name>
			<description>mon lien préféré</description>
			<img>icons/addproject.png</img>
		</external-app>
</apps>
</space>]]></programlisting>
				Les valeurs des balises "name" et "description" à l'intérieur de la balise "external-app"
				peuvent être internationnalisées en utilisant ou en rajoutant des propriétés dans
				les fichiers de properties i18n sous
				<programlisting language="shell"># $NOVA_HOME/engines/karaf/nf-conf/portal/i18n</programlisting>
			</para>
			<para>
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="02-dialog-warning.png" width="27px" />
					</imageobject>
				</inlinemediaobject>
				Si le lien contient une URL vers un site non sécurisé (protocole
				avec http et non pas https),
				alors que la navigation sur la forge est
				entièrement sécurisée, des
				protections et/ou des avertissements ont
				été mis en place
				dans les navigateurs récents pour mettre en garde
				l'utilisateur de ce
				type de navigation
				qui est considéré comme une
				faille de sécurité.
				A titre
				d'exemple voici le comportement
				de 3 navigateurs differents :
			</para>
			<itemizedlist>
				<listitem>
					<emphasis>Sur Chrome version Version 30.0</emphasis> :
					Il faut cliquer	sur l'icône à droite du bandeau où est
					saisie l'URL (à coté de	l'étoile) sinon le site n'est pas chargé.
				</listitem>
				<listitem>
					<emphasis>Sur Firefox version 24</emphasis> :
					Il faut cliquer sur
					une icône à gauche et choisir l'option "Désactiver la protection de cette
					page" au lieu de "Poursuivre le blocage" qui est l'option par défaut)
				</listitem>
				<listitem>
					<emphasis>Sur Internet Explorer 8</emphasis> :
					Il existe un avertissement explicite, auquel il faut répondre "Non", lorsque l'on
					clique sur le lien vers le site non sécurisé
				</listitem>
			</itemizedlist>
		</sect2>
		<sect2>
			<title>Persistance des messages JMS</title>
			<para>La communication entre le coeur et les plugins est basée sur le
				protocole JMS. Chaque plugin possède
				des files fonctionnelles
				permettant de gérer les propagations métier
				au niveau de l'outil.
			</para>
			<para>
				Chaque plugin gère, dans son bundle d'implémentation,
				la réception des messages
				JMS de propagation.
				Lors de la désactivation d'un outil, les
				messages
				JMS vont être empilés en attente
				d'être pris en compte lors du
				redémarrage du plugin.
				Les messages sont persistés dans la base de
				données orientés
				fichiers du broker de message ActiveMQ dans le
				répertoire suivant :
				<programlisting language="shell"># $NOVA_HOME/datas/karaf/amq-broker/kahadb</programlisting>
			</para>
		</sect2>
	</sect1>
	<sect1>
		<title>Description des fichiers de configuration</title>
		<sect2>
			<para>
				La configuration est gérée par le composant
				<emphasis>Felix FileInstall</emphasis>
				qui permet de modifier à chaud les propriétés associées à un service
				OSGI. Ainsi, sauf indications particulières, la modification d'une
				propriété décrite dans les paragraphes ci-dessous ne nécéssite pas
				de procédure.
			</para>
			<para>
				La console d'administration Apache Felix est accessible depuis l'url
				<ulink url="https://NOVAFORGE_HOSTNAME:8181/system/console/configMgr"></ulink>.
				Les identifiants sont ceux de l'administrateur de forge.
				Elle permet, via la partie "Configuration", de lister les variables par nom
				de fichier de configuration. On peut visualiser et éditer les
				variables grâce au premier bouton "edit".
				Si par exemple, on souhaite modifier une variable décrite dans ce
				document dans core.configuration.cfg alors on modifie la
				ligne "core.configuration"
			</para>
			<para>
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="02-dialog-warning.png" width="27px" />
					</imageobject>
				</inlinemediaobject>
				La modification de ces fichiers de configuration ne doit pas être
				faite sur des fichiers contenant des caractères avec un encodage
				utf-8 explicite (ex.: le caractère désigant le trademark pour
				NovaForge, le doubles anti-slash ou bien la forgePasswordRegex dans
				ForgeConfigurationManagerImpl)
				Autrement dit, ne pas cliquer sur le
				bouton Save lorsque le fichier a été
				édité. La modification de ces fichiers doit se faire via un éditeur de texte
				en respectant l'encodage utf-8 de ces caractères.
				Note: l'expression régulière de validation des mots de passe fait l'objet
				d'une IHM spéciale dans l'administration des utilisateurs. La
				sauvegarde sous la console Felix corrompt cette expression
				régulière.
			</para>

			<para></para>
			<emphasis>core.configuration.cfg</emphasis>
			<itemizedlist>
				<listitem>casPrefixUrl : url d'accès au serveur SSO CAS</listitem>
				<listitem>forgeUrl : url d'acces à la forge</listitem>
				<listitem>
					uploadMaxSize : taille maximum pour l'envoi d'un
					fichier pour un utilisateur vers la forge. La valeur représente des
					octets. La variable est notamment utilisée pour la fonctionnalité
					"Outils Partagés". Pour prendre en compte la mise à jour de la modification
					de cette variable
					il faut, dans la console d'administration
					Apache-Felix, sélectionner l'onglet bundle et effectuer
					l'action d'update sur le bundle repéré par le nom suivant :
					<programlisting language="shell">NovaForge(tm) :: Modules :: Reference :: UI (novaforge-reference-ui)</programlisting>
				</listitem>
			</itemizedlist>
			<itemizedlist>
				<para>Le service de mail peut être désactivé/activé via la console
					Web. Cliquer sur la partie "Bundles"
					et se positionner sur la ligne <emphasis>NovaForge(tm) :: Commands Karaf :: Mail (novaforge-command-mail)</emphasis>
					La première colonne sous "Actions" permet de faire un stop ou un start du service
				</para>
				<emphasis>commons.mail.cfg</emphasis>
				<listitem>host : DNS de la machine hôte du serveur smtp
				</listitem>
				<listitem>port : port du serveur SMTP</listitem>
				<listitem>from : adresse mail de l'expéditeur des messages
				</listitem>
				<listitem>smtp.username : compte utilisateur utilisé pour une
					connexion SMTP nécessitant une authentification
				</listitem>
				<listitem>smtp.password : mot de passe utilisé pour une connexion SMTP
					nécessitant une authentification
				</listitem>
			</itemizedlist>
			<emphasis>org.apache.felix.webconsole.internal.servlet.OsgiManager.cfg</emphasis>
			<itemizedlist>
				<listitem>username : login d'acces de la console web Felix
				</listitem>
				<listitem>password : Mot de passe pour l'accès à la console web Felix</listitem>
			</itemizedlist>
			<emphasis>commons.webserver.cfg</emphasis>
			<itemizedlist>
				<listitem>webserverConfFolder : Dossier des configurations du
					serveur web
				</listitem>
				<listitem>webserverReloadCmd : Commande de reload du serveur web
				</listitem>
			</itemizedlist>
			<emphasis>commons.logtechnical.cfg</emphasis>
			<itemizedlist>
				<listitem>serverProfile : variable JSON permettant de déclarer les
					différents profils des serveurs sur
					lesquels la vue d'administration
					de visualisation des logs va se
					connecter. Par exemple, si l'on
					souhaite
					visualiser les logs du serveur local et du serveur Alfresco :
					serverProfile=[{'name': 'Serveur
					Local'},{'name':'Serveur
					alfresco',
					'url':
					'http://@HOST_ALFRESCO:@PORT_ALFRESCO/file-manager/',
					'linesToShow'
					: '50', 'defaultFileMask' :'*' }]
				</listitem>
			</itemizedlist>


			<emphasis> MailDelegateImpl.cfg</emphasis>
			<para>
				Les variables suivantes permettent de personnaliser les mails
				envoyés par la forge. Ces variables sont localisées dans les
				fichiers sous :
				<programlisting language="shell"># $NOVA_HOME/engines/karaf/nf-conf/forge/mails</programlisting>
			</para>
			<para>Les fichiers de localisation sont :</para>
			<itemizedlist>
				<listitem>messages_fr.properties</listitem>
				<listitem>messages_en.properties</listitem>
			</itemizedlist>
			<para>Chaque mail est caractérisé par son subject et son body.
				Les
				variables sont les suivantes:
			</para>
			<itemizedlist>
				<listitem>projectCreatedSubject</listitem>
				<listitem>projectCreatedBody</listitem>
				<listitem>projectToValidateSubject</listitem>
				<listitem>projectToValidateBody</listitem>
				<listitem>projectValidSubject</listitem>
				<listitem>projectValidBody</listitem>
				<listitem>projectRejectSubject</listitem>
				<listitem>projectRejectBody</listitem>
				<listitem>templateErrorSubject</listitem>
				<listitem>templateErrorBody</listitem>
				<listitem>membershipSubject</listitem>
				<listitem>addMembershipBody</listitem>
				<listitem>updateMembershipBody</listitem>
				<listitem>removeMembershipBody</listitem>
				<listitem>noMoreMembershipsLabel</listitem>
				<listitem>membershipRequestSubject</listitem>
				<listitem>membershipRequestBody</listitem>
				<listitem>invalidateMembershipRequestBody</listitem>
				<listitem>validateMembershipRequestBody</listitem>
				<listitem>passwordRecoverySubject</listitem>
				<listitem>passwordRecoveryBody</listitem>
				<listitem>newUserAccountSubject</listitem>
				<listitem>newUserAccountBody</listitem>
				<listitem>lifeCycleChangeSubject</listitem>
				<listitem>lifeCycleChangeBody</listitem>
				<listitem>requestStopSubject</listitem>
				<listitem>requestStopBody</listitem>
				<listitem>requestUninstallSubject</listitem>
				<listitem>requestUninstallBody</listitem>
				<listitem>requestApplicationSubject</listitem>
				<listitem>requestApplicationBody</listitem>
			</itemizedlist>

		</sect2>
	</sect1>
	<sect1>
		<title>Authentification</title>
		<sect2>
			<title>Mode NovaForge</title>
			<para> C'est le mode activé par defaut. Il se base sur les données
				internes à l'application stockées dans
				la base MariaDB.
			</para>
			<orderedlist>
				<title>Processus de connexion</title>
				<listitem>Recherche l'utilisateur dans NovaForge</listitem>
				<listitem>Vérification du mot de passe</listitem>
			</orderedlist>
			<para>La gestion des utilisateurs se fait dans NovaForge</para>
		</sect2>
		<sect2>
			<title>Mode Ldap</title>
			<orderedlist>
				<title>Processus de connexion</title>
				<listitem>Recherche l'utilisateur dans le LDAP par son identifiant
				</listitem>
				<listitem>Connexion au LDAP avec l'identifiant pour vérifier le
					mot de passe
				</listitem>
				<listitem>On ajoute (ou on met à jour, s'il est déjà présent)
					l'utilisateur dans NovaForge
				</listitem>
			</orderedlist>
			<para>La gestion des utilisateurs se fait dans le LDAP
				(création/modification/changement de mot de passe)
				sauf pour le
				champ <emphasis>langue</emphasis> qui peut être géré dans Novaforge
				(authorizeToUpdateLanguage=true)
			</para>
			<variablelist>
				<title>Activation du mode LDAP</title>
				<para>
				<inlinemediaobject>
					<imageobject>
						<imagedata fileref="02-dialog-warning.png" width="27px" />
					</imageobject>
				</inlinemediaobject>
				Attention, ne pas activer les services JPA et LDAP de gestion des
				utilisateurs en même temps.</para>
				<varlistentry>
					<term>Installer la feature LDAP</term>
					<listitem>
						<para>Dans la console web Felix, installer la feature suivante
							(onglet Features):
						</para>
						<itemizedlist>
							<listitem>NovaForge LDAP</listitem>
						</itemizedlist>
						<para>Les 2 bundles suivants seront activés (onglet Bundles)
						</para>
						<itemizedlist>
							<listitem>NovaForge(tm) :: Modules :: Commons :: APIs ::
								LDAPnovaforge-commons-ldap
							</listitem>
							<listitem>NovaForge(tm) :: Modules :: Commons :: Impl ::
								LDAPnovaforge-commons-ldap-impl
							</listitem>
						</itemizedlist>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>Configurer le service LDAP</term>
					<listitem>
						<para>Configurer le fichier
							$NOVA_HOME/engines/karaf/nf-conf/commons.ldap.cfg
						</para>
						<programlisting language="shell">
# Ldap configuration
baseDN=dc=defense,dc=gouv,dc=fr
initialContextFactory=com.sun.jndi.ldap.LdapCtxFactory
providerUrl=ldap://127.0.0.1:389
securityAuthentication=simple
securityPrincipal=cn=admin,dc=defense,dc=gouv,dc=fr
securityCredentials=motdepasse
referralMode=follow
userSearchFilter=uid={0} 

#Ldap attributes
uidAttribute=uid
userPasswordAttribute=Password
surnameAttribute=sn
givennameAttribute=givenName
mailAttribute=mail
preferredLanguageAttribute=preferredLanguage 

#Default attributes
defaultLanguageAttribute=FR

#Authorize user to connect Novaforge
#using JPA When LDAP is down
authorizeJpaAccessWhenLdapDown=true

#Authorize user to create Novaforge 
#account on Jpa (i.e. authorize 
#Ldap and Jpa access) 
authorizeCreateJpaAccess=false 
#Authorize to update user language
authorizeToUpdateLanguage=false
						</programlisting>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>Arrêter le service de gestion des utilisateurs NovaForge
					</term>
					<listitem>
						<para>Dans la console Web, arrêter le bundle :</para>
						<itemizedlist>
							<listitem>NovaForge(tm) :: Core :: Impl :: Jpa :: User</listitem>
						</itemizedlist>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>Activer le service de gestion des utilisateurs Ldap</term>
					<listitem>
						<para>Dans la console Web, démarrer le bundle :</para>
						<itemizedlist>
							<listitem>NovaForge(tm) :: Core :: Impl :: Ldap :: User
							</listitem>
						</itemizedlist>
					</listitem>
				</varlistentry>
			</variablelist>
		</sect2>
		<sect2>
			<title>Mode Ldap et NovaForge</title>
			<orderedlist>
				<title>Processus de connexion</title>
				<listitem>
					Recherche de l'utilisateur dans le LDAP par son identifiant
					<itemizedlist>
						<listitem>
							Si l'utilisateur est trouvé :
							<itemizedlist>
								<listitem>Connexion au LDAP avec l'identifiant pour
									vérifier le mot de passe
								</listitem>
								<listitem>Ajout (ou mise à jour, s'il est déjà present) de l'utilisateur dans NovaForge
								</listitem>
							</itemizedlist>
						</listitem>
						<listitem>
							Si l'utilisateur est introuvable :
							<itemizedlist>
								<listitem>Recherche l'utilisateur dans NovaForge</listitem>
								<listitem>Vérification du mot de passe</listitem>
							</itemizedlist>
						</listitem>
					</itemizedlist>
				</listitem>
			</orderedlist>
			<variablelist>
				<title>Activation du mode LDAP</title>
				<varlistentry>
					<para>Même procédure que pour le mode LDAP, mais dans la
						configuration du service LDAP, on active les 2
						modes :
					</para>
					<listitem>
						<programlisting>#Authorize user to create Novaforge 
#account on Jpa (i.e. authorize 
#Ldap and Jpa access) 
authorizeCreateJpaAccess=true</programlisting>
					</listitem>
				</varlistentry>
			</variablelist>
		</sect2>
		<sect2>
			<title>Limitations connues</title>
			<sect3>
				<title>Contraintes d'intégrité</title>
				<para>Les attributs du Ldap peuvent ne pas respecter les contraintes
					NovaForge (champs trop long, format de mot de passe différent, etc.)
				</para>
			</sect3>
			<sect3>
				<title>Activer le mode LDAP en cours fonctionnement de NovaForge</title>
				<variablelist>
					<title>Activation du mode LDAP seulement</title>
					<varlistentry>
						<term>Concordance des comptes :
						</term>
						<listitem>
							<para>Les comptes présents seulement dans NovaForge ne
								seront plus accessibles. Aucune possibilité d'établir une
								concordance entre un compte LDAP et un compte
								NovaForge, si leur
								login est différent
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
				<variablelist>
					<title>Activation du mode LDAP et NovaForge</title>
					<varlistentry>
						<term>Identifiants identiques :
						</term>
						<listitem>
							<para>login : le compte dans NovaForge sera ecrasé par celui du
								Ldap
							</para>
						</listitem>
						<listitem>
							<para>email : le compte du Ldap ne pourra pas être rappatrié,
								afin de garder la contrainte d'unicité de l'email
							</para>
						</listitem>
					</varlistentry>
				</variablelist>
			</sect3>
		</sect2>
	</sect1>
</chapter>
