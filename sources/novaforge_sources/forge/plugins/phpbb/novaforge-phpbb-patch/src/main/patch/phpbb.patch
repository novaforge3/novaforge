diff -rNU5 phpBB3-init/adm/index.php phpBB3/adm/index.php
--- phpBB3-init/adm/index.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/adm/index.php	2013-01-28 17:31:47.564708645 +0100
@@ -18,22 +18,25 @@
 $phpbb_root_path = (defined('PHPBB_ROOT_PATH')) ? PHPBB_ROOT_PATH : './../';
 $phpEx = substr(strrchr(__FILE__, '.'), 1);
 require($phpbb_root_path . 'common.' . $phpEx);
 require($phpbb_root_path . 'includes/functions_admin.' . $phpEx);
 require($phpbb_root_path . 'includes/functions_module.' . $phpEx);
+include($phpbb_root_path . 'novaforge_functions.' . $phpEx);
+require_once($phpbb_root_path .'/forge.conf.admin.php');
+
 
 // Start session management
 $user->session_begin();
 $auth->acl($user->data);
 $user->setup('acp/common');
 // End session management
 
 // Have they authenticated (again) as an admin for this session?
-if (!isset($user->data['session_admin']) || !$user->data['session_admin'])
-{
-	login_box('', $user->lang['LOGIN_ADMIN_CONFIRM'], $user->lang['LOGIN_ADMIN_SUCCESS'], true, false);
-}
+//if (!isset($user->data['session_admin']) || !$user->data['session_admin'])
+//{
+//	login_box('', $user->lang['LOGIN_ADMIN_CONFIRM'], $user->lang['LOGIN_ADMIN_SUCCESS'], true, false);
+//}
 
 // Is user any type of admin? No, then stop here, each script needs to
 // check specific permissions but this is a catchall
 if (!$auth->acl_get('a_'))
 {
diff -rNU5 phpBB3-init/api/soap/pc_account_api.php phpBB3/api/soap/pc_account_api.php
--- phpBB3-init/api/soap/pc_account_api.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_account_api.php	2013-01-28 17:31:47.564708645 +0100
@@ -0,0 +1,295 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+
+function getAdministratorsGroupId()
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+				
+	$administratorsGroupId=-1;
+	$sqlAdministratorsGroupId = 'SELECT group_id
+		FROM ' . GROUPS_TABLE . "
+		WHERE group_name='ADMINISTRATORS'";			
+	
+	$result = $db->sql_query($sqlAdministratorsGroupId);
+
+	if (!($row = $db->sql_fetchrow($result)))
+	{
+		$db->sql_freeresult($result);
+		return 'NO_USERS';
+	}
+	do
+	{
+		$administratorsGroupId = $row['group_id'];
+	}
+	while ($row = $db->sql_fetchrow($result));
+	$db->sql_freeresult($result);
+				
+	return $administratorsGroupId;
+}
+
+
+function pc_create_superadmin($pAdminUserName, $pAdminPassword, $pUserName, $pPassword, $pEmail, $pLang) {
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx, $config,$user;
+
+	//test admin connection
+	$log_status = login_db($pAdminUserName, $pAdminPassword);
+	
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		$t_result = null;
+    		$message = "Error: ";
+    		//test if the user already exist
+    		$user_id = pc_account_get($pAdminUserName, $pAdminPassword, $pUserName);
+    		if ( $user_id > 0)
+    		{	            		
+            		$message .= "The '" . $pUserName . "' user already exists";
+    		}else{
+    		
+		    // Start session management
+		    ////$user->session_begin();
+		    $cp = new custom_profile();
+		    $error = $cp_data = $cp_error = array();
+			       
+			       
+		    $adminGroupId = getAdministratorsGroupId();
+								
+		    if ($config['check_dnsbl'])
+		    {
+			    if (($dnsbl = $user->check_dnsbl('register')) !== false)
+			    {
+				    $error[] = sprintf($user->lang['IP_BLACKLISTED'], $user->ip, $dnsbl[1]);
+			    }
+		    }
+		    $user_row = array(
+			    'username'                              => (string)$pUserName,
+			    'user_password'         => phpbb_hash($pPassword),
+			    'user_email'                    => $pEmail,
+			    'group_id'                              => $adminGroupId,
+			    'user_timezone'                 => '0',
+			    'user_dst'                              => '0',
+			    'user_lang'                             => $pLang,
+			    'user_type'                             => '3',
+			    'user_actkey'                   => "",
+			    'user_ip'                               => "127.0.0.1",
+			    'user_regdate'                  => time(),
+			    'user_inactive_reason'  => '0',
+			    'user_inactive_time'    => '0',
+			    );
+			    
+			    $t_result = user_add($user_row);
+			    
+			    // Place into appropriate group...
+				$sql = 'INSERT INTO ' . USER_GROUP_TABLE . ' ' . $db->sql_build_array('INSERT', array(
+					'user_id'		=> (int) $t_result,
+					'group_id'		=> (int) $adminGroupId,
+					'user_pending'	=> 0)
+				);
+										
+				$db->sql_query($sql);
+			    
+		    }
+		    return $t_result;
+				
+	}
+	
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+
+		
+    
+}
+
+function pc_account_add($pAdminUserName, $pAdminPassword, $pUserName, $pPassword, $pEmail, $pLang) {
+    global $config,$user,$lang,$phpbbDebugLog;
+		
+		//test admin connection
+		$log_status = login_db($pAdminUserName, $pAdminPassword);			
+		if($log_status['status']==LOGIN_SUCCESS)
+		{
+            $t_result = null;
+            $message = "Error: ";
+            //test if the user already exist
+            $user_id = pc_account_get($pAdminUserName, $pAdminPassword, $pUserName);
+            
+            if ( $user_id > 0)
+            {
+                    $message .= "The '" . $pUserName . "' user already exists";
+            } else {
+            		
+                    // Start session management
+                    //$user->session_begin();
+                    $cp = new custom_profile();
+                    $error = $cp_data = $cp_error = array();
+                               
+                                    	
+                    if ($config['check_dnsbl'])
+                    {
+                            if (($dnsbl = $user->check_dnsbl('register')) !== false)
+                            {
+                                    $error[] = sprintf($user->lang['IP_BLACKLISTED'], $user->ip, $dnsbl[1]);
+                            }
+                    }
+                    $user_row = array(
+                    'username'                              => (string)$pUserName,
+                    'user_password'         => phpbb_hash($pPassword),
+                    'user_email'                    => $pEmail,
+                    'group_id'                              => '2',
+                    'user_timezone'                 => '0',
+                    'user_dst'                              => '0',
+                    'user_lang'                             => $pLang,
+                    'user_type'                             => '0',
+                    'user_actkey'                   => "",
+                    'user_ip'                               => "127.0.0.1",
+                    'user_regdate'                  => time(),
+                    'user_inactive_reason'  => '0',
+                    'user_inactive_time'    => '0',
+                    );
+                    
+                    $t_result = user_add($user_row);
+                    
+            }
+            return $t_result;
+		}
+		
+		$message .= "Unknown Adminuser/Admin password";			
+		return false;
+}
+
+function pc_account_delete($pAdminUserName, $pAdminPassword, $pUserName) 
+{
+		$log_status = login_db($pAdminUserName, $pAdminPassword);
+		
+		if($log_status['status']==LOGIN_SUCCESS)
+		{
+			$userId = pc_account_get($pAdminUserName, $pAdminPassword, $pUserName);
+            $t_result = user_delete("remove", $userId);
+
+            return $t_result;
+		}
+		$message .= "Unknown Adminuser/Admin password";
+		
+		return false;
+}
+
+function pc_account_get($pAdminUserName, $pAdminPassword, $pUserName) {
+    global $db,$phpbbDebugLog;
+
+		$log_status = login_db($pAdminUserName, $pAdminPassword);
+		
+		if($log_status['status']==LOGIN_SUCCESS)
+		{
+			$t_result = 0;
+            $query = "SELECT u.user_id,u.username,u.user_email FROM " . USERS_TABLE . " u ";
+            $query .= "WHERE u.user_type IN (" . USER_NORMAL . ', ' . USER_FOUNDER . ")";
+            if ($pUserName != '')
+            {
+                    $query .= " AND u.username='$pUserName'";
+            }            
+		
+            $result =  $db->sql_query($query);
+            
+            if ($result)
+            {
+            	$row = $db->sql_fetchrow($result);
+            	if ($row)
+				{	                    
+                    $t_result=$row['user_id'];
+				}
+				else
+	            {
+	            	$t_result=-1;	            	
+	            }
+            }
+            else
+            {
+            	$t_result=-1;	            	
+            }
+            $db->sql_freeresult($result);
+            
+            return $t_result;
+			
+		}
+		$message .= "Unknown Adminuser/Admin password";			
+		return false;
+}
+
+function pc_account_update($pAdminUserName, $pAdminPassword, $pUserName, $pPassword, $pEmail, $pLang) {
+    global $config,$db,$user,$lang;
+
+		$log_status = login_db($pAdminUserName, $pAdminPassword);
+		
+		if($log_status['status']==LOGIN_SUCCESS)
+		{
+            $cp = new custom_profile();
+            $error = $cp_data = $cp_error = array();
+            //test if the user exist
+
+            $userId = pc_account_get($pAdminUserName, $pAdminPassword, $pUserName);
+
+            if ( $userId == 0 )
+            {
+                    $message = "The user (id:".$pUserName.") doesn't exists";
+                    return false;
+            }
+            else
+            {
+                    $sql = 'SELECT username,user_email,user_password FROM ' . USERS_TABLE . '
+                                            WHERE user_id = ' . $userId . '
+                                            AND user_type IN (' . USER_NORMAL . ', ' . USER_FOUNDER . ')';
+                    $result = $db->sql_query($sql);
+                    $users = $db->sql_fetchrow($result);
+                    $db->sql_freeresult($result);
+                                        
+                    $sql_ary = array(
+                    'user_email'            =>   $pEmail ,
+                    'user_email_hash'       =>  crc32($pEmail) . strlen($pEmail) ,
+                    'user_password'         =>  phpbb_hash($pPassword),
+                    'user_passchg'          =>   time() ,
+                    'user_lang'          =>   $pLang ,
+                    );
+
+                    if (sizeof($sql_ary))
+                    {
+                            $sql = 'UPDATE ' . USERS_TABLE . '
+                            SET ' . $db->sql_build_array('UPDATE', $sql_ary) . '
+                            WHERE user_id = ' . $userId;
+                            if($db->sql_query($sql)){
+                                return true;
+                            }else{
+                                return false;
+                            }
+                    }
+                    
+            }
+		}
+		$message .= "Unknown Adminuser/Admin password";
+		
+		return false;
+}
+	
+?>
diff -rNU5 phpBB3-init/api/soap/pc_api.php phpBB3/api/soap/pc_api.php
--- phpBB3-init/api/soap/pc_api.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_api.php	2013-01-28 17:31:47.564708645 +0100
@@ -0,0 +1,32 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+require_once($phpbb_root_path . 'config.' . $phpEx);
+global $phpbbDebugLog;
+
+
+?>
diff -rNU5 phpBB3-init/api/soap/pc_config_api.php phpBB3/api/soap/pc_config_api.php
--- phpBB3-init/api/soap/pc_config_api.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_config_api.php	2013-01-28 17:31:47.564708645 +0100
@@ -0,0 +1,68 @@
+<?php
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+function pc_config_get_string( $p_username, $p_password, $p_config_var ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if ( $t_user_id === false ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+
+	if ( !mci_has_readonly_access( $t_user_id ) ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+
+	if ( mci_config_is_private( $p_config_var ) ) {
+		return new soap_fault( 'Client', '', "Access to '$p_config_var' is denied" );
+	}
+
+	if ( !config_is_set( $p_config_var ) ) {
+		return new soap_fault( 'Client', '', "Config '$p_config_var' is undefined" );
+	}
+
+	return config_get( $p_config_var );
+}
+
+# --------------------
+function pci_config_is_private( $p_config_var ) {
+	switch( $p_config_var ) {
+		case 'hostname':
+		case 'port':
+		case 'db_username':
+		case 'db_password':
+		case 'password_confirm_hash_magic_string':
+		case 'smtp_host':
+		case 'smtp_username':
+		case 'smtp_password':
+			return true;
+	}
+
+	if ( !is_string( $p_config_var ) ) {
+		return true;
+	}
+
+	return false;
+}
+?>
diff -rNU5 phpBB3-init/api/soap/pc_config_defaults_inc.php phpBB3/api/soap/pc_config_defaults_inc.php
--- phpBB3-init/api/soap/pc_config_defaults_inc.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_config_defaults_inc.php	2013-01-28 17:31:47.564708645 +0100
@@ -0,0 +1,67 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+# Minimum global access level required to access webservice for readonly operations.
+$g_mc_readonly_access_level_threshold = REPORTER;
+
+# Minimum global access level required to access webservice for read/write operations.
+$g_mc_readwrite_access_level_threshold = DEVELOPER;
+
+# Minimum global access level required to access the administrator webservices
+$g_mc_admin_access_level_threshold = MANAGER;
+
+# Minimum project access level required to be able to specify a reporter name when
+# adding an issue.  Otherwise, the current user is used as the reporter.  Users
+# who don't have this access level can always do another step to modify the issue
+# and specify a different name, but in this case it will be logged in the history
+# who original reported the issue.
+$g_mc_specify_reporter_on_add_access_level_threshold = DEVELOPER;
+
+# The following enum ids are used when the webservices get enum labels that are not
+# defined in the associated Mantis installation.  In this case, the enum id is set
+# to the value specified by the corresponding configuration option.
+$g_mc_priority_enum_default_when_not_found = 0;
+$g_mc_severity_enum_default_when_not_found = 0;
+$g_mc_status_enum_default_when_not_found = 0;
+$g_mc_resolution_enum_default_when_not_found = 0;
+$g_mc_projection_enum_default_when_not_found = 0;
+$g_mc_eta_enum_default_when_not_found = 0;
+
+# If ON and the supplied category is not found, then a SoapException will be raised.
+# (at the moment this value does not depend on the project).
+$g_mc_error_when_category_not_found = ON;
+
+# Default category to be used if the specified category is not found and $g_mc_error_when_category_not_found == OFF.
+$g_mc_category_when_not_found = '';
+
+# If ON and the supplied version is not found, then a SoapException will be raised.
+$g_mc_error_when_version_not_found = ON;
+
+# Default version to be used if the specified version is not found and $g_mc_error_when_version_not_found == OFF.
+# (at the moment this value does not depend on the project).
+$g_mc_version_when_not_found = '';
+?>
diff -rNU5 phpBB3-init/api/soap/pc_core.php phpBB3/api/soap/pc_core.php
--- phpBB3-init/api/soap/pc_core.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_core.php	2013-01-28 17:31:47.564708645 +0100
@@ -0,0 +1,61 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+$phpbbDebugLog = "phpbbDebug.log";
+
+
+# Define PhpBB ENV variables needed
+define('IN_PHPBB', true);
+define('ADMIN_START', true);
+define('NEED_SID', true);
+
+$phpbb_root_path = dirname( dirname( dirname( __FILE__ ) ) ) . DIRECTORY_SEPARATOR;
+
+$phpbbsoapdir = $phpbb_root_path.DIRECTORY_SEPARATOR."api".DIRECTORY_SEPARATOR."soap".DIRECTORY_SEPARATOR;
+$phpbbincludedir = $phpbb_root_path.DIRECTORY_SEPARATOR."includes".DIRECTORY_SEPARATOR;
+
+# Include files
+$phpEx = substr(strrchr(__FILE__, '.'), 1);		
+
+require_once($phpbb_root_path . 'common.' . $phpEx);
+require_once($phpbbincludedir . 'functions_admin.' . $phpEx);
+require_once($phpbbincludedir . 'functions_module.' . $phpEx);
+require_once($phpbbincludedir . 'functions_user.' . $phpEx);
+require_once($phpbbincludedir . 'functions_profile_fields.' . $phpEx);
+require_once($phpbbincludedir . 'acp'.DIRECTORY_SEPARATOR.'acp_forums.' . $phpEx);        
+require_once($phpbbincludedir . 'acp'.DIRECTORY_SEPARATOR.'acp_permissions.' . $phpEx);
+require_once($phpbbincludedir . 'acp'.DIRECTORY_SEPARATOR.'acp_permission_roles.' . $phpEx);
+require_once($phpbbincludedir . 'acp'.DIRECTORY_SEPARATOR.'auth.' . $phpEx);
+require_once($phpbbincludedir . 'auth'.DIRECTORY_SEPARATOR.'auth_db.' . $phpEx);
+
+# PhpBBConnect APIs
+		
+require_once( $phpbbsoapdir . 'pc_api.php' );
+require_once( $phpbbsoapdir . 'pc_account_api.php' );
+require_once( $phpbbsoapdir . 'pc_project_api.php' );
+require_once( $phpbbsoapdir . 'pc_enum_api.php' );
+		
diff -rNU5 phpBB3-init/api/soap/pc_enum_api.php phpBB3/api/soap/pc_enum_api.php
--- phpBB3-init/api/soap/pc_enum_api.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_enum_api.php	2013-01-28 17:31:47.568708644 +0100
@@ -0,0 +1,90 @@
+<?php
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+
+/**
+ * Get all role.
+ *
+ * @param string $pAdminUserName  admin name.
+ * @param string $pAdminPassword  adminpassword.
+ * @return Array  The requested enumeration
+ */
+function pc_enum_access_levels( $pAdminUserName, $pAdminPassword ) 
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	$log_status = login_db($pAdminUserName, $pAdminPassword);		
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		// get lang : to include /lang/acp/permissions.php to get role label
+		$sql = 'SELECT user_id, username, user_password, user_passchg, user_email, user_type, user_lang
+			FROM ' . USERS_TABLE . "
+			WHERE username_clean = '" . $db->sql_escape(utf8_clean_string($pAdminUserName)) . "'";
+					
+		$result = $db->sql_query($sql);
+		$row = $db->sql_fetchrow($result);
+		$db->sql_freeresult($result);
+
+		if (!$row)
+		{
+			return array(
+				'status'		=> LOGIN_ERROR_EXTERNAL_AUTH,
+				'error_msg'		=> 'AUTH_NO_PROFILE_CREATED',
+				'user_row'		=> array('user_id' => ANONYMOUS),
+			);
+		}
+		$lang_dir = $row['user_lang'];	
+		require_once($phpbb_root_path . 'language'.DIRECTORY_SEPARATOR . basename($lang_dir).DIRECTORY_SEPARATOR .'acp'.DIRECTORY_SEPARATOR. 'permissions.' . $phpEx);
+		
+		
+		$t_result = array();
+
+		$sql = 'SELECT role_id,role_name FROM ' . ACL_ROLES_TABLE . " WHERE role_type IN ('f_','m_') ORDER BY role_type, role_order";
+		$result =  $db->sql_query($sql);
+		 
+		if ($result)
+		{
+				$t_result = array();
+		        while ($row = $db->sql_fetchrow($result))
+		        {                	
+		        	$t_result[] = array(
+							'id' => $row['role_id'],
+							'name' => $lang[$row['role_name']],
+						);
+		           				                    
+		        }
+		        $db->sql_freeresult($result);           
+		        		
+		        return $t_result;
+		}
+		else
+		{
+		        $message = "The db_query() function failed for query '" . $sql . "'";
+		        return false;
+		}
+	}
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+	
+}
+
+	
+?>
diff -rNU5 phpBB3-init/api/soap/pc_project_api.php phpBB3/api/soap/pc_project_api.php
--- phpBB3-init/api/soap/pc_project_api.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/pc_project_api.php	2013-01-28 17:31:47.568708644 +0100
@@ -0,0 +1,589 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+# PhpBBConnect - A webservice interface to PhpBB Forum
+# --------------------------------------------------------
+# @Author : caseryj - NovaForge Team
+# --------------------------------------------------------
+
+function createForum($type, $name, $descr = '', $parent_id = 0) {
+
+	global $db, $config, $user, $lang, $phpbbDebugLog;
+		
+	$acp = new acp_forums();
+	$data = array (
+		'parent_id' => $parent_id,
+		'forum_type' => $type,
+		'forum_status' => 0,
+		'forum_parents' => '',
+		'forum_name' => $name,
+		'forum_link' => '',
+		'forum_desc' => utf8_normalize_nfc($descr),
+		'forum_desc_uid' => '',
+		'forum_desc_options' => 7,
+		'forum_desc_bitfield' => '',
+		'forum_rules' => '',
+		'forum_rules_uid' => '',
+		'forum_rules_options' => 7,
+		'forum_rules_bitfield' => '',
+		'forum_rules_link' => '',
+		'forum_image' => '',
+		'forum_style' => 0,
+		'display_subforum_list' => 1,
+		'display_on_index' => false,
+		'forum_topics_per_page' => 0,
+		'enable_indexing' => 1,
+		'enable_icons' => false,
+		'enable_prune' => false,
+		'prune_days' => 7,
+		'prune_viewed' => 7,
+		'prune_freq' => 2,
+		'forum_password' => ''
+	);
+
+	if ($parent_id > 0) {
+		// category is created
+		$sql = 'SELECT left_id, right_id, forum_type
+								FROM ' . FORUMS_TABLE . '
+								WHERE forum_id = ' . $parent_id;
+		$result = $db->sql_query($sql);
+		$row = $db->sql_fetchrow($result);
+		$db->sql_freeresult($result);
+
+		if (!$row) {
+			trigger_error($user->lang['PARENT_NOT_EXIST'] . adm_back_link($this->u_action . '&amp;parent_id=' . $this->parent_id), E_USER_WARNING);
+		}
+
+		if ($row['forum_type'] == FORUM_LINK) {
+			$errors[] = $user->lang['PARENT_IS_LINK_FORUM'];
+			return $errors;
+		}
+
+		$sql = 'UPDATE ' . FORUMS_TABLE . '
+								SET left_id = left_id + 2, right_id = right_id + 2
+								WHERE left_id > ' . $row['right_id'];
+		$db->sql_query($sql);
+
+		$sql = 'UPDATE ' . FORUMS_TABLE . '
+								SET right_id = right_id + 2
+								WHERE ' . $row['left_id'] . ' BETWEEN left_id AND right_id';
+		$db->sql_query($sql);
+
+		$data['left_id'] = $row['right_id'];
+		$data['right_id'] = $row['right_id'] + 1;
+	} else {
+		$sql = 'SELECT MAX(right_id) AS right_id
+								FROM ' . FORUMS_TABLE;
+		$result = $db->sql_query($sql);
+		$row = $db->sql_fetchrow($result);
+				
+		$db->sql_freeresult($result);
+
+		$data['left_id'] = $row['right_id'] + 1;
+		$data['right_id'] = $row['right_id'] + 2;
+	}
+
+	$sql = 'INSERT INTO ' . FORUMS_TABLE . ' ' . $db->sql_build_array('INSERT', $data);
+
+	$db->sql_query($sql);
+
+	$forum_data['forum_id'] = $db->sql_nextid();
+
+	return $forum_data['forum_id'];
+}
+
+
+
+// Look if the category already exist
+function categoryExist($categ_name) {
+	global $db;
+	$exist = false;
+	if (strlen(trim($categ_name)) > 0) {
+		$sql = "SELECT * FROM " . FORUMS_TABLE;
+		$sql .= " WHERE forum_name = '" . $categ_name . "'AND forum_type = '0'";
+		$result = $db->sql_query($sql);
+		if ($result == true) {
+			$row = $db->sql_fetchrow($result);
+			if ($row > 0) {
+				$exist = true;
+			}
+		}
+	} else {
+		syslog(LOG_ERR, __FILE__ . " - " . __FUNCTION__ . " - the param categ_name is empty");
+	}
+	return $exist;
+}
+
+function pc_project_add($pAdminUserName, $pAdminPassword, $pProjectName, $pForumName, $pForumDescription) {
+
+	global $phpbbDebugLog;
+
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{				
+		if ((strlen(trim($pForumName)) > 0) && (strlen(trim($pForumDescription)) > 0)) {
+			// Check if the category doesn't exist
+			if (!categoryExist($pForumName)) {
+				$categ_id = createForum(0, $pForumName, $pForumDescription, 0);
+				if ($categ_id == 0) {
+					$message = "The createForum() failed for '" . $pProjectName . "'";
+				} else {
+					$forum_id = createForum(1, $pForumName, $pForumDescription, $categ_id);
+					if ($forum_id == 0) {
+						$message = "The createForum() failed for '" . $pForumName . "'";
+						return null;
+					} else {
+						return $forum_id;
+					}
+				}
+			} else {
+				$message = "Category '" . $pForumName . "' already exist";
+			}
+		} else {
+			$message = "the param name or description is empty";
+		}
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_delete($pAdminUserName, $pAdminPassword, $pForumId) {
+
+	global $phpbbDebugLog;
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		
+		$acp = new acp_forums();
+		$acp->delete_forum($pForumId, $action_posts = 'delete', $action_subforums = 'delete', $posts_to_id = 0, $subforums_to_id = 0);
+				
+		return true;
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_update($pAdminUserName, $pAdminPassword, $pForumId, $pForumName, $pForumDescription) {
+
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		$sql = "UPDATE " . FORUMS_TABLE . 
+			"SET forum_name = '".$pForumName.
+			"', forum_desc = '".$pForumDescription.
+			"' WHERE forum_id = ".$pForumId;		
+				
+		$db->sql_query($sql);		
+		return true;
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_add_user_to_forum($pAdminUserName, $pAdminPassword, $pForumId, $pUserName , $pRoleName) {
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	$t_result = null;		
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{	
+		
+		error_log("\n pc_project_add_user_to_forum : ".$pUserName."  ".$pForumId."  ".$pRoleName,3,$phpbbDebugLog );
+		
+		// get user id
+		$userId=getUserIdFromLogin($pAdminUserName, $pAdminPassword,$pUserName);	
+				
+		if ($userId==-1)
+		{
+			// error
+			$message = "Unknow user : '" . $pUserName . "'";
+		}
+		
+		// get role id
+		$roleId = getRoleIdFromLabel($pAdminUserName, $pAdminPassword, $pRoleName);	
+	       
+	    if ($roleId == -1)
+	    {
+	    	// error
+	    	$message = "Unknow role : '" . $pRoleName . "'";
+	    }
+		error_log("\n pc_project_add_user_to_forum : ".$userId."  ".$pForumId."  ".$roleId,3,$phpbbDebugLog );
+		
+		return add_user_to_forum($pForumId, $userId, $roleId);
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function add_user_to_forum($pForumId, $userId , $pRoleId) 
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx, $cache;
+	$t_result = null;			
+	
+	
+	$table = ACL_USERS_TABLE;
+	$id_field = 'user_id';
+	
+	// get parent forum
+	$parentId= getParentForumId($pForumId);	
+
+	$forum_ids[] = $parentId;
+	$forum_ids[] = $pForumId;
+	
+	// get options
+	$sql = 'SELECT auth_option_id, auth_option, is_global, is_local
+				FROM ' . ACL_OPTIONS_TABLE . '
+				ORDER BY auth_option_id';
+								
+	$result = $db->sql_query($sql);
+	$auth_options = array();
+	$local = 0;
+	while ($row = $db->sql_fetchrow($result))
+	{
+		if ($row['is_local'])
+		{
+			$auth_options[]= (int)$row['auth_option_id'];			
+		}				
+	}			
+	$db->sql_freeresult($result);	
+		
+	acl_set("user",$forum_ids,$userId,$auth_options,$pRoleId, false);
+	
+	return true;
+}
+
+function acl_set($ug_type, $forum_id, $ug_id, $auth_options, $role_id = 0, $clear_prefetch = true)
+{
+	global $db, $phpbbDebugLog;
+
+	// One or more forums
+	if (!is_array($forum_id))
+	{
+		$forum_id = array($forum_id);
+	}
+
+	// One or more users
+	if (!is_array($ug_id))
+	{
+		$ug_id = array($ug_id);
+	}
+
+	$ug_id_sql = $db->sql_in_set($ug_type . '_id', array_map('intval', $ug_id));
+	$forum_sql = $db->sql_in_set('forum_id', array_map('intval', $forum_id));
+
+	// Instead of updating, inserting, removing we just remove all current settings and re-set everything...
+	$table = ($ug_type == 'user') ? ACL_USERS_TABLE : ACL_GROUPS_TABLE;
+	$id_field = $ug_type . '_id';
+
+	$sql = "DELETE FROM $table 
+		WHERE $forum_sql
+			AND $ug_id_sql";
+	$db->sql_query($sql);
+	// Get informations of role we want to set
+	$sql = "SELECT *
+		FROM " . ACL_ROLES_TABLE . "
+		WHERE role_id = '".$role_id."'"; 
+	$result = $db->sql_query($sql);
+	$role = $db->sql_fetchrow($result);
+	$db->sql_freeresult($result);
+	
+	if($role[role_type]=="m_")
+	{
+		// moderator role, set forum_full_access role too 
+		$role_forumfullaccess_id = 14;
+		acl_set($ug_type, $forum_id, $ug_id, $auth_options, $role_forumfullaccess_id, $clear_prefetch);
+	}
+
+	$sql_ary = array();
+	foreach ($forum_id as $forum)
+	{
+		$forum = (int) $forum;
+
+		if ($role_id)
+		{
+			foreach ($ug_id as $id)
+			{
+				$sql_ary[] = array(
+					$id_field			=> (int) $id,
+					'forum_id'			=> (int) $forum,
+					'auth_option_id'	=> 0,
+					'auth_setting'		=> 0,
+					'auth_role_id'		=> (int) $role_id,
+				);
+			}
+		}			
+	}		
+	
+	
+	$db->sql_multi_insert($table, $sql_ary);
+
+	if ($clear_prefetch)
+	{
+		$this->acl_clear_prefetch();
+	}
+}
+
+
+function pc_project_remove_user_from_forum($pAdminUserName, $pAdminPassword, $pForumId, $pUserName) {
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	$t_result = null;		
+	
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{		
+		// get user id
+		$userId=getUserIdFromLogin($pAdminUserName, $pAdminPassword,$pUserName);
+		if ($userId==-1)
+		{
+			// error
+			$message = "Unknow user : '" . $pUserName . "'";
+		}
+		
+		$table = ACL_USERS_TABLE;
+		$id_field = 'user_id';
+		
+		// get parent forum
+		$parentId= getParentForumId($pForumId);		
+	
+		// Remove permission to forum 	
+		$sql = "DELETE FROM $table WHERE forum_id = $pForumId AND $id_field = '".$userId."'";
+		$t_result = $db->sql_query($sql);
+		
+		// Remove permission to parent forum (category)
+		$sql = "DELETE FROM $table WHERE forum_id = $parentId AND $id_field = '".$userId."'";
+		$t_result = $db->sql_query($sql);
+		
+		return $t_result;
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+
+function getParentForumId($pForumId)
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	$parentId=-1;
+	$sqlGetParentId = 'SELECT parent_id
+		FROM ' . FORUMS_TABLE . "
+		WHERE forum_id=" . $pForumId;
+	
+	$result = $db->sql_query($sqlGetParentId);
+
+	if (!($row = $db->sql_fetchrow($result)))
+	{
+		$db->sql_freeresult($result);
+		return 'NO_USERS';
+	}
+	do
+	{
+		$parentId = $row['parent_id'];
+	}
+	while ($row = $db->sql_fetchrow($result));
+	$db->sql_freeresult($result);
+	
+	
+	return $parentId;
+}
+
+
+
+function getRoleIdFromLabel($pAdminUserName, $pAdminPassword, $pRoleName)
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	
+	$log_status = login_db($pAdminUserName, $pAdminPassword);		
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+	
+		$roleId = -1;
+		
+		// get lang : to include /lang/acp/permissions.php to get role label
+		$sql = 'SELECT user_id, username, user_password, user_passchg, user_email, user_type, user_lang
+			FROM ' . USERS_TABLE . "
+			WHERE username_clean = '" . $db->sql_escape(utf8_clean_string($pAdminUserName)) . "'";
+			
+		$result = $db->sql_query($sql);
+		$row = $db->sql_fetchrow($result);
+		$db->sql_freeresult($result);
+	
+		if (!$row)
+		{
+			return array(
+				'status'		=> LOGIN_ERROR_EXTERNAL_AUTH,
+				'error_msg'		=> 'AUTH_NO_PROFILE_CREATED',
+				'user_row'		=> array('user_id' => ANONYMOUS),
+			);
+		}
+		$lang_dir = $row['user_lang'];	
+		require_once($phpbb_root_path . 'language'.DIRECTORY_SEPARATOR . basename($lang_dir).DIRECTORY_SEPARATOR .'acp'.DIRECTORY_SEPARATOR. 'permissions.' . $phpEx);
+			
+		$sql = 'SELECT role_id,role_name FROM ' . ACL_ROLES_TABLE . " WHERE role_type = 'f_' OR role_type = 'm_'";
+	    $result =  $db->sql_query($sql);
+	    if ($result)
+	    {
+	            while ($row = $db->sql_fetchrow($result))
+	            {
+	            	if ($lang[$row['role_name']] == $pRoleName)
+	            	{
+	            		$roleId = $row['role_id'];            		
+	            	}                
+	                
+	            }
+	            $db->sql_freeresult($result);
+	    }
+	    else
+	    {
+	            $message = "The db_query() function failed for query '" . $sql . "'";
+	            return false;
+	    }
+	    
+	    return 	$roleId;
+	}
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function getUserIdFromLogin($pAdminUserName, $pAdminPassword, $pUserName)
+{
+	global $db, $phpbbDebugLog, $lang, $phpbb_root_path, $phpEx;
+	
+	$log_status = login_db($pAdminUserName, $pAdminPassword);		
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		
+		$userId=-1;
+		$sqlGetUserId = 'SELECT user_id, username
+			FROM ' . USERS_TABLE . "
+			WHERE username='" . $pUserName . "'";
+		
+		$result = $db->sql_query($sqlGetUserId);
+		
+		if (!($row = $db->sql_fetchrow($result)))
+		{
+			$db->sql_freeresult($result);
+			return 'NO_USERS';
+		}
+		do
+		{
+			$userId = $row['user_id'];
+		}
+		while ($row = $db->sql_fetchrow($result));
+		$db->sql_freeresult($result);
+		
+		
+		return $userId;
+	}
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_get_id_from_name($pAdminUserName, $pAdminPassword, $projectname) 
+{
+	
+	global $db, $user;
+	$log_status = login_db($pAdminUserName, $pAdminPassword);		
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		$sql = 'SELECT forum_id
+		        FROM ' . FORUMS_TABLE . '
+		        WHERE forum_name = ' . $projectname .'
+		        AND forum_type = 0';
+		$result = $db->sql_query($sql);
+		$row = $db->sql_fetchrow($result);
+		$db->sql_freeresult($result);
+						
+		if (!$row)
+		{
+		        return null;
+		}
+		
+		return $row['forum_id'];
+	}
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_get_users($pAdminUserName, $pAdminPassword, $pProjectId, $pAccesId) 
+{
+	global $db, $user;
+	$log_status = login_db($pAdminUserName, $pAdminPassword);		
+	if($log_status['status']==LOGIN_SUCCESS)
+	{
+		
+	}
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_project_remove_user($pAdminUserName, $pAdminPassword, $pForumId, $pUserName) {
+	global $db, $user;
+	
+	$log_status = login_db($pAdminUserName, $pAdminPassword);			
+	if($log_status['status']==LOGIN_SUCCESS)
+	{	
+		// get user id
+		$userId=getUserIdFromLogin($pAdminUserName, $pAdminPassword,$pUserName);
+		
+		if ($userId==-1)
+		{
+			// error
+			$message = "Unknow user : '" . $pUserName . "'";
+		}
+			
+		// add user to forum with no access
+		
+		// get no access role
+		$sql = 'SELECT role_id,role_name FROM ' . ACL_ROLES_TABLE . " WHERE role_name = 'ROLE_FORUM_NOACCESS'";
+	    $result =  $db->sql_query($sql);
+	    if ($result)
+	    {
+	            while ($row = $db->sql_fetchrow($result))
+	            {            	
+	            	$roleId = $row['role_id'];  
+	            }
+	            $db->sql_freeresult($result);
+	    }
+		    
+		add_user_to_forum($pForumId, $userId, $roleId);
+					
+		return false;
+	}			
+	$message .= "Unknown Adminuser/Admin password";			
+	return false;
+}
+
+function pc_purge_cache()
+{
+	global $auth, $cache, $phpbbDebugLog;
+	
+	error_log("\n pc_purge_cache : " ,3,$phpbbDebugLog );
+		
+	
+	$cache->purge();
+	// Clear permissions
+	$auth->acl_clear_prefetch();
+	cache_moderators();
+	return true;
+}
+
+
+?>
diff -rNU5 phpBB3-init/api/soap/phpbbconnect.php phpBB3/api/soap/phpbbconnect.php
--- phpBB3-init/api/soap/phpbbconnect.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/api/soap/phpbbconnect.php	2013-01-28 17:31:47.568708644 +0100
@@ -0,0 +1,683 @@
+<?php
+# PhpBBConnect - A webservice interface to PhpBB
+# Copyright (C) 2004-2011  Victor Boctor - vboctor@users.sourceforge.net
+# This program is distributed under dual licensing.  These include
+# GPL and a commercial licenses.  Victor Boctor reserves the right to
+# change the license of future releases.
+# See docs/ folder for more details
+
+// NuSOAP already performs compression,
+// so we prevent a double-compression.
+// See issue #11868 for details
+define( 'COMPRESSION_DISABLED', true);
+ini_set( 'zlib.output_compression', false );
+
+set_include_path( '../../library' );
+
+//Need because of php version used by Novaforge
+date_default_timezone_set('Europe/Paris');
+require_once( '../../library/nusoap/nusoap.php' );
+
+# create server
+$l_oServer = new soap_server();
+
+# namespace
+$t_namespace = 'http://localhost/phpbbconnect';
+
+# wsdl generation
+$l_oServer->debug_flag = false;
+$l_oServer->configureWSDL( 'PhpBBConnect', $t_namespace );
+$l_oServer->wsdl->schemaTargetNamespace = $t_namespace;
+// The following will make the default encoding UTF-8 instead of ISO-8859-1
+// WS-I Basic Profile requires UTF-8 or UTF-16 as the encoding for interoperabilty
+// reasons.  This will correctly handle a large number of languages besides English.
+$l_oServer->xml_encoding = "UTF-8";
+$l_oServer->soap_defencoding = "UTF-8";
+$l_oServer->decode_utf8 = false;
+$l_oServer->style = 'document';
+
+###
+###  PUBLIC TYPES
+###
+
+### StringArray
+$l_oServer->wsdl->addComplexType(
+	'StringArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'xsd:string[]'
+	)),
+	'xsd:string'
+);
+
+### ObjectRef
+$l_oServer->wsdl->addComplexType(
+	'ObjectRef',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'	=>	array( 'name' => 'id',		'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'name'	=>	array( 'name' => 'name',	'type' => 'xsd:string', 	'minOccurs' => '0')
+	)
+);
+
+### ObjectRefArray
+$l_oServer->wsdl->addComplexType(
+	'ObjectRefArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:ObjectRef[]'
+	)),
+	'tns:ObjectRef'
+);
+
+### AccountData
+$l_oServer->wsdl->addComplexType(
+	'AccountData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'		=>	array( 'name' => 'id',			'type' => 'xsd:integer',	'minOccurs' => '0'),
+		'name'		=>	array( 'name' => 'name',		'type' => 'xsd:string',	'minOccurs' => '0'),
+		'real_name'	=>	array( 'name' => 'real_name',	'type' => 'xsd:string',	'minOccurs' => '0'),
+		'email'		=>	array( 'name' => 'email',		'type' => 'xsd:string',	'minOccurs' => '0'),
+		'access'	=>	array( 'name' => 'access',		'type' => 'xsd:integer','minOccurs' => '0'),
+		'lang'  =>      array( 'name' => 'lang',        'type' => 'xsd:string','minOccurs' => '0')
+	)
+);
+
+### AccountDataArray
+$l_oServer->wsdl->addComplexType(
+	'AccountDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:AccountData[]'
+	)),
+	'tns:AccountData'
+);
+
+### AttachmentData
+$l_oServer->wsdl->addComplexType(
+	'AttachmentData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'				=>	array( 'name' => 'id',				'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'filename'			=>	array( 'name' => 'filename',		'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'size'				=>	array( 'name' => 'size',			'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'content_type'		=>	array( 'name' => 'content_type',	'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'date_submitted'	=>	array( 'name' => 'date_submitted',	'type' => 'xsd:dateTime', 	'minOccurs' => '0'),
+		'download_url'		=>	array( 'name' => 'download_url',	'type' => 'xsd:anyURI', 	'minOccurs' => '0')
+	)
+);
+
+### AttachmentDataArray
+$l_oServer->wsdl->addComplexType(
+	'AttachmentDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:AttachmentData[]'
+	)),
+	'tns:AttachmentData'
+);
+
+### ProjectAttachmentData
+$l_oServer->wsdl->addComplexType(
+	'ProjectAttachmentData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'				=>	array( 'name' => 'id',				'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'filename'			=>	array( 'name' => 'filename',		'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'title'				=>	array( 'name' => 'title',			'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'description'		=>	array( 'name' => 'description',		'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'size'				=>	array( 'name' => 'size',			'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'content_type'		=>	array( 'name' => 'content_type',	'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'date_submitted'	=>	array( 'name' => 'date_submitted',	'type' => 'xsd:dateTime', 	'minOccurs' => '0'),
+		'download_url'		=>	array( 'name' => 'download_url',	'type' => 'xsd:anyURI', 	'minOccurs' => '0')
+	)
+);
+
+### ProjectAttachmentDataArray
+$l_oServer->wsdl->addComplexType(
+	'ProjectAttachmentDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:ProjectAttachmentData[]'
+	)),
+	'tns:ProjectAttachmentData'
+);
+
+### RelationshipData
+$l_oServer->wsdl->addComplexType(
+	'RelationshipData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'		=>	array( 'name' => 'id',			'type' => 'xsd:integer',	'minOccurs' => '0'),
+		'type'		=>	array( 'name' => 'type',		'type' => 'tns:ObjectRef', 	'minOccurs' => '0'),
+		'target_id'	=>	array( 'name' => 'target_id',	'type' => 'xsd:integer', 	'minOccurs' => '0')
+	)
+);
+
+### RelationshipDataArray
+$l_oServer->wsdl->addComplexType(
+	'RelationshipDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:RelationshipData[]'
+	)),
+	'tns:RelationshipData'
+);
+
+
+### ProjectData
+$l_oServer->wsdl->addComplexType(
+	'ProjectData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'			=>	array( 'name' => 'id',			'type' => 'xsd:integer',	'minOccurs' => '0' ),
+		'parent_id'		=>	array( 'name' => 'parent_id',	'type' => 'xsd:integer',	'minOccurs' => '0' ),
+		'name'			=>	array( 'name' => 'name',		'type' => 'xsd:string',	'minOccurs' => '0' ),
+		'status'		=>	array( 'name' => 'status',		'type' => 'tns:ObjectRef',	'minOccurs' => '0' ),
+		'enabled'		=>	array( 'name' => 'enabled',		'type' => 'xsd:boolean',	'minOccurs' => '0' ),
+		'view_state'	=>	array( 'name' => 'view_state',	'type' => 'tns:ObjectRef',	'minOccurs' => '0' ),
+		'access_min'	=>	array( 'name' => 'access_min',	'type' => 'tns:ObjectRef',	'minOccurs' => '0' ),
+		'file_path'		=>	array( 'name' => 'file_path',	'type' => 'xsd:string',	'minOccurs' => '0' ),
+		'description'	=>	array( 'name' => 'description',	'type' => 'xsd:string',	'minOccurs' => '0' ),
+		'subprojects'	=>	array( 'name' => 'subprojects',	'type' => 'tns:ProjectDataArray', 'minOccurs' => '0' ),
+		'inherit_global'		=>	array( 'name' => 'inherit_global',		'type' => 'xsd:boolean',	'minOccurs' => '0' )
+	)
+);
+
+### ProjectDataArray
+$l_oServer->wsdl->addComplexType(
+	'ProjectDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:ProjectData[]'
+	)),
+	'tns:ProjectData'
+);
+
+### ProjectVersionData
+$l_oServer->wsdl->addComplexType(
+	'ProjectVersionData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'			=>	array( 'name' => 'id',			'type' => 'xsd:integer', 	'minOccurs' => '0' ),
+		'name'			=>	array( 'name' => 'name',		'type' => 'xsd:string', 	'minOccurs' => '0' ),
+		'project_id'	=>	array( 'name' => 'project_id',	'type' => 'xsd:integer', 	'minOccurs' => '0' ),
+		'date_order'	=>	array( 'name' => 'date_order',	'type' => 'xsd:dateTime', 	'minOccurs' => '0' ),
+		'description'	=>	array( 'name' => 'description',	'type' => 'xsd:string', 	'minOccurs' => '0' ),
+		'released'		=>	array( 'name' => 'released',	'type' => 'xsd:boolean', 	'minOccurs' => '0' )
+	)
+);
+
+### ProjectVersionDataArray
+$l_oServer->wsdl->addComplexType(
+	'ProjectVersionDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:ProjectVersionData[]'
+	)),
+	'tns:ProjectVersionData'
+);
+
+### FilterData
+$l_oServer->wsdl->addComplexType(
+	'FilterData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'id'			=>	array( 'name' => 'id',				'type' => 'xsd:integer', 	'minOccurs' => '0' ),
+		'owner'			=>	array( 'name' => 'owner',			'type' => 'tns:AccountData', 	'minOccurs' => '0' ),
+		'project_id'	=>	array( 'name' => 'project_id',		'type' => 'xsd:integer', 	'minOccurs' => '0' ),
+		'is_public'		=>	array( 'name' => 'is_public',		'type' => 'xsd:boolean', 	'minOccurs' => '0' ),
+		'name'			=>	array( 'name' => 'name',			'type' => 'xsd:string', 	'minOccurs' => '0' ),
+		'filter_string'	=>	array( 'name' => 'filter_string',	'type' => 'xsd:string', 	'minOccurs' => '0' ),
+	    'url'           =>  array( 'name' => 'url',				'type' => 'xsd:string', 	'minOccurs' => '0' )
+	)
+);
+
+### FilterDataArray
+$l_oServer->wsdl->addComplexType(
+	'FilterDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:FilterData[]'
+	)),
+	'tns:FilterData'
+);
+
+### CustomFieldDefinitionData
+$l_oServer->wsdl->addComplexType(
+	'CustomFieldDefinitionData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'field'				=>	array( 'name' => 'field',			'type' => 'tns:ObjectRef', 	'minOccurs' => '0'),
+		'type'				=>	array( 'name' => 'type',			'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'possible_values'	=>	array( 'name' => 'possible_values',	'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'default_value'		=>	array( 'name' => 'default_value',	'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'valid_regexp'		=>	array( 'name' => 'valid_regexp',	'type' => 'xsd:string', 	'minOccurs' => '0'),
+		'access_level_r'	=>	array( 'name' => 'access_level_r',	'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'access_level_rw'	=>	array( 'name' => 'access_level_rw',	'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'length_min'		=>	array( 'name' => 'length_min',		'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'length_max'		=>	array( 'name' => 'length_max',		'type' => 'xsd:integer', 	'minOccurs' => '0'),
+		'advanced'              =>      array( 'name' => 'advanced',            'type' => 'xsd:boolean',        'minOccurs' => '0'),
+		'display_report'	=>	array( 'name' => 'display_report',	'type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'display_update'	=>	array( 'name' => 'display_update',	'type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'display_resolved'	=>	array( 'name' => 'display_resolved','type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'display_closed'	=>	array( 'name' => 'display_closed',	'type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'require_report'	=>	array( 'name' => 'require_report',	'type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'require_update'	=>	array( 'name' => 'require_update',	'type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'require_resolved'	=>	array( 'name' => 'require_resolved','type' => 'xsd:boolean', 	'minOccurs' => '0'),
+		'require_closed'	=>	array( 'name' => 'require_closed',	'type' => 'xsd:boolean', 	'minOccurs' => '0')
+	)
+);
+
+### CustomFieldDefinitionDataArray
+$l_oServer->wsdl->addComplexType(
+	'CustomFieldDefinitionDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:CustomFieldDefinitionData[]'
+	)),
+	'tns:CustomFieldDefinitionData'
+);
+
+### CustomFieldLinkForProjectData
+$l_oServer->wsdl->addComplexType(
+	'CustomFieldLinkForProjectData',
+	'complexType',
+	'struct',
+	'all',
+	'',
+	array(
+		'field'				=>	array( 'name' => 'field',			'type' => 'tns:ObjectRef', 	'minOccurs' => '0'),
+		'sequence'			=>	array( 'name' => 'sequence',		'type' => 'xsd:byte', 	'minOccurs' => '0')
+	)
+);
+
+### CustomFieldLinkForProjectDataArray
+$l_oServer->wsdl->addComplexType(
+	'CustomFieldLinkForProjectDataArray',
+	'complexType',
+	'array',
+	'',
+	'SOAP-ENC:Array',
+	array(),
+	array(array(
+		'ref'				=> 'SOAP-ENC:arrayType',
+		'wsdl:arrayType'	=> 'tns:CustomFieldLinkForProjectData[]'
+	)),
+	'tns:CustomFieldLinkForProjectData'
+);
+
+
+###
+###  PUBLIC METHODS
+###
+
+### mc_version
+$l_oServer->register( 'mc_version',
+	array(),
+	array(
+		'return'	=>	'xsd:string'
+	),
+	$t_namespace
+);
+
+###
+###  PUBLIC METHODS (defined in mc_enum_api.php)
+###
+
+### pc_enum_access_levels
+	$l_oServer->register( 'pc_enum_access_levels',
+		array(
+			'username'	=>	'xsd:string',
+			'password'	=>	'xsd:string'
+		),
+		array(
+			'return'	=>	'tns:ObjectRefArray'
+		),
+		$t_namespace,
+		false, false, false,
+		'Get the enumeration for access levels.'
+	);
+
+	### pc_purge_cache
+	$l_oServer->register( 'pc_purge_cache',
+		array(
+			'username'	=>	'xsd:string',
+			'password'	=>	'xsd:string'
+		),
+		array(
+			'return'	=>	 'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Purge the server cache : this operation is needed to synchronise permissions on forum.'
+	);
+
+
+	### pc_project_add
+	$l_oServer->register( 'pc_project_add',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',			
+			'pProjectName' => 'xsd:string',
+			'pForumName' => 'xsd:string',
+			'pForumDescription' => 'xsd:string'
+		),
+		array(
+			'return' => 'xsd:integer'
+		),
+		$t_namespace,
+		false, false, false,
+		'Add a new project to the tracker (must have admin privileges)'
+	);
+
+	### pc_project_update
+	$l_oServer->register( 'pc_project_update',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pForumId' => 'xsd:integer',
+			'pForumName' => 'xsd:string',
+			'pForumDescription' => 'xsd:string'
+		),
+		array(
+			'return' => 'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Update a project to the tracker (must have admin privileges)'
+	);
+
+
+	### pc_project_delete
+	$l_oServer->register( 'pc_project_delete',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pForumId' => 'xsd:integer'
+		),
+		array(
+			'return' => 'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Delete project to the tracker (must have admin privileges)'
+	);
+	
+	
+	### pc_project_add_user_to_forum
+	$l_oServer->register( 'pc_project_add_user_to_forum',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pForumId' => 'xsd:integer',
+			'pUserName'	=>	'xsd:string',
+			'pRoleName'	=>	'xsd:string'
+		),
+		array(
+			'return' => 'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Add an user to a project (must have admin privileges)'
+	);
+	
+	### pc_project_add_user_to_forum
+	$l_oServer->register( 'pc_project_remove_user_from_forum',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pForumId' => 'xsd:integer',
+			'pUserName'	=>	'xsd:string'
+		),
+		array(
+			'return' => 'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Remove user from a project (must have admin privileges)'
+	);
+	
+	
+
+
+     ### pc_account_add
+	$l_oServer->register( 'pc_account_add',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pUserName'	=>	'xsd:string',
+			'pPassword'	=>	'xsd:string',
+			'pEmail'	=>	'xsd:string',
+			'pLang' =>      'xsd:string'			
+		),
+		array(
+			'return'	=>	'xsd:integer'
+		),
+		$t_namespace,
+		false, false, false,
+		'Add user to PhpBB3, return userId in PhpBB3.'
+	);
+	
+	
+	 ### pc_account_add
+	$l_oServer->register( 'pc_create_superadmin',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pUserName'	=>	'xsd:string',
+			'pPassword'	=>	'xsd:string',
+			'pEmail'	=>	'xsd:string',
+			'pLang' =>      'xsd:string'
+		),
+		array(
+			'return'	=>	'xsd:integer'
+		),
+		$t_namespace,
+		false, false, false,
+		'Add user to PhpBB3, return userId in PhpBB3.'
+	);
+	
+	
+	### pc_account_get
+	$l_oServer->register( 'pc_account_get',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pUserName'	=>	'xsd:string'
+		),
+		array(
+			'return'	=>	'xsd:integer'
+		),
+		$t_namespace,
+		false, false, false,
+		'Get user with pUserName PhpBB3.'
+	);
+	
+	### pc_account_delete
+	$l_oServer->register( 'pc_account_delete',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pUserName'	=>	'xsd:string'
+		),
+		array(
+			'return'	=>	'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Delete user from PhpBB3.'
+	);
+	
+	### pc_account_update
+	$l_oServer->register( 'pc_account_update',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+			'pUserName'	=>	'xsd:string',
+			'pPassword'	=>	'xsd:string',
+			'pEmail'	=>	'xsd:string',
+			'pLang' =>      'xsd:string'
+		),
+		array(
+			'return'	=>	'xsd:boolean'
+		),
+		$t_namespace,
+		false, false, false,
+		'Update PhpBB3 user.'
+	);
+	
+
+        ### pc_forum_get_id_from_name
+	$l_oServer->register( 'pc_forum_get_id_from_name',
+		array(
+			'pAdminUserName'	=>	'xsd:string',
+			'pAdminPassword'	=>	'xsd:string',
+            'pForumName'  => 'xsd:string',
+		),
+		array(
+			'return'	=>	'xsd:integer'
+		),
+		$t_namespace,
+		false, false, false,
+		'Get PhpBB forum id for given forum name.'
+	);
+
+###
+###  IMPLEMENTATION
+###
+
+/**
+ * Checks if the request for the webservice is a documentation request (eg:
+ * WSDL) or an actual webservice call.
+ *
+ * The implementation of this method is based on soap_server::service().
+ *
+ * @param $p_service    The webservice class instance.
+ * @param $p_data       The input that is based on the post data.
+ */
+function mci_is_webservice_call( $p_service, $p_data )
+{
+	global $QUERY_STRING;
+	global $_SERVER;
+	
+
+
+	if ( isset( $_SERVER['QUERY_STRING'] ) ) {
+		$t_qs = $_SERVER['QUERY_STRING'];
+	} else if( isset( $GLOBALS['QUERY_STRING'] ) ) {
+		$t_qs = $GLOBALS['QUERY_STRING'];
+	} else if( isset( $QUERY_STRING ) && $QUERY_STRING != '' ) {
+		$t_qs = $QUERY_STRING;
+	}
+
+	if ( isset( $t_qs ) && preg_match( '/wsdl/', $t_qs ) ){
+		return false;
+	} else if ( $p_data == '' && $p_service->wsdl ) {
+		return false;
+	} else {
+		return true;
+	}
+}
+
+# pass incoming (posted) data
+if ( isset( $HTTP_RAW_POST_DATA ) ) {
+	$t_input = $HTTP_RAW_POST_DATA;
+} else {
+	$t_input = implode( "\r\n", file( 'php://input' ) );
+}
+
+# only include the PhpbbBT / PhpbbConnect related files, if the current
+# request is a webservice call (rather than webservice documentation request,
+# eg: WSDL).
+if ( mci_is_webservice_call( $l_oServer, $t_input ) ) {
+	require_once( 'pc_core.php' );
+} else {
+	# if we have a documentation request, do some tidy up to prevent lame bot loops e.g. /phpbbconnect.php/mc_enum_etas/mc_project_get_versions/
+	$parts = explode ( 'phpbbconnect.php/', strtolower($_SERVER['SCRIPT_NAME'] ), 2 );
+	if (isset( $parts[1] ) && (strlen ( $parts[1] ) > 0 ) ) {
+		echo 'This is not a SOAP webservice request, for documentation, see ' .  $parts[0] . 'phpbbconnect.php';
+		exit();
+	}
+}
+
+# Execute whatever is requested from the webservice.
+$l_oServer->service( $t_input );
diff -rNU5 phpBB3-init/config.php phpBB3/config.php
--- phpBB3-init/config.php	2011-07-10 22:43:44.000000000 +0200
+++ phpBB3/config.php	2013-01-28 17:31:47.568708644 +0100
@@ -0,0 +1,17 @@
+<?php
+// phpBB 3.0.x auto-generated configuration file
+// Do not change anything in this file!
+$dbms = 'mysql';
+$dbhost = '@HOSTPHPBB';
+$dbport = '';
+$dbname = 'phpbb';
+$dbuser = '@PHPBBUSER';
+$dbpasswd = '@PASSPHPBB';
+$table_prefix = '@PHPBBPREFIX';
+$acm_type = 'file';
+$load_extensions = '';
+
+@define('PHPBB_INSTALLED', true);
+// @define('DEBUG', true);
+// @define('DEBUG_EXTRA', true);
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/forge.conf.admin.php phpBB3/forge.conf.admin.php
--- phpBB3-init/forge.conf.admin.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/forge.conf.admin.php	2013-01-28 17:31:47.568708644 +0100
@@ -0,0 +1,10 @@
+<?php
+$forgeconf['forge']['instance']['endpoint']  = 'http://localhost:9000/services/phpbbInstance?wsdl';
+$forgeconf['forge']['instance']['method']   	= 'getToolProjectId';
+$forgeconf['forge']['instance']['id']   	= 'instance_id';
+$forgeconf['forge']['instance']['forge_id']   	= 'forge_id';
+
+//Need because of php version used by Novaforge
+date_default_timezone_set('Europe/Paris');	
+
+?>
diff -rNU5 phpBB3-init/.htaccess phpBB3/.htaccess
--- phpBB3-init/.htaccess	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/.htaccess	1970-01-01 01:00:00.000000000 +0100
@@ -1,19 +0,0 @@
-#
-# Uncomment the statement below if you want to make use of
-# HTTP authentication and it does not already work.
-# This could be required if you are for example using PHP via Apache CGI.
-#
-#<IfModule mod_rewrite.c>
-#RewriteEngine on
-#RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]
-#</IfModule>
-
-<Files "config.php">
-Order Allow,Deny
-Deny from All
-</Files>
-
-<Files "common.php">
-Order Allow,Deny
-Deny from All
-</Files>
diff -rNU5 phpBB3-init/includes/auth/auth_cas.php phpBB3/includes/auth/auth_cas.php
--- phpBB3-init/includes/auth/auth_cas.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/includes/auth/auth_cas.php	2013-01-28 17:31:47.572708645 +0100
@@ -0,0 +1,127 @@
+<?php
+/**
+* phpBB CAS Authentication plugin.
+*
+* @package login
+* @version $Id$
+* @copyright (c) 2012 Anelis
+* @author Gregoire Astruc <gregoire.astruc@anelis.isima.fr>
+* @license http://opensource.org/licenses/LGPL-2.1 LGPL v2.1
+*/
+
+/** @ignore */
+if ( !defined('IN_PHPBB') )
+{
+    exit();
+}
+
+include_once('CAS/CAS.php');
+phpCAS::client(CAS_VERSION_2_0, $config['cas_server'], (int) $config['cas_port'], $config['cas_uri']);
+phpCAS::handleLogoutRequests(false);
+
+if ($config['cas_validate'] == 0)
+{
+  phpCAS::setNoCasServerValidation();
+}
+else
+{
+  phpCAS::setServerProxyValidateURL($config['cas_validate']);	
+}
+
+
+/** 
+* Plugin initialization.
+*/
+function init_cas()
+{
+    global $config, $user;
+    return false;
+}
+
+function autologin_cas()
+{
+    global $config, $db, $cas_client,$user;
+    if (!phpCAS::isAuthenticated())
+        phpCAS::forceAuthentication();
+
+    return get_user_row(phpCAS::getUser());
+}
+
+function logout_cas($user_row, $new_session)
+{
+    global $config;
+    phpCAS::logout();
+}
+
+function validate_session_cas($user_row)
+{
+    global $config;
+    if (defined('IN_LOGIN') && request_var('mode', '') == 'login')
+        return false;
+
+    if (phpCAS::isAuthenticated())
+	return phpCAS::getUser() == $user_row['username'];
+    
+    return false;
+}
+
+/**
+* This function is used to output any required fields in the authentication
+* admin panel. It also defines any required configuration table fields.
+*/
+function acp_cas(&$new)
+{
+	global $user;
+	$user->add_lang('mods/auth_cas');
+
+	$tpl = '
+
+	<dl>
+          <dt><label for="cas_server">' . $user->lang['CAS_SERVER'] . ':</label><br /><span>' . $user->lang['CAS_SERVER_EXPLAIN'] . '</span></dt>
+          <dd><code>https://</code><input type="text" id="cas_server" size="40" name="config[cas_server]" value="' . $new['cas_server'] . '" /></dd>
+	</dl>
+	<dl>
+          <dt><label for="cas_port">' . $user->lang['CAS_PORT'] . ':</label><br /><span>' . $user->lang['CAS_PORT_EXPLAIN'] . '</span></dt>
+          <dd><input type="text" id="cas_port" size="40" name="config[cas_port]" value="' . $new['cas_port'] . '" /></dd>
+	</dl>
+	<dl>
+          <dt><label for="cas_uri">' . $user->lang['CAS_URI'] . ':</label><br /><span>' . $user->lang['CAS_URI_EXPLAIN'] . '</span></dt>
+          <dd><input type="text" id="cas_uri" size="40" name="config[cas_uri]" value="' . $new['cas_uri'] . '" autocomplete="off" /></dd>
+	</dl>
+	<dl>
+          <dt><label for="cas_validate">' . $user->lang['CAS_VALIDATE'] . ':</label><br /><span>' . $user->lang['CAS_VALIDATE_EXPLAIN'] . '</span></dt>
+          <dd><input type="text" size="1" maxlength="1" id="cas_validate" name="config[cas_validate]" value="' . $new['cas_validate'] . '" /></dd>
+	</dl>
+	';
+
+	// These are fields required in the config table
+	return array(
+		'tpl'		=> $tpl,
+		'config'	=> array('cas_server', 'cas_port', 'cas_uri', 'cas_validate')
+	);
+}
+
+function get_user_row($username, $default_row = array(), $select_all = true)
+{
+    global $db;
+    $user_row = $default_row;
+    $sql ='SELECT';
+    if ($select_all)
+	$sql .= ' *';
+    else
+	$sql .= ' user_id, username, user_password, user_passchg, user_email, user_type, user_style';
+    $sql .= ' FROM ' . USERS_TABLE . "
+        WHERE username_clean = '" . $db->sql_escape(utf8_clean_string($username)) . "'";
+    $result = $db->sql_query($sql);
+    $row = $db->sql_fetchrow($result);
+    $db->sql_freeresult($result);
+
+    if ($row)
+    {
+        if ( !($row['user_type'] == USER_INACTIVE || $row['user_type'] == USER_IGNORE) )
+            $user_row = $row;
+    }
+    
+    return $user_row;
+}
+?>
diff -rNU5 phpBB3-init/index.php phpBB3/index.php
--- phpBB3-init/index.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/index.php	2013-01-28 17:31:47.680708649 +0100
@@ -17,16 +17,25 @@
 define('IN_PHPBB', true);
 $phpbb_root_path = (defined('PHPBB_ROOT_PATH')) ? PHPBB_ROOT_PATH : './';
 $phpEx = substr(strrchr(__FILE__, '.'), 1);
 include($phpbb_root_path . 'common.' . $phpEx);
 include($phpbb_root_path . 'includes/functions_display.' . $phpEx);
+include($phpbb_root_path . 'novaforge_functions.' . $phpEx);
+require_once($phpbb_root_path .'/forge.conf.admin.php');
+
 
 // Start session management
 $user->session_begin();
 $auth->acl($user->data);
 $user->setup('viewforum');
 
+if (isset($_REQUEST[$forgeconf['forge']['instance']['id']]) ) {
+	$instance_id = $_REQUEST[$forgeconf['forge']['instance']['id']];
+	$forumId = getPhpBBForumId($instance_id);
+	redirect('viewforum.php?f='.$forumId);
+}
+
 display_forums('', $config['load_moderators']);
 
 // Set some stats, get posts count from forums data if we... hum... retrieve all forums data
 $total_posts	= $config['num_posts'];
 $total_topics	= $config['num_topics'];
diff -rNU5 phpBB3-init/install/convertors/convert_phpbb20.php phpBB3/install/convertors/convert_phpbb20.php
--- phpBB3-init/install/convertors/convert_phpbb20.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/convertors/convert_phpbb20.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,944 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2006 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-/**
-* NOTE to potential convertor authors. Please use this file to get
-* familiar with the structure since we added some bare explanations here.
-*
-* Since this file gets included more than once on one page you are not able to add functions to it.
-* Instead use a functions_ file.
-*
-* @ignore
-*/
-if (!defined('IN_PHPBB'))
-{
-	exit;
-}
-
-include($phpbb_root_path . 'config.' . $phpEx);
-unset($dbpasswd);
-
-/**
-* $convertor_data provides some basic information about this convertor which is
-* used on the initial list of convertors and to populate the default settings
-*/
-$convertor_data = array(
-	'forum_name'	=> 'phpBB 2.0.x',
-	'version'		=> '1.0.3',
-	'phpbb_version'	=> '3.0.9',
-	'author'		=> '<a href="http://www.phpbb.com/">phpBB Group</a>',
-	'dbms'			=> $dbms,
-	'dbhost'		=> $dbhost,
-	'dbport'		=> $dbport,
-	'dbuser'		=> $dbuser,
-	'dbpasswd'		=> '',
-	'dbname'		=> $dbname,
-	'table_prefix'	=> 'phpbb_',
-	'forum_path'	=> '../forums',
-	'author_notes'	=> '',
-);
-
-/**
-* $tables is a list of the tables (minus prefix) which we expect to find in the
-* source forum. It is used to guess the prefix if the specified prefix is incorrect
-*/
-$tables = array(
-	'auth_access',
-	'banlist',
-	'categories',
-	'disallow',
-	'forum_prune',
-	'forums',
-	'groups',
-	'posts',
-	'posts_text',
-	'privmsgs',
-	'privmsgs_text',
-	'ranks',
-	'smilies',
-	'topics',
-	'topics_watch',
-	'user_group',
-	'users',
-	'vote_desc',
-	'vote_results',
-	'vote_voters',
-	'words'
-);
-
-/**
-* $config_schema details how the board configuration information is stored in the source forum.
-*
-* 'table_format' can take the value 'file' to indicate a config file. In this case array_name
-* is set to indicate the name of the array the config values are stored in
-* Example of using a file:
-* $config_schema = array(
-* 	'table_format'	=>	'file',
-* 	'filename'	=>	'NAME OF FILE', // If the file is not in the root directory, the path needs to be added with no leading slash
-* 	'array_name' => 'NAME OF ARRAY', // Only used if the configuration file stores the setting in an array.
-* 	'settings'		=>	array(
-*        'board_email' => 'SUPPORT_EMAIL', // target config name => source target name
-* 	)
-* );
-* 'table_format' can be an array if the values are stored in a table which is an assosciative array
-* (as per phpBB 2.0.x)
-* If left empty, values are assumed to be stored in a table where each config setting is
-* a column (as per phpBB 1.x)
-*
-* In either of the latter cases 'table_name' indicates the name of the table in the database
-*
-* 'settings' is an array which maps the name of the config directive in the source forum
-* to the config directive in phpBB3. It can either be a direct mapping or use a function.
-* Please note that the contents of the old config value are passed to the function, therefore
-* an in-built function requiring the variable passed by reference is not able to be used. Since
-* empty() is such a function we created the function is_empty() to be used instead.
-*/
-$config_schema = array(
-	'table_name'	=>	'config',
-	'table_format'	=>	array('config_name' => 'config_value'),
-	'settings'		=>	array(
-		'allow_bbcode'			=> 'allow_bbcode',
-		'allow_smilies'			=> 'allow_smilies',
-		'allow_sig'				=> 'allow_sig',
-		'allow_namechange'		=> 'allow_namechange',
-		'allow_avatar_local'	=> 'allow_avatar_local',
-		'allow_avatar_remote'	=> 'allow_avatar_remote',
-		'allow_avatar_upload'	=> 'allow_avatar_upload',
-		'board_disable'			=> 'board_disable',
-		'sitename'				=> 'phpbb_set_encoding(sitename)',
-		'site_desc'				=> 'phpbb_set_encoding(site_desc)',
-		'session_length'		=> 'session_length',
-		'board_email_sig'		=> 'phpbb_set_encoding(board_email_sig)',
-		'posts_per_page'		=> 'posts_per_page',
-		'topics_per_page'		=> 'topics_per_page',
-		'enable_confirm'		=> 'enable_confirm',
-		'board_email_form'		=> 'board_email_form',
-		'override_user_style'	=> 'override_user_style',
-		'hot_threshold'			=> 'hot_threshold',
-		'max_poll_options'		=> 'max_poll_options',
-		'max_sig_chars'			=> 'max_sig_chars',
-		'pm_max_msgs'			=> 'max_inbox_privmsgs',
-		'smtp_delivery'			=> 'smtp_delivery',
-		'smtp_host'				=> 'smtp_host',
-		'smtp_username'			=> 'smtp_username',
-		'smtp_password'			=> 'smtp_password',
-		'require_activation'	=> 'require_activation',
-		'flood_interval'		=> 'flood_interval',
-		'avatar_filesize'		=> 'avatar_filesize',
-		'avatar_max_width'		=> 'avatar_max_width',
-		'avatar_max_height'		=> 'avatar_max_height',
-		'default_dateformat'	=> 'phpbb_set_encoding(default_dateformat)',
-		'board_timezone'		=> 'board_timezone',
-		'allow_privmsg'			=> 'not(privmsg_disable)',
-		'gzip_compress'			=> 'gzip_compress',
-		'coppa_enable'			=> '!is_empty(coppa_mail)',
-		'coppa_fax'				=> 'coppa_fax',
-		'coppa_mail'			=> 'coppa_mail',
-		'record_online_users'	=> 'record_online_users',
-		'record_online_date'	=> 'record_online_date',
-		'board_startdate'		=> 'board_startdate',
-	)
-);
-
-/**
-* $test_file is the name of a file which is present on the source
-* forum which can be used to check that the path specified by the
-* user was correct
-*/
-$test_file = 'modcp.php';
-
-/**
-* If this is set then we are not generating the first page of information but getting the conversion information.
-*/
-if (!$get_info)
-{
-	// Test to see if the birthday MOD is installed on the source forum
-	// Niels' birthday mod
-	if (get_config_value('birthday_required') !== false || get_config_value('bday_require') !== false)
-	{
-		define('MOD_BIRTHDAY', true);
-	}
-
-	// TerraFrost's validated birthday mod
-	if (get_config_value('bday_require') !== false)
-	{
-		define('MOD_BIRTHDAY_TERRA', true);
-	}
-
-	// Test to see if the attachment MOD is installed on the source forum
-	// If it is, we will convert this data as well
-	$src_db->sql_return_on_error(true);
-
-	$sql = "SELECT config_value
-		FROM {$convert->src_table_prefix}attachments_config
-		WHERE config_name = 'upload_dir'";
-	$result = $src_db->sql_query($sql);
-
-	if ($result && $row = $src_db->sql_fetchrow($result))
-	{
-		// Here the constant is defined
-		define('MOD_ATTACHMENT', true);
-
-		// Here i add more tables to be checked in the old forum
-		$tables += array(
-			'attachments',
-			'attachments_desc',
-			'extensions',
-			'extension_groups'
-		);
-
-		$src_db->sql_freeresult($result);
-	}
-	else if ($result)
-	{
-		$src_db->sql_freeresult($result);
-	}
-
-
-	/**
-	* Tests for further MODs can be included here.
-	* Please use constants for this, prefixing them with MOD_
-	*/
-
-	$src_db->sql_return_on_error(false);
-
-	// Now let us set a temporary config variable for user id incrementing
-	$sql = "SELECT user_id
-		FROM {$convert->src_table_prefix}users
-		WHERE user_id = 1";
-	$result = $src_db->sql_query($sql);
-	$user_id = (int) $src_db->sql_fetchfield('user_id');
-	$src_db->sql_freeresult($result);
-
-	// If there is a user id 1, we need to increment user ids. :/
-	if ($user_id === 1)
-	{
-		// Try to get the maximum user id possible...
-		$sql = "SELECT MAX(user_id) AS max_user_id
-			FROM {$convert->src_table_prefix}users";
-		$result = $src_db->sql_query($sql);
-		$user_id = (int) $src_db->sql_fetchfield('max_user_id');
-		$src_db->sql_freeresult($result);
-
-		set_config('increment_user_id', ($user_id + 1), true);
-	}
-	else
-	{
-		set_config('increment_user_id', 0, true);
-	}
-
-	// Overwrite maximum avatar width/height
-	@define('DEFAULT_AVATAR_X_CUSTOM', get_config_value('avatar_max_width'));
-	@define('DEFAULT_AVATAR_Y_CUSTOM', get_config_value('avatar_max_height'));
-
-	// additional table used only during conversion
-	@define('USERCONV_TABLE', $table_prefix . 'userconv');
-
-/**
-*	Description on how to use the convertor framework.
-*
-*	'schema' Syntax Description
-*		-> 'target'			=> Target Table. If not specified the next table will be handled
-*		-> 'primary'		=> Primary Key. If this is specified then this table is processed in batches
-*		-> 'query_first'	=> array('target' or 'src', Query to execute before beginning the process
-*								(if more than one then specified as array))
-*		-> 'function_first'	=> Function to execute before beginning the process (if more than one then specified as array)
-*								(This is mostly useful if variables need to be given to the converting process)
-*		-> 'test_file'		=> This is not used at the moment but should be filled with a file from the old installation
-*
-*		// DB Functions
-*		'distinct'	=> Add DISTINCT to the select query
-*		'where'		=> Add WHERE to the select query
-*		'group_by'	=> Add GROUP BY to the select query
-*		'left_join'	=> Add LEFT JOIN to the select query (if more than one joins specified as array)
-*		'having'	=> Add HAVING to the select query
-*
-*		// DB INSERT array
-*		This one consist of three parameters
-*		First Parameter:
-*							The key need to be filled within the target table
-*							If this is empty, the target table gets not assigned the source value
-*		Second Parameter:
-*							Source value. If the first parameter is specified, it will be assigned this value.
-*							If the first parameter is empty, this only gets added to the select query
-*		Third Parameter:
-*							Custom Function. Function to execute while storing source value into target table.
-*							The functions return value get stored.
-*							The function parameter consist of the value of the second parameter.
-*
-*							types:
-*								- empty string == execute nothing
-*								- string == function to execute
-*								- array == complex execution instructions
-*
-*		Complex execution instructions:
-*		@todo test complex execution instructions - in theory they will work fine
-*
-*							By defining an array as the third parameter you are able to define some statements to be executed. The key
-*							is defining what to execute, numbers can be appended...
-*
-*							'function' => execute function
-*							'execute' => run code, whereby all occurrences of {VALUE} get replaced by the last returned value.
-*										The result *must* be assigned/stored to {RESULT}.
-*							'typecast'	=> typecast value
-*
-*							The returned variables will be made always available to the next function to continue to work with.
-*
-*							example (variable inputted is an integer of 1):
-*
-*							array(
-*								'function1'		=> 'increment_by_one',		// returned variable is 2
-*								'typecast'		=> 'string',				// typecast variable to be a string
-*								'execute'		=> '{RESULT} = {VALUE} . ' is good';', // returned variable is '2 is good'
-*								'function2'		=> 'replace_good_with_bad',				// returned variable is '2 is bad'
-*							),
-*
-*/
-
-	$convertor = array(
-		'test_file'				=> 'viewtopic.php',
-
-		'avatar_path'			=> get_config_value('avatar_path') . '/',
-		'avatar_gallery_path'	=> get_config_value('avatar_gallery_path') . '/',
-		'smilies_path'			=> get_config_value('smilies_path') . '/',
-		'upload_path'			=> (defined('MOD_ATTACHMENT')) ? phpbb_get_files_dir() . '/' : '',
-		'thumbnails'			=> (defined('MOD_ATTACHMENT')) ? array('thumbs/', 't_') : '',
-		'ranks_path'			=> false, // phpBB 2.0.x had no config value for a ranks path
-
-		// We empty some tables to have clean data available
-		'query_first'			=> array(
-			array('target', $convert->truncate_statement . SEARCH_RESULTS_TABLE),
-			array('target', $convert->truncate_statement . SEARCH_WORDLIST_TABLE),
-			array('target', $convert->truncate_statement . SEARCH_WORDMATCH_TABLE),
-			array('target', $convert->truncate_statement . LOG_TABLE),
-		),
-
-//	with this you are able to import all attachment files on the fly. For large boards this is not an option, therefore commented out by default.
-//	Instead every file gets copied while processing the corresponding attachment entry.
-//		if (defined("MOD_ATTACHMENT")) { import_attachment_files(); phpbb_copy_thumbnails(); }
-
-		// phpBB2 allowed some similar usernames to coexist which would have the same
-		// username_clean in phpBB3 which is not possible, so we'll give the admin a list
-		// of user ids and usernames and let him deicde what he wants to do with them
-		'execute_first'	=> '
-			phpbb_create_userconv_table();
-			import_avatar_gallery();
-			if (defined("MOD_ATTACHMENT")) phpbb_import_attach_config();
-			phpbb_insert_forums();
-		',
-
-		'execute_last'	=> array('
-			add_bots();
-		', '
-			update_folder_pm_count();
-		', '
-			update_unread_count();
-		', '
-			phpbb_convert_authentication(\'start\');
-		', '
-			phpbb_convert_authentication(\'first\');
-		', '
-			phpbb_convert_authentication(\'second\');
-		', '
-			phpbb_convert_authentication(\'third\');
-		'),
-
-		'schema' => array(
-			array(
-				'target'	=> USERCONV_TABLE,
-				'query_first'   => array('target', $convert->truncate_statement . USERCONV_TABLE),
-
-
-				array('user_id',			'users.user_id', 	''),
-				array('username_clean',		'users.username',	array('function1' => 'phpbb_set_encoding', 'function2' => 'utf8_clean_string')),
-			),
-
-			array(
-				'target'		=> (defined('MOD_ATTACHMENT')) ? ATTACHMENTS_TABLE : '',
-				'primary'		=> 'attachments.attach_id',
-				'query_first'	=> (defined('MOD_ATTACHMENT')) ? array('target', $convert->truncate_statement . ATTACHMENTS_TABLE) : '',
-				'autoincrement'	=> 'attach_id',
-
-				array('attach_id',				'attachments.attach_id',				''),
-				array('post_msg_id',			'attachments.post_id',					''),
-				array('topic_id',				'posts.topic_id',						''),
-				array('in_message',				0,										''),
-				array('is_orphan',				0,										''),
-				array('poster_id',				'attachments.user_id_1 AS poster_id',	'phpbb_user_id'),
-				array('physical_filename',		'attachments_desc.physical_filename',	'import_attachment'),
-				array('real_filename',			'attachments_desc.real_filename',		'phpbb_set_encoding'),
-				array('download_count',			'attachments_desc.download_count',		''),
-				array('attach_comment',			'attachments_desc.comment',				array('function1' => 'phpbb_set_encoding', 'function2' => 'utf8_htmlspecialchars')),
-				array('extension',				'attachments_desc.extension',			''),
-				array('mimetype',				'attachments_desc.mimetype',			''),
-				array('filesize',				'attachments_desc.filesize',			''),
-				array('filetime',				'attachments_desc.filetime',			''),
-				array('thumbnail',				'attachments_desc.thumbnail',			''),
-
-				'where'			=> 'attachments_desc.attach_id = attachments.attach_id AND attachments.privmsgs_id = 0 AND posts.post_id = attachments.post_id',
-				'group_by'		=> 'attachments.attach_id'
-			),
-
-			array(
-				'target'		=> (defined('MOD_ATTACHMENT')) ? ATTACHMENTS_TABLE : '',
-				'primary'		=> 'attachments.attach_id',
-				'autoincrement'	=> 'attach_id',
-
-				array('attach_id',				'attachments.attach_id',				''),
-				array('post_msg_id',			'attachments.privmsgs_id',				''),
-				array('topic_id',				0,										''),
-				array('in_message',				1,										''),
-				array('is_orphan',				0,										''),
-				array('poster_id',				'attachments.user_id_1 AS poster_id',	'phpbb_user_id'),
-				array('physical_filename',		'attachments_desc.physical_filename',	'import_attachment'),
-				array('real_filename',			'attachments_desc.real_filename',		''),
-				array('download_count',			'attachments_desc.download_count',		''),
-				array('attach_comment',			'attachments_desc.comment',				array('function1' => 'phpbb_set_encoding', 'function2' => 'utf8_htmlspecialchars')),
-				array('extension',				'attachments_desc.extension',			''),
-				array('mimetype',				'attachments_desc.mimetype',			''),
-				array('filesize',				'attachments_desc.filesize',			''),
-				array('filetime',				'attachments_desc.filetime',			''),
-				array('thumbnail',				'attachments_desc.thumbnail',			''),
-
-				'where'			=> 'attachments_desc.attach_id = attachments.attach_id AND attachments.post_id = 0',
-				'group_by'		=> 'attachments.attach_id'
-			),
-
-			array(
-				'target'		=> (defined('MOD_ATTACHMENT')) ? EXTENSIONS_TABLE : '',
-				'query_first'	=> (defined('MOD_ATTACHMENT')) ? array('target', $convert->truncate_statement . EXTENSIONS_TABLE) : '',
-				'autoincrement'	=> 'extension_id',
-
-				array('extension_id',			'extensions.ext_id',				''),
-				array('group_id',				'extensions.group_id',				''),
-				array('extension',				'extensions.extension',				''),
-			),
-
-			array(
-				'target'		=> (defined('MOD_ATTACHMENT')) ? EXTENSION_GROUPS_TABLE : '',
-				'query_first'	=> (defined('MOD_ATTACHMENT')) ? array('target', $convert->truncate_statement . EXTENSION_GROUPS_TABLE) : '',
-				'autoincrement'	=> 'group_id',
-
-				array('group_id',				'extension_groups.group_id',			''),
-				array('group_name',				'extension_groups.group_name',			array('function1' => 'phpbb_set_encoding', 'function2' => 'utf8_htmlspecialchars')),
-				array('cat_id',					'extension_groups.cat_id',				'phpbb_attachment_category'),
-				array('allow_group',			'extension_groups.allow_group',			''),
-				array('download_mode',			1,										''),
-				array('upload_icon',			'',										''),
-				array('max_filesize',			'extension_groups.max_filesize',		''),
-				array('allowed_forums',			'extension_groups.forum_permissions',	'phpbb_attachment_forum_perms'),
-				array('allow_in_pm',			1,										''),
-			),
-
-			array(
-				'target'		=> BANLIST_TABLE,
-				'execute_first'	=> 'phpbb_check_username_collisions();',
-				'query_first'	=> array('target', $convert->truncate_statement . BANLIST_TABLE),
-
-				array('ban_ip',					'banlist.ban_ip',					'decode_ban_ip'),
-				array('ban_userid',				'banlist.ban_userid',				'phpbb_user_id'),
-				array('ban_email',				'banlist.ban_email',				''),
-				array('ban_reason',				'',									''),
-				array('ban_give_reason',		'',									''),
-
-				'where'			=> "banlist.ban_ip NOT LIKE '%.%'",
-			),
-
-			array(
-				'target'		=> BANLIST_TABLE,
-
-				array('ban_ip',					'banlist.ban_ip',	''),
-				array('ban_userid',				0,					''),
-				array('ban_email',				'',					''),
-				array('ban_reason',				'',					''),
-				array('ban_give_reason',		'',					''),
-
-				'where'			=> "banlist.ban_ip LIKE '%.%'",
-			),
-
-			array(
-				'target'		=> DISALLOW_TABLE,
-				'query_first'	=> array('target', $convert->truncate_statement . DISALLOW_TABLE),
-
-				array('disallow_username',		'disallow.disallow_username',				'phpbb_disallowed_username'),
-			),
-
-			array(
-				'target'		=> RANKS_TABLE,
-				'query_first'	=> array('target', $convert->truncate_statement . RANKS_TABLE),
-				'autoincrement'	=> 'rank_id',
-
-				array('rank_id',					'ranks.rank_id',				''),
-				array('rank_title',					'ranks.rank_title',				array('function1' => 'phpbb_set_default_encoding', 'function2' => 'utf8_htmlspecialchars')),
-				array('rank_min',					'ranks.rank_min',				array('typecast' => 'int', 'execute' => '{RESULT} = ({VALUE}[0] < 0) ? 0 : {VALUE}[0];')),
-				array('rank_special',				'ranks.rank_special',			''),
-				array('rank_image',					'ranks.rank_image',				'import_rank'),
-			),
-
-			array(
-				'target'		=> TOPICS_TABLE,
-				'query_first'	=> array('target', $convert->truncate_statement . TOPICS_TABLE),
-				'primary'		=> 'topics.topic_id',
-				'autoincrement'	=> 'topic_id',
-
-				array('topic_id',				'topics.topic_id',					''),
-				array('forum_id',				'topics.forum_id',					''),
-				array('icon_id',				0,									''),
-				array('topic_poster',			'topics.topic_poster AS poster_id',	'phpbb_user_id'),
-				array('topic_attachment',		((defined('MOD_ATTACHMENT')) ? 'topics.topic_attachment' : 0), ''),
-				array('topic_title',			'topics.topic_title',				'phpbb_set_encoding'),
-				array('topic_time',				'topics.topic_time',				''),
-				array('topic_views',			'topics.topic_views',				''),
-				array('topic_replies',			'topics.topic_replies',				''),
-				array('topic_replies_real',		'topics.topic_replies',				''),
-				array('topic_last_post_id',		'topics.topic_last_post_id',		''),
-				array('topic_status',			'topics.topic_status',				'is_topic_locked'),
-				array('topic_moved_id',			0,									''),
-				array('topic_type',				'topics.topic_type',				'phpbb_convert_topic_type'),
-				array('topic_first_post_id',	'topics.topic_first_post_id',		''),
-				array('topic_last_view_time',	'posts.post_time',					'intval'),
-				array('poll_title',				'vote_desc.vote_text',				array('function1' => 'null_to_str', 'function2' => 'phpbb_set_encoding', 'function3' => 'utf8_htmlspecialchars')),
-				array('poll_start',				'vote_desc.vote_start',				'null_to_zero'),
-				array('poll_length',			'vote_desc.vote_length',			'null_to_zero'),
-				array('poll_max_options',		1,									''),
-				array('poll_vote_change',		0,									''),
-
-				'left_join'		=>	array (	'topics LEFT JOIN vote_desc ON topics.topic_id = vote_desc.topic_id AND topics.topic_vote = 1',
-											'topics LEFT JOIN posts ON topics.topic_last_post_id = posts.post_id',
-									),
-				'where'			=> 'topics.topic_moved_id = 0',
-			),
-
-			array(
-				'target'		=> TOPICS_TABLE,
-				'primary'		=> 'topics.topic_id',
-				'autoincrement'	=> 'topic_id',
-
-				array('topic_id',				'topics.topic_id',					''),
-				array('forum_id',				'topics.forum_id',					''),
-				array('icon_id',				0,									''),
-				array('topic_poster',			'topics.topic_poster AS poster_id',	'phpbb_user_id'),
-				array('topic_attachment',		((defined('MOD_ATTACHMENT')) ? 'topics.topic_attachment' : 0), ''),
-				array('topic_title',			'topics.topic_title',				'phpbb_set_encoding'),
-				array('topic_time',				'topics.topic_time',				''),
-				array('topic_views',			'topics.topic_views',				''),
-				array('topic_replies',			'topics.topic_replies',				''),
-				array('topic_replies_real',		'topics.topic_replies',				''),
-				array('topic_last_post_id',		'topics.topic_last_post_id',		''),
-				array('topic_status',			ITEM_MOVED,							''),
-				array('topic_moved_id',			'topics.topic_moved_id',			''),
-				array('topic_type',				'topics.topic_type',				'phpbb_convert_topic_type'),
-				array('topic_first_post_id',	'topics.topic_first_post_id',		''),
-
-				array('poll_title',				'vote_desc.vote_text',				array('function1' => 'null_to_str', 'function2' => 'phpbb_set_encoding', 'function3' => 'utf8_htmlspecialchars')),
-				array('poll_start',				'vote_desc.vote_start',				'null_to_zero'),
-				array('poll_length',			'vote_desc.vote_length',			'null_to_zero'),
-				array('poll_max_options',		1,									''),
-				array('poll_vote_change',		0,									''),
-
-				'left_join'		=> 'topics LEFT JOIN vote_desc ON topics.topic_id = vote_desc.topic_id AND topics.topic_vote = 1',
-				'where'			=> 'topics.topic_moved_id <> 0',
-			),
-
-			array(
-				'target'		=> TOPICS_WATCH_TABLE,
-				'primary'		=> 'topics_watch.topic_id',
-				'query_first'	=> array('target', $convert->truncate_statement . TOPICS_WATCH_TABLE),
-
-				array('topic_id',				'topics_watch.topic_id',			''),
-				array('user_id',				'topics_watch.user_id',				'phpbb_user_id'),
-				array('notify_status',			'topics_watch.notify_status',		''),
-			),
-
-			array(
-				'target'		=> SMILIES_TABLE,
-				'query_first'	=> array('target', $convert->truncate_statement . SMILIES_TABLE),
-				'autoincrement'	=> 'smiley_id',
-
-				array('smiley_id',				'smilies.smilies_id',				''),
-				array('code',					'smilies.code',						array('function1' => 'phpbb_smilie_html_decode', 'function2' => 'phpbb_set_encoding', 'function3' => 'utf8_htmlspecialchars')),
-				array('emotion',				'smilies.emoticon',					'phpbb_set_encoding'),
-				array('smiley_url',				'smilies.smile_url',				'import_smiley'),
-				array('smiley_width',			'smilies.smile_url',				'get_smiley_width'),
-				array('smiley_height',			'smilies.smile_url',				'get_smiley_height'),
-				array('smiley_order',			'smilies.smilies_id',				''),
-				array('display_on_posting',		'smilies.smilies_id',				'get_smiley_display'),
-
-				'order_by'		=> 'smilies.smilies_id ASC',
-			),
-
-			array(
-				'target'		=> POLL_OPTIONS_TABLE,
-				'primary'		=> 'vote_results.vote_option_id',
-				'query_first'	=> array('target', $convert->truncate_statement . POLL_OPTIONS_TABLE),
-
-				array('poll_option_id',			'vote_results.vote_option_id',		''),
-				array('topic_id',				'vote_desc.topic_id',				''),
-				array('',						'topics.topic_poster AS poster_id',	'phpbb_user_id'),
-				array('poll_option_text',		'vote_results.vote_option_text',	array('function1' => 'phpbb_set_encoding', 'function2' => 'utf8_htmlspecialchars')),
-				array('poll_option_total',		'vote_results.vote_result',			''),
-
-				'where'			=> 'vote_results.vote_id = vote_desc.vote_id',
-				'left_join'		=> 'vote_desc LEFT JOIN topics ON topics.topic_id = vote_desc.topic_id',
-			),
-
-			array(
-				'target'		=> POLL_VOTES_TABLE,
-				'primary'		=> 'vote_desc.topic_id',
-				'query_first'	=> array('target', $convert->truncate_statement . POLL_VOTES_TABLE),
-
-				array('poll_option_id',			VOTE_CONVERTED,						''),
-				array('topic_id',				'vote_desc.topic_id',				''),
-				array('vote_user_id',			'vote_voters.vote_user_id',			'phpbb_user_id'),
-				array('vote_user_ip',			'vote_voters.vote_user_ip',			'decode_ip'),
-
-				'where'			=> 'vote_voters.vote_id = vote_desc.vote_id',
-			),
-
-			array(
-				'target'		=> WORDS_TABLE,
-				'primary'		=> 'words.word_id',
-				'query_first'	=> array('target', $convert->truncate_statement . WORDS_TABLE),
-				'autoincrement'	=> 'word_id',
-
-				array('word_id',				'words.word_id',					''),
-				array('word',					'words.word',						'phpbb_set_encoding'),
-				array('replacement',			'words.replacement',				'phpbb_set_encoding'),
-			),
-
-			array(
-				'target'		=> POSTS_TABLE,
-				'primary'		=> 'posts.post_id',
-				'autoincrement'	=> 'post_id',
-				'query_first'	=> array('target', $convert->truncate_statement . POSTS_TABLE),
-				'execute_first'	=> '
-					$config["max_post_chars"] = 0;
-					$config["min_post_chars"] = 0;
-					$config["max_quote_depth"] = 0;
-				',
-
-				array('post_id',				'posts.post_id',					''),
-				array('topic_id',				'posts.topic_id',					''),
-				array('forum_id',				'posts.forum_id',					''),
-				array('poster_id',				'posts.poster_id',					'phpbb_user_id'),
-				array('icon_id',				0,									''),
-				array('poster_ip',				'posts.poster_ip',					'decode_ip'),
-				array('post_time',				'posts.post_time',					''),
-				array('enable_bbcode',			'posts.enable_bbcode',				''),
-				array('',						'posts.enable_html',				''),
-				array('enable_smilies',			'posts.enable_smilies',				''),
-				array('enable_sig',				'posts.enable_sig',					''),
-				array('enable_magic_url',		1,									''),
-				array('post_username',			'posts.post_username',				'phpbb_set_encoding'),
-				array('post_subject',			'posts_text.post_subject',			'phpbb_set_encoding'),
-				array('post_attachment',		((defined('MOD_ATTACHMENT')) ? 'posts.post_attachment' : 0), ''),
-				array('post_edit_time',			'posts.post_edit_time',				array('typecast' => 'int')),
-				array('post_edit_count',		'posts.post_edit_count',			''),
-				array('post_edit_reason',		'',									''),
-				array('post_edit_user',			'',									'phpbb_post_edit_user'),
-
-				array('bbcode_uid',				'posts.post_time',					'make_uid'),
-				array('post_text',				'posts_text.post_text',				'phpbb_prepare_message'),
-				array('',						'posts_text.bbcode_uid AS old_bbcode_uid',			''),
-				array('bbcode_bitfield',		'',									'get_bbcode_bitfield'),
-				array('post_checksum',			'',									''),
-
-				// Commented out inline search indexing, this takes up a LOT of time. :D
-				// @todo We either need to enable this or call the rebuild search functionality post convert
-/*				array('',						'',									'search_indexing'),
-				array('',						'posts_text.post_text AS message',	''),
-				array('',						'posts_text.post_subject AS title',	''),*/
-
-				'where'			=>	'posts.post_id = posts_text.post_id'
-			),
-
-			array(
-				'target'		=> PRIVMSGS_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-				'autoincrement'	=> 'msg_id',
-				'query_first'	=> array(
-					array('target', $convert->truncate_statement . PRIVMSGS_TABLE),
-					array('target', $convert->truncate_statement . PRIVMSGS_RULES_TABLE),
-				),
-
-				'execute_first'	=> '
-					$config["max_post_chars"] = 0;
-					$config["min_post_chars"] = 0;
-					$config["max_quote_depth"] = 0;
-				',
-
-				array('msg_id',					'privmsgs.privmsgs_id',				''),
-				array('root_level',				0,									''),
-				array('author_id',				'privmsgs.privmsgs_from_userid AS poster_id',	'phpbb_user_id'),
-				array('icon_id',				0,									''),
-				array('author_ip',				'privmsgs.privmsgs_ip',				'decode_ip'),
-				array('message_time',			'privmsgs.privmsgs_date',			''),
-				array('enable_bbcode',			'privmsgs.privmsgs_enable_bbcode AS enable_bbcode',	''),
-				array('',						'privmsgs.privmsgs_enable_html AS enable_html',	''),
-				array('enable_smilies',			'privmsgs.privmsgs_enable_smilies AS enable_smilies',	''),
-				array('enable_magic_url',		1,									''),
-				array('enable_sig',				'privmsgs.privmsgs_attach_sig',		''),
-				array('message_subject',		'privmsgs.privmsgs_subject',		'phpbb_set_encoding'), // Already specialchared in 2.0.x
-				array('message_attachment',		((defined('MOD_ATTACHMENT')) ? 'privmsgs.privmsgs_attachment' : 0), ''),
-				array('message_edit_reason',	'',									''),
-				array('message_edit_user',		0,									''),
-				array('message_edit_time',		0,									''),
-				array('message_edit_count',		0,									''),
-
-				array('bbcode_uid',				'privmsgs.privmsgs_date AS post_time',	'make_uid'),
-				array('message_text',			'privmsgs_text.privmsgs_text',			'phpbb_prepare_message'),
-				array('',						'privmsgs_text.privmsgs_bbcode_uid AS old_bbcode_uid',			''),
-				array('bbcode_bitfield',		'',										'get_bbcode_bitfield'),
-				array('to_address',				'privmsgs.privmsgs_to_userid',			'phpbb_privmsgs_to_userid'),
-				array('bcc_address',			'',										''),
-
-				'where'			=>	'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id'
-			),
-
-			array(
-				'target'		=> PRIVMSGS_FOLDER_TABLE,
-				'primary'		=> 'users.user_id',
-				'query_first'	=> array('target', $convert->truncate_statement . PRIVMSGS_FOLDER_TABLE),
-
-				array('user_id',				'users.user_id',						'phpbb_user_id'),
-				array('folder_name',			$user->lang['CONV_SAVED_MESSAGES'],		''),
-				array('pm_count',				0,										''),
-
-				'where'			=> 'users.user_id <> -1',
-			),
-
-			// Inbox
-			array(
-				'target'		=> PRIVMSGS_TO_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-				'query_first'	=> array('target', $convert->truncate_statement . PRIVMSGS_TO_TABLE),
-
-				array('msg_id',					'privmsgs.privmsgs_id',					''),
-				array('user_id',				'privmsgs.privmsgs_to_userid',			'phpbb_user_id'),
-				array('author_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('pm_deleted',				0,										''),
-				array('pm_new',					'privmsgs.privmsgs_type',				'phpbb_new_pm'),
-				array('pm_unread',				'privmsgs.privmsgs_type',				'phpbb_unread_pm'),
-				array('pm_replied',				0,										''),
-				array('pm_marked',				0,										''),
-				array('pm_forwarded',			0,										''),
-				array('folder_id',				PRIVMSGS_INBOX,							''),
-
-				'where'			=> 'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id
-										AND (privmsgs.privmsgs_type = 0 OR privmsgs.privmsgs_type = 1 OR privmsgs.privmsgs_type = 5)',
-			),
-
-			// Outbox
-			array(
-				'target'		=> PRIVMSGS_TO_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-
-				array('msg_id',					'privmsgs.privmsgs_id',					''),
-				array('user_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('author_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('pm_deleted',				0,										''),
-				array('pm_new',					0,										''),
-				array('pm_unread',				0,										''),
-				array('pm_replied',				0,										''),
-				array('pm_marked',				0,										''),
-				array('pm_forwarded',			0,										''),
-				array('folder_id',				PRIVMSGS_OUTBOX,						''),
-
-				'where'			=> 'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id
-										AND (privmsgs.privmsgs_type = 1 OR privmsgs.privmsgs_type = 5)',
-			),
-
-			// Sentbox
-			array(
-				'target'		=> PRIVMSGS_TO_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-
-				array('msg_id',					'privmsgs.privmsgs_id',					''),
-				array('user_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('author_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('pm_deleted',				0,										''),
-				array('pm_new',					'privmsgs.privmsgs_type',				'phpbb_new_pm'),
-				array('pm_unread',				'privmsgs.privmsgs_type',				'phpbb_unread_pm'),
-				array('pm_replied',				0,										''),
-				array('pm_marked',				0,										''),
-				array('pm_forwarded',			0,										''),
-				array('folder_id',				PRIVMSGS_SENTBOX,						''),
-
-				'where'			=> 'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id
-										AND privmsgs.privmsgs_type = 2',
-			),
-
-			// Savebox (SAVED IN)
-			array(
-				'target'		=> PRIVMSGS_TO_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-
-				array('msg_id',					'privmsgs.privmsgs_id',					''),
-				array('user_id',				'privmsgs.privmsgs_to_userid',			'phpbb_user_id'),
-				array('author_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('pm_deleted',				0,										''),
-				array('pm_new',					'privmsgs.privmsgs_type',				'phpbb_new_pm'),
-				array('pm_unread',				'privmsgs.privmsgs_type',				'phpbb_unread_pm'),
-				array('pm_replied',				0,										''),
-				array('pm_marked',				0,										''),
-				array('pm_forwarded',			0,										''),
-				array('folder_id',				'privmsgs.privmsgs_to_userid',			'phpbb_get_savebox_id'),
-
-				'where'			=> 'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id
-										AND privmsgs.privmsgs_type = 3',
-			),
-
-			// Savebox (SAVED OUT)
-			array(
-				'target'		=> PRIVMSGS_TO_TABLE,
-				'primary'		=> 'privmsgs.privmsgs_id',
-
-				array('msg_id',					'privmsgs.privmsgs_id',					''),
-				array('user_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('author_id',				'privmsgs.privmsgs_from_userid',		'phpbb_user_id'),
-				array('pm_deleted',				0,										''),
-				array('pm_new',					'privmsgs.privmsgs_type',				'phpbb_new_pm'),
-				array('pm_unread',				'privmsgs.privmsgs_type',				'phpbb_unread_pm'),
-				array('pm_replied',				0,										''),
-				array('pm_marked',				0,										''),
-				array('pm_forwarded',			0,										''),
-				array('folder_id',				'privmsgs.privmsgs_from_userid',		'phpbb_get_savebox_id'),
-
-				'where'			=> 'privmsgs.privmsgs_id = privmsgs_text.privmsgs_text_id
-										AND privmsgs.privmsgs_type = 4',
-			),
-
-			array(
-				'target'		=> GROUPS_TABLE,
-				'autoincrement'	=> 'group_id',
-				'query_first'	=> array('target', $convert->truncate_statement . GROUPS_TABLE),
-
-				array('group_id',				'groups.group_id',					''),
-				array('group_type',				'groups.group_type',				'phpbb_convert_group_type'),
-				array('group_display',			0,									''),
-				array('group_legend',			0,									''),
-				array('group_name',				'groups.group_name',				'phpbb_convert_group_name'), // phpbb_set_encoding called in phpbb_convert_group_name
-				array('group_desc',				'groups.group_description',			'phpbb_set_encoding'),
-
-				'where'			=> 'groups.group_single_user = 0',
-			),
-
-			array(
-				'target'		=> USER_GROUP_TABLE,
-				'query_first'	=> array('target', $convert->truncate_statement . USER_GROUP_TABLE),
-				'execute_first'	=> '
-					add_default_groups();
-				',
-
-				array('group_id',		'groups.group_id',					''),
-				array('user_id',		'groups.group_moderator',			'phpbb_user_id'),
-				array('group_leader',	1,									''),
-				array('user_pending',	0,									''),
-
-				'where'			=> 'groups.group_single_user = 0 AND groups.group_moderator <> 0',
-			),
-
-			array(
-				'target'		=> USER_GROUP_TABLE,
-
-				array('group_id',		'user_group.group_id',				''),
-				array('user_id',		'user_group.user_id',				'phpbb_user_id'),
-				array('group_leader',	0,									''),
-				array('user_pending',	'user_group.user_pending',			''),
-
-				'where'			=> 'user_group.group_id = groups.group_id AND groups.group_single_user = 0 AND groups.group_moderator <> user_group.user_id',
-			),
-
-			array(
-				'target'		=> USERS_TABLE,
-				'primary'		=> 'users.user_id',
-				'autoincrement'	=> 'user_id',
-				'query_first'	=> array(
-					array('target', 'DELETE FROM ' . USERS_TABLE . ' WHERE user_id <> ' . ANONYMOUS),
-					array('target', $convert->truncate_statement . BOTS_TABLE)
-				),
-
-				'execute_last'	=> '
-					remove_invalid_users();
-				',
-
-				array('user_id',				'users.user_id',					'phpbb_user_id'),
-				array('',						'users.user_id AS poster_id',		'phpbb_user_id'),
-				array('user_type',				'users.user_active',				'set_user_type'),
-				array('group_id',				'users.user_level',					'phpbb_set_primary_group'),
-				array('user_regdate',			'users.user_regdate',				''),
-				array('username',				'users.username',					'phpbb_set_default_encoding'), // recode to utf8 with default lang
-				array('username_clean',			'users.username',					array('function1' => 'phpbb_set_default_encoding', 'function2' => 'utf8_clean_string')),
-				array('user_password',			'users.user_password',				'phpbb_hash'),
-				array('user_pass_convert',		1,									''),
-				array('user_posts',				'users.user_posts',					'intval'),
-				array('user_email',				'users.user_email',					'strtolower'),
-				array('user_email_hash',		'users.user_email',					'gen_email_hash'),
-				array('user_birthday',			((defined('MOD_BIRTHDAY')) ? 'users.user_birthday' : ''),	'phpbb_get_birthday'),
-				array('user_lastvisit',			'users.user_lastvisit',				'intval'),
-				array('user_lastmark',			'users.user_lastvisit',				'intval'),
-				array('user_lang',				$config['default_lang'],			''),
-				array('',						'users.user_lang',					''),
-				array('user_timezone',			'users.user_timezone',				'floatval'),
-				array('user_dateformat',		'users.user_dateformat',			array('function1' => 'phpbb_set_encoding', 'function2' => 'fill_dateformat')),
-				array('user_inactive_reason',	'',									'phpbb_inactive_reason'),
-				array('user_inactive_time',		'',									'phpbb_inactive_time'),
-
-				array('user_interests',			'users.user_interests',				array('function1' => 'phpbb_set_encoding')),
-				array('user_occ',				'users.user_occ',					array('function1' => 'phpbb_set_encoding')),
-				array('user_website',			'users.user_website',				'validate_website'),
-				array('user_jabber',			'',									''),
-				array('user_msnm',				'users.user_msnm',					array('function1' => 'phpbb_set_encoding')),
-				array('user_yim',				'users.user_yim',					array('function1' => 'phpbb_set_encoding')),
-				array('user_aim',				'users.user_aim',					array('function1' => 'phpbb_set_encoding')),
-				array('user_icq',				'users.user_icq',					array('function1' => 'phpbb_set_encoding')),
-				array('user_from',				'users.user_from',					array('function1' => 'phpbb_set_encoding')),
-				array('user_rank',				'users.user_rank',					'intval'),
-				array('user_permissions',		'',									''),
-
-				array('user_avatar',			'users.user_avatar',				'phpbb_import_avatar'),
-				array('user_avatar_type',		'users.user_avatar_type',			'phpbb_avatar_type'),
-				array('user_avatar_width',		'users.user_avatar',				'phpbb_get_avatar_width'),
-				array('user_avatar_height',		'users.user_avatar',				'phpbb_get_avatar_height'),
-
-				array('user_new_privmsg',		'users.user_new_privmsg',			''),
-				array('user_unread_privmsg',	0,									''), //'users.user_unread_privmsg'
-				array('user_last_privmsg',		'users.user_last_privmsg',			'intval'),
-				array('user_emailtime',			'users.user_emailtime',				'null_to_zero'),
-				array('user_notify',			'users.user_notify',				'intval'),
-				array('user_notify_pm',			'users.user_notify_pm',				'intval'),
-				array('user_notify_type',		NOTIFY_EMAIL,						''),
-				array('user_allow_pm',			'users.user_allow_pm',				'intval'),
-				array('user_allow_viewonline',	'users.user_allow_viewonline',		'intval'),
-				array('user_allow_viewemail',	'users.user_viewemail',				'intval'),
-				array('user_actkey',			'users.user_actkey',				''),
-				array('user_newpasswd',			'',									''), // Users need to re-request their password...
-				array('user_style',				$config['default_style'],			''),
-
-				array('user_options',			'',									'set_user_options'),
-				array('',						'users.user_popup_pm AS popuppm',	''),
-				array('',						'users.user_allowhtml AS html',		''),
-				array('',						'users.user_allowbbcode AS bbcode',	''),
-				array('',						'users.user_allowsmile AS smile',	''),
-				array('',						'users.user_attachsig AS attachsig',''),
-
-				array('user_sig_bbcode_uid',		'users.user_regdate',							'make_uid'),
-				array('user_sig',					'users.user_sig',								'phpbb_prepare_message'),
-				array('',							'users.user_sig_bbcode_uid AS old_bbcode_uid',	''),
-				array('user_sig_bbcode_bitfield',	'',												'get_bbcode_bitfield'),
-				array('',							'users.user_regdate AS post_time',				''),
-
-				'where'			=> 'users.user_id <> -1',
-			),
-		),
-	);
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/convertors/functions_phpbb20.php phpBB3/install/convertors/functions_phpbb20.php
--- phpBB3-init/install/convertors/functions_phpbb20.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/convertors/functions_phpbb20.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,1870 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2006 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-if (!defined('IN_PHPBB'))
-{
-	exit;
-}
-
-/**
-* Helper functions for phpBB 2.0.x to phpBB 3.0.x conversion
-*/
-
-/**
-* Set forum flags - only prune old polls by default
-*/
-function phpbb_forum_flags()
-{
-	// Set forum flags
-	$forum_flags = 0;
-
-	// FORUM_FLAG_LINK_TRACK
-	$forum_flags += 0;
-
-	// FORUM_FLAG_PRUNE_POLL
-	$forum_flags += FORUM_FLAG_PRUNE_POLL;
-
-	// FORUM_FLAG_PRUNE_ANNOUNCE
-	$forum_flags += 0;
-
-	// FORUM_FLAG_PRUNE_STICKY
-	$forum_flags += 0;
-
-	// FORUM_FLAG_ACTIVE_TOPICS
-	$forum_flags += 0;
-
-	// FORUM_FLAG_POST_REVIEW
-	$forum_flags += FORUM_FLAG_POST_REVIEW;
-
-	return $forum_flags;
-}
-
-/**
-* Insert/Convert forums
-*/
-function phpbb_insert_forums()
-{
-	global $db, $src_db, $same_db, $convert, $user, $config;
-
-	$db->sql_query($convert->truncate_statement . FORUMS_TABLE);
-
-	// Determine the highest id used within the old forums table (we add the categories after the forum ids)
-	$sql = 'SELECT MAX(forum_id) AS max_forum_id
-		FROM ' . $convert->src_table_prefix . 'forums';
-	$result = $src_db->sql_query($sql);
-	$max_forum_id = (int) $src_db->sql_fetchfield('max_forum_id');
-	$src_db->sql_freeresult($result);
-
-	$max_forum_id++;
-
-	// pruning disabled globally?
-	$sql = "SELECT config_value
-		FROM {$convert->src_table_prefix}config
-		WHERE config_name = 'prune_enable'";
-	$result = $src_db->sql_query($sql);
-	$prune_enabled = (int) $src_db->sql_fetchfield('config_value');
-	$src_db->sql_freeresult($result);
-
-
-	// Insert categories
-	$sql = 'SELECT cat_id, cat_title
-		FROM ' . $convert->src_table_prefix . 'categories
-		ORDER BY cat_order';
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'binary'");
-	}
-
-	$result = $src_db->sql_query($sql);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'utf8'");
-	}
-
-	switch ($db->sql_layer)
-	{
-		case 'mssql':
-		case 'mssql_odbc':
-		case 'mssqlnative':
-			$db->sql_query('SET IDENTITY_INSERT ' . FORUMS_TABLE . ' ON');
-		break;
-	}
-
-	$cats_added = array();
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		$sql_ary = array(
-			'forum_id'		=> (int) $max_forum_id,
-			'forum_name'	=> ($row['cat_title']) ? htmlspecialchars(phpbb_set_default_encoding($row['cat_title']), ENT_COMPAT, 'UTF-8') : $user->lang['CATEGORY'],
-			'parent_id'		=> 0,
-			'forum_parents'	=> '',
-			'forum_desc'	=> '',
-			'forum_type'	=> FORUM_CAT,
-			'forum_status'	=> ITEM_UNLOCKED,
-			'forum_rules'	=> '',
-		);
-
-		$sql = 'SELECT MAX(right_id) AS right_id
-			FROM ' . FORUMS_TABLE;
-		$_result = $db->sql_query($sql);
-		$cat_row = $db->sql_fetchrow($_result);
-		$db->sql_freeresult($_result);
-
-		$sql_ary['left_id'] = (int) ($cat_row['right_id'] + 1);
-		$sql_ary['right_id'] = (int) ($cat_row['right_id'] + 2);
-
-		$sql = 'INSERT INTO ' . FORUMS_TABLE . ' ' . $db->sql_build_array('INSERT', $sql_ary);
-		$db->sql_query($sql);
-
-		$cats_added[$row['cat_id']] = $max_forum_id;
-		$max_forum_id++;
-	}
-	$src_db->sql_freeresult($result);
-
-	// There may be installations having forums with non-existant category ids.
-	// We try to catch them and add them to an "unknown" category instead of leaving them out.
-	$sql = 'SELECT cat_id
-		FROM ' . $convert->src_table_prefix . 'forums
-		GROUP BY cat_id';
-	$result = $src_db->sql_query($sql);
-
-	$unknown_cat_id = false;
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		// Catch those categories not been added before
-		if (!isset($cats_added[$row['cat_id']]))
-		{
-			$unknown_cat_id = true;
-		}
-	}
-	$src_db->sql_freeresult($result);
-
-	// Is there at least one category not known?
-	if ($unknown_cat_id === true)
-	{
-		$unknown_cat_id = 'ghost';
-
-		$sql_ary = array(
-			'forum_id'		=> (int) $max_forum_id,
-			'forum_name'	=> (string) $user->lang['CATEGORY'],
-			'parent_id'		=> 0,
-			'forum_parents'	=> '',
-			'forum_desc'	=> '',
-			'forum_type'	=> FORUM_CAT,
-			'forum_status'	=> ITEM_UNLOCKED,
-			'forum_rules'	=> '',
-		);
-
-		$sql = 'SELECT MAX(right_id) AS right_id
-			FROM ' . FORUMS_TABLE;
-		$_result = $db->sql_query($sql);
-		$cat_row = $db->sql_fetchrow($_result);
-		$db->sql_freeresult($_result);
-
-		$sql_ary['left_id'] = (int) ($cat_row['right_id'] + 1);
-		$sql_ary['right_id'] = (int) ($cat_row['right_id'] + 2);
-
-		$sql = 'INSERT INTO ' . FORUMS_TABLE . ' ' . $db->sql_build_array('INSERT', $sql_ary);
-		$db->sql_query($sql);
-
-		$cats_added[$unknown_cat_id] = $max_forum_id;
-		$max_forum_id++;
-	}
-
-	// Now insert the forums
-	$sql = 'SELECT f.forum_id, f.forum_name, f.cat_id, f.forum_desc, f.forum_status, f.prune_enable, f.prune_next, fp.prune_days, fp.prune_freq FROM ' . $convert->src_table_prefix . 'forums f
-		LEFT JOIN ' . $convert->src_table_prefix . 'forum_prune fp ON f.forum_id = fp.forum_id
-		GROUP BY f.forum_id, f.forum_name, f.cat_id, f.forum_desc, f.forum_status, f.prune_enable, f.prune_next, f.forum_order, fp.prune_days, fp.prune_freq
-		ORDER BY f.cat_id, f.forum_order';
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'binary'");
-	}
-
-	$result = $src_db->sql_query($sql);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'utf8'");
-	}
-
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		// Some might have forums here with an id not being "possible"...
-		// To be somewhat friendly we "change" the category id for those to a previously created ghost category
-		if (!isset($cats_added[$row['cat_id']]) && $unknown_cat_id !== false)
-		{
-			$row['cat_id'] = $unknown_cat_id;
-		}
-
-		if (!isset($cats_added[$row['cat_id']]))
-		{
-			continue;
-		}
-
-		// Define the new forums sql ary
-		$sql_ary = array(
-			'forum_id'			=> (int) $row['forum_id'],
-			'forum_name'		=> htmlspecialchars(phpbb_set_default_encoding($row['forum_name']), ENT_COMPAT, 'UTF-8'),
-			'parent_id'			=> (int) $cats_added[$row['cat_id']],
-			'forum_parents'		=> '',
-			'forum_desc'		=> htmlspecialchars(phpbb_set_default_encoding($row['forum_desc']), ENT_COMPAT, 'UTF-8'),
-			'forum_type'		=> FORUM_POST,
-			'forum_status'		=> is_item_locked($row['forum_status']),
-			'enable_prune'		=> ($prune_enabled) ? (int)$row['prune_enable'] : 0,
-			'prune_next'		=> (int) null_to_zero($row['prune_next']),
-			'prune_days'		=> (int) null_to_zero($row['prune_days']),
-			'prune_viewed'		=> 0,
-			'prune_freq'		=> (int) null_to_zero($row['prune_freq']),
-
-			'forum_flags'		=> phpbb_forum_flags(),
-			'forum_options'		=> 0,
-
-			// Default values
-			'forum_desc_bitfield'		=> '',
-			'forum_desc_options'		=> 7,
-			'forum_desc_uid'			=> '',
-			'forum_link'				=> '',
-			'forum_password'			=> '',
-			'forum_style'				=> 0,
-			'forum_image'				=> '',
-			'forum_rules'				=> '',
-			'forum_rules_link'			=> '',
-			'forum_rules_bitfield'		=> '',
-			'forum_rules_options'		=> 7,
-			'forum_rules_uid'			=> '',
-			'forum_topics_per_page'		=> 0,
-			'forum_posts'				=> 0,
-			'forum_topics'				=> 0,
-			'forum_topics_real'			=> 0,
-			'forum_last_post_id'		=> 0,
-			'forum_last_poster_id'		=> 0,
-			'forum_last_post_subject'	=> '',
-			'forum_last_post_time'		=> 0,
-			'forum_last_poster_name'	=> '',
-			'forum_last_poster_colour'	=> '',
-			'display_on_index'			=> 1,
-			'enable_indexing'			=> 1,
-			'enable_icons'				=> 0,
-		);
-
-		// Now add the forums with proper left/right ids
-		$sql = 'SELECT left_id, right_id
-			FROM ' . FORUMS_TABLE . '
-			WHERE forum_id = ' . $cats_added[$row['cat_id']];
-		$_result = $db->sql_query($sql);
-		$cat_row = $db->sql_fetchrow($_result);
-		$db->sql_freeresult($_result);
-
-		$sql = 'UPDATE ' . FORUMS_TABLE . '
-			SET left_id = left_id + 2, right_id = right_id + 2
-			WHERE left_id > ' . $cat_row['right_id'];
-		$db->sql_query($sql);
-
-		$sql = 'UPDATE ' . FORUMS_TABLE . '
-			SET right_id = right_id + 2
-			WHERE ' . $cat_row['left_id'] . ' BETWEEN left_id AND right_id';
-		$db->sql_query($sql);
-
-		$sql_ary['left_id'] = (int) $cat_row['right_id'];
-		$sql_ary['right_id'] = (int) ($cat_row['right_id'] + 1);
-
-		$sql = 'INSERT INTO ' . FORUMS_TABLE . ' ' . $db->sql_build_array('INSERT', $sql_ary);
-		$db->sql_query($sql);
-	}
-	$src_db->sql_freeresult($result);
-
-	switch ($db->sql_layer)
-	{
-		case 'postgres':
-			$db->sql_query("SELECT SETVAL('" . FORUMS_TABLE . "_seq',(select case when max(forum_id)>0 then max(forum_id)+1 else 1 end from " . FORUMS_TABLE . '));');
-		break;
-
-		case 'mssql':
-		case 'mssql_odbc':
-		case 'mssqlnative':
-			$db->sql_query('SET IDENTITY_INSERT ' . FORUMS_TABLE . ' OFF');
-		break;
-
-		case 'oracle':
-			$result = $db->sql_query('SELECT MAX(forum_id) as max_id FROM ' . FORUMS_TABLE);
-			$row = $db->sql_fetchrow($result);
-			$db->sql_freeresult($result);
-
-			$largest_id = (int) $row['max_id'];
-
-			if ($largest_id)
-			{
-				$db->sql_query('DROP SEQUENCE ' . FORUMS_TABLE . '_seq');
-				$db->sql_query('CREATE SEQUENCE ' . FORUMS_TABLE . '_seq START WITH ' . ($largest_id + 1));
-			}
-		break;
-	}
-}
-
-/**
-* Function for recoding text with the default language
-*
-* @param string $text text to recode to utf8
-* @param bool $grab_user_lang if set to true the function tries to use $convert_row['user_lang'] (and falls back to $convert_row['poster_id']) instead of the boards default language
-*/
-function phpbb_set_encoding($text, $grab_user_lang = true)
-{
-	global $lang_enc_array, $convert_row;
-	global $convert, $phpEx;
-
-	/*static $lang_enc_array = array(
-		'korean'						=> 'euc-kr',
-		'serbian'						=> 'windows-1250',
-		'polish'						=> 'iso-8859-2',
-		'kurdish'						=> 'windows-1254',
-		'slovak'						=> 'Windows-1250',
-		'russian'						=> 'windows-1251',
-		'estonian'						=> 'iso-8859-4',
-		'chinese_simplified'			=> 'gb2312',
-		'macedonian'					=> 'windows-1251',
-		'azerbaijani'					=> 'UTF-8',
-		'romanian'						=> 'iso-8859-2',
-		'romanian_diacritice'			=> 'iso-8859-2',
-		'lithuanian'					=> 'windows-1257',
-		'turkish'						=> 'iso-8859-9',
-		'ukrainian'						=> 'windows-1251',
-		'japanese'						=> 'shift_jis',
-		'hungarian'						=> 'ISO-8859-2',
-		'romanian_no_diacritics'		=> 'iso-8859-2',
-		'mongolian'						=> 'UTF-8',
-		'slovenian'						=> 'windows-1250',
-		'bosnian'						=> 'windows-1250',
-		'czech'							=> 'Windows-1250',
-		'farsi'							=> 'Windows-1256',
-		'croatian'						=> 'windows-1250',
-		'greek'							=> 'iso-8859-7',
-		'russian_tu'					=> 'windows-1251',
-		'sakha'							=> 'UTF-8',
-		'serbian_cyrillic'				=> 'windows-1251',
-		'bulgarian'						=> 'windows-1251',
-		'chinese_traditional_taiwan'	=> 'big5',
-		'chinese_traditional'			=> 'big5',
-		'arabic'						=> 'windows-1256',
-		'hebrew'						=> 'WINDOWS-1255',
-		'thai'							=> 'windows-874',
-		//'chinese_traditional_taiwan'	=> 'utf-8' // custom modified, we may have to do an include :-(
-	);*/
-
-	if (empty($lang_enc_array))
-	{
-		$lang_enc_array = array();
-	}
-
-	$get_lang = trim(get_config_value('default_lang'));
-
-	// Do we need the users language encoding?
-	if ($grab_user_lang && !empty($convert_row))
-	{
-		if (!empty($convert_row['user_lang']))
-		{
-			$get_lang = trim($convert_row['user_lang']);
-		}
-		else if (!empty($convert_row['poster_id']))
-		{
-			global $src_db, $same_db;
-
-			if ($convert->mysql_convert && $same_db)
-			{
-				$src_db->sql_query("SET NAMES 'binary'");
-			}
-
-			$sql = 'SELECT user_lang
-				FROM ' . $convert->src_table_prefix . 'users
-				WHERE user_id = ' . (int) $convert_row['poster_id'];
-			$result = $src_db->sql_query($sql);
-			$get_lang = (string) $src_db->sql_fetchfield('user_lang');
-			$src_db->sql_freeresult($result);
-
-			if ($convert->mysql_convert && $same_db)
-			{
-				$src_db->sql_query("SET NAMES 'utf8'");
-			}
-
-			$get_lang = (!trim($get_lang)) ? trim(get_config_value('default_lang')) : trim($get_lang);
-		}
-	}
-
-	if (!isset($lang_enc_array[$get_lang]))
-	{
-		$filename = $convert->options['forum_path'] . '/language/lang_' . $get_lang . '/lang_main.' . $phpEx;
-
-		if (!file_exists($filename))
-		{
-			$get_lang = trim(get_config_value('default_lang'));
-		}
-
-		if (!isset($lang_enc_array[$get_lang]))
-		{
-			include($convert->options['forum_path'] . '/language/lang_' . $get_lang . '/lang_main.' . $phpEx);
-			$lang_enc_array[$get_lang] = $lang['ENCODING'];
-			unset($lang);
-		}
-	}
-
-	$encoding = $lang_enc_array[$get_lang];
-
-	return utf8_recode($text, $lang_enc_array[$get_lang]);
-}
-
-/**
-* Same as phpbb_set_encoding, but forcing boards default language
-*/
-function phpbb_set_default_encoding($text)
-{
-	return phpbb_set_encoding($text, false);
-}
-
-/**
-* Convert Birthday from Birthday MOD to phpBB Format
-*/
-function phpbb_get_birthday($birthday = '')
-{
-	if (defined('MOD_BIRTHDAY_TERRA'))
-	{
-		$birthday = (string) $birthday;
-
-		// stored as month, day, year
-		if (!$birthday)
-		{
-			return ' 0- 0-   0';
-		}
-
-		// We use the original mod code to retrieve the birthday (not ideal)
-		preg_match('/(..)(..)(....)/', sprintf('%08d', $birthday), $birthday_parts);
-
-		$month = $birthday_parts[1];
-		$day = $birthday_parts[2];
-		$year =  $birthday_parts[3];
-
-		return sprintf('%2d-%2d-%4d', $day, $month, $year);
-	}
-	else
-	{
-		$birthday = (int) $birthday;
-
-		if (!$birthday || $birthday == 999999 || ((version_compare(PHP_VERSION, '5.1.0') < 0) && $birthday < 0))
-		{
-			return ' 0- 0-   0';
-		}
-
-		// The birthday mod from niels is using this code to transform to day/month/year
-		return sprintf('%2d-%2d-%4d', gmdate('j', $birthday * 86400 + 1), gmdate('n', $birthday * 86400 + 1), gmdate('Y', $birthday * 86400 + 1));
-	}
-}
-
-/**
-* Return correct user id value
-* Everyone's id will be one higher to allow the guest/anonymous user to have a positive id as well
-*/
-function phpbb_user_id($user_id)
-{
-	global $config;
-
-	// Increment user id if the old forum is having a user with the id 1
-	if (!isset($config['increment_user_id']))
-	{
-		global $src_db, $same_db, $convert;
-
-		if ($convert->mysql_convert && $same_db)
-		{
-			$src_db->sql_query("SET NAMES 'binary'");
-		}
-
-		// Now let us set a temporary config variable for user id incrementing
-		$sql = "SELECT user_id
-			FROM {$convert->src_table_prefix}users
-			WHERE user_id = 1";
-		$result = $src_db->sql_query($sql);
-		$id = (int) $src_db->sql_fetchfield('user_id');
-		$src_db->sql_freeresult($result);
-
-		// Try to get the maximum user id possible...
-		$sql = "SELECT MAX(user_id) AS max_user_id
-			FROM {$convert->src_table_prefix}users";
-		$result = $src_db->sql_query($sql);
-		$max_id = (int) $src_db->sql_fetchfield('max_user_id');
-		$src_db->sql_freeresult($result);
-
-		if ($convert->mysql_convert && $same_db)
-		{
-			$src_db->sql_query("SET NAMES 'utf8'");
-		}
-
-		// If there is a user id 1, we need to increment user ids. :/
-		if ($id === 1)
-		{
-			set_config('increment_user_id', ($max_id + 1), true);
-			$config['increment_user_id'] = $max_id + 1;
-		}
-		else
-		{
-			set_config('increment_user_id', 0, true);
-			$config['increment_user_id'] = 0;
-		}
-	}
-
-	// If the old user id is -1 in 2.0.x it is the anonymous user...
-	if ($user_id == -1)
-	{
-		return ANONYMOUS;
-	}
-
-	if (!empty($config['increment_user_id']) && $user_id == 1)
-	{
-		return $config['increment_user_id'];
-	}
-
-	// A user id of 0 can happen, for example within the ban table if no user is banned...
-	// Within the posts and topics table this can be "dangerous" but is the fault of the user
-	// having mods installed (a poster id of 0 is not possible in 2.0.x).
-	// Therefore, we return the user id "as is".
-
-	return (int) $user_id;
-}
-
-/* Copy additional table fields from old forum to new forum if user wants this (for Mod compatibility for example)
-function phpbb_copy_table_fields()
-{
-}
-*/
-
-/**
-* Convert authentication
-* user, group and forum table has to be filled in order to work
-*/
-function phpbb_convert_authentication($mode)
-{
-	global $db, $src_db, $same_db, $convert, $user, $config, $cache;
-
-	if ($mode == 'start')
-	{
-		$db->sql_query($convert->truncate_statement . ACL_USERS_TABLE);
-		$db->sql_query($convert->truncate_statement . ACL_GROUPS_TABLE);
-
-		// What we will do is handling all 2.0.x admins as founder to replicate what is common in 2.0.x.
-		// After conversion the main admin need to make sure he is removing permissions and the founder status if wanted.
-
-
-		// Grab user ids of users with user_level of ADMIN
-		$sql = "SELECT user_id
-			FROM {$convert->src_table_prefix}users
-			WHERE user_level = 1
-			ORDER BY user_regdate ASC";
-		$result = $src_db->sql_query($sql);
-
-		while ($row = $src_db->sql_fetchrow($result))
-		{
-			$user_id = (int) phpbb_user_id($row['user_id']);
-			// Set founder admin...
-			$sql = 'UPDATE ' . USERS_TABLE . '
-				SET user_type = ' . USER_FOUNDER . "
-				WHERE user_id = $user_id";
-			$db->sql_query($sql);
-		}
-		$src_db->sql_freeresult($result);
-
-		$sql = 'SELECT group_id
-			FROM ' . GROUPS_TABLE . "
-			WHERE group_name = '" . $db->sql_escape('BOTS') . "'";
-		$result = $db->sql_query($sql);
-		$bot_group_id = (int) $db->sql_fetchfield('group_id');
-		$db->sql_freeresult($result);
-	}
-
-	// Grab forum auth information
-	$sql = "SELECT *
-		FROM {$convert->src_table_prefix}forums";
-	$result = $src_db->sql_query($sql);
-
-	$forum_access = array();
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		$forum_access[$row['forum_id']] = $row;
-	}
-	$src_db->sql_freeresult($result);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'binary'");
-	}
-	// Grab user auth information from 2.0.x board
-	$sql = "SELECT ug.user_id, aa.*
-		FROM {$convert->src_table_prefix}auth_access aa, {$convert->src_table_prefix}user_group ug, {$convert->src_table_prefix}groups g, {$convert->src_table_prefix}forums f
-		WHERE g.group_id = aa.group_id
-			AND g.group_single_user = 1
-			AND ug.group_id = g.group_id
-			AND f.forum_id = aa.forum_id";
-	$result = $src_db->sql_query($sql);
-
-	$user_access = array();
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		$user_access[$row['forum_id']][] = $row;
-	}
-	$src_db->sql_freeresult($result);
-
-	// Grab group auth information
-	$sql = "SELECT g.group_id, aa.*
-		FROM {$convert->src_table_prefix}auth_access aa, {$convert->src_table_prefix}groups g
-		WHERE g.group_id = aa.group_id
-			AND g.group_single_user <> 1";
-	$result = $src_db->sql_query($sql);
-
-	$group_access = array();
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		$group_access[$row['forum_id']][] = $row;
-	}
-	$src_db->sql_freeresult($result);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'utf8'");
-	}
-
-	// Add Forum Access List
-	$auth_map = array(
-		'auth_view'			=> array('f_', 'f_list'),
-		'auth_read'			=> array('f_read', 'f_search'),
-		'auth_post'			=> array('f_post', 'f_bbcode', 'f_smilies', 'f_img', 'f_sigs', 'f_postcount', 'f_report', 'f_subscribe', 'f_print', 'f_email'),
-		'auth_reply'		=> 'f_reply',
-		'auth_edit'			=> 'f_edit',
-		'auth_delete'		=> 'f_delete',
-		'auth_pollcreate'	=> 'f_poll',
-		'auth_vote'			=> 'f_vote',
-		'auth_announce'		=> 'f_announce',
-		'auth_sticky'		=> 'f_sticky',
-		'auth_attachments'	=> array('f_attach', 'f_download'),
-		'auth_download'		=> 'f_download',
-	);
-
-	// Define the ACL constants used in 2.0 to make the code slightly more readable
-	define('AUTH_ALL', 0);
-	define('AUTH_REG', 1);
-	define('AUTH_ACL', 2);
-	define('AUTH_MOD', 3);
-	define('AUTH_ADMIN', 5);
-
-	// A mapping of the simple permissions used by 2.0
-	$simple_auth_ary = array(
-		'public'			=> array(
-			'auth_view'			=> AUTH_ALL,
-			'auth_read'			=> AUTH_ALL,
-			'auth_post'			=> AUTH_ALL,
-			'auth_reply'		=> AUTH_ALL,
-			'auth_edit'			=> AUTH_REG,
-			'auth_delete'		=> AUTH_REG,
-			'auth_sticky'		=> AUTH_MOD,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_REG,
-			'auth_pollcreate'	=> AUTH_REG,
-		),
-		'registered'		=> array(
-			'auth_view'			=> AUTH_ALL,
-			'auth_read'			=> AUTH_ALL,
-			'auth_post'			=> AUTH_REG,
-			'auth_reply'		=> AUTH_REG,
-			'auth_edit'			=> AUTH_REG,
-			'auth_delete'		=> AUTH_REG,
-			'auth_sticky'		=> AUTH_MOD,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_REG,
-			'auth_pollcreate'	=> AUTH_REG,
-		),
-		'registered_hidden'	=> array(
-			'auth_view'			=> AUTH_REG,
-			'auth_read'			=> AUTH_REG,
-			'auth_post'			=> AUTH_REG,
-			'auth_reply'		=> AUTH_REG,
-			'auth_edit'			=> AUTH_REG,
-			'auth_delete'		=> AUTH_REG,
-			'auth_sticky'		=> AUTH_MOD,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_REG,
-			'auth_pollcreate'	=> AUTH_REG,
-		),
-		'private'			=> array(
-			'auth_view'			=> AUTH_ALL,
-			'auth_read'			=> AUTH_ACL,
-			'auth_post'			=> AUTH_ACL,
-			'auth_reply'		=> AUTH_ACL,
-			'auth_edit'			=> AUTH_ACL,
-			'auth_delete'		=> AUTH_ACL,
-			'auth_sticky'		=> AUTH_ACL,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_ACL,
-			'auth_pollcreate'	=> AUTH_ACL,
-		),
-		'private_hidden'	=> array(
-			'auth_view'			=> AUTH_ACL,
-			'auth_read'			=> AUTH_ACL,
-			'auth_post'			=> AUTH_ACL,
-			'auth_reply'		=> AUTH_ACL,
-			'auth_edit'			=> AUTH_ACL,
-			'auth_delete'		=> AUTH_ACL,
-			'auth_sticky'		=> AUTH_ACL,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_ACL,
-			'auth_pollcreate'	=> AUTH_ACL,
-		),
-		'moderator'			=> array(
-			'auth_view'			=> AUTH_ALL,
-			'auth_read'			=> AUTH_MOD,
-			'auth_post'			=> AUTH_MOD,
-			'auth_reply'		=> AUTH_MOD,
-			'auth_edit'			=> AUTH_MOD,
-			'auth_delete'		=> AUTH_MOD,
-			'auth_sticky'		=> AUTH_MOD,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_MOD,
-			'auth_pollcreate'	=> AUTH_MOD,
-		),
-		'moderator_hidden'	=> array(
-			'auth_view'			=> AUTH_MOD,
-			'auth_read'			=> AUTH_MOD,
-			'auth_post'			=> AUTH_MOD,
-			'auth_reply'		=> AUTH_MOD,
-			'auth_edit'			=> AUTH_MOD,
-			'auth_delete'		=> AUTH_MOD,
-			'auth_sticky'		=> AUTH_MOD,
-			'auth_announce'		=> AUTH_MOD,
-			'auth_vote'			=> AUTH_MOD,
-			'auth_pollcreate'	=> AUTH_MOD,
-		),
-	);
-
-	if ($mode == 'start')
-	{
-		user_group_auth('guests', 'SELECT user_id, {GUESTS} FROM ' . USERS_TABLE . ' WHERE user_id = ' . ANONYMOUS, false);
-		user_group_auth('registered', 'SELECT user_id, {REGISTERED} FROM ' . USERS_TABLE . ' WHERE user_id <> ' . ANONYMOUS . " AND group_id <> $bot_group_id", false);
-
-		// Selecting from old table
-		if (!empty($config['increment_user_id']))
-		{
-			$auth_sql = 'SELECT user_id, {ADMINISTRATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1 AND user_id <> 1';
-			user_group_auth('administrators', $auth_sql, true);
-
-			$auth_sql = 'SELECT ' . $config['increment_user_id'] . ' as user_id, {ADMINISTRATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1 AND user_id = 1';
-			user_group_auth('administrators', $auth_sql, true);
-		}
-		else
-		{
-			$auth_sql = 'SELECT user_id, {ADMINISTRATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1';
-			user_group_auth('administrators', $auth_sql, true);
-		}
-
-		if (!empty($config['increment_user_id']))
-		{
-			$auth_sql = 'SELECT user_id, {GLOBAL_MODERATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1 AND user_id <> 1';
-			user_group_auth('global_moderators', $auth_sql, true);
-
-			$auth_sql = 'SELECT ' . $config['increment_user_id'] . ' as user_id, {GLOBAL_MODERATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1 AND user_id = 1';
-			user_group_auth('global_moderators', $auth_sql, true);
-		}
-		else
-		{
-			$auth_sql = 'SELECT user_id, {GLOBAL_MODERATORS} FROM ' . $convert->src_table_prefix . 'users WHERE user_level = 1';
-			user_group_auth('global_moderators', $auth_sql, true);
-		}
-	}
-	else if ($mode == 'first')
-	{
-		// Go through all 2.0.x forums
-		foreach ($forum_access as $forum)
-		{
-			$new_forum_id = (int) $forum['forum_id'];
-
-			// Administrators have full access to all forums whatever happens
-			mass_auth('group_role', $new_forum_id, 'administrators', 'FORUM_FULL');
-
-			$matched_type = '';
-			foreach ($simple_auth_ary as $key => $auth_levels)
-			{
-				$matched = 1;
-				foreach ($auth_levels as $k => $level)
-				{
-					if ($forum[$k] != $auth_levels[$k])
-					{
-						$matched = 0;
-					}
-				}
-
-				if ($matched)
-				{
-					$matched_type = $key;
-					break;
-				}
-			}
-
-			switch ($matched_type)
-			{
-				case 'public':
-					mass_auth('group_role', $new_forum_id, 'guests', 'FORUM_LIMITED');
-					mass_auth('group_role', $new_forum_id, 'registered', 'FORUM_LIMITED_POLLS');
-					mass_auth('group_role', $new_forum_id, 'bots', 'FORUM_BOT');
-				break;
-
-				case 'registered':
-					mass_auth('group_role', $new_forum_id, 'guests', 'FORUM_READONLY');
-					mass_auth('group_role', $new_forum_id, 'bots', 'FORUM_BOT');
-
-				// no break;
-
-				case 'registered_hidden':
-					mass_auth('group_role', $new_forum_id, 'registered', 'FORUM_POLLS');
-				break;
-
-				case 'private':
-				case 'private_hidden':
-				case 'moderator':
-				case 'moderator_hidden':
-				default:
-					// The permissions don't match a simple set, so we're going to have to map them directly
-
-					// No post approval for all, in 2.0.x this feature does not exist
-					mass_auth('group', $new_forum_id, 'guests', 'f_noapprove', ACL_YES);
-					mass_auth('group', $new_forum_id, 'registered', 'f_noapprove', ACL_YES);
-
-					// Go through authentication map
-					foreach ($auth_map as $old_auth_key => $new_acl)
-					{
-						// If old authentication key does not exist we continue
-						// This is helpful for mods adding additional authentication fields, we need to add them to the auth_map array
-						if (!isset($forum[$old_auth_key]))
-						{
-							continue;
-						}
-
-						// Now set the new ACL correctly
-						switch ($forum[$old_auth_key])
-						{
-							// AUTH_ALL
-							case AUTH_ALL:
-								mass_auth('group', $new_forum_id, 'guests', $new_acl, ACL_YES);
-								mass_auth('group', $new_forum_id, 'bots', $new_acl, ACL_YES);
-								mass_auth('group', $new_forum_id, 'registered', $new_acl, ACL_YES);
-							break;
-
-							// AUTH_REG
-							case AUTH_REG:
-								mass_auth('group', $new_forum_id, 'registered', $new_acl, ACL_YES);
-							break;
-
-							// AUTH_ACL
-							case AUTH_ACL:
-								// Go through the old group access list for this forum
-								if (isset($group_access[$forum['forum_id']]))
-								{
-									foreach ($group_access[$forum['forum_id']] as $index => $access)
-									{
-										// We only check for ACL_YES equivalence entry
-										if (isset($access[$old_auth_key]) && $access[$old_auth_key] == 1)
-										{
-											mass_auth('group', $new_forum_id, (int) $access['group_id'], $new_acl, ACL_YES);
-										}
-									}
-								}
-
-								if (isset($user_access[$forum['forum_id']]))
-								{
-									foreach ($user_access[$forum['forum_id']] as $index => $access)
-									{
-										// We only check for ACL_YES equivalence entry
-										if (isset($access[$old_auth_key]) && $access[$old_auth_key] == 1)
-										{
-											mass_auth('user', $new_forum_id, (int) phpbb_user_id($access['user_id']), $new_acl, ACL_YES);
-										}
-									}
-								}
-							break;
-
-							// AUTH_MOD
-							case AUTH_MOD:
-								if (isset($group_access[$forum['forum_id']]))
-								{
-									foreach ($group_access[$forum['forum_id']] as $index => $access)
-									{
-										// We only check for ACL_YES equivalence entry
-										if (isset($access[$old_auth_key]) && $access[$old_auth_key] == 1)
-										{
-											mass_auth('group', $new_forum_id, (int) $access['group_id'], $new_acl, ACL_YES);
-										}
-									}
-								}
-
-								if (isset($user_access[$forum['forum_id']]))
-								{
-									foreach ($user_access[$forum['forum_id']] as $index => $access)
-									{
-										// We only check for ACL_YES equivalence entry
-										if (isset($access[$old_auth_key]) && $access[$old_auth_key] == 1)
-										{
-											mass_auth('user', $new_forum_id, (int) phpbb_user_id($access['user_id']), $new_acl, ACL_YES);
-										}
-									}
-								}
-							break;
-						}
-					}
-				break;
-			}
-		}
-	}
-	else if ($mode == 'second')
-	{
-		// Assign permission roles and other default permissions
-
-		// guests having u_download and u_search ability
-		$db->sql_query('INSERT INTO ' . ACL_GROUPS_TABLE . ' (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) SELECT ' . get_group_id('guests') . ', 0, auth_option_id, 0, 1 FROM ' . ACL_OPTIONS_TABLE . " WHERE auth_option IN ('u_', 'u_download', 'u_search')");
-
-		// administrators/global mods having full user features
-		mass_auth('group_role', 0, 'administrators', 'USER_FULL');
-		mass_auth('group_role', 0, 'global_moderators', 'USER_FULL');
-
-		// By default all converted administrators are given full access
-		mass_auth('group_role', 0, 'administrators', 'ADMIN_FULL');
-
-		// All registered users are assigned the standard user role
-		mass_auth('group_role', 0, 'registered', 'USER_STANDARD');
-		mass_auth('group_role', 0, 'registered_coppa', 'USER_STANDARD');
-
-		// Instead of administrators being global moderators we give the MOD_FULL role to global mods (admins already assigned to this group)
-		mass_auth('group_role', 0, 'global_moderators', 'MOD_FULL');
-
-		// And now those who have had their avatar rights removed get assigned a more restrictive role
-		$sql = 'SELECT user_id FROM ' . $convert->src_table_prefix . 'users
-			WHERE user_allowavatar = 0
-				AND user_id > 0';
-		$result = $src_db->sql_query($sql);
-
-		while ($row = $src_db->sql_fetchrow($result))
-		{
-			mass_auth('user_role', 0, (int) phpbb_user_id($row['user_id']), 'USER_NOAVATAR');
-		}
-		$src_db->sql_freeresult($result);
-
-		// And the same for those who have had their PM rights removed
-		$sql = 'SELECT user_id FROM ' . $convert->src_table_prefix . 'users
-			WHERE user_allow_pm = 0
-				AND user_id > 0';
-		$result = $src_db->sql_query($sql);
-
-		while ($row = $src_db->sql_fetchrow($result))
-		{
-			mass_auth('user_role', 0, (int) phpbb_user_id($row['user_id']), 'USER_NOPM');
-		}
-		$src_db->sql_freeresult($result);
-	}
-	else if ($mode == 'third')
-	{
-		// And now the moderators
-		// We make sure that they have at least standard access to the forums they moderate in addition to the moderating permissions
-
-		$mod_post_map = array(
-			'auth_announce'		=> 'f_announce',
-			'auth_sticky'		=> 'f_sticky'
-		);
-
-		foreach ($user_access as $forum_id => $access_map)
-		{
-			$forum_id = (int) $forum_id;
-
-			foreach ($access_map as $access)
-			{
-				if (isset($access['auth_mod']) && $access['auth_mod'] == 1)
-				{
-					mass_auth('user_role', $forum_id, (int) phpbb_user_id($access['user_id']), 'MOD_STANDARD');
-					mass_auth('user_role', $forum_id, (int) phpbb_user_id($access['user_id']), 'FORUM_STANDARD');
-					foreach ($mod_post_map as $old => $new)
-					{
-						if (isset($forum_access[$forum_id]) && isset($forum_access[$forum_id][$old]) && $forum_access[$forum_id][$old] == AUTH_MOD)
-						{
-							mass_auth('user', $forum_id, (int) phpbb_user_id($access['user_id']), $new, ACL_YES);
-						}
-					}
-				}
-			}
-		}
-
-		foreach ($group_access as $forum_id => $access_map)
-		{
-			$forum_id = (int) $forum_id;
-
-			foreach ($access_map as $access)
-			{
-				if (isset($access['auth_mod']) && $access['auth_mod'] == 1)
-				{
-					mass_auth('group_role', $forum_id, (int) $access['group_id'], 'MOD_STANDARD');
-					mass_auth('group_role', $forum_id, (int) $access['group_id'], 'FORUM_STANDARD');
-					foreach ($mod_post_map as $old => $new)
-					{
-						if (isset($forum_access[$forum_id]) && isset($forum_access[$forum_id][$old]) && $forum_access[$forum_id][$old] == AUTH_MOD)
-						{
-							mass_auth('group', $forum_id, (int) $access['group_id'], $new, ACL_YES);
-						}
-					}
-				}
-			}
-		}
-
-		// We grant everyone readonly access to the categories to ensure that the forums are visible
-		$sql = 'SELECT forum_id, forum_name, parent_id, left_id, right_id
-			FROM ' . FORUMS_TABLE . '
-			ORDER BY left_id ASC';
-		$result = $db->sql_query($sql);
-
-		$parent_forums = $forums = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			if ($row['parent_id'] == 0)
-			{
-				mass_auth('group_role', $row['forum_id'], 'administrators', 'FORUM_FULL');
-				mass_auth('group_role', $row['forum_id'], 'global_moderators', 'FORUM_FULL');
-				$parent_forums[] = $row;
-			}
-			else
-			{
-				$forums[] = $row;
-			}
-		}
-		$db->sql_freeresult($result);
-
-		global $auth;
-
-		// Let us see which groups have access to these forums...
-		foreach ($parent_forums as $row)
-		{
-			// Get the children
-			$branch = $forum_ids = array();
-
-			foreach ($forums as $key => $_row)
-			{
-				if ($_row['left_id'] > $row['left_id'] && $_row['left_id'] < $row['right_id'])
-				{
-					$branch[] = $_row;
-					$forum_ids[] = $_row['forum_id'];
-					continue;
-				}
-			}
-
-			if (sizeof($forum_ids))
-			{
-				// Now make sure the user is able to read these forums
-				$hold_ary = $auth->acl_group_raw_data(false, 'f_list', $forum_ids);
-
-				if (empty($hold_ary))
-				{
-					continue;
-				}
-
-				foreach ($hold_ary as $g_id => $f_id_ary)
-				{
-					$set_group = false;
-
-					foreach ($f_id_ary as $f_id => $auth_ary)
-					{
-						foreach ($auth_ary as $auth_option => $setting)
-						{
-							if ($setting == ACL_YES)
-							{
-								$set_group = true;
-								break 2;
-							}
-						}
-					}
-
-					if ($set_group)
-					{
-						mass_auth('group', $row['forum_id'], $g_id, 'f_list', ACL_YES);
-					}
-				}
-			}
-		}
-	}
-}
-
-/**
-* Set primary group.
-* Really simple and only based on user_level (remaining groups will be assigned later)
-*/
-function phpbb_set_primary_group($user_level)
-{
-	global $convert_row;
-
-	if ($user_level == 1)
-	{
-		return get_group_id('administrators');
-	}
-/*	else if ($user_level == 2)
-	{
-		return get_group_id('global_moderators');
-	}
-	else if ($user_level == 0 && $convert_row['user_active'])*/
-	else if ($convert_row['user_active'])
-	{
-		return get_group_id('registered');
-	}
-
-	return 0;
-}
-
-/**
-* Convert the group name, making sure to avoid conflicts with 3.0 special groups
-*/
-function phpbb_convert_group_name($group_name)
-{
-	$default_groups = array(
-		'GUESTS',
-		'REGISTERED',
-		'REGISTERED_COPPA',
-		'GLOBAL_MODERATORS',
-		'ADMINISTRATORS',
-		'BOTS',
-	);
-
-	if (in_array(strtoupper($group_name), $default_groups))
-	{
-		return 'phpBB2 - ' . $group_name;
-	}
-
-	return phpbb_set_default_encoding($group_name);
-}
-
-/**
-* Convert the group type constants
-*/
-function phpbb_convert_group_type($group_type)
-{
-	switch ($group_type)
-	{
-		case 0:
-			return GROUP_OPEN;
-		break;
-
-		case 1:
-			return GROUP_CLOSED;
-		break;
-
-		case 2:
-			return GROUP_HIDDEN;
-		break;
-	}
-
-	// Never return GROUP_SPECIAL here, because only phpBB3's default groups are allowed to have this type set.
-	return GROUP_HIDDEN;
-}
-
-/**
-* Convert the topic type constants
-*/
-function phpbb_convert_topic_type($topic_type)
-{
-	switch ($topic_type)
-	{
-		case 0:
-			return POST_NORMAL;
-		break;
-
-		case 1:
-			return POST_STICKY;
-		break;
-
-		case 2:
-			return POST_ANNOUNCE;
-		break;
-
-		case 3:
-			return POST_GLOBAL;
-		break;
-	}
-
-	return POST_NORMAL;
-}
-
-function phpbb_replace_size($matches)
-{
-	return '[size=' . min(200, ceil(100.0 * (((double) $matches[1])/12.0))) . ':' . $matches[2] . ']';
-}
-
-/**
-* Reparse the message stripping out the bbcode_uid values and adding new ones and setting the bitfield
-* @todo What do we want to do about HTML in messages - currently it gets converted to the entities, but there may be some objections to this
-*/
-function phpbb_prepare_message($message)
-{
-	global $phpbb_root_path, $phpEx, $db, $convert, $user, $config, $cache, $convert_row, $message_parser;
-
-	if (!$message)
-	{
-		$convert->row['mp_bbcode_bitfield'] = $convert_row['mp_bbcode_bitfield'] = 0;
-		return '';
-	}
-
-	// Decode phpBB 2.0.x Message
-	if (isset($convert->row['old_bbcode_uid']) && $convert->row['old_bbcode_uid'] != '')
-	{
-		// Adjust size...
-		if (strpos($message, '[size=') !== false)
-		{
-			$message = preg_replace_callback('/\[size=(\d*):(' . $convert->row['old_bbcode_uid'] . ')\]/', 'phpbb_replace_size', $message);
-		}
-
-		$message = preg_replace('/\:(([a-z0-9]:)?)' . $convert->row['old_bbcode_uid'] . '/s', '', $message);
-	}
-
-	if (strpos($message, '[quote=') !== false)
-	{
-		$message = preg_replace('/\[quote="(.*?)"\]/s', '[quote=&quot;\1&quot;]', $message);
-		$message = preg_replace('/\[quote=\\\"(.*?)\\\"\]/s', '[quote=&quot;\1&quot;]', $message);
-
-		// let's hope that this solves more problems than it causes. Deal with escaped quotes.
-		$message = str_replace('\"', '&quot;', $message);
-		$message = str_replace('\&quot;', '&quot;', $message);
-	}
-
-	// Already the new user id ;)
-	$user_id = $convert->row['poster_id'];
-
-	$message = str_replace('<br />', "\n", $message);
-	$message = str_replace('<', '&lt;', $message);
-	$message = str_replace('>', '&gt;', $message);
-
-	// make the post UTF-8
-	$message = phpbb_set_encoding($message);
-
-	$message_parser->warn_msg = array(); // Reset the errors from the previous message
-	$message_parser->bbcode_uid = make_uid($convert->row['post_time']);
-	$message_parser->message = $message;
-	unset($message);
-
-	// Make sure options are set.
-//	$enable_html = (!isset($row['enable_html'])) ? false : $row['enable_html'];
-	$enable_bbcode = (!isset($convert->row['enable_bbcode'])) ? true : $convert->row['enable_bbcode'];
-	$enable_smilies = (!isset($convert->row['enable_smilies'])) ? true : $convert->row['enable_smilies'];
-	$enable_magic_url = (!isset($convert->row['enable_magic_url'])) ? true : $convert->row['enable_magic_url'];
-
-	// parse($allow_bbcode, $allow_magic_url, $allow_smilies, $allow_img_bbcode = true, $allow_flash_bbcode = true, $allow_quote_bbcode = true, $allow_url_bbcode = true, $update_this_message = true, $mode = 'post')
-	$message_parser->parse($enable_bbcode, $enable_magic_url, $enable_smilies);
-
-	if (sizeof($message_parser->warn_msg))
-	{
-		$msg_id = isset($convert->row['post_id']) ? $convert->row['post_id'] : $convert->row['privmsgs_id'];
-		$convert->p_master->error('<span style="color:red">' . $user->lang['POST_ID'] . ': ' . $msg_id . ' ' . $user->lang['CONV_ERROR_MESSAGE_PARSER'] . ': <br /><br />' . implode('<br />', $message_parser->warn_msg), __LINE__, __FILE__, true);
-	}
-
-	$convert->row['mp_bbcode_bitfield'] = $convert_row['mp_bbcode_bitfield'] = $message_parser->bbcode_bitfield;
-
-	$message = $message_parser->message;
-	unset($message_parser->message);
-
-	return $message;
-}
-
-/**
-* Return the bitfield calculated by the previous function
-*/
-function get_bbcode_bitfield()
-{
-	global $convert_row;
-
-	return $convert_row['mp_bbcode_bitfield'];
-}
-
-/**
-* Determine the last user to edit a post
-* In practice we only tracked edits by the original poster in 2.0.x so this will only be set if they had edited their own post
-*/
-function phpbb_post_edit_user()
-{
-	global $convert_row, $config;
-
-	if (isset($convert_row['post_edit_count']))
-	{
-		return phpbb_user_id($convert_row['poster_id']);
-	}
-
-	return 0;
-}
-
-/**
-* Obtain the path to uploaded files on the 2.0.x forum
-* This is only used if the Attachment MOD was installed
-*/
-function phpbb_get_files_dir()
-{
-	if (!defined('MOD_ATTACHMENT'))
-	{
-		return;
-	}
-
-	global $src_db, $same_db, $convert, $user, $config, $cache;
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'binary'");
-	}
-	$sql = 'SELECT config_value AS upload_dir
-		FROM ' . $convert->src_table_prefix . "attachments_config
-		WHERE config_name = 'upload_dir'";
-	$result = $src_db->sql_query($sql);
-	$upload_path = $src_db->sql_fetchfield('upload_dir');
-	$src_db->sql_freeresult($result);
-
-	$sql = 'SELECT config_value AS ftp_upload
-		FROM ' . $convert->src_table_prefix . "attachments_config
-		WHERE config_name = 'allow_ftp_upload'";
-	$result = $src_db->sql_query($sql);
-	$ftp_upload = (int) $src_db->sql_fetchfield('ftp_upload');
-	$src_db->sql_freeresult($result);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'utf8'");
-	}
-
-	if ($ftp_upload)
-	{
-		$convert->p_master->error($user->lang['CONV_ERROR_ATTACH_FTP_DIR'], __LINE__, __FILE__);
-	}
-
-	return $upload_path;
-}
-
-/**
-* Copy thumbnails of uploaded images from the 2.0.x forum
-* This is only used if the Attachment MOD was installed
-*/
-function phpbb_copy_thumbnails()
-{
-	global $db, $convert, $user, $config, $cache, $phpbb_root_path;
-
-	$src_path = $convert->options['forum_path'] . '/' . phpbb_get_files_dir() . '/thumbs/';
-
-	if ($handle = @opendir($src_path))
-	{
-		while ($entry = readdir($handle))
-		{
-			if ($entry[0] == '.')
-			{
-				continue;
-			}
-
-			if (is_dir($src_path . $entry))
-			{
-				continue;
-			}
-			else
-			{
-				copy_file($src_path . $entry, $config['upload_path'] . '/' . preg_replace('/^t_/', 'thumb_', $entry));
-				@unlink($phpbb_root_path . $config['upload_path'] . '/thumbs/' . $entry);
-			}
-		}
-		closedir($handle);
-	}
-}
-
-/**
-* Convert the attachment category constants
-* This is only used if the Attachment MOD was installed
-*/
-function phpbb_attachment_category($cat_id)
-{
-	switch ($cat_id)
-	{
-		case 1:
-			return ATTACHMENT_CATEGORY_IMAGE;
-		break;
-
-		case 2:
-			return ATTACHMENT_CATEGORY_WM;
-		break;
-
-		case 3:
-			return ATTACHMENT_CATEGORY_FLASH;
-		break;
-	}
-
-	return ATTACHMENT_CATEGORY_NONE;
-}
-
-/**
-* Obtain list of forums in which different attachment categories can be used
-*/
-function phpbb_attachment_forum_perms($forum_permissions)
-{
-	if (empty($forum_permissions))
-	{
-		return '';
-	}
-
-	// Decode forum permissions
-	$forum_ids = array();
-
-	$one_char_encoding = '#';
-	$two_char_encoding = '.';
-
-	$auth_len = 1;
-	for ($pos = 0; $pos < strlen($forum_permissions); $pos += $auth_len)
-	{
-		$forum_auth = substr($forum_permissions, $pos, 1);
-		if ($forum_auth == $one_char_encoding)
-		{
-			$auth_len = 1;
-			continue;
-		}
-		else if ($forum_auth == $two_char_encoding)
-		{
-			$auth_len = 2;
-			$pos--;
-			continue;
-		}
-
-		$forum_auth = substr($forum_permissions, $pos, $auth_len);
-		$forum_id = base64_unpack($forum_auth);
-
-		$forum_ids[] = (int) $forum_id;
-	}
-
-	if (sizeof($forum_ids))
-	{
-		return attachment_forum_perms($forum_ids);
-	}
-
-	return '';
-}
-
-/**
-* Convert the avatar type constants
-*/
-function phpbb_avatar_type($type)
-{
-	switch ($type)
-	{
-		case 1:
-			return AVATAR_UPLOAD;
-		break;
-
-		case 2:
-			return AVATAR_REMOTE;
-		break;
-
-		case 3:
-			return AVATAR_GALLERY;
-		break;
-	}
-
-	return 0;
-}
-
-
-/**
-* Just undos the replacing of '<' and '>'
-*/
-function  phpbb_smilie_html_decode($code)
-{
-	$code = str_replace('&lt;', '<', $code);
-	return str_replace('&gt;', '>', $code);
-}
-
-/**
-* Transfer avatars, copying the image if it was uploaded
-*/
-function phpbb_import_avatar($user_avatar)
-{
-	global $convert_row;
-
-	if (!$convert_row['user_avatar_type'])
-	{
-		return '';
-	}
-	else if ($convert_row['user_avatar_type'] == 1)
-	{
-		// Uploaded avatar
-		return import_avatar($user_avatar, false, $convert_row['user_id']);
-	}
-	else if ($convert_row['user_avatar_type'] == 2)
-	{
-		// Remote avatar
-		return $user_avatar;
-	}
-	else if ($convert_row['user_avatar_type'] == 3)
-	{
-		// Gallery avatar
-		return $user_avatar;
-	}
-
-	return '';
-}
-
-
-/**
-* Find out about the avatar's dimensions
-*/
-function phpbb_get_avatar_height($user_avatar)
-{
-	global $convert_row;
-
-	if (empty($convert_row['user_avatar_type']))
-	{
-		return 0;
-	}
-	return get_avatar_height($user_avatar, 'phpbb_avatar_type', $convert_row['user_avatar_type']);
-}
-
-
-/**
-* Find out about the avatar's dimensions
-*/
-function phpbb_get_avatar_width($user_avatar)
-{
-	global $convert_row;
-
-	if (empty($convert_row['user_avatar_type']))
-	{
-		return 0;
-	}
-
-	return get_avatar_width($user_avatar, 'phpbb_avatar_type', $convert_row['user_avatar_type']);
-}
-
-
-/**
-* Calculate the correct to_address field for private messages
-*/
-function phpbb_privmsgs_to_userid($to_userid)
-{
-	global $config;
-
-	return 'u_' . phpbb_user_id($to_userid);
-}
-
-/**
-* Calculate whether a private message was unread using the bitfield
-*/
-function phpbb_unread_pm($pm_type)
-{
-	return ($pm_type == 5) ? 1 : 0;
-}
-
-/**
-* Calculate whether a private message was new using the bitfield
-*/
-function phpbb_new_pm($pm_type)
-{
-	return ($pm_type == 1) ? 1 : 0;
-}
-
-/**
-* Obtain the folder_id for the custom folder created to replace the savebox from 2.0.x (used to store saved private messages)
-*/
-function phpbb_get_savebox_id($user_id)
-{
-	global $db;
-
-	$user_id = phpbb_user_id($user_id);
-
-	// Only one custom folder, check only one
-	$sql = 'SELECT folder_id
-		FROM ' . PRIVMSGS_FOLDER_TABLE . '
-		WHERE user_id = ' . $user_id;
-	$result = $db->sql_query_limit($sql, 1);
-	$folder_id = (int) $db->sql_fetchfield('folder_id');
-	$db->sql_freeresult($result);
-
-	return $folder_id;
-}
-
-/**
-* Transfer attachment specific configuration options
-* These were not stored in the main config table on 2.0.x
-* This is only used if the Attachment MOD was installed
-*/
-function phpbb_import_attach_config()
-{
-	global $db, $src_db, $same_db, $convert, $config;
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'binary'");
-	}
-
-	$sql = 'SELECT *
-		FROM ' . $convert->src_table_prefix . 'attachments_config';
-	$result = $src_db->sql_query($sql);
-
-	if ($convert->mysql_convert && $same_db)
-	{
-		$src_db->sql_query("SET NAMES 'utf8'");
-	}
-
-	$attach_config = array();
-	while ($row = $src_db->sql_fetchrow($result))
-	{
-		$attach_config[$row['config_name']] = $row['config_value'];
-	}
-	$src_db->sql_freeresult($result);
-
-	set_config('allow_attachments', 1);
-
-	// old attachment mod? Must be very old if this entry do not exist...
-	if (!empty($attach_config['display_order']))
-	{
-		set_config('display_order', $attach_config['display_order']);
-	}
-	set_config('max_filesize', $attach_config['max_filesize']);
-	set_config('max_filesize_pm', $attach_config['max_filesize_pm']);
-	set_config('attachment_quota', $attach_config['attachment_quota']);
-	set_config('max_attachments', $attach_config['max_attachments']);
-	set_config('max_attachments_pm', $attach_config['max_attachments_pm']);
-	set_config('allow_pm_attach', $attach_config['allow_pm_attach']);
-
-	set_config('img_display_inlined', $attach_config['img_display_inlined']);
-	set_config('img_max_width', $attach_config['img_max_width']);
-	set_config('img_max_height', $attach_config['img_max_height']);
-	set_config('img_link_width', $attach_config['img_link_width']);
-	set_config('img_link_height', $attach_config['img_link_height']);
-	set_config('img_create_thumbnail', $attach_config['img_create_thumbnail']);
-	set_config('img_max_thumb_width', 400);
-	set_config('img_min_thumb_filesize', $attach_config['img_min_thumb_filesize']);
-	set_config('img_imagick', $attach_config['img_imagick']);
-}
-
-/**
-* Calculate the date a user became inactive
-*/
-function phpbb_inactive_time()
-{
-	global $convert_row;
-
-	if ($convert_row['user_active'])
-	{
-		return 0;
-	}
-
-	if ($convert_row['user_lastvisit'])
-	{
-		return $convert_row['user_lastvisit'];
-	}
-
-	return $convert_row['user_regdate'];
-}
-
-/**
-* Calculate the reason a user became inactive
-* We can't actually tell the difference between a manual deactivation and one for profile changes
-* from the data available to assume the latter
-*/
-function phpbb_inactive_reason()
-{
-	global $convert_row;
-
-	if ($convert_row['user_active'])
-	{
-		return 0;
-	}
-
-	if ($convert_row['user_lastvisit'])
-	{
-		return INACTIVE_PROFILE;
-	}
-
-	return INACTIVE_REGISTER;
-}
-
-/**
-* Adjust 2.0.x disallowed names to 3.0.x format
-*/
-function phpbb_disallowed_username($username)
-{
-	// Replace * with %
-	$username = phpbb_set_default_encoding(str_replace('*', '%', $username));
-	return utf8_htmlspecialchars($username);
-}
-
-/**
-* Checks whether there are any usernames on the old board that would map to the same
-* username_clean on phpBB3. Prints out a list if any exist and exits.
-*/
-function phpbb_create_userconv_table()
-{
-	global $db, $src_db, $convert, $table_prefix, $user, $lang;
-
-	$map_dbms = '';
-	switch ($db->sql_layer)
-	{
-		case 'mysql':
-			$map_dbms = 'mysql_40';
-		break;
-
-		case 'mysql4':
-			if (version_compare($db->sql_server_info(true), '4.1.3', '>='))
-			{
-				$map_dbms = 'mysql_41';
-			}
-			else
-			{
-				$map_dbms = 'mysql_40';
-			}
-		break;
-
-		case 'mysqli':
-			$map_dbms = 'mysql_41';
-		break;
-
-		case 'mssql':
-		case 'mssql_odbc':
-		case 'mssqlnative':
-			$map_dbms = 'mssql';
-		break;
-
-		default:
-			$map_dbms = $db->sql_layer;
-		break;
-	}
-
-	// create a temporary table in which we store the clean usernames
-	$drop_sql = 'DROP TABLE ' . USERCONV_TABLE;
-	switch ($map_dbms)
-	{
-		case 'firebird':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id INTEGER NOT NULL,
-				username_clean VARCHAR(255) CHARACTER SET UTF8 DEFAULT \'\' NOT NULL COLLATE UNICODE
-			)';
-		break;
-
-		case 'mssql':
-			$create_sql = 'CREATE TABLE [' . USERCONV_TABLE . '] (
-				[user_id] [int] NOT NULL ,
-				[username_clean] [varchar] (255) DEFAULT (\'\') NOT NULL
-			)';
-		break;
-
-		case 'mysql_40':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id mediumint(8) NOT NULL,
-				username_clean blob NOT NULL
-			)';
-		break;
-
-		case 'mysql_41':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id mediumint(8) NOT NULL,
-				username_clean varchar(255) DEFAULT \'\' NOT NULL
-			) CHARACTER SET `utf8` COLLATE `utf8_bin`';
-		break;
-
-		case 'oracle':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id number(8) NOT NULL,
-				username_clean varchar2(255) DEFAULT \'\'
-			)';
-		break;
-
-		case 'postgres':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id INT4 DEFAULT \'0\',
-				username_clean varchar_ci DEFAULT \'\' NOT NULL
-			)';
-		break;
-
-		case 'sqlite':
-			$create_sql = 'CREATE TABLE ' . USERCONV_TABLE . ' (
-				user_id INTEGER NOT NULL DEFAULT \'0\',
-				username_clean varchar(255) NOT NULL DEFAULT \'\'
-			)';
-		break;
-	}
-
-	$db->sql_return_on_error(true);
-	$db->sql_query($drop_sql);
-	$db->sql_return_on_error(false);
-	$db->sql_query($create_sql);
-}
-
-function phpbb_check_username_collisions()
-{
-	global $db, $src_db, $convert, $table_prefix, $user, $lang;
-
-	// now find the clean version of the usernames that collide
-	$sql = 'SELECT username_clean
-		FROM ' . USERCONV_TABLE .'
-		GROUP BY username_clean
-		HAVING COUNT(user_id) > 1';
-	$result = $db->sql_query($sql);
-
-	$colliding_names = array();
-	while ($row = $db->sql_fetchrow($result))
-	{
-		$colliding_names[] = $row['username_clean'];
-	}
-	$db->sql_freeresult($result);
-
-	// there was at least one collision, the admin will have to solve it before conversion can continue
-	if (sizeof($colliding_names))
-	{
-		$sql = 'SELECT user_id, username_clean
-			FROM ' . USERCONV_TABLE . '
-			WHERE ' . $db->sql_in_set('username_clean', $colliding_names);
-		$result = $db->sql_query($sql);
-		unset($colliding_names);
-
-		$colliding_user_ids = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$colliding_user_ids[(int) $row['user_id']] = $row['username_clean'];
-		}
-		$db->sql_freeresult($result);
-
-		$sql = 'SELECT username, user_id, user_posts
-			FROM ' . $convert->src_table_prefix . 'users
-			WHERE ' . $src_db->sql_in_set('user_id', array_keys($colliding_user_ids));
-		$result = $src_db->sql_query($sql);
-
-		$colliding_users = array();
-		while ($row = $src_db->sql_fetchrow($result))
-		{
-			$row['user_id'] = (int) $row['user_id'];
-			if (isset($colliding_user_ids[$row['user_id']]))
-			{
-				$colliding_users[$colliding_user_ids[$row['user_id']]][] = $row;
-			}
-		}
-		$src_db->sql_freeresult($result);
-		unset($colliding_user_ids);
-
-		$list = '';
-		foreach ($colliding_users as $username_clean => $users)
-		{
-			$list .= sprintf($user->lang['COLLIDING_CLEAN_USERNAME'], $username_clean) . "<br />\n";
-			foreach ($users as $i => $row)
-			{
-				$list .= sprintf($user->lang['COLLIDING_USER'], $row['user_id'], phpbb_set_default_encoding($row['username']), $row['user_posts']) . "<br />\n";
-			}
-		}
-
-		$lang['INST_ERR_FATAL'] = $user->lang['CONV_ERR_FATAL'];
-		$convert->p_master->error('<span style="color:red">' . $user->lang['COLLIDING_USERNAMES_FOUND'] . '</span></b><br /><br />' . $list . '<b>', __LINE__, __FILE__);
-	}
-
-	$drop_sql = 'DROP TABLE ' . USERCONV_TABLE;
-	$db->sql_query($drop_sql);
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/database_update.php phpBB3/install/database_update.php
--- phpBB3-init/install/database_update.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/database_update.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,4237 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2006 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-define('UPDATES_TO_VERSION', '3.0.9');
-
-// Enter any version to update from to test updates. The version within the db will not be updated.
-define('DEBUG_FROM_VERSION', false);
-
-// Which oldest version does this updater support?
-define('OLDEST_FROM_VERSION', '3.0.0');
-
-// Return if we "just include it" to find out for which version the database update is responsible for
-if (defined('IN_PHPBB') && defined('IN_INSTALL'))
-{
-	$updates_to_version = UPDATES_TO_VERSION;
-	$debug_from_version = DEBUG_FROM_VERSION;
-	$oldest_from_version = OLDEST_FROM_VERSION;
-
-	return;
-}
-
-/**
-*/
-define('IN_PHPBB', true);
-define('IN_INSTALL', true);
-
-$phpbb_root_path = (defined('PHPBB_ROOT_PATH')) ? PHPBB_ROOT_PATH : './../';
-$phpEx = substr(strrchr(__FILE__, '.'), 1);
-
-if (!function_exists('phpbb_require_updated'))
-{
-	function phpbb_require_updated($path, $optional = false)
-	{
-		global $phpbb_root_path;
-
-		$new_path = $phpbb_root_path . 'install/update/new/' . $path;
-		$old_path = $phpbb_root_path . $path;
-
-		if (file_exists($new_path))
-		{
-			require($new_path);
-		}
-		else if (!$optional || file_exists($old_path))
-		{
-			require($old_path);
-		}
-	}
-}
-
-phpbb_require_updated('includes/startup.' . $phpEx);
-
-$updates_to_version = UPDATES_TO_VERSION;
-$debug_from_version = DEBUG_FROM_VERSION;
-$oldest_from_version = OLDEST_FROM_VERSION;
-
-error_reporting(E_ALL);
-
-@set_time_limit(0);
-
-// Include essential scripts
-include($phpbb_root_path . 'config.' . $phpEx);
-
-if (!defined('PHPBB_INSTALLED') || empty($dbms) || empty($acm_type))
-{
-	die("Please read: <a href='../docs/INSTALL.html'>INSTALL.html</a> before attempting to update.");
-}
-
-// Load Extensions
-if (!empty($load_extensions) && function_exists('dl'))
-{
-	$load_extensions = explode(',', $load_extensions);
-
-	foreach ($load_extensions as $extension)
-	{
-		@dl(trim($extension));
-	}
-}
-
-// Include files
-require($phpbb_root_path . 'includes/acm/acm_' . $acm_type . '.' . $phpEx);
-require($phpbb_root_path . 'includes/cache.' . $phpEx);
-require($phpbb_root_path . 'includes/template.' . $phpEx);
-require($phpbb_root_path . 'includes/session.' . $phpEx);
-require($phpbb_root_path . 'includes/auth.' . $phpEx);
-
-require($phpbb_root_path . 'includes/functions.' . $phpEx);
-
-phpbb_require_updated('includes/functions_content.' . $phpEx, true);
-
-require($phpbb_root_path . 'includes/functions_admin.' . $phpEx);
-require($phpbb_root_path . 'includes/constants.' . $phpEx);
-require($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-require($phpbb_root_path . 'includes/utf/utf_tools.' . $phpEx);
-
-// new table constants are separately defined here in case the updater is run
-// before the files are updated
-if (!defined('LOGIN_ATTEMPT_TABLE'))
-{
-	define('LOGIN_ATTEMPT_TABLE', $table_prefix . 'login_attempts');
-}
-
-$user = new user();
-$cache = new cache();
-$db = new $sql_db();
-
-// Add own hook handler, if present. :o
-if (file_exists($phpbb_root_path . 'includes/hooks/index.' . $phpEx))
-{
-	require($phpbb_root_path . 'includes/hooks/index.' . $phpEx);
-	$phpbb_hook = new phpbb_hook(array('exit_handler', 'phpbb_user_session_handler', 'append_sid', array('template', 'display')));
-
-	foreach ($cache->obtain_hooks() as $hook)
-	{
-		@include($phpbb_root_path . 'includes/hooks/' . $hook . '.' . $phpEx);
-	}
-}
-else
-{
-	$phpbb_hook = false;
-}
-
-// Connect to DB
-$db->sql_connect($dbhost, $dbuser, $dbpasswd, $dbname, $dbport, false, false);
-
-// We do not need this any longer, unset for safety purposes
-unset($dbpasswd);
-
-$user->ip = (!empty($_SERVER['REMOTE_ADDR'])) ? htmlspecialchars($_SERVER['REMOTE_ADDR']) : '';
-$user->ip = (stripos($user->ip, '::ffff:') === 0) ? substr($user->ip, 7) : $user->ip;
-
-$sql = "SELECT config_value
-	FROM " . CONFIG_TABLE . "
-	WHERE config_name = 'default_lang'";
-$result = $db->sql_query($sql);
-$row = $db->sql_fetchrow($result);
-$db->sql_freeresult($result);
-
-$language = basename(request_var('language', ''));
-
-if (!$language)
-{
-	$language = $row['config_value'];
-}
-
-if (!file_exists($phpbb_root_path . 'language/' . $language))
-{
-	die('No language found!');
-}
-
-// And finally, load the relevant language files
-include($phpbb_root_path . 'language/' . $language . '/common.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/acp/common.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/install.' . $phpEx);
-
-// Set PHP error handler to ours
-//set_error_handler('msg_handler');
-
-// Define some variables for the database update
-$inline_update = (request_var('type', 0)) ? true : false;
-
-// To let set_config() calls succeed, we need to make the config array available globally
-$config = array();
-
-$sql = 'SELECT *
-	FROM ' . CONFIG_TABLE;
-$result = $db->sql_query($sql);
-
-while ($row = $db->sql_fetchrow($result))
-{
-	$config[$row['config_name']] = $row['config_value'];
-}
-$db->sql_freeresult($result);
-
-// We do not include DB Tools here, because we can not be sure the file is up-to-date ;)
-// Instead, this file defines a clean db_tools version (we are also not able to provide a different file, else the database update will not work standalone)
-$db_tools = new updater_db_tools($db, true);
-
-$database_update_info = database_update_info();
-
-$error_ary = array();
-$errored = false;
-
-header('Content-type: text/html; charset=UTF-8');
-
-?>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" dir="<?php echo $lang['DIRECTION']; ?>" lang="<?php echo $lang['USER_LANG']; ?>" xml:lang="<?php echo $lang['USER_LANG']; ?>">
-<head>
-
-<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
-<meta http-equiv="content-language" content="<?php echo $lang['USER_LANG']; ?>" />
-<meta http-equiv="content-style-type" content="text/css" />
-<meta http-equiv="imagetoolbar" content="no" />
-
-<title><?php echo $lang['UPDATING_TO_LATEST_STABLE']; ?></title>
-
-<link href="../adm/style/admin.css" rel="stylesheet" type="text/css" media="screen" />
-
-</head>
-
-<body>
-<div id="wrap">
-	<div id="page-header">&nbsp;</div>
-
-	<div id="page-body">
-		<div id="acp">
-		<div class="panel">
-			<span class="corners-top"><span></span></span>
-				<div id="content">
-					<div id="main" class="install-body">
-
-	<h1><?php echo $lang['UPDATING_TO_LATEST_STABLE']; ?></h1>
-
-	<br />
-
-	<p><?php echo $lang['DATABASE_TYPE']; ?> :: <strong><?php echo $db->sql_layer; ?></strong><br />
-<?php
-
-if ($debug_from_version !== false)
-{
-	$config['version'] = $debug_from_version;
-}
-
-echo $lang['PREVIOUS_VERSION'] . ' :: <strong>' . $config['version'] . '</strong><br />';
-echo $lang['UPDATED_VERSION'] . ' :: <strong>' . $updates_to_version . '</strong></p>';
-
-$current_version = str_replace('rc', 'RC', strtolower($config['version']));
-$latest_version = str_replace('rc', 'RC', strtolower($updates_to_version));
-$orig_version = $config['version'];
-
-// Fill DB version
-if (empty($config['dbms_version']))
-{
-	set_config('dbms_version', $db->sql_server_info(true));
-}
-
-// Firebird update from Firebird 2.0 to 2.1+ required?
-if ($db->sql_layer == 'firebird')
-{
-	// We do not trust any PHP5 function enabled, we will simply test for a function new in 2.1
-	$db->sql_return_on_error(true);
-
-	$sql = 'SELECT 1 FROM RDB$DATABASE
-		WHERE BIN_AND(10, 1) = 0';
-	$result = $db->sql_query($sql);
-
-	if (!$result || $db->sql_error_triggered)
-	{
-		echo '<br /><br />';
-		echo '<h1>' . $lang['ERROR'] . '</h1><br />';
-
-		echo '<p>' . $lang['FIREBIRD_DBMS_UPDATE_REQUIRED'] . '</p>';
-
-		_print_footer();
-
-		exit_handler();
-		exit;
-	}
-
-	$db->sql_freeresult($result);
-	$db->sql_return_on_error(false);
-}
-
-// MySQL update from MySQL 3.x/4.x to > 4.1.x required?
-if ($db->sql_layer == 'mysql' || $db->sql_layer == 'mysql4' || $db->sql_layer == 'mysqli')
-{
-	// Verify by fetching column... if the column type matches the new type we update dbms_version...
-	$sql = "SHOW COLUMNS FROM " . CONFIG_TABLE;
-	$result = $db->sql_query($sql);
-
-	$column_type = '';
-	while ($row = $db->sql_fetchrow($result))
-	{
-		$field = strtolower($row['Field']);
-
-		if ($field == 'config_value')
-		{
-			$column_type = strtolower($row['Type']);
-			break;
-		}
-	}
-	$db->sql_freeresult($result);
-
-	// If column type is blob, but mysql version says we are on > 4.1.3, then the schema needs an update
-	if (strpos($column_type, 'blob') !== false && version_compare($db->sql_server_info(true), '4.1.3', '>='))
-	{
-		echo '<br /><br />';
-		echo '<h1>' . $lang['ERROR'] . '</h1><br />';
-
-		echo '<p>' . sprintf($lang['MYSQL_SCHEMA_UPDATE_REQUIRED'], $config['dbms_version'], $db->sql_server_info(true)) . '</p>';
-
-		_print_footer();
-
-		exit_handler();
-		exit;
-	}
-}
-
-// Now check if the user wants to update from a version we no longer support updates from
-if (version_compare($current_version, $oldest_from_version, '<'))
-{
-	echo '<br /><br /><h1>' . $lang['ERROR'] . '</h1><br />';
-	echo '<p>' . sprintf($lang['DB_UPDATE_NOT_SUPPORTED'], $oldest_from_version, $current_version) . '</p>';
-
-	_print_footer();
-	exit_handler();
-	exit;
-}
-
-// If the latest version and the current version are 'unequal', we will update the version_update_from, else we do not update anything.
-if ($inline_update)
-{
-	if ($current_version !== $latest_version)
-	{
-		set_config('version_update_from', $orig_version);
-	}
-}
-else
-{
-	// If not called from the update script, we will actually remove the traces
-	$db->sql_query('DELETE FROM ' . CONFIG_TABLE . " WHERE config_name = 'version_update_from'");
-}
-
-// Schema updates
-?>
-	<br /><br />
-
-	<h1><?php echo $lang['UPDATE_DATABASE_SCHEMA']; ?></h1>
-
-	<br />
-	<p><?php echo $lang['PROGRESS']; ?> :: <strong>
-
-<?php
-
-flush();
-
-// We go through the schema changes from the lowest to the highest version
-// We try to also include versions 'in-between'...
-$no_updates = true;
-$versions = array_keys($database_update_info);
-for ($i = 0; $i < sizeof($versions); $i++)
-{
-	$version = $versions[$i];
-	$schema_changes = $database_update_info[$version];
-
-	$next_version = (isset($versions[$i + 1])) ? $versions[$i + 1] : $updates_to_version;
-
-	// If the installed version to be updated to is < than the current version, and if the current version is >= as the version to be updated to next, we will skip the process
-	if (version_compare($version, $current_version, '<') && version_compare($current_version, $next_version, '>='))
-	{
-		continue;
-	}
-
-	if (!sizeof($schema_changes))
-	{
-		continue;
-	}
-
-	$no_updates = false;
-
-	// We run one index after the other... to be consistent with schema changes...
-	foreach ($schema_changes as $key => $changes)
-	{
-		$statements = $db_tools->perform_schema_changes(array($key => $changes));
-
-		foreach ($statements as $sql)
-		{
-			_sql($sql, $errored, $error_ary);
-		}
-	}
-}
-
-_write_result($no_updates, $errored, $error_ary);
-
-// Data updates
-$error_ary = array();
-$errored = $no_updates = false;
-
-?>
-
-<br /><br />
-<h1><?php echo $lang['UPDATING_DATA']; ?></h1>
-<br />
-<p><?php echo $lang['PROGRESS']; ?> :: <strong>
-
-<?php
-
-flush();
-
-$no_updates = true;
-$versions = array_keys($database_update_info);
-
-// some code magic
-for ($i = 0; $i < sizeof($versions); $i++)
-{
-	$version = $versions[$i];
-	$next_version = (isset($versions[$i + 1])) ? $versions[$i + 1] : $updates_to_version;
-
-	// If the installed version to be updated to is < than the current version, and if the current version is >= as the version to be updated to next, we will skip the process
-	if (version_compare($version, $current_version, '<') && version_compare($current_version, $next_version, '>='))
-	{
-		continue;
-	}
-
-	change_database_data($no_updates, $version);
-}
-
-_write_result($no_updates, $errored, $error_ary);
-
-$error_ary = array();
-$errored = $no_updates = false;
-
-?>
-
-<br /><br />
-<h1><?php echo $lang['UPDATE_VERSION_OPTIMIZE']; ?></h1>
-<br />
-<p><?php echo $lang['PROGRESS']; ?> :: <strong>
-
-<?php
-
-flush();
-
-if ($debug_from_version === false)
-{
-	// update the version
-	$sql = "UPDATE " . CONFIG_TABLE . "
-		SET config_value = '$updates_to_version'
-		WHERE config_name = 'version'";
-	_sql($sql, $errored, $error_ary);
-}
-
-// Reset permissions
-$sql = 'UPDATE ' . USERS_TABLE . "
-	SET user_permissions = '',
-		user_perm_from = 0";
-_sql($sql, $errored, $error_ary);
-
-// Update the dbms version if everything is ok...
-set_config('dbms_version', $db->sql_server_info(true));
-
-/* Optimize/vacuum analyze the tables where appropriate
-// this should be done for each version in future along with
-// the version number update
-switch ($db->sql_layer)
-{
-	case 'mysql':
-	case 'mysqli':
-	case 'mysql4':
-		$sql = 'OPTIMIZE TABLE ' . $table_prefix . 'auth_access, ' . $table_prefix . 'banlist, ' . $table_prefix . 'categories, ' . $table_prefix . 'config, ' . $table_prefix . 'disallow, ' . $table_prefix . 'forum_prune, ' . $table_prefix . 'forums, ' . $table_prefix . 'groups, ' . $table_prefix . 'posts, ' . $table_prefix . 'posts_text, ' . $table_prefix . 'privmsgs, ' . $table_prefix . 'privmsgs_text, ' . $table_prefix . 'ranks, ' . $table_prefix . 'search_results, ' . $table_prefix . 'search_wordlist, ' . $table_prefix . 'search_wordmatch, ' . $table_prefix . 'sessions_keys' . $table_prefix . 'smilies, ' . $table_prefix . 'themes, ' . $table_prefix . 'themes_name, ' . $table_prefix . 'topics, ' . $table_prefix . 'topics_watch, ' . $table_prefix . 'user_group, ' . $table_prefix . 'users, ' . $table_prefix . 'vote_desc, ' . $table_prefix . 'vote_results, ' . $table_prefix . 'vote_voters, ' . $table_prefix . 'words';
-		_sql($sql, $errored, $error_ary);
-	break;
-
-	case 'postgresql':
-		_sql("VACUUM ANALYZE", $errored, $error_ary);
-	break;
-}
-*/
-
-_write_result($no_updates, $errored, $error_ary);
-
-?>
-
-<br />
-<h1><?php echo $lang['UPDATE_COMPLETED']; ?></h1>
-
-<br />
-
-<?php
-
-if (!$inline_update)
-{
-?>
-
-	<p style="color:red"><?php echo $lang['UPDATE_FILES_NOTICE']; ?></p>
-
-	<p><?php echo $lang['COMPLETE_LOGIN_TO_BOARD']; ?></p>
-
-<?php
-}
-else
-{
-?>
-
-	<p><?php echo ((isset($lang['INLINE_UPDATE_SUCCESSFUL'])) ? $lang['INLINE_UPDATE_SUCCESSFUL'] : 'The database update was successful. Now you need to continue the update process.'); ?></p>
-
-	<p><a href="<?php echo append_sid("{$phpbb_root_path}install/index.{$phpEx}", "mode=update&amp;sub=file_check&amp;language=$language"); ?>" class="button1"><?php echo (isset($lang['CONTINUE_UPDATE_NOW'])) ? $lang['CONTINUE_UPDATE_NOW'] : 'Continue the update process now'; ?></a></p>
-
-<?php
-}
-
-// Add database update to log
-add_log('admin', 'LOG_UPDATE_DATABASE', $orig_version, $updates_to_version);
-
-// Now we purge the session table as well as all cache files
-$cache->purge();
-
-_print_footer();
-
-garbage_collection();
-
-if (function_exists('exit_handler'))
-{
-	exit_handler();
-}
-
-/**
-* Print out footer
-*/
-function _print_footer()
-{
-	echo <<<EOF
-					</div>
-				</div>
-			<span class="corners-bottom"><span></span></span>
-		</div>
-		</div>
-	</div>
-
-	<div id="page-footer">
-		Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group
-	</div>
-</div>
-
-</body>
-</html>
-EOF;
-}
-
-/**
-* Function for triggering an sql statement
-*/
-function _sql($sql, &$errored, &$error_ary, $echo_dot = true)
-{
-	global $db;
-
-	if (defined('DEBUG_EXTRA'))
-	{
-		echo "<br />\n{$sql}\n<br />";
-	}
-
-	$db->sql_return_on_error(true);
-
-	if ($sql === 'begin')
-	{
-		$result = $db->sql_transaction('begin');
-	}
-	else if ($sql === 'commit')
-	{
-		$result = $db->sql_transaction('commit');
-	}
-	else
-	{
-		$result = $db->sql_query($sql);
-		if ($db->sql_error_triggered)
-		{
-			$errored = true;
-			$error_ary['sql'][] = $db->sql_error_sql;
-			$error_ary['error_code'][] = $db->sql_error_returned;
-		}
-	}
-
-	$db->sql_return_on_error(false);
-
-	if ($echo_dot)
-	{
-		echo ". \n";
-		flush();
-	}
-
-	return $result;
-}
-
-function _write_result($no_updates, $errored, $error_ary)
-{
-	global $lang;
-
-	if ($no_updates)
-	{
-		echo ' ' . $lang['NO_UPDATES_REQUIRED'] . '</strong></p>';
-	}
-	else
-	{
-		echo ' <span class="success">' . $lang['DONE'] . '</span></strong><br />' . $lang['RESULT'] . ' :: ';
-
-		if ($errored)
-		{
-			echo ' <strong>' . $lang['SOME_QUERIES_FAILED'] . '</strong> <ul>';
-
-			for ($i = 0; $i < sizeof($error_ary['sql']); $i++)
-			{
-				echo '<li>' . $lang['ERROR'] . ' :: <strong>' . htmlspecialchars($error_ary['error_code'][$i]['message']) . '</strong><br />';
-				echo $lang['SQL'] . ' :: <strong>' . htmlspecialchars($error_ary['sql'][$i]) . '</strong><br /><br /></li>';
-			}
-
-			echo '</ul> <br /><br />' . $lang['SQL_FAILURE_EXPLAIN'] . '</p>';
-		}
-		else
-		{
-			echo '<strong>' . $lang['NO_ERRORS'] . '</strong></p>';
-		}
-	}
-}
-
-function _add_modules($modules_to_install)
-{
-	global $phpbb_root_path, $phpEx, $db;
-
-	include_once($phpbb_root_path . 'includes/acp/acp_modules.' . $phpEx);
-
-	$_module = new acp_modules();
-
-	foreach ($modules_to_install as $module_mode => $module_data)
-	{
-		$_module->module_class = $module_data['class'];
-
-		// Determine parent id first
-		$sql = 'SELECT module_id
-			FROM ' . MODULES_TABLE . "
-			WHERE module_class = '" . $db->sql_escape($module_data['class']) . "'
-				AND module_langname = '" . $db->sql_escape($module_data['cat']) . "'
-				AND module_mode = ''
-				AND module_basename = ''";
-		$result = $db->sql_query($sql);
-
-		// There may be more than one categories with the same name
-		$categories = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$categories[] = (int) $row['module_id'];
-		}
-		$db->sql_freeresult($result);
-
-		if (!sizeof($categories))
-		{
-			continue;
-		}
-
-		// Add the module to all categories found
-		foreach ($categories as $parent_id)
-		{
-			// Check if the module already exists
-			$sql = 'SELECT *
-				FROM ' . MODULES_TABLE . "
-				WHERE module_basename = '" . $db->sql_escape($module_data['base']) . "'
-					AND module_class = '" . $db->sql_escape($module_data['class']) . "'
-					AND module_langname = '" . $db->sql_escape($module_data['title']) . "'
-					AND module_mode = '" . $db->sql_escape($module_mode) . "'
-					AND module_auth = '" . $db->sql_escape($module_data['auth']) . "'
-					AND parent_id = {$parent_id}";
-			$result = $db->sql_query($sql);
-			$row = $db->sql_fetchrow($result);
-			$db->sql_freeresult($result);
-
-			// If it exists, we simply continue with the next category
-			if ($row)
-			{
-				continue;
-			}
-
-			// Build the module sql row
-			$module_row = array(
-				'module_basename'	=> $module_data['base'],
-				'module_enabled'	=> (isset($module_data['enabled'])) ? (int) $module_data['enabled'] : 1,
-				'module_display'	=> (isset($module_data['display'])) ? (int) $module_data['display'] : 1,
-				'parent_id'			=> $parent_id,
-				'module_class'		=> $module_data['class'],
-				'module_langname'	=> $module_data['title'],
-				'module_mode'		=> $module_mode,
-				'module_auth'		=> $module_data['auth'],
-			);
-
-			$_module->update_module_data($module_row, true);
-
-			// Ok, do we need to re-order the module, move it up or down?
-			if (!isset($module_data['after']))
-			{
-				continue;
-			}
-
-			$after_mode = $module_data['after'][0];
-			$after_langname = $module_data['after'][1];
-
-			// First of all, get the module id for the module this one has to be placed after
-			$sql = 'SELECT left_id
-				FROM ' . MODULES_TABLE . "
-				WHERE module_class = '" . $db->sql_escape($module_data['class']) . "'
-					AND module_basename = '" . $db->sql_escape($module_data['base']) . "'
-					AND module_langname = '" . $db->sql_escape($after_langname) . "'
-					AND module_mode = '" . $db->sql_escape($after_mode) . "'
-					AND parent_id = '{$parent_id}'";
-			$result = $db->sql_query($sql);
-			$first_left_id = (int) $db->sql_fetchfield('left_id');
-			$db->sql_freeresult($result);
-
-			if (!$first_left_id)
-			{
-				continue;
-			}
-
-			// Ok, count the number of modules between $after_mode and the added module
-			$sql = 'SELECT COUNT(module_id) as num_modules
-				FROM ' . MODULES_TABLE . "
-				WHERE module_class = '" . $db->sql_escape($module_data['class']) . "'
-					AND parent_id = {$parent_id}
-					AND left_id BETWEEN {$first_left_id} AND {$module_row['left_id']}";
-			$result = $db->sql_query($sql);
-			$steps = (int) $db->sql_fetchfield('num_modules');
-			$db->sql_freeresult($result);
-
-			// We need to substract 2
-			$steps -= 2;
-
-			if ($steps <= 0)
-			{
-				continue;
-			}
-
-			// Ok, move module up $num_modules times. ;)
-			$_module->move_module_by($module_row, 'move_up', $steps);
-		}
-	}
-
-	$_module->remove_cache_file();
-}
-
-/****************************************************************************
-* ADD YOUR DATABASE SCHEMA CHANGES HERE										*
-*****************************************************************************/
-function database_update_info()
-{
-	return array(
-		// Changes from 3.0.0 to the next version
-		'3.0.0'			=> array(
-			// Add the following columns
-			'add_columns'		=> array(
-				FORUMS_TABLE			=> array(
-					'display_subforum_list'		=> array('BOOL', 1),
-				),
-				SESSIONS_TABLE			=> array(
-					'session_forum_id'		=> array('UINT', 0),
-				),
-			),
-			'drop_keys'		=> array(
-				GROUPS_TABLE			=> array('group_legend'),
-			),
-			'add_index'		=> array(
-				SESSIONS_TABLE			=> array(
-					'session_forum_id'		=> array('session_forum_id'),
-				),
-				GROUPS_TABLE			=> array(
-					'group_legend_name'		=> array('group_legend', 'group_name'),
-				),
-			),
-		),
-		// No changes from 3.0.1-RC1 to 3.0.1
-		'3.0.1-RC1'		=> array(),
-		// No changes from 3.0.1 to 3.0.2-RC1
-		'3.0.1'			=> array(),
-		// Changes from 3.0.2-RC1 to 3.0.2-RC2
-		'3.0.2-RC1'		=> array(
-			'change_columns'	=> array(
-				DRAFTS_TABLE			=> array(
-					'draft_subject'		=> array('STEXT_UNI', ''),
-				),
-				FORUMS_TABLE	=> array(
-					'forum_last_post_subject' => array('STEXT_UNI', ''),
-				),
-				POSTS_TABLE		=> array(
-					'post_subject'			=> array('STEXT_UNI', '', 'true_sort'),
-				),
-				PRIVMSGS_TABLE	=> array(
-					'message_subject'		=> array('STEXT_UNI', ''),
-				),
-				TOPICS_TABLE	=> array(
-					'topic_title'				=> array('STEXT_UNI', '', 'true_sort'),
-					'topic_last_post_subject'	=> array('STEXT_UNI', ''),
-				),
-			),
-			'drop_keys'		=> array(
-				SESSIONS_TABLE			=> array('session_forum_id'),
-			),
-			'add_index'		=> array(
-				SESSIONS_TABLE			=> array(
-					'session_fid'		=> array('session_forum_id'),
-				),
-			),
-		),
-		// No changes from 3.0.2-RC2 to 3.0.2
-		'3.0.2-RC2'		=> array(),
-
-		// Changes from 3.0.2 to 3.0.3-RC1
-		'3.0.2'			=> array(
-			// Add the following columns
-			'add_columns'		=> array(
-				STYLES_TEMPLATE_TABLE			=> array(
-					'template_inherits_id'		=> array('UINT:4', 0),
-					'template_inherit_path'		=> array('VCHAR', ''),
-				),
-				GROUPS_TABLE					=> array(
-					'group_max_recipients'		=> array('UINT', 0),
-				),
-			),
-		),
-
-		// No changes from 3.0.3-RC1 to 3.0.3
-		'3.0.3-RC1'		=> array(),
-
-		// Changes from 3.0.3 to 3.0.4-RC1
-		'3.0.3'			=> array(
-			'add_columns'		=> array(
-				PROFILE_FIELDS_TABLE			=> array(
-					'field_show_profile'		=> array('BOOL', 0),
-				),
-			),
-			'change_columns'	=> array(
-				STYLES_TABLE				=> array(
-					'style_id'				=> array('UINT', NULL, 'auto_increment'),
-					'template_id'			=> array('UINT', 0),
-					'theme_id'				=> array('UINT', 0),
-					'imageset_id'			=> array('UINT', 0),
-				),
-				STYLES_IMAGESET_TABLE		=> array(
-					'imageset_id'				=> array('UINT', NULL, 'auto_increment'),
-				),
-				STYLES_IMAGESET_DATA_TABLE	=> array(
-					'image_id'				=> array('UINT', NULL, 'auto_increment'),
-					'imageset_id'			=> array('UINT', 0),
-				),
-				STYLES_THEME_TABLE			=> array(
-					'theme_id'				=> array('UINT', NULL, 'auto_increment'),
-				),
-				STYLES_TEMPLATE_TABLE		=> array(
-					'template_id'			=> array('UINT', NULL, 'auto_increment'),
-				),
-				STYLES_TEMPLATE_DATA_TABLE	=> array(
-					'template_id'			=> array('UINT', 0),
-				),
-				FORUMS_TABLE				=> array(
-					'forum_style'			=> array('UINT', 0),
-				),
-				USERS_TABLE					=> array(
-					'user_style'			=> array('UINT', 0),
-				),
-			),
-		),
-
-		// Changes from 3.0.4-RC1 to 3.0.4
-		'3.0.4-RC1'		=> array(),
-
-		// Changes from 3.0.4 to 3.0.5-RC1
-		'3.0.4'			=> array(
-			'change_columns'	=> array(
-				FORUMS_TABLE				=> array(
-					'forum_style'			=> array('UINT', 0),
-				),
-			),
-		),
-
-		// No changes from 3.0.5-RC1 to 3.0.5
-		'3.0.5-RC1'		=> array(),
-
-		// Changes from 3.0.5 to 3.0.6-RC1
-		'3.0.5'		=> array(
-			'add_columns'		=> array(
-				CONFIRM_TABLE			=> array(
-					'attempts'		=> array('UINT', 0),
-				),
-				USERS_TABLE			=> array(
-					'user_new'			=> array('BOOL', 1),
-					'user_reminded'		=> array('TINT:4', 0),
-					'user_reminded_time'=> array('TIMESTAMP', 0),
-				),
-				GROUPS_TABLE			=> array(
-					'group_skip_auth'		=> array('BOOL', 0, 'after' => 'group_founder_manage'),
-				),
-				PRIVMSGS_TABLE		=> array(
-					'message_reported'	=> array('BOOL', 0),
-				),
-				REPORTS_TABLE		=> array(
-					'pm_id'				=> array('UINT', 0),
-				),
-				PROFILE_FIELDS_TABLE			=> array(
-					'field_show_on_vt'		=> array('BOOL', 0),
-				),
-				FORUMS_TABLE		=> array(
-					'forum_options'			=> array('UINT:20', 0),
-				),
-			),
-			'change_columns'		=> array(
-				USERS_TABLE				=> array(
-					'user_options'		=> array('UINT:11', 230271),
-				),
-			),
-			'add_index'		=> array(
-				REPORTS_TABLE		=> array(
-					'post_id'		=> array('post_id'),
-					'pm_id'			=> array('pm_id'),
-				),
-				POSTS_TABLE			=> array(
-					'post_username'		=> array('post_username:255'),
-				),
-			),
-		),
-
-		// No changes from 3.0.6-RC1 to 3.0.6-RC2
-		'3.0.6-RC1'		=> array(),
-		// No changes from 3.0.6-RC2 to 3.0.6-RC3
-		'3.0.6-RC2'		=> array(),
-		// No changes from 3.0.6-RC3 to 3.0.6-RC4
-		'3.0.6-RC3'		=> array(),
-		// No changes from 3.0.6-RC4 to 3.0.6
-		'3.0.6-RC4'		=> array(),
-
-		// Changes from 3.0.6 to 3.0.7-RC1
-		'3.0.6'		=> array(
-			'drop_keys'		=> array(
-				LOG_TABLE			=> array('log_time'),
-			),
-			'add_index'		=> array(
-				TOPICS_TRACK_TABLE	=> array(
-					'topic_id'		=> array('topic_id'),
-				),
-			),
-		),
-
-		// No changes from 3.0.7-RC1 to 3.0.7-RC2
-		'3.0.7-RC1'		=> array(),
-		// No changes from 3.0.7-RC2 to 3.0.7
-		'3.0.7-RC2'		=> array(),
-		// No changes from 3.0.7 to 3.0.7-PL1
-		'3.0.7'		=> array(),
-		// No changes from 3.0.7-PL1 to 3.0.8-RC1
-		'3.0.7-PL1'		=> array(),
-		// No changes from 3.0.8-RC1 to 3.0.8
-		'3.0.8-RC1'		=> array(),
-		// Changes from 3.0.8 to 3.0.9-RC1
-		'3.0.8'			=> array(
-			'add_tables'		=> array(
-				LOGIN_ATTEMPT_TABLE	=> array(
-					'COLUMNS'			=> array(
-						// this column was removed from the database updater
-						// after 3.0.9-RC3 was released. It might still exist
-						// in 3.0.9-RCX installations and has to be dropped in
-						// 3.0.10 after the db_tools class is capable of properly
-						// removing a primary key.
-						// 'attempt_id'			=> array('UINT', NULL, 'auto_increment'),
-						'attempt_ip'			=> array('VCHAR:40', ''),
-						'attempt_browser'		=> array('VCHAR:150', ''),
-						'attempt_forwarded_for'	=> array('VCHAR:255', ''),
-						'attempt_time'			=> array('TIMESTAMP', 0),
-						'user_id'				=> array('UINT', 0),
-						'username'				=> array('VCHAR_UNI:255', 0),
-						'username_clean'		=> array('VCHAR_CI', 0),
-					),
-					//'PRIMARY_KEY'		=> 'attempt_id',
-					'KEYS'				=> array(
-						'att_ip'			=> array('INDEX', array('attempt_ip', 'attempt_time')),
-						'att_for'	=> array('INDEX', array('attempt_forwarded_for', 'attempt_time')),
-						'att_time'			=> array('INDEX', array('attempt_time')),
-						'user_id'				=> array('INDEX', 'user_id'),
-					),
-				),
-			),
-			'change_columns'	=> array(
-				BBCODES_TABLE	=> array(
-					'bbcode_id'	=> array('USINT', 0),
-				),
-			),
-		),
-		// No changes from 3.0.9-RC1 to 3.0.9-RC2
-		'3.0.9-RC1'		=> array(),
-		// No changes from 3.0.9-RC2 to 3.0.9-RC3
-		'3.0.9-RC2'		=> array(),
-		// No changes from 3.0.9-RC3 to 3.0.9-RC4
-		'3.0.9-RC3'     => array(),
-		// No changes from 3.0.9-RC4 to 3.0.9
-		'3.0.9-RC4'     => array(),
-
-		/** @todo DROP LOGIN_ATTEMPT_TABLE.attempt_id in 3.0.10-RC1 */
-	);
-}
-
-/****************************************************************************
-* ADD YOUR DATABASE DATA CHANGES HERE										*
-* REMEMBER: You NEED to enter a schema array above and a data array here,	*
-* even if both or one of them are empty.									*
-*****************************************************************************/
-function change_database_data(&$no_updates, $version)
-{
-	global $db, $errored, $error_ary, $config, $phpbb_root_path, $phpEx;
-
-	switch ($version)
-	{
-		case '3.0.0':
-
-			$sql = 'UPDATE ' . TOPICS_TABLE . "
-				SET topic_last_view_time = topic_last_post_time
-				WHERE topic_last_view_time = 0";
-			_sql($sql, $errored, $error_ary);
-
-			// Update smiley sizes
-			$smileys = array('icon_e_surprised.gif', 'icon_eek.gif', 'icon_cool.gif', 'icon_lol.gif', 'icon_mad.gif', 'icon_razz.gif', 'icon_redface.gif', 'icon_cry.gif', 'icon_evil.gif', 'icon_twisted.gif', 'icon_rolleyes.gif', 'icon_exclaim.gif', 'icon_question.gif', 'icon_idea.gif', 'icon_arrow.gif', 'icon_neutral.gif', 'icon_mrgreen.gif', 'icon_e_ugeek.gif');
-
-			foreach ($smileys as $smiley)
-			{
-				if (file_exists($phpbb_root_path . 'images/smilies/' . $smiley))
-				{
-					list($width, $height) = getimagesize($phpbb_root_path . 'images/smilies/' . $smiley);
-
-					$sql = 'UPDATE ' . SMILIES_TABLE . '
-						SET smiley_width = ' . $width . ', smiley_height = ' . $height . "
-						WHERE smiley_url = '" . $db->sql_escape($smiley) . "'";
-
-					_sql($sql, $errored, $error_ary);
-				}
-			}
-
-			$no_updates = false;
-		break;
-
-		// No changes from 3.0.1-RC1 to 3.0.1
-		case '3.0.1-RC1':
-		break;
-
-		// changes from 3.0.1 to 3.0.2-RC1
-		case '3.0.1':
-
-			set_config('referer_validation', '1');
-			set_config('check_attachment_content', '1');
-			set_config('mime_triggers', 'body|head|html|img|plaintext|a href|pre|script|table|title');
-
-			$no_updates = false;
-		break;
-
-		// No changes from 3.0.2-RC1 to 3.0.2-RC2
-		case '3.0.2-RC1':
-		break;
-
-		// No changes from 3.0.2-RC2 to 3.0.2
-		case '3.0.2-RC2':
-		break;
-
-		// Changes from 3.0.2 to 3.0.3-RC1
-		case '3.0.2':
-			set_config('enable_queue_trigger', '0');
-			set_config('queue_trigger_posts', '3');
-
-			set_config('pm_max_recipients', '0');
-
-			// Set maximum number of recipients for the registered users, bots, guests group
-			$sql = 'UPDATE ' . GROUPS_TABLE . ' SET group_max_recipients = 5
-				WHERE ' . $db->sql_in_set('group_name', array('GUESTS', 'REGISTERED', 'REGISTERED_COPPA', 'BOTS'));
-			_sql($sql, $errored, $error_ary);
-
-			// Not prefilling yet
-			set_config('dbms_version', '');
-
-			// Add new permission u_masspm_group and duplicate settings from u_masspm
-			include_once($phpbb_root_path . 'includes/acp/auth.' . $phpEx);
-			$auth_admin = new auth_admin();
-
-			// Only add the new permission if it does not already exist
-			if (empty($auth_admin->acl_options['id']['u_masspm_group']))
-			{
-				$auth_admin->acl_add_option(array('global' => array('u_masspm_group')));
-
-				// Now the tricky part, filling the permission
-				$old_id = $auth_admin->acl_options['id']['u_masspm'];
-				$new_id = $auth_admin->acl_options['id']['u_masspm_group'];
-
-				$tables = array(ACL_GROUPS_TABLE, ACL_ROLES_DATA_TABLE, ACL_USERS_TABLE);
-
-				foreach ($tables as $table)
-				{
-					$sql = 'SELECT *
-						FROM ' . $table . '
-						WHERE auth_option_id = ' . $old_id;
-					$result = _sql($sql, $errored, $error_ary);
-
-					$sql_ary = array();
-					while ($row = $db->sql_fetchrow($result))
-					{
-						$row['auth_option_id'] = $new_id;
-						$sql_ary[] = $row;
-					}
-					$db->sql_freeresult($result);
-
-					if (sizeof($sql_ary))
-					{
-						$db->sql_multi_insert($table, $sql_ary);
-					}
-				}
-
-				// Remove any old permission entries
-				$auth_admin->acl_clear_prefetch();
-			}
-
-			/**
-			* Do not resync post counts here. An admin may do this later from the ACP
-			$start = 0;
-			$step = ($config['num_posts']) ? (max((int) ($config['num_posts'] / 5), 20000)) : 20000;
-
-			$sql = 'UPDATE ' . USERS_TABLE . ' SET user_posts = 0';
-			_sql($sql, $errored, $error_ary);
-
-			do
-			{
-				$sql = 'SELECT COUNT(post_id) AS num_posts, poster_id
-					FROM ' . POSTS_TABLE . '
-					WHERE post_id BETWEEN ' . ($start + 1) . ' AND ' . ($start + $step) . '
-						AND post_postcount = 1 AND post_approved = 1
-					GROUP BY poster_id';
-				$result = _sql($sql, $errored, $error_ary);
-
-				if ($row = $db->sql_fetchrow($result))
-				{
-					do
-					{
-						$sql = 'UPDATE ' . USERS_TABLE . " SET user_posts = user_posts + {$row['num_posts']} WHERE user_id = {$row['poster_id']}";
-						_sql($sql, $errored, $error_ary);
-					}
-					while ($row = $db->sql_fetchrow($result));
-
-					$start += $step;
-				}
-				else
-				{
-					$start = 0;
-				}
-				$db->sql_freeresult($result);
-			}
-			while ($start);
-			*/
-
-			$sql = 'UPDATE ' . MODULES_TABLE . '
-				SET module_auth = \'acl_a_email && cfg_email_enable\'
-				WHERE module_class = \'acp\'
-					AND module_basename = \'email\'';
-			_sql($sql, $errored, $error_ary);
-
-			$no_updates = false;
-		break;
-
-		// Changes from 3.0.3-RC1 to 3.0.3
-		case '3.0.3-RC1':
-			if ($db->sql_layer == 'oracle')
-			{
-				// log_operation is CLOB - but we can change this later
-				$sql = 'UPDATE ' . LOG_TABLE . "
-					SET log_operation = 'LOG_DELETE_TOPIC'
-					WHERE log_operation LIKE 'LOG_TOPIC_DELETED'";
-				_sql($sql, $errored, $error_ary);
-			}
-			else
-			{
-				$sql = 'UPDATE ' . LOG_TABLE . "
-					SET log_operation = 'LOG_DELETE_TOPIC'
-					WHERE log_operation = 'LOG_TOPIC_DELETED'";
-				_sql($sql, $errored, $error_ary);
-			}
-
-			$no_updates = false;
-		break;
-
-		// Changes from 3.0.3 to 3.0.4-RC1
-		case '3.0.3':
-			// Update the Custom Profile Fields based on previous settings to the new format
-			$sql = 'SELECT field_id, field_required, field_show_on_reg, field_hide
-					FROM ' . PROFILE_FIELDS_TABLE;
-			$result = _sql($sql, $errored, $error_ary);
-
-			while ($row = $db->sql_fetchrow($result))
-			{
-				$sql_ary = array(
-					'field_required'	=> 0,
-					'field_show_on_reg'	=> 0,
-					'field_hide'		=> 0,
-					'field_show_profile'=> 0,
-				);
-
-				if ($row['field_required'])
-				{
-					$sql_ary['field_required'] = $sql_ary['field_show_on_reg'] = $sql_ary['field_show_profile'] = 1;
-				}
-				else if ($row['field_show_on_reg'])
-				{
-					$sql_ary['field_show_on_reg'] = $sql_ary['field_show_profile'] = 1;
-				}
-				else if ($row['field_hide'])
-				{
-					// Only administrators and moderators can see this CPF, if the view is enabled, they can see it, otherwise just admins in the acp_users module
-					$sql_ary['field_hide'] = 1;
-				}
-				else
-				{
-					// equivelant to "none", which is the "Display in user control panel" option
-					$sql_ary['field_show_profile'] = 1;
-				}
-
-				_sql('UPDATE ' . PROFILE_FIELDS_TABLE . ' SET ' . $db->sql_build_array('UPDATE', $sql_ary) . ' WHERE field_id = ' . $row['field_id'], $errored, $error_ary);
-			}
-			$no_updates = false;
-
-		break;
-
-		// Changes from 3.0.4-RC1 to 3.0.4
-		case '3.0.4-RC1':
-		break;
-
-		// Changes from 3.0.4 to 3.0.5-RC1
-		case '3.0.4':
-
-			// Captcha config variables
-			set_config('captcha_gd_wave', 0);
-			set_config('captcha_gd_3d_noise', 1);
-			set_config('captcha_gd_fonts', 1);
-			set_config('confirm_refresh', 1);
-
-			// Maximum number of keywords
-			set_config('max_num_search_keywords', 10);
-
-			// Remove static config var and put it back as dynamic variable
-			$sql = 'UPDATE ' . CONFIG_TABLE . "
-				SET is_dynamic = 1
-				WHERE config_name = 'search_indexing_state'";
-			_sql($sql, $errored, $error_ary);
-
-			// Hash old MD5 passwords
-			$sql = 'SELECT user_id, user_password
-					FROM ' . USERS_TABLE . '
-					WHERE user_pass_convert = 1';
-			$result = _sql($sql, $errored, $error_ary);
-
-			while ($row = $db->sql_fetchrow($result))
-			{
-				if (strlen($row['user_password']) == 32)
-				{
-					$sql_ary = array(
-						'user_password'	=> phpbb_hash($row['user_password']),
-					);
-
-					_sql('UPDATE ' . USERS_TABLE . ' SET ' . $db->sql_build_array('UPDATE', $sql_ary) . ' WHERE user_id = ' . $row['user_id'], $errored, $error_ary);
-				}
-			}
-			$db->sql_freeresult($result);
-
-			// Adjust bot entry
-			$sql = 'UPDATE ' . BOTS_TABLE . "
-				SET bot_agent = 'ichiro/'
-				WHERE bot_agent = 'ichiro/2'";
-			_sql($sql, $errored, $error_ary);
-
-
-			// Before we are able to add a unique key to auth_option, we need to remove duplicate entries
-
-			// We get duplicate entries first
-			$sql = 'SELECT auth_option
-				FROM ' . ACL_OPTIONS_TABLE . '
-				GROUP BY auth_option
-				HAVING COUNT(*) >= 2';
-			$result = $db->sql_query($sql);
-
-			$auth_options = array();
-			while ($row = $db->sql_fetchrow($result))
-			{
-				$auth_options[] = $row['auth_option'];
-			}
-			$db->sql_freeresult($result);
-
-			// Remove specific auth options
-			if (!empty($auth_options))
-			{
-				foreach ($auth_options as $option)
-				{
-					// Select auth_option_ids... the largest id will be preserved
-					$sql = 'SELECT auth_option_id
-						FROM ' . ACL_OPTIONS_TABLE . "
-						WHERE auth_option = '" . $db->sql_escape($option) . "'
-						ORDER BY auth_option_id DESC";
-					// sql_query_limit not possible here, due to bug in postgresql layer
-					$result = $db->sql_query($sql);
-
-					// Skip first row, this is our original auth option we want to preserve
-					$row = $db->sql_fetchrow($result);
-
-					while ($row = $db->sql_fetchrow($result))
-					{
-						// Ok, remove this auth option...
-						_sql('DELETE FROM ' . ACL_OPTIONS_TABLE . ' WHERE auth_option_id = ' . $row['auth_option_id'], $errored, $error_ary);
-						_sql('DELETE FROM ' . ACL_ROLES_DATA_TABLE . ' WHERE auth_option_id = ' . $row['auth_option_id'], $errored, $error_ary);
-						_sql('DELETE FROM ' . ACL_GROUPS_TABLE . ' WHERE auth_option_id = ' . $row['auth_option_id'], $errored, $error_ary);
-						_sql('DELETE FROM ' . ACL_USERS_TABLE . ' WHERE auth_option_id = ' . $row['auth_option_id'], $errored, $error_ary);
-					}
-					$db->sql_freeresult($result);
-				}
-			}
-
-			// Now make auth_option UNIQUE, by dropping the old index and adding a UNIQUE one.
-			$changes = array(
-				'drop_keys'			=> array(
-					ACL_OPTIONS_TABLE		=> array('auth_option'),
-				),
-			);
-
-			global $db_tools;
-
-			$statements = $db_tools->perform_schema_changes($changes);
-
-			foreach ($statements as $sql)
-			{
-				_sql($sql, $errored, $error_ary);
-			}
-
-			$changes = array(
-				'add_unique_index'	=> array(
-					ACL_OPTIONS_TABLE		=> array(
-						'auth_option'		=> array('auth_option'),
-					),
-				),
-			);
-
-			$statements = $db_tools->perform_schema_changes($changes);
-
-			foreach ($statements as $sql)
-			{
-				_sql($sql, $errored, $error_ary);
-			}
-
-			$no_updates = false;
-
-		break;
-
-		// No changes from 3.0.5-RC1 to 3.0.5
-		case '3.0.5-RC1':
-		break;
-
-		// Changes from 3.0.5 to 3.0.6-RC1
-		case '3.0.5':
-			// Let's see if the GD Captcha can be enabled... we simply look for what *is* enabled...
-			if (!empty($config['captcha_gd']) && !isset($config['captcha_plugin']))
-			{
-				set_config('captcha_plugin', 'phpbb_captcha_gd');
-			}
-			else if (!isset($config['captcha_plugin']))
-			{
-				set_config('captcha_plugin', 'phpbb_captcha_nogd');
-			}
-
-			// Entries for the Feed Feature
-			set_config('feed_enable', '0');
-			set_config('feed_limit', '10');
-
-			set_config('feed_overall_forums', '1');
-			set_config('feed_overall_forums_limit', '15');
-
-			set_config('feed_overall_topics', '0');
-			set_config('feed_overall_topics_limit', '15');
-
-			set_config('feed_forum', '1');
-			set_config('feed_topic', '1');
-			set_config('feed_item_statistics', '1');
-
-			// Entries for smiley pagination
-			set_config('smilies_per_page', '50');
-
-			// Entry for reporting PMs
-			set_config('allow_pm_report', '1');
-
-			// Install modules
-			$modules_to_install = array(
-				'feed'					=> array(
-					'base'		=> 'board',
-					'class'		=> 'acp',
-					'title'		=> 'ACP_FEED_SETTINGS',
-					'auth'		=> 'acl_a_board',
-					'cat'		=> 'ACP_BOARD_CONFIGURATION',
-					'after'		=> array('signature', 'ACP_SIGNATURE_SETTINGS')
-				),
-				'warnings'				=> array(
-					'base'		=> 'users',
-					'class'		=> 'acp',
-					'title'		=> 'ACP_USER_WARNINGS',
-					'auth'		=> 'acl_a_user',
-					'display'	=> 0,
-					'cat'		=> 'ACP_CAT_USERS',
-					'after'		=> array('feedback', 'ACP_USER_FEEDBACK')
-				),
-				'send_statistics'		=> array(
-					'base'		=> 'send_statistics',
-					'class'		=> 'acp',
-					'title'		=> 'ACP_SEND_STATISTICS',
-					'auth'		=> 'acl_a_server',
-					'cat'		=> 'ACP_SERVER_CONFIGURATION'
-				),
-				'setting_forum_copy'	=> array(
-					'base'		=> 'permissions',
-					'class'		=> 'acp',
-					'title'		=> 'ACP_FORUM_PERMISSIONS_COPY',
-					'auth'		=> 'acl_a_fauth && acl_a_authusers && acl_a_authgroups && acl_a_mauth',
-					'cat'		=> 'ACP_FORUM_BASED_PERMISSIONS',
-					'after'		=> array('setting_forum_local', 'ACP_FORUM_PERMISSIONS')
-				),
-				'pm_reports'			=> array(
-					'base'		=> 'pm_reports',
-					'class'		=> 'mcp',
-					'title'		=> 'MCP_PM_REPORTS_OPEN',
-					'auth'		=> 'aclf_m_report',
-					'cat'		=> 'MCP_REPORTS'
-				),
-				'pm_reports_closed'		=> array(
-					'base'		=> 'pm_reports',
-					'class'		=> 'mcp',
-					'title'		=> 'MCP_PM_REPORTS_CLOSED',
-					'auth'		=> 'aclf_m_report',
-					'cat'		=> 'MCP_REPORTS'
-				),
-				'pm_report_details'		=> array(
-					'base'		=> 'pm_reports',
-					'class'		=> 'mcp',
-					'title'		=> 'MCP_PM_REPORT_DETAILS',
-					'auth'		=> 'aclf_m_report',
-					'cat'		=> 'MCP_REPORTS'
-				),
-			);
-
-			_add_modules($modules_to_install);
-
-			// Add newly_registered group... but check if it already exists (we always supported running the updater on any schema)
-			$sql = 'SELECT group_id
-				FROM ' . GROUPS_TABLE . "
-				WHERE group_name = 'NEWLY_REGISTERED'";
-			$result = $db->sql_query($sql);
-			$group_id = (int) $db->sql_fetchfield('group_id');
-			$db->sql_freeresult($result);
-
-			if (!$group_id)
-			{
-				$sql = 'INSERT INTO ' .  GROUPS_TABLE . " (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('NEWLY_REGISTERED', 3, 0, '', 0, '', '', '', 5)";
-				_sql($sql, $errored, $error_ary);
-
-				$group_id = $db->sql_nextid();
-			}
-
-			// Insert new user role... at the end of the chain
-			$sql = 'SELECT role_id
-				FROM ' . ACL_ROLES_TABLE . "
-				WHERE role_name = 'ROLE_USER_NEW_MEMBER'
-					AND role_type = 'u_'";
-			$result = $db->sql_query($sql);
-			$u_role = (int) $db->sql_fetchfield('role_id');
-			$db->sql_freeresult($result);
-
-			if (!$u_role)
-			{
-				$sql = 'SELECT MAX(role_order) as max_order_id
-					FROM ' . ACL_ROLES_TABLE . "
-					WHERE role_type = 'u_'";
-				$result = $db->sql_query($sql);
-				$next_order_id = (int) $db->sql_fetchfield('max_order_id');
-				$db->sql_freeresult($result);
-
-				$next_order_id++;
-
-				$sql = 'INSERT INTO ' . ACL_ROLES_TABLE . " (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_NEW_MEMBER', 'ROLE_DESCRIPTION_USER_NEW_MEMBER', 'u_', $next_order_id)";
-				_sql($sql, $errored, $error_ary);
-				$u_role = $db->sql_nextid();
-
-				if (!$errored)
-				{
-					// Now add the correct data to the roles...
-					// The standard role says that new users are not able to send a PM, Mass PM, are not able to PM groups
-					$sql = 'INSERT INTO ' . ACL_ROLES_DATA_TABLE . " (role_id, auth_option_id, auth_setting) SELECT $u_role, auth_option_id, 0 FROM " . ACL_OPTIONS_TABLE . " WHERE auth_option LIKE 'u_%' AND auth_option IN ('u_sendpm', 'u_masspm', 'u_masspm_group')";
-					_sql($sql, $errored, $error_ary);
-
-					// Add user role to group
-					$sql = 'INSERT INTO ' . ACL_GROUPS_TABLE . " (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES ($group_id, 0, 0, $u_role, 0)";
-					_sql($sql, $errored, $error_ary);
-				}
-			}
-
-			// Insert new forum role
-			$sql = 'SELECT role_id
-				FROM ' . ACL_ROLES_TABLE . "
-				WHERE role_name = 'ROLE_FORUM_NEW_MEMBER'
-					AND role_type = 'f_'";
-			$result = $db->sql_query($sql);
-			$f_role = (int) $db->sql_fetchfield('role_id');
-			$db->sql_freeresult($result);
-
-			if (!$f_role)
-			{
-				$sql = 'SELECT MAX(role_order) as max_order_id
-					FROM ' . ACL_ROLES_TABLE . "
-					WHERE role_type = 'f_'";
-				$result = $db->sql_query($sql);
-				$next_order_id = (int) $db->sql_fetchfield('max_order_id');
-				$db->sql_freeresult($result);
-
-				$next_order_id++;
-
-				$sql = 'INSERT INTO ' . ACL_ROLES_TABLE . " (role_name, role_description, role_type, role_order) VALUES  ('ROLE_FORUM_NEW_MEMBER', 'ROLE_DESCRIPTION_FORUM_NEW_MEMBER', 'f_', $next_order_id)";
-				_sql($sql, $errored, $error_ary);
-				$f_role = $db->sql_nextid();
-
-				if (!$errored)
-				{
-					$sql = 'INSERT INTO ' . ACL_ROLES_DATA_TABLE . " (role_id, auth_option_id, auth_setting) SELECT $f_role, auth_option_id, 0 FROM " . ACL_OPTIONS_TABLE . " WHERE auth_option LIKE 'f_%' AND auth_option IN ('f_noapprove')";
-					_sql($sql, $errored, $error_ary);
-				}
-			}
-
-			// Set every members user_new column to 0 (old users) only if there is no one yet (this makes sure we do not execute this more than once)
-			$sql = 'SELECT 1
-				FROM ' . USERS_TABLE . '
-				WHERE user_new = 0';
-			$result = $db->sql_query_limit($sql, 1);
-			$row = $db->sql_fetchrow($result);
-			$db->sql_freeresult($result);
-
-			if (!$row)
-			{
-				$sql = 'UPDATE ' . USERS_TABLE . ' SET user_new = 0';
-				_sql($sql, $errored, $error_ary);
-			}
-
-			// Newly registered users limit
-			if (!isset($config['new_member_post_limit']))
-			{
-				set_config('new_member_post_limit', (!empty($config['enable_queue_trigger'])) ? $config['queue_trigger_posts'] : 0);
-			}
-
-			if (!isset($config['new_member_group_default']))
-			{
-				set_config('new_member_group_default', 0);
-			}
-
-			// To mimick the old "feature" we will assign the forum role to every forum, regardless of the setting (this makes sure there are no "this does not work!!!! YUO!!!" posts...
-			// Check if the role is already assigned...
-			$sql = 'SELECT forum_id
-				FROM ' . ACL_GROUPS_TABLE . '
-				WHERE group_id = ' . $group_id . '
-					AND auth_role_id = ' . $f_role;
-			$result = $db->sql_query($sql);
-			$is_options = (int) $db->sql_fetchfield('forum_id');
-			$db->sql_freeresult($result);
-
-			// Not assigned at all... :/
-			if (!$is_options)
-			{
-				// Get postable forums
-				$sql = 'SELECT forum_id
-					FROM ' . FORUMS_TABLE . '
-					WHERE forum_type != ' . FORUM_LINK;
-				$result = $db->sql_query($sql);
-
-				while ($row = $db->sql_fetchrow($result))
-				{
-					_sql('INSERT INTO ' . ACL_GROUPS_TABLE . ' (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (' . $group_id . ', ' . (int) $row['forum_id'] . ', 0, ' . $f_role . ', 0)', $errored, $error_ary);
-				}
-				$db->sql_freeresult($result);
-			}
-
-			// Clear permissions...
-			include_once($phpbb_root_path . 'includes/acp/auth.' . $phpEx);
-			$auth_admin = new auth_admin();
-			$auth_admin->acl_clear_prefetch();
-
-			if (!isset($config['allow_avatar']))
-			{
-				if ($config['allow_avatar_upload'] || $config['allow_avatar_local'] || $config['allow_avatar_remote'])
-				{
-					set_config('allow_avatar', '1');
-				}
-				else
-				{
-					set_config('allow_avatar', '0');
-				}
-			}
-
-			if (!isset($config['allow_avatar_remote_upload']))
-			{
-				if ($config['allow_avatar_remote'] && $config['allow_avatar_upload'])
-				{
-					set_config('allow_avatar_remote_upload', '1');
-				}
-				else
-				{
-					set_config('allow_avatar_remote_upload', '0');
-				}
-			}
-
-			// Minimum number of characters
-			if (!isset($config['min_post_chars']))
-			{
-				set_config('min_post_chars', '1');
-			}
-
-			if (!isset($config['allow_quick_reply']))
-			{
-				set_config('allow_quick_reply', '1');
-			}
-
-			// Set every members user_options column to enable
-			// bbcode, smilies and URLs for signatures by default
-			$sql = 'SELECT user_options
-				FROM ' . USERS_TABLE . '
-				WHERE user_type IN (' . USER_NORMAL . ', ' . USER_FOUNDER . ')';
-			$result = $db->sql_query_limit($sql, 1);
-			$user_option = (int) $db->sql_fetchfield('user_options');
-			$db->sql_freeresult($result);
-
-			// Check if we already updated the database by checking bit 15 which we used to store the sig_bbcode option
-			if (!($user_option & 1 << 15))
-			{
-				// 229376 is the added value to enable all three signature options
-				$sql = 'UPDATE ' . USERS_TABLE . ' SET user_options = user_options + 229376';
-				_sql($sql, $errored, $error_ary);
-			}
-
-			if (!isset($config['delete_time']))
-			{
-				set_config('delete_time', $config['edit_time']);
-			}
-
-			$no_updates = false;
-		break;
-
-		// No changes from 3.0.6-RC1 to 3.0.6-RC2
-		case '3.0.6-RC1':
-		break;
-
-		// Changes from 3.0.6-RC2 to 3.0.6-RC3
-		case '3.0.6-RC2':
-
-			// Update the Custom Profile Fields based on previous settings to the new format
-			$sql = 'UPDATE ' . PROFILE_FIELDS_TABLE . '
-				SET field_show_on_vt = 1
-				WHERE field_hide = 0
-					AND (field_required = 1 OR field_show_on_reg = 1 OR field_show_profile = 1)';
-			_sql($sql, $errored, $error_ary);
-			$no_updates = false;
-
-		break;
-
-		// No changes from 3.0.6-RC3 to 3.0.6-RC4
-		case '3.0.6-RC3':
-		break;
-
-		// No changes from 3.0.6-RC4 to 3.0.6
-		case '3.0.6-RC4':
-		break;
-
-		// Changes from 3.0.6 to 3.0.7-RC1
-		case '3.0.6':
-
-			// ATOM Feeds
-			set_config('feed_overall', '1');
-			set_config('feed_http_auth', '0');
-			set_config('feed_limit_post', (string) (isset($config['feed_limit']) ? (int) $config['feed_limit'] : 15));
-			set_config('feed_limit_topic', (string) (isset($config['feed_overall_topics_limit']) ? (int) $config['feed_overall_topics_limit'] : 10));
-			set_config('feed_topics_new', (!empty($config['feed_overall_topics']) ? '1' : '0'));
-			set_config('feed_topics_active', (!empty($config['feed_overall_topics']) ? '1' : '0'));
-
-			// Delete all text-templates from the template_data
-			$sql = 'DELETE FROM ' . STYLES_TEMPLATE_DATA_TABLE . '
-				WHERE template_filename ' . $db->sql_like_expression($db->any_char . '.txt');
-			_sql($sql, $errored, $error_ary);
-
-			$no_updates = false;
-		break;
-
-		// Changes from 3.0.7-RC1 to 3.0.7-RC2
-		case '3.0.7-RC1':
-
-			$sql = 'SELECT user_id, user_email, user_email_hash
-				FROM ' . USERS_TABLE . '
-				WHERE user_type <> ' . USER_IGNORE . "
-					AND user_email <> ''";
-			$result = $db->sql_query($sql);
-
-			$i = 0;
-			while ($row = $db->sql_fetchrow($result))
-			{
-				// Snapshot of the phpbb_email_hash() function
-				// We cannot call it directly because the auto updater updates the DB first. :/
-				$user_email_hash = sprintf('%u', crc32(strtolower($row['user_email']))) . strlen($row['user_email']);
-
-				if ($user_email_hash != $row['user_email_hash'])
-				{
-					$sql_ary = array(
-						'user_email_hash'	=> $user_email_hash,
-					);
-
-					$sql = 'UPDATE ' . USERS_TABLE . '
-						SET ' . $db->sql_build_array('UPDATE', $sql_ary) . '
-						WHERE user_id = ' . (int) $row['user_id'];
-					_sql($sql, $errored, $error_ary, ($i % 100 == 0));
-
-					++$i;
-				}
-			}
-			$db->sql_freeresult($result);
-
-			$no_updates = false;
-
-		break;
-
-		// No changes from 3.0.7-RC2 to 3.0.7
-		case '3.0.7-RC2':
-		break;
-
-		// No changes from 3.0.7 to 3.0.7-PL1
-		case '3.0.7':
-		break;
-
-		// Changes from 3.0.7-PL1 to 3.0.8-RC1
-		case '3.0.7-PL1':
-			// Update file extension group names to use language strings.
-			$sql = 'SELECT lang_dir
-				FROM ' . LANG_TABLE;
-			$result = $db->sql_query($sql);
-
-			$extension_groups_updated = array();
-			while ($lang_dir = $db->sql_fetchfield('lang_dir'))
-			{
-				$lang_dir = basename($lang_dir);
-
-				// The language strings we need are either in language/.../acp/attachments.php
-				// in the update package if we're updating to 3.0.8-RC1 or later,
-				// or they are in language/.../install.php when we're updating from 3.0.7-PL1 or earlier.
-				// On an already updated board, they can also already be in language/.../acp/attachments.php
-				// in the board root.
-				$lang_files = array(
-					"{$phpbb_root_path}install/update/new/language/$lang_dir/acp/attachments.$phpEx",
-					"{$phpbb_root_path}language/$lang_dir/install.$phpEx",
-					"{$phpbb_root_path}language/$lang_dir/acp/attachments.$phpEx",
-				);
-
-				foreach ($lang_files as $lang_file)
-				{
-					if (!file_exists($lang_file))
-					{
-						continue;
-					}
-
-					$lang = array();
-					include($lang_file);
-
-					foreach($lang as $lang_key => $lang_val)
-					{
-						if (isset($extension_groups_updated[$lang_key]) || strpos($lang_key, 'EXT_GROUP_') !== 0)
-						{
-							continue;
-						}
-
-						$sql_ary = array(
-							'group_name'	=> substr($lang_key, 10), // Strip off 'EXT_GROUP_'
-						);
-
-						$sql = 'UPDATE ' . EXTENSION_GROUPS_TABLE . '
-							SET ' . $db->sql_build_array('UPDATE', $sql_ary) . "
-							WHERE group_name = '" . $db->sql_escape($lang_val) . "'";
-						_sql($sql, $errored, $error_ary);
-
-						$extension_groups_updated[$lang_key] = true;
-					}
-				}
-			}
-			$db->sql_freeresult($result);
-
-			// Install modules
-			$modules_to_install = array(
-				'post'					=> array(
-					'base'		=> 'board',
-					'class'		=> 'acp',
-					'title'		=> 'ACP_POST_SETTINGS',
-					'auth'		=> 'acl_a_board',
-					'cat'		=> 'ACP_MESSAGES',
-					'after'		=> array('message', 'ACP_MESSAGE_SETTINGS')
-				),
-			);
-
-			_add_modules($modules_to_install);
-
-			// update
-			$sql = 'UPDATE ' . MODULES_TABLE . '
-				SET module_auth = \'cfg_allow_avatar && (cfg_allow_avatar_local || cfg_allow_avatar_remote || cfg_allow_avatar_upload || cfg_allow_avatar_remote_upload)\'
-				WHERE module_class = \'ucp\'
-					AND module_basename = \'profile\'
-					AND module_mode = \'avatar\'';
-			_sql($sql, $errored, $error_ary);
-
-			// add Bing Bot
-			$bot_name = 'Bing [Bot]';
-			$bot_name_clean = utf8_clean_string($bot_name);
-
-			$sql = 'SELECT user_id
-				FROM ' . USERS_TABLE . "
-				WHERE username_clean = '" . $db->sql_escape($bot_name_clean) . "'";
-			$result = $db->sql_query($sql);
-			$bing_already_added = (bool) $db->sql_fetchfield('user_id');
-			$db->sql_freeresult($result);
-
-			if (!$bing_already_added)
-			{
-				$bot_agent = 'bingbot/';
-				$bot_ip = '';
-				$sql = 'SELECT group_id, group_colour
-					FROM ' . GROUPS_TABLE . "
-					WHERE group_name = 'BOTS'";
-				$result = $db->sql_query($sql);
-				$group_row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				if (!$group_row)
-				{
-					// default fallback, should never get here
-					$group_row['group_id'] = 6;
-					$group_row['group_colour'] = '9E8DA7';
-				}
-
-				if (!function_exists('user_add'))
-				{
-					include($phpbb_root_path . 'includes/functions_user.' . $phpEx);
-				}
-
-				$user_row = array(
-					'user_type'				=> USER_IGNORE,
-					'group_id'				=> $group_row['group_id'],
-					'username'				=> $bot_name,
-					'user_regdate'			=> time(),
-					'user_password'			=> '',
-					'user_colour'			=> $group_row['group_colour'],
-					'user_email'			=> '',
-					'user_lang'				=> $config['default_lang'],
-					'user_style'			=> $config['default_style'],
-					'user_timezone'			=> 0,
-					'user_dateformat'		=> $config['default_dateformat'],
-					'user_allow_massemail'	=> 0,
-				);
-
-				$user_id = user_add($user_row);
-
-				$sql = 'INSERT INTO ' . BOTS_TABLE . ' ' . $db->sql_build_array('INSERT', array(
-					'bot_active'	=> 1,
-					'bot_name'		=> (string) $bot_name,
-					'user_id'		=> (int) $user_id,
-					'bot_agent'		=> (string) $bot_agent,
-					'bot_ip'		=> (string) $bot_ip,
-				));
-
-				_sql($sql, $errored, $error_ary);
-			}
-			// end Bing Bot addition
-
-			// Delete shadow topics pointing to not existing topics
-			$batch_size = 500;
-
-			// Set of affected forums we have to resync
-			$sync_forum_ids = array();
-
-			do
-			{
-				$sql_array = array(
-					'SELECT'	=> 't1.topic_id, t1.forum_id',
-					'FROM'		=> array(
-						TOPICS_TABLE	=> 't1',
-					),
-					'LEFT_JOIN'	=> array(
-						array(
-							'FROM'	=> array(TOPICS_TABLE	=> 't2'),
-							'ON'	=> 't1.topic_moved_id = t2.topic_id',
-						),
-					),
-					'WHERE'		=> 't1.topic_moved_id <> 0
-								AND t2.topic_id IS NULL',
-				);
-				$sql = $db->sql_build_query('SELECT', $sql_array);
-				$result = $db->sql_query_limit($sql, $batch_size);
-
-				$topic_ids = array();
-				while ($row = $db->sql_fetchrow($result))
-				{
-					$topic_ids[] = (int) $row['topic_id'];
-
-					$sync_forum_ids[(int) $row['forum_id']] = (int) $row['forum_id'];
-				}
-				$db->sql_freeresult($result);
-
-				if (!empty($topic_ids))
-				{
-					$sql = 'DELETE FROM ' . TOPICS_TABLE . '
-						WHERE ' . $db->sql_in_set('topic_id', $topic_ids);
-					$db->sql_query($sql);
-				}
-			}
-			while (sizeof($topic_ids) == $batch_size);
-
-			// Sync the forums we have deleted shadow topics from.
-			sync('forum', 'forum_id', $sync_forum_ids, true, true);
-
-			// Unread posts search load switch
-			set_config('load_unreads_search', '1');
-
-			// Reduce queue interval to 60 seconds, email package size to 20
-			if ($config['queue_interval'] == 600)
-			{
-				set_config('queue_interval', '60');
-			}
-
-			if ($config['email_package_size'] == 50)
-			{
-				set_config('email_package_size', '20');
-			}
-
-			$no_updates = false;
-		break;
-
-		// No changes from 3.0.8-RC1 to 3.0.8
-		case '3.0.8-RC1':
-		break;
-
-		// Changes from 3.0.8 to 3.0.9-RC1
-		case '3.0.8':
-			set_config('ip_login_limit_max', '50');
-			set_config('ip_login_limit_time', '21600');
-			set_config('ip_login_limit_use_forwarded', '0');
-
-			// Update file extension group names to use language strings, again.
-			$sql = 'SELECT group_id, group_name
-				FROM ' . EXTENSION_GROUPS_TABLE . '
-				WHERE group_name ' . $db->sql_like_expression('EXT_GROUP_' . $db->any_char);
-			$result = $db->sql_query($sql);
-
-			while ($row = $db->sql_fetchrow($result))
-			{
-				$sql_ary = array(
-					'group_name'	=> substr($row['group_name'], 10), // Strip off 'EXT_GROUP_'
-				);
-
-				$sql = 'UPDATE ' . EXTENSION_GROUPS_TABLE . '
-					SET ' . $db->sql_build_array('UPDATE', $sql_ary) . '
-					WHERE group_id = ' . $row['group_id'];
-				_sql($sql, $errored, $error_ary);
-			}
-			$db->sql_freeresult($result);
-
-			global $db_tools, $table_prefix;
-
-			// Recover from potentially broken Q&A CAPTCHA table on firebird
-			// Q&A CAPTCHA was uninstallable, so it's safe to remove these
-			// without data loss
-			if ($db_tools->sql_layer == 'firebird')
-			{
-				$tables = array(
-					$table_prefix . 'captcha_questions',
-					$table_prefix . 'captcha_answers',
-					$table_prefix . 'qa_confirm',
-				);
-				foreach ($tables as $table)
-				{
-					if ($db_tools->sql_table_exists($table))
-					{
-						$db_tools->sql_table_drop($table);
-					}
-				}
-			}
-
-			$no_updates = false;
-		break;
-
-		// No changes from 3.0.9-RC1 to 3.0.9-RC2
-		case '3.0.9-RC1':
-		break;
-
-		// No changes from 3.0.9-RC2 to 3.0.9-RC3
-		case '3.0.9-RC2':
-		break;
-
-		// No changes from 3.0.9-RC3 to 3.0.9-RC4
-		case '3.0.9-RC3':
-		break;
-
-		// No changes from 3.0.9-RC4 to 3.0.9
-		case '3.0.9-RC4':
-		break;
-	}
-}
-
-
-/**
-* Database Tools for handling cross-db actions such as altering columns, etc.
-* Currently not supported is returning SQL for creating tables.
-*
-* @package dbal
-*/
-class updater_db_tools
-{
-	/**
-	* Current sql layer
-	*/
-	var $sql_layer = '';
-
-	/**
-	* @var object DB object
-	*/
-	var $db = NULL;
-
-	/**
-	* The Column types for every database we support
-	* @var array
-	*/
-	var $dbms_type_map = array(
-		'mysql_41'	=> array(
-			'INT:'		=> 'int(%d)',
-			'BINT'		=> 'bigint(20)',
-			'UINT'		=> 'mediumint(8) UNSIGNED',
-			'UINT:'		=> 'int(%d) UNSIGNED',
-			'TINT:'		=> 'tinyint(%d)',
-			'USINT'		=> 'smallint(4) UNSIGNED',
-			'BOOL'		=> 'tinyint(1) UNSIGNED',
-			'VCHAR'		=> 'varchar(255)',
-			'VCHAR:'	=> 'varchar(%d)',
-			'CHAR:'		=> 'char(%d)',
-			'XSTEXT'	=> 'text',
-			'XSTEXT_UNI'=> 'varchar(100)',
-			'STEXT'		=> 'text',
-			'STEXT_UNI'	=> 'varchar(255)',
-			'TEXT'		=> 'text',
-			'TEXT_UNI'	=> 'text',
-			'MTEXT'		=> 'mediumtext',
-			'MTEXT_UNI'	=> 'mediumtext',
-			'TIMESTAMP'	=> 'int(11) UNSIGNED',
-			'DECIMAL'	=> 'decimal(5,2)',
-			'DECIMAL:'	=> 'decimal(%d,2)',
-			'PDECIMAL'	=> 'decimal(6,3)',
-			'PDECIMAL:'	=> 'decimal(%d,3)',
-			'VCHAR_UNI'	=> 'varchar(255)',
-			'VCHAR_UNI:'=> 'varchar(%d)',
-			'VCHAR_CI'	=> 'varchar(255)',
-			'VARBINARY'	=> 'varbinary(255)',
-		),
-
-		'mysql_40'	=> array(
-			'INT:'		=> 'int(%d)',
-			'BINT'		=> 'bigint(20)',
-			'UINT'		=> 'mediumint(8) UNSIGNED',
-			'UINT:'		=> 'int(%d) UNSIGNED',
-			'TINT:'		=> 'tinyint(%d)',
-			'USINT'		=> 'smallint(4) UNSIGNED',
-			'BOOL'		=> 'tinyint(1) UNSIGNED',
-			'VCHAR'		=> 'varbinary(255)',
-			'VCHAR:'	=> 'varbinary(%d)',
-			'CHAR:'		=> 'binary(%d)',
-			'XSTEXT'	=> 'blob',
-			'XSTEXT_UNI'=> 'blob',
-			'STEXT'		=> 'blob',
-			'STEXT_UNI'	=> 'blob',
-			'TEXT'		=> 'blob',
-			'TEXT_UNI'	=> 'blob',
-			'MTEXT'		=> 'mediumblob',
-			'MTEXT_UNI'	=> 'mediumblob',
-			'TIMESTAMP'	=> 'int(11) UNSIGNED',
-			'DECIMAL'	=> 'decimal(5,2)',
-			'DECIMAL:'	=> 'decimal(%d,2)',
-			'PDECIMAL'	=> 'decimal(6,3)',
-			'PDECIMAL:'	=> 'decimal(%d,3)',
-			'VCHAR_UNI'	=> 'blob',
-			'VCHAR_UNI:'=> array('varbinary(%d)', 'limit' => array('mult', 3, 255, 'blob')),
-			'VCHAR_CI'	=> 'blob',
-			'VARBINARY'	=> 'varbinary(255)',
-		),
-
-		'firebird'	=> array(
-			'INT:'		=> 'INTEGER',
-			'BINT'		=> 'DOUBLE PRECISION',
-			'UINT'		=> 'INTEGER',
-			'UINT:'		=> 'INTEGER',
-			'TINT:'		=> 'INTEGER',
-			'USINT'		=> 'INTEGER',
-			'BOOL'		=> 'INTEGER',
-			'VCHAR'		=> 'VARCHAR(255) CHARACTER SET NONE',
-			'VCHAR:'	=> 'VARCHAR(%d) CHARACTER SET NONE',
-			'CHAR:'		=> 'CHAR(%d) CHARACTER SET NONE',
-			'XSTEXT'	=> 'BLOB SUB_TYPE TEXT CHARACTER SET NONE',
-			'STEXT'		=> 'BLOB SUB_TYPE TEXT CHARACTER SET NONE',
-			'TEXT'		=> 'BLOB SUB_TYPE TEXT CHARACTER SET NONE',
-			'MTEXT'		=> 'BLOB SUB_TYPE TEXT CHARACTER SET NONE',
-			'XSTEXT_UNI'=> 'VARCHAR(100) CHARACTER SET UTF8',
-			'STEXT_UNI'	=> 'VARCHAR(255) CHARACTER SET UTF8',
-			'TEXT_UNI'	=> 'BLOB SUB_TYPE TEXT CHARACTER SET UTF8',
-			'MTEXT_UNI'	=> 'BLOB SUB_TYPE TEXT CHARACTER SET UTF8',
-			'TIMESTAMP'	=> 'INTEGER',
-			'DECIMAL'	=> 'DOUBLE PRECISION',
-			'DECIMAL:'	=> 'DOUBLE PRECISION',
-			'PDECIMAL'	=> 'DOUBLE PRECISION',
-			'PDECIMAL:'	=> 'DOUBLE PRECISION',
-			'VCHAR_UNI'	=> 'VARCHAR(255) CHARACTER SET UTF8',
-			'VCHAR_UNI:'=> 'VARCHAR(%d) CHARACTER SET UTF8',
-			'VCHAR_CI'	=> 'VARCHAR(255) CHARACTER SET UTF8',
-			'VARBINARY'	=> 'CHAR(255) CHARACTER SET NONE',
-		),
-
-		'mssql'		=> array(
-			'INT:'		=> '[int]',
-			'BINT'		=> '[float]',
-			'UINT'		=> '[int]',
-			'UINT:'		=> '[int]',
-			'TINT:'		=> '[int]',
-			'USINT'		=> '[int]',
-			'BOOL'		=> '[int]',
-			'VCHAR'		=> '[varchar] (255)',
-			'VCHAR:'	=> '[varchar] (%d)',
-			'CHAR:'		=> '[char] (%d)',
-			'XSTEXT'	=> '[varchar] (1000)',
-			'STEXT'		=> '[varchar] (3000)',
-			'TEXT'		=> '[varchar] (8000)',
-			'MTEXT'		=> '[text]',
-			'XSTEXT_UNI'=> '[varchar] (100)',
-			'STEXT_UNI'	=> '[varchar] (255)',
-			'TEXT_UNI'	=> '[varchar] (4000)',
-			'MTEXT_UNI'	=> '[text]',
-			'TIMESTAMP'	=> '[int]',
-			'DECIMAL'	=> '[float]',
-			'DECIMAL:'	=> '[float]',
-			'PDECIMAL'	=> '[float]',
-			'PDECIMAL:'	=> '[float]',
-			'VCHAR_UNI'	=> '[varchar] (255)',
-			'VCHAR_UNI:'=> '[varchar] (%d)',
-			'VCHAR_CI'	=> '[varchar] (255)',
-			'VARBINARY'	=> '[varchar] (255)',
-		),
-
-		'mssqlnative'	=> array(
-			'INT:'		=> '[int]',
-			'BINT'		=> '[float]',
-			'UINT'		=> '[int]',
-			'UINT:'		=> '[int]',
-			'TINT:'		=> '[int]',
-			'USINT'		=> '[int]',
-			'BOOL'		=> '[int]',
-			'VCHAR'		=> '[varchar] (255)',
-			'VCHAR:'	=> '[varchar] (%d)',
-			'CHAR:'		=> '[char] (%d)',
-			'XSTEXT'	=> '[varchar] (1000)',
-			'STEXT'		=> '[varchar] (3000)',
-			'TEXT'		=> '[varchar] (8000)',
-			'MTEXT'		=> '[text]',
-			'XSTEXT_UNI'=> '[varchar] (100)',
-			'STEXT_UNI'	=> '[varchar] (255)',
-			'TEXT_UNI'	=> '[varchar] (4000)',
-			'MTEXT_UNI'	=> '[text]',
-			'TIMESTAMP'	=> '[int]',
-			'DECIMAL'	=> '[float]',
-			'DECIMAL:'	=> '[float]',
-			'PDECIMAL'	=> '[float]',
-			'PDECIMAL:'	=> '[float]',
-			'VCHAR_UNI'	=> '[varchar] (255)',
-			'VCHAR_UNI:'=> '[varchar] (%d)',
-			'VCHAR_CI'	=> '[varchar] (255)',
-			'VARBINARY'	=> '[varchar] (255)',
-		),
-
-		'oracle'	=> array(
-			'INT:'		=> 'number(%d)',
-			'BINT'		=> 'number(20)',
-			'UINT'		=> 'number(8)',
-			'UINT:'		=> 'number(%d)',
-			'TINT:'		=> 'number(%d)',
-			'USINT'		=> 'number(4)',
-			'BOOL'		=> 'number(1)',
-			'VCHAR'		=> 'varchar2(255)',
-			'VCHAR:'	=> 'varchar2(%d)',
-			'CHAR:'		=> 'char(%d)',
-			'XSTEXT'	=> 'varchar2(1000)',
-			'STEXT'		=> 'varchar2(3000)',
-			'TEXT'		=> 'clob',
-			'MTEXT'		=> 'clob',
-			'XSTEXT_UNI'=> 'varchar2(300)',
-			'STEXT_UNI'	=> 'varchar2(765)',
-			'TEXT_UNI'	=> 'clob',
-			'MTEXT_UNI'	=> 'clob',
-			'TIMESTAMP'	=> 'number(11)',
-			'DECIMAL'	=> 'number(5, 2)',
-			'DECIMAL:'	=> 'number(%d, 2)',
-			'PDECIMAL'	=> 'number(6, 3)',
-			'PDECIMAL:'	=> 'number(%d, 3)',
-			'VCHAR_UNI'	=> 'varchar2(765)',
-			'VCHAR_UNI:'=> array('varchar2(%d)', 'limit' => array('mult', 3, 765, 'clob')),
-			'VCHAR_CI'	=> 'varchar2(255)',
-			'VARBINARY'	=> 'raw(255)',
-		),
-
-		'sqlite'	=> array(
-			'INT:'		=> 'int(%d)',
-			'BINT'		=> 'bigint(20)',
-			'UINT'		=> 'INTEGER UNSIGNED', //'mediumint(8) UNSIGNED',
-			'UINT:'		=> 'INTEGER UNSIGNED', // 'int(%d) UNSIGNED',
-			'TINT:'		=> 'tinyint(%d)',
-			'USINT'		=> 'INTEGER UNSIGNED', //'mediumint(4) UNSIGNED',
-			'BOOL'		=> 'INTEGER UNSIGNED', //'tinyint(1) UNSIGNED',
-			'VCHAR'		=> 'varchar(255)',
-			'VCHAR:'	=> 'varchar(%d)',
-			'CHAR:'		=> 'char(%d)',
-			'XSTEXT'	=> 'text(65535)',
-			'STEXT'		=> 'text(65535)',
-			'TEXT'		=> 'text(65535)',
-			'MTEXT'		=> 'mediumtext(16777215)',
-			'XSTEXT_UNI'=> 'text(65535)',
-			'STEXT_UNI'	=> 'text(65535)',
-			'TEXT_UNI'	=> 'text(65535)',
-			'MTEXT_UNI'	=> 'mediumtext(16777215)',
-			'TIMESTAMP'	=> 'INTEGER UNSIGNED', //'int(11) UNSIGNED',
-			'DECIMAL'	=> 'decimal(5,2)',
-			'DECIMAL:'	=> 'decimal(%d,2)',
-			'PDECIMAL'	=> 'decimal(6,3)',
-			'PDECIMAL:'	=> 'decimal(%d,3)',
-			'VCHAR_UNI'	=> 'varchar(255)',
-			'VCHAR_UNI:'=> 'varchar(%d)',
-			'VCHAR_CI'	=> 'varchar(255)',
-			'VARBINARY'	=> 'blob',
-		),
-
-		'postgres'	=> array(
-			'INT:'		=> 'INT4',
-			'BINT'		=> 'INT8',
-			'UINT'		=> 'INT4', // unsigned
-			'UINT:'		=> 'INT4', // unsigned
-			'USINT'		=> 'INT2', // unsigned
-			'BOOL'		=> 'INT2', // unsigned
-			'TINT:'		=> 'INT2',
-			'VCHAR'		=> 'varchar(255)',
-			'VCHAR:'	=> 'varchar(%d)',
-			'CHAR:'		=> 'char(%d)',
-			'XSTEXT'	=> 'varchar(1000)',
-			'STEXT'		=> 'varchar(3000)',
-			'TEXT'		=> 'varchar(8000)',
-			'MTEXT'		=> 'TEXT',
-			'XSTEXT_UNI'=> 'varchar(100)',
-			'STEXT_UNI'	=> 'varchar(255)',
-			'TEXT_UNI'	=> 'varchar(4000)',
-			'MTEXT_UNI'	=> 'TEXT',
-			'TIMESTAMP'	=> 'INT4', // unsigned
-			'DECIMAL'	=> 'decimal(5,2)',
-			'DECIMAL:'	=> 'decimal(%d,2)',
-			'PDECIMAL'	=> 'decimal(6,3)',
-			'PDECIMAL:'	=> 'decimal(%d,3)',
-			'VCHAR_UNI'	=> 'varchar(255)',
-			'VCHAR_UNI:'=> 'varchar(%d)',
-			'VCHAR_CI'	=> 'varchar_ci',
-			'VARBINARY'	=> 'bytea',
-		),
-	);
-
-	/**
-	* A list of types being unsigned for better reference in some db's
-	* @var array
-	*/
-	var $unsigned_types = array('UINT', 'UINT:', 'USINT', 'BOOL', 'TIMESTAMP');
-
-	/**
-	* A list of supported DBMS. We change this class to support more DBMS, the DBMS itself only need to follow some rules.
-	* @var array
-	*/
-	var $supported_dbms = array('firebird', 'mssql', 'mssqlnative', 'mysql_40', 'mysql_41', 'oracle', 'postgres', 'sqlite');
-
-	/**
-	* This is set to true if user only wants to return the 'to-be-executed' SQL statement(s) (as an array).
-	* This mode has no effect on some methods (inserting of data for example). This is expressed within the methods command.
-	*/
-	var $return_statements = false;
-
-	/**
-	* Constructor. Set DB Object and set {@link $return_statements return_statements}.
-	*
-	* @param phpbb_dbal	$db					DBAL object
-	* @param bool		$return_statements	True if only statements should be returned and no SQL being executed
-	*/
-	function updater_db_tools(&$db, $return_statements = false)
-	{
-		$this->db = $db;
-		$this->return_statements = $return_statements;
-
-		// Determine mapping database type
-		switch ($this->db->sql_layer)
-		{
-			case 'mysql':
-				$this->sql_layer = 'mysql_40';
-			break;
-
-			case 'mysql4':
-				if (version_compare($this->db->sql_server_info(true), '4.1.3', '>='))
-				{
-					$this->sql_layer = 'mysql_41';
-				}
-				else
-				{
-					$this->sql_layer = 'mysql_40';
-				}
-			break;
-
-			case 'mysqli':
-				$this->sql_layer = 'mysql_41';
-			break;
-
-			case 'mssql':
-			case 'mssql_odbc':
-				$this->sql_layer = 'mssql';
-			break;
-
-			case 'mssqlnative':
-				$this->sql_layer = 'mssqlnative';
-			break;
-
-			default:
-				$this->sql_layer = $this->db->sql_layer;
-			break;
-		}
-	}
-
-	/**
-	* Check if table exists
-	*
-	*
-	* @param string	$table_name	The table name to check for
-	* @return bool true if table exists, else false
-	*/
-	function sql_table_exists($table_name)
-	{
-		$this->db->sql_return_on_error(true);
-		$result = $this->db->sql_query_limit('SELECT * FROM ' . $table_name, 1);
-		$this->db->sql_return_on_error(false);
-
-		if ($result)
-		{
-			$this->db->sql_freeresult($result);
-			return true;
-		}
-
-		return false;
-	}
-
-	/**
-	* Create SQL Table
-	*
-	* @param string	$table_name	The table name to create
-	* @param array	$table_data	Array containing table data.
-	* @return array	Statements if $return_statements is true.
-	*/
-	function sql_create_table($table_name, $table_data)
-	{
-		// holds the DDL for a column
-		$columns = $statements = array();
-
-		if ($this->sql_table_exists($table_name))
-		{
-			return $this->_sql_run_sql($statements);
-		}
-
-		// Begin transaction
-		$statements[] = 'begin';
-
-		// Determine if we have created a PRIMARY KEY in the earliest
-		$primary_key_gen = false;
-
-		// Determine if the table must be created with TEXTIMAGE
-		$create_textimage = false;
-
-		// Determine if the table requires a sequence
-		$create_sequence = false;
-
-		// Begin table sql statement
-		switch ($this->sql_layer)
-		{
-			case 'mssql':
-			case 'mssqlnative':
-				$table_sql = 'CREATE TABLE [' . $table_name . '] (' . "\n";
-			break;
-
-			default:
-				$table_sql = 'CREATE TABLE ' . $table_name . ' (' . "\n";
-			break;
-		}
-
-		// Iterate through the columns to create a table
-		foreach ($table_data['COLUMNS'] as $column_name => $column_data)
-		{
-			// here lies an array, filled with information compiled on the column's data
-			$prepared_column = $this->sql_prepare_column_data($table_name, $column_name, $column_data);
-
-			if (isset($prepared_column['auto_increment']) && strlen($column_name) > 26) // "${column_name}_gen"
-			{
-				trigger_error("Index name '${column_name}_gen' on table '$table_name' is too long. The maximum auto increment column length is 26 characters.", E_USER_ERROR);
-			}
-
-			// here we add the definition of the new column to the list of columns
-			switch ($this->sql_layer)
-			{
-				case 'mssql':
-				case 'mssqlnative':
-					$columns[] = "\t [{$column_name}] " . $prepared_column['column_type_sql_default'];
-				break;
-
-				default:
-					$columns[] = "\t {$column_name} " . $prepared_column['column_type_sql'];
-				break;
-			}
-
-			// see if we have found a primary key set due to a column definition if we have found it, we can stop looking
-			if (!$primary_key_gen)
-			{
-				$primary_key_gen = isset($prepared_column['primary_key_set']) && $prepared_column['primary_key_set'];
-			}
-
-			// create textimage DDL based off of the existance of certain column types
-			if (!$create_textimage)
-			{
-				$create_textimage = isset($prepared_column['textimage']) && $prepared_column['textimage'];
-			}
-
-			// create sequence DDL based off of the existance of auto incrementing columns
-			if (!$create_sequence && isset($prepared_column['auto_increment']) && $prepared_column['auto_increment'])
-			{
-				$create_sequence = $column_name;
-			}
-		}
-
-		// this makes up all the columns in the create table statement
-		$table_sql .= implode(",\n", $columns);
-
-		// Close the table for two DBMS and add to the statements
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				$table_sql .= "\n);";
-				$statements[] = $table_sql;
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$table_sql .= "\n) ON [PRIMARY]" . (($create_textimage) ? ' TEXTIMAGE_ON [PRIMARY]' : '');
-				$statements[] = $table_sql;
-			break;
-		}
-
-		// we have yet to create a primary key for this table,
-		// this means that we can add the one we really wanted instead
-		if (!$primary_key_gen)
-		{
-			// Write primary key
-			if (isset($table_data['PRIMARY_KEY']))
-			{
-				if (!is_array($table_data['PRIMARY_KEY']))
-				{
-					$table_data['PRIMARY_KEY'] = array($table_data['PRIMARY_KEY']);
-				}
-
-				switch ($this->sql_layer)
-				{
-					case 'mysql_40':
-					case 'mysql_41':
-					case 'postgres':
-					case 'sqlite':
-						$table_sql .= ",\n\t PRIMARY KEY (" . implode(', ', $table_data['PRIMARY_KEY']) . ')';
-					break;
-
-					case 'firebird':
-					case 'mssql':
-					case 'mssqlnative':
-						// We need the data here
-						$old_return_statements = $this->return_statements;
-						$this->return_statements = true;
-
-						$primary_key_stmts = $this->sql_create_primary_key($table_name, $table_data['PRIMARY_KEY']);
-						foreach ($primary_key_stmts as $pk_stmt)
-						{
-							$statements[] = $pk_stmt;
-						}
-
-						$this->return_statements = $old_return_statements;
-					break;
-
-					case 'oracle':
-						$table_sql .= ",\n\t CONSTRAINT pk_{$table_name} PRIMARY KEY (" . implode(', ', $table_data['PRIMARY_KEY']) . ')';
-					break;
-				}
-			}
-		}
-
-		// close the table
-		switch ($this->sql_layer)
-		{
-			case 'mysql_41':
-				// make sure the table is in UTF-8 mode
-				$table_sql .= "\n) CHARACTER SET `utf8` COLLATE `utf8_bin`;";
-				$statements[] = $table_sql;
-			break;
-
-			case 'mysql_40':
-			case 'sqlite':
-				$table_sql .= "\n);";
-				$statements[] = $table_sql;
-			break;
-
-			case 'postgres':
-				// do we need to add a sequence for auto incrementing columns?
-				if ($create_sequence)
-				{
-					$statements[] = "CREATE SEQUENCE {$table_name}_seq;";
-				}
-
-				$table_sql .= "\n);";
-				$statements[] = $table_sql;
-			break;
-
-			case 'oracle':
-				$table_sql .= "\n)";
-				$statements[] = $table_sql;
-
-				// do we need to add a sequence and a tigger for auto incrementing columns?
-				if ($create_sequence)
-				{
-					// create the actual sequence
-					$statements[] = "CREATE SEQUENCE {$table_name}_seq";
-
-					// the trigger is the mechanism by which we increment the counter
-					$trigger = "CREATE OR REPLACE TRIGGER t_{$table_name}\n";
-					$trigger .= "BEFORE INSERT ON {$table_name}\n";
-					$trigger .= "FOR EACH ROW WHEN (\n";
-					$trigger .= "\tnew.{$create_sequence} IS NULL OR new.{$create_sequence} = 0\n";
-					$trigger .= ")\n";
-					$trigger .= "BEGIN\n";
-					$trigger .= "\tSELECT {$table_name}_seq.nextval\n";
-					$trigger .= "\tINTO :new.{$create_sequence}\n";
-					$trigger .= "\tFROM dual;\n";
-					$trigger .= "END;";
-
-					$statements[] = $trigger;
-				}
-			break;
-
-			case 'firebird':
-				if ($create_sequence)
-				{
-					$statements[] = "CREATE GENERATOR {$table_name}_gen;";
-					$statements[] = "SET GENERATOR {$table_name}_gen TO 0;";
-
-					$trigger = "CREATE TRIGGER t_$table_name FOR $table_name\n";
-					$trigger .= "BEFORE INSERT\nAS\nBEGIN\n";
-					$trigger .= "\tNEW.{$create_sequence} = GEN_ID({$table_name}_gen, 1);\nEND;";
-					$statements[] = $trigger;
-				}
-			break;
-		}
-
-		// Write Keys
-		if (isset($table_data['KEYS']))
-		{
-			foreach ($table_data['KEYS'] as $key_name => $key_data)
-			{
-				if (!is_array($key_data[1]))
-				{
-					$key_data[1] = array($key_data[1]);
-				}
-
-				$old_return_statements = $this->return_statements;
-				$this->return_statements = true;
-
-				$key_stmts = ($key_data[0] == 'UNIQUE') ? $this->sql_create_unique_index($table_name, $key_name, $key_data[1]) : $this->sql_create_index($table_name, $key_name, $key_data[1]);
-
-				foreach ($key_stmts as $key_stmt)
-				{
-					$statements[] = $key_stmt;
-				}
-
-				$this->return_statements = $old_return_statements;
-			}
-		}
-
-		// Commit Transaction
-		$statements[] = 'commit';
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Handle passed database update array.
-	* Expected structure...
-	* Key being one of the following
-	*	change_columns: Column changes (only type, not name)
-	*	add_columns: Add columns to a table
-	*	drop_keys: Dropping keys
-	*	drop_columns: Removing/Dropping columns
-	*	add_primary_keys: adding primary keys
-	*	add_unique_index: adding an unique index
-	*	add_index: adding an index (can be column:index_size if you need to provide size)
-	*
-	* The values are in this format:
-	*		{TABLE NAME}		=> array(
-	*			{COLUMN NAME}		=> array({COLUMN TYPE}, {DEFAULT VALUE}, {OPTIONAL VARIABLES}),
-	*			{KEY/INDEX NAME}	=> array({COLUMN NAMES}),
-	*		)
-	*
-	* For more information have a look at /develop/create_schema_files.php (only available through SVN)
-	*/
-	function perform_schema_changes($schema_changes)
-	{
-		if (empty($schema_changes))
-		{
-			return;
-		}
-
-		$statements = array();
-		$sqlite = false;
-
-		// For SQLite we need to perform the schema changes in a much more different way
-		if ($this->db->sql_layer == 'sqlite' && $this->return_statements)
-		{
-			$sqlite_data = array();
-			$sqlite = true;
-		}
-
-		// Add tables?
-		if (!empty($schema_changes['add_tables']))
-		{
-			foreach ($schema_changes['add_tables'] as $table => $table_data)
-			{
-				$result = $this->sql_create_table($table, $table_data);
-				if ($this->return_statements)
-				{
-					$statements = array_merge($statements, $result);
-				}
-			}
-		}
-
-		// Change columns?
-		if (!empty($schema_changes['change_columns']))
-		{
-			foreach ($schema_changes['change_columns'] as $table => $columns)
-			{
-				foreach ($columns as $column_name => $column_data)
-				{
-					// If the column exists we change it, else we add it ;)
-					if ($column_exists = $this->sql_column_exists($table, $column_name))
-					{
-						$result = $this->sql_column_change($table, $column_name, $column_data, true);
-					}
-					else
-					{
-						$result = $this->sql_column_add($table, $column_name, $column_data, true);
-					}
-
-					if ($sqlite)
-					{
-						if ($column_exists)
-						{
-							$sqlite_data[$table]['change_columns'][] = $result;
-						}
-						else
-						{
-							$sqlite_data[$table]['add_columns'][] = $result;
-						}
-					}
-					else if ($this->return_statements)
-					{
-						$statements = array_merge($statements, $result);
-					}
-				}
-			}
-		}
-
-		// Add columns?
-		if (!empty($schema_changes['add_columns']))
-		{
-			foreach ($schema_changes['add_columns'] as $table => $columns)
-			{
-				foreach ($columns as $column_name => $column_data)
-				{
-					// Only add the column if it does not exist yet
-					if ($column_exists = $this->sql_column_exists($table, $column_name))
-					{
-						continue;
-						// This is commented out here because it can take tremendous time on updates
-//						$result = $this->sql_column_change($table, $column_name, $column_data, true);
-					}
-					else
-					{
-						$result = $this->sql_column_add($table, $column_name, $column_data, true);
-					}
-
-					if ($sqlite)
-					{
-						if ($column_exists)
-						{
-							continue;
-//							$sqlite_data[$table]['change_columns'][] = $result;
-						}
-						else
-						{
-							$sqlite_data[$table]['add_columns'][] = $result;
-						}
-					}
-					else if ($this->return_statements)
-					{
-						$statements = array_merge($statements, $result);
-					}
-				}
-			}
-		}
-
-		// Remove keys?
-		if (!empty($schema_changes['drop_keys']))
-		{
-			foreach ($schema_changes['drop_keys'] as $table => $indexes)
-			{
-				foreach ($indexes as $index_name)
-				{
-					if (!$this->sql_index_exists($table, $index_name))
-					{
-						continue;
-					}
-
-					$result = $this->sql_index_drop($table, $index_name);
-
-					if ($this->return_statements)
-					{
-						$statements = array_merge($statements, $result);
-					}
-				}
-			}
-		}
-
-		// Drop columns?
-		if (!empty($schema_changes['drop_columns']))
-		{
-			foreach ($schema_changes['drop_columns'] as $table => $columns)
-			{
-				foreach ($columns as $column)
-				{
-					// Only remove the column if it exists...
-					if ($this->sql_column_exists($table, $column))
-					{
-						$result = $this->sql_column_remove($table, $column, true);
-
-						if ($sqlite)
-						{
-							$sqlite_data[$table]['drop_columns'][] = $result;
-						}
-						else if ($this->return_statements)
-						{
-							$statements = array_merge($statements, $result);
-						}
-					}
-				}
-			}
-		}
-
-		// Add primary keys?
-		if (!empty($schema_changes['add_primary_keys']))
-		{
-			foreach ($schema_changes['add_primary_keys'] as $table => $columns)
-			{
-				$result = $this->sql_create_primary_key($table, $columns, true);
-
-				if ($sqlite)
-				{
-					$sqlite_data[$table]['primary_key'] = $result;
-				}
-				else if ($this->return_statements)
-				{
-					$statements = array_merge($statements, $result);
-				}
-			}
-		}
-
-		// Add unqiue indexes?
-		if (!empty($schema_changes['add_unique_index']))
-		{
-			foreach ($schema_changes['add_unique_index'] as $table => $index_array)
-			{
-				foreach ($index_array as $index_name => $column)
-				{
-					if ($this->sql_unique_index_exists($table, $index_name))
-					{
-						continue;
-					}
-
-					$result = $this->sql_create_unique_index($table, $index_name, $column);
-
-					if ($this->return_statements)
-					{
-						$statements = array_merge($statements, $result);
-					}
-				}
-			}
-		}
-
-		// Add indexes?
-		if (!empty($schema_changes['add_index']))
-		{
-			foreach ($schema_changes['add_index'] as $table => $index_array)
-			{
-				foreach ($index_array as $index_name => $column)
-				{
-					if ($this->sql_index_exists($table, $index_name))
-					{
-						continue;
-					}
-
-					$result = $this->sql_create_index($table, $index_name, $column);
-
-					if ($this->return_statements)
-					{
-						$statements = array_merge($statements, $result);
-					}
-				}
-			}
-		}
-
-		if ($sqlite)
-		{
-			foreach ($sqlite_data as $table_name => $sql_schema_changes)
-			{
-				// Create temporary table with original data
-				$statements[] = 'begin';
-
-				$sql = "SELECT sql
-					FROM sqlite_master
-					WHERE type = 'table'
-						AND name = '{$table_name}'
-					ORDER BY type DESC, name;";
-				$result = $this->db->sql_query($sql);
-
-				if (!$result)
-				{
-					continue;
-				}
-
-				$row = $this->db->sql_fetchrow($result);
-				$this->db->sql_freeresult($result);
-
-				// Create a backup table and populate it, destroy the existing one
-				$statements[] = preg_replace('#CREATE\s+TABLE\s+"?' . $table_name . '"?#i', 'CREATE TEMPORARY TABLE ' . $table_name . '_temp', $row['sql']);
-				$statements[] = 'INSERT INTO ' . $table_name . '_temp SELECT * FROM ' . $table_name;
-				$statements[] = 'DROP TABLE ' . $table_name;
-
-				// Get the columns...
-				preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-				$plain_table_cols = trim($matches[1]);
-				$new_table_cols = preg_split('/,(?![\s\w]+\))/m', $plain_table_cols);
-				$column_list = array();
-
-				foreach ($new_table_cols as $declaration)
-				{
-					$entities = preg_split('#\s+#', trim($declaration));
-					if ($entities[0] == 'PRIMARY')
-					{
-						continue;
-					}
-					$column_list[] = $entities[0];
-				}
-
-				// note down the primary key notation because sqlite only supports adding it to the end for the new table
-				$primary_key = false;
-				$_new_cols = array();
-
-				foreach ($new_table_cols as $key => $declaration)
-				{
-					$entities = preg_split('#\s+#', trim($declaration));
-					if ($entities[0] == 'PRIMARY')
-					{
-						$primary_key = $declaration;
-						continue;
-					}
-					$_new_cols[] = $declaration;
-				}
-
-				$new_table_cols = $_new_cols;
-
-				// First of all... change columns
-				if (!empty($sql_schema_changes['change_columns']))
-				{
-					foreach ($sql_schema_changes['change_columns'] as $column_sql)
-					{
-						foreach ($new_table_cols as $key => $declaration)
-						{
-							$entities = preg_split('#\s+#', trim($declaration));
-							if (strpos($column_sql, $entities[0] . ' ') === 0)
-							{
-								$new_table_cols[$key] = $column_sql;
-							}
-						}
-					}
-				}
-
-				if (!empty($sql_schema_changes['add_columns']))
-				{
-					foreach ($sql_schema_changes['add_columns'] as $column_sql)
-					{
-						$new_table_cols[] = $column_sql;
-					}
-				}
-
-				// Now drop them...
-				if (!empty($sql_schema_changes['drop_columns']))
-				{
-					foreach ($sql_schema_changes['drop_columns'] as $column_name)
-					{
-						// Remove from column list...
-						$new_column_list = array();
-						foreach ($column_list as $key => $value)
-						{
-							if ($value === $column_name)
-							{
-								continue;
-							}
-
-							$new_column_list[] = $value;
-						}
-
-						$column_list = $new_column_list;
-
-						// Remove from table...
-						$_new_cols = array();
-						foreach ($new_table_cols as $key => $declaration)
-						{
-							$entities = preg_split('#\s+#', trim($declaration));
-							if (strpos($column_name . ' ', $entities[0] . ' ') === 0)
-							{
-								continue;
-							}
-							$_new_cols[] = $declaration;
-						}
-						$new_table_cols = $_new_cols;
-					}
-				}
-
-				// Primary key...
-				if (!empty($sql_schema_changes['primary_key']))
-				{
-					$new_table_cols[] = 'PRIMARY KEY (' . implode(', ', $sql_schema_changes['primary_key']) . ')';
-				}
-				// Add a new one or the old primary key
-				else if ($primary_key !== false)
-				{
-					$new_table_cols[] = $primary_key;
-				}
-
-				$columns = implode(',', $column_list);
-
-				// create a new table and fill it up. destroy the temp one
-				$statements[] = 'CREATE TABLE ' . $table_name . ' (' . implode(',', $new_table_cols) . ');';
-				$statements[] = 'INSERT INTO ' . $table_name . ' (' . $columns . ') SELECT ' . $columns . ' FROM ' . $table_name . '_temp;';
-				$statements[] = 'DROP TABLE ' . $table_name . '_temp';
-
-				$statements[] = 'commit';
-			}
-		}
-
-		if ($this->return_statements)
-		{
-			return $statements;
-		}
-	}
-
-	/**
-	* Check if a specified column exist
-	*
-	* @param string	$table			Table to check the column at
-	* @param string	$column_name	The column to check
-	*
-	* @return bool True if column exists, else false
-	*/
-	function sql_column_exists($table, $column_name)
-	{
-		switch ($this->sql_layer)
-		{
-			case 'mysql_40':
-			case 'mysql_41':
-
-				$sql = "SHOW COLUMNS FROM $table";
-				$result = $this->db->sql_query($sql);
-
-				while ($row = $this->db->sql_fetchrow($result))
-				{
-					// lower case just in case
-					if (strtolower($row['Field']) == $column_name)
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-				$this->db->sql_freeresult($result);
-				return false;
-			break;
-
-			// PostgreSQL has a way of doing this in a much simpler way but would
-			// not allow us to support all versions of PostgreSQL
-			case 'postgres':
-				$sql = "SELECT a.attname
-					FROM pg_class c, pg_attribute a
-					WHERE c.relname = '{$table}'
-						AND a.attnum > 0
-						AND a.attrelid = c.oid";
-				$result = $this->db->sql_query($sql);
-				while ($row = $this->db->sql_fetchrow($result))
-				{
-					// lower case just in case
-					if (strtolower($row['attname']) == $column_name)
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-				$this->db->sql_freeresult($result);
-
-				return false;
-			break;
-
-			// same deal with PostgreSQL, we must perform more complex operations than
-			// we technically could
-			case 'mssql':
-			case 'mssqlnative':
-				$sql = "SELECT c.name
-					FROM syscolumns c
-					LEFT JOIN sysobjects o ON c.id = o.id
-					WHERE o.name = '{$table}'";
-				$result = $this->db->sql_query($sql);
-				while ($row = $this->db->sql_fetchrow($result))
-				{
-					// lower case just in case
-					if (strtolower($row['name']) == $column_name)
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-				$this->db->sql_freeresult($result);
-				return false;
-			break;
-
-			case 'oracle':
-				$sql = "SELECT column_name
-					FROM user_tab_columns
-					WHERE LOWER(table_name) = '" . strtolower($table) . "'";
-				$result = $this->db->sql_query($sql);
-				while ($row = $this->db->sql_fetchrow($result))
-				{
-					// lower case just in case
-					if (strtolower($row['column_name']) == $column_name)
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-				$this->db->sql_freeresult($result);
-				return false;
-			break;
-
-			case 'firebird':
-				$sql = "SELECT RDB\$FIELD_NAME as FNAME
-					FROM RDB\$RELATION_FIELDS
-					WHERE RDB\$RELATION_NAME = '" . strtoupper($table) . "'";
-				$result = $this->db->sql_query($sql);
-				while ($row = $this->db->sql_fetchrow($result))
-				{
-					// lower case just in case
-					if (strtolower($row['fname']) == $column_name)
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-				$this->db->sql_freeresult($result);
-				return false;
-			break;
-
-			// ugh, SQLite
-			case 'sqlite':
-				$sql = "SELECT sql
-					FROM sqlite_master
-					WHERE type = 'table'
-						AND name = '{$table}'";
-				$result = $this->db->sql_query($sql);
-
-				if (!$result)
-				{
-					return false;
-				}
-
-				$row = $this->db->sql_fetchrow($result);
-				$this->db->sql_freeresult($result);
-
-				preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-				$cols = trim($matches[1]);
-				$col_array = preg_split('/,(?![\s\w]+\))/m', $cols);
-
-				foreach ($col_array as $declaration)
-				{
-					$entities = preg_split('#\s+#', trim($declaration));
-					if ($entities[0] == 'PRIMARY')
-					{
-						continue;
-					}
-
-					if (strtolower($entities[0]) == $column_name)
-					{
-						return true;
-					}
-				}
-				return false;
-			break;
-		}
-	}
-
-	/**
-	* Check if a specified index exists in table. Does not return PRIMARY KEY and UNIQUE indexes.
-	*
-	* @param string	$table_name		Table to check the index at
-	* @param string	$index_name		The index name to check
-	*
-	* @return bool True if index exists, else false
-	*/
-	function sql_index_exists($table_name, $index_name)
-	{
-		if ($this->sql_layer == 'mssql' || $this->sql_layer == 'mssqlnative')
-		{
-			$sql = "EXEC sp_statistics '$table_name'";
-			$result = $this->db->sql_query($sql);
-
-			while ($row = $this->db->sql_fetchrow($result))
-			{
-				if ($row['TYPE'] == 3)
-				{
-					if (strtolower($row['INDEX_NAME']) == strtolower($index_name))
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-			}
-			$this->db->sql_freeresult($result);
-
-			return false;
-		}
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				$sql = "SELECT LOWER(RDB\$INDEX_NAME) as index_name
-					FROM RDB\$INDICES
-					WHERE RDB\$RELATION_NAME = '" . strtoupper($table_name) . "'
-						AND RDB\$UNIQUE_FLAG IS NULL
-						AND RDB\$FOREIGN_KEY IS NULL";
-				$col = 'index_name';
-			break;
-
-			case 'postgres':
-				$sql = "SELECT ic.relname as index_name
-					FROM pg_class bc, pg_class ic, pg_index i
-					WHERE (bc.oid = i.indrelid)
-						AND (ic.oid = i.indexrelid)
-						AND (bc.relname = '" . $table_name . "')
-						AND (i.indisunique != 't')
-						AND (i.indisprimary != 't')";
-				$col = 'index_name';
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$sql = 'SHOW KEYS
-					FROM ' . $table_name;
-				$col = 'Key_name';
-			break;
-
-			case 'oracle':
-				$sql = "SELECT index_name
-					FROM user_indexes
-					WHERE table_name = '" . strtoupper($table_name) . "'
-						AND generated = 'N'
-						AND uniqueness = 'NONUNIQUE'";
-				$col = 'index_name';
-			break;
-
-			case 'sqlite':
-				$sql = "PRAGMA index_list('" . $table_name . "');";
-				$col = 'name';
-			break;
-		}
-
-		$result = $this->db->sql_query($sql);
-		while ($row = $this->db->sql_fetchrow($result))
-		{
-			if (($this->sql_layer == 'mysql_40' || $this->sql_layer == 'mysql_41') && !$row['Non_unique'])
-			{
-				continue;
-			}
-
-			// These DBMS prefix index name with the table name
-			switch ($this->sql_layer)
-			{
-				case 'firebird':
-				case 'oracle':
-				case 'postgres':
-				case 'sqlite':
-					$row[$col] = substr($row[$col], strlen($table_name) + 1);
-				break;
-			}
-
-			if (strtolower($row[$col]) == strtolower($index_name))
-			{
-				$this->db->sql_freeresult($result);
-				return true;
-			}
-		}
-		$this->db->sql_freeresult($result);
-
-		return false;
-	}
-
-	/**
-	* Check if a specified UNIQUE index exists in table.
-	*
-	* @param string	$table_name		Table to check the index at
-	* @param string	$index_name		The index name to check
-	*
-	* @return bool True if index exists, else false
-	*/
-	function sql_unique_index_exists($table_name, $index_name)
-	{
-		if ($this->sql_layer == 'mssql' || $this->sql_layer == 'mssqlnative')
-		{
-			$sql = "EXEC sp_statistics '$table_name'";
-			$result = $this->db->sql_query($sql);
-
-			while ($row = $this->db->sql_fetchrow($result))
-			{
-				// Usually NON_UNIQUE is the column we want to check, but we allow for both
-				if ($row['TYPE'] == 3)
-				{
-					if (strtolower($row['INDEX_NAME']) == strtolower($index_name))
-					{
-						$this->db->sql_freeresult($result);
-						return true;
-					}
-				}
-			}
-			$this->db->sql_freeresult($result);
-			return false;
-		}
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				$sql = "SELECT LOWER(RDB\$INDEX_NAME) as index_name
-					FROM RDB\$INDICES
-					WHERE RDB\$RELATION_NAME = '" . strtoupper($table_name) . "'
-						AND RDB\$UNIQUE_FLAG IS NOT NULL
-						AND RDB\$FOREIGN_KEY IS NULL";
-				$col = 'index_name';
-			break;
-
-			case 'postgres':
-				$sql = "SELECT ic.relname as index_name, i.indisunique
-					FROM pg_class bc, pg_class ic, pg_index i
-					WHERE (bc.oid = i.indrelid)
-						AND (ic.oid = i.indexrelid)
-						AND (bc.relname = '" . $table_name . "')
-						AND (i.indisprimary != 't')";
-				$col = 'index_name';
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$sql = 'SHOW KEYS
-					FROM ' . $table_name;
-				$col = 'Key_name';
-			break;
-
-			case 'oracle':
-				$sql = "SELECT index_name, table_owner
-					FROM user_indexes
-					WHERE table_name = '" . strtoupper($table_name) . "'
-						AND generated = 'N'
-						AND uniqueness = 'UNIQUE'";
-				$col = 'index_name';
-			break;
-
-			case 'sqlite':
-				$sql = "PRAGMA index_list('" . $table_name . "');";
-				$col = 'name';
-			break;
-		}
-
-		$result = $this->db->sql_query($sql);
-		while ($row = $this->db->sql_fetchrow($result))
-		{
-			if (($this->sql_layer == 'mysql_40' || $this->sql_layer == 'mysql_41') && ($row['Non_unique'] || $row[$col] == 'PRIMARY'))
-			{
-				continue;
-			}
-
-			if ($this->sql_layer == 'sqlite' && !$row['unique'])
-			{
-				continue;
-			}
-
-			if ($this->sql_layer == 'postgres' && $row['indisunique'] != 't')
-			{
-				continue;
-			}
-
-			// These DBMS prefix index name with the table name
-			switch ($this->sql_layer)
-			{
-				case 'oracle':
-					// Two cases here... prefixed with U_[table_owner] and not prefixed with table_name
-					if (strpos($row[$col], 'U_') === 0)
-					{
-						$row[$col] = substr($row[$col], strlen('U_' . $row['table_owner']) + 1);
-					}
-					else if (strpos($row[$col], strtoupper($table_name)) === 0)
-					{
-						$row[$col] = substr($row[$col], strlen($table_name) + 1);
-					}
-				break;
-
-				case 'firebird':
-				case 'postgres':
-				case 'sqlite':
-					$row[$col] = substr($row[$col], strlen($table_name) + 1);
-				break;
-			}
-
-			if (strtolower($row[$col]) == strtolower($index_name))
-			{
-				$this->db->sql_freeresult($result);
-				return true;
-			}
-		}
-		$this->db->sql_freeresult($result);
-
-		return false;
-	}
-
-	/**
-	* Private method for performing sql statements (either execute them or return them)
-	* @access private
-	*/
-	function _sql_run_sql($statements)
-	{
-		if ($this->return_statements)
-		{
-			return $statements;
-		}
-
-		// We could add error handling here...
-		foreach ($statements as $sql)
-		{
-			if ($sql === 'begin')
-			{
-				$this->db->sql_transaction('begin');
-			}
-			else if ($sql === 'commit')
-			{
-				$this->db->sql_transaction('commit');
-			}
-			else
-			{
-				$this->db->sql_query($sql);
-			}
-		}
-
-		return true;
-	}
-
-	/**
-	* Function to prepare some column information for better usage
-	* @access private
-	*/
-	function sql_prepare_column_data($table_name, $column_name, $column_data)
-	{
-		if (strlen($column_name) > 30)
-		{
-			trigger_error("Column name '$column_name' on table '$table_name' is too long. The maximum is 30 characters.", E_USER_ERROR);
-		}
-
-		// Get type
-		if (strpos($column_data[0], ':') !== false)
-		{
-			list($orig_column_type, $column_length) = explode(':', $column_data[0]);
-			if (!is_array($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']))
-			{
-				$column_type = sprintf($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':'], $column_length);
-			}
-			else
-			{
-				if (isset($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['rule']))
-				{
-					switch ($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['rule'][0])
-					{
-						case 'div':
-							$column_length /= $this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['rule'][1];
-							$column_length = ceil($column_length);
-							$column_type = sprintf($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':'][0], $column_length);
-						break;
-					}
-				}
-
-				if (isset($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['limit']))
-				{
-					switch ($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['limit'][0])
-					{
-						case 'mult':
-							$column_length *= $this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['limit'][1];
-							if ($column_length > $this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['limit'][2])
-							{
-								$column_type = $this->dbms_type_map[$this->sql_layer][$orig_column_type . ':']['limit'][3];
-							}
-							else
-							{
-								$column_type = sprintf($this->dbms_type_map[$this->sql_layer][$orig_column_type . ':'][0], $column_length);
-							}
-						break;
-					}
-				}
-			}
-			$orig_column_type .= ':';
-		}
-		else
-		{
-			$orig_column_type = $column_data[0];
-			$column_type = $this->dbms_type_map[$this->sql_layer][$column_data[0]];
-		}
-
-		// Adjust default value if db-dependant specified
-		if (is_array($column_data[1]))
-		{
-			$column_data[1] = (isset($column_data[1][$this->sql_layer])) ? $column_data[1][$this->sql_layer] : $column_data[1]['default'];
-		}
-
-		$sql = '';
-
-		$return_array = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				$sql .= " {$column_type} ";
-				$return_array['column_type_sql_type'] = " {$column_type} ";
-
-				if (!is_null($column_data[1]))
-				{
-					$sql .= 'DEFAULT ' . ((is_numeric($column_data[1])) ? $column_data[1] : "'{$column_data[1]}'") . ' ';
-					$return_array['column_type_sql_default'] = ((is_numeric($column_data[1])) ? $column_data[1] : "'{$column_data[1]}'") . ' ';
-				}
-
-				$sql .= 'NOT NULL';
-
-				// This is a UNICODE column and thus should be given it's fair share
-				if (preg_match('/^X?STEXT_UNI|VCHAR_(CI|UNI:?)/', $column_data[0]))
-				{
-					$sql .= ' COLLATE UNICODE';
-				}
-
-				$return_array['auto_increment'] = false;
-				if (isset($column_data[2]) && $column_data[2] == 'auto_increment')
-				{
-					$return_array['auto_increment'] = true;
-				}
-
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$sql .= " {$column_type} ";
-				$sql_default = " {$column_type} ";
-
-				// For adding columns we need the default definition
-				if (!is_null($column_data[1]))
-				{
-					// For hexadecimal values do not use single quotes
-					if (strpos($column_data[1], '0x') === 0)
-					{
-						$return_array['default'] = 'DEFAULT (' . $column_data[1] . ') ';
-						$sql_default .= $return_array['default'];
-					}
-					else
-					{
-						$return_array['default'] = 'DEFAULT (' . ((is_numeric($column_data[1])) ? $column_data[1] : "'{$column_data[1]}'") . ') ';
-						$sql_default .= $return_array['default'];
-					}
-				}
-
-				if (isset($column_data[2]) && $column_data[2] == 'auto_increment')
-				{
-//					$sql .= 'IDENTITY (1, 1) ';
-					$sql_default .= 'IDENTITY (1, 1) ';
-				}
-
-				$return_array['textimage'] = $column_type === '[text]';
-
-				$sql .= 'NOT NULL';
-				$sql_default .= 'NOT NULL';
-
-				$return_array['column_type_sql_default'] = $sql_default;
-
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$sql .= " {$column_type} ";
-
-				// For hexadecimal values do not use single quotes
-				if (!is_null($column_data[1]) && substr($column_type, -4) !== 'text' && substr($column_type, -4) !== 'blob')
-				{
-					$sql .= (strpos($column_data[1], '0x') === 0) ? "DEFAULT {$column_data[1]} " : "DEFAULT '{$column_data[1]}' ";
-				}
-				$sql .= 'NOT NULL';
-
-				if (isset($column_data[2]))
-				{
-					if ($column_data[2] == 'auto_increment')
-					{
-						$sql .= ' auto_increment';
-					}
-					else if ($this->sql_layer === 'mysql_41' && $column_data[2] == 'true_sort')
-					{
-						$sql .= ' COLLATE utf8_unicode_ci';
-					}
-				}
-
-			break;
-
-			case 'oracle':
-				$sql .= " {$column_type} ";
-				$sql .= (!is_null($column_data[1])) ? "DEFAULT '{$column_data[1]}' " : '';
-
-				// In Oracle empty strings ('') are treated as NULL.
-				// Therefore in oracle we allow NULL's for all DEFAULT '' entries
-				// Oracle does not like setting NOT NULL on a column that is already NOT NULL (this happens only on number fields)
-				if (!preg_match('/number/i', $column_type))
-				{
-					$sql .= ($column_data[1] === '') ? '' : 'NOT NULL';
-				}
-
-				$return_array['auto_increment'] = false;
-				if (isset($column_data[2]) && $column_data[2] == 'auto_increment')
-				{
-					$return_array['auto_increment'] = true;
-				}
-
-			break;
-
-			case 'postgres':
-				$return_array['column_type'] = $column_type;
-
-				$sql .= " {$column_type} ";
-
-				$return_array['auto_increment'] = false;
-				if (isset($column_data[2]) && $column_data[2] == 'auto_increment')
-				{
-					$default_val = "nextval('{$table_name}_seq')";
-					$return_array['auto_increment'] = true;
-				}
-				else if (!is_null($column_data[1]))
-				{
-					$default_val = "'" . $column_data[1] . "'";
-					$return_array['null'] = 'NOT NULL';
-					$sql .= 'NOT NULL ';
-				}
-
-				$return_array['default'] = $default_val;
-
-				$sql .= "DEFAULT {$default_val}";
-
-				// Unsigned? Then add a CHECK contraint
-				if (in_array($orig_column_type, $this->unsigned_types))
-				{
-					$return_array['constraint'] = "CHECK ({$column_name} >= 0)";
-					$sql .= " CHECK ({$column_name} >= 0)";
-				}
-
-			break;
-
-			case 'sqlite':
-				$return_array['primary_key_set'] = false;
-				if (isset($column_data[2]) && $column_data[2] == 'auto_increment')
-				{
-					$sql .= ' INTEGER PRIMARY KEY';
-					$return_array['primary_key_set'] = true;
-				}
-				else
-				{
-					$sql .= ' ' . $column_type;
-				}
-
-				$sql .= ' NOT NULL ';
-				$sql .= (!is_null($column_data[1])) ? "DEFAULT '{$column_data[1]}'" : '';
-
-			break;
-		}
-
-		$return_array['column_type_sql'] = $sql;
-
-		return $return_array;
-	}
-
-	/**
-	* Add new column
-	*/
-	function sql_column_add($table_name, $column_name, $column_data, $inline = false)
-	{
-		$column_data = $this->sql_prepare_column_data($table_name, $column_name, $column_data);
-		$statements = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				// Does not support AFTER statement, only POSITION (and there you need the column position)
-				$statements[] = 'ALTER TABLE ' . $table_name . ' ADD "' . strtoupper($column_name) . '" ' . $column_data['column_type_sql'];
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				// Does not support AFTER, only through temporary table
-				$statements[] = 'ALTER TABLE [' . $table_name . '] ADD [' . $column_name . '] ' . $column_data['column_type_sql_default'];
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$after = (!empty($column_data['after'])) ? ' AFTER ' . $column_data['after'] : '';
-				$statements[] = 'ALTER TABLE `' . $table_name . '` ADD COLUMN `' . $column_name . '` ' . $column_data['column_type_sql'] . $after;
-			break;
-
-			case 'oracle':
-				// Does not support AFTER, only through temporary table
-				$statements[] = 'ALTER TABLE ' . $table_name . ' ADD ' . $column_name . ' ' . $column_data['column_type_sql'];
-			break;
-
-			case 'postgres':
-				// Does not support AFTER, only through temporary table
-
-				if (version_compare($this->db->sql_server_info(true), '8.0', '>='))
-				{
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ADD COLUMN "' . $column_name . '" ' . $column_data['column_type_sql'];
-				}
-				else
-				{
-					// old versions cannot add columns with default and null information
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ADD COLUMN "' . $column_name . '" ' . $column_data['column_type'] . ' ' . $column_data['constraint'];
-
-					if (isset($column_data['null']))
-					{
-						if ($column_data['null'] == 'NOT NULL')
-						{
-							$statements[] = 'ALTER TABLE ' . $table_name . ' ALTER COLUMN ' . $column_name . ' SET NOT NULL';
-						}
-					}
-
-					if (isset($column_data['default']))
-					{
-						$statements[] = 'ALTER TABLE ' . $table_name . ' ALTER COLUMN ' . $column_name . ' SET DEFAULT ' . $column_data['default'];
-					}
-				}
-			break;
-
-			case 'sqlite':
-
-				if ($inline && $this->return_statements)
-				{
-					return $column_name . ' ' . $column_data['column_type_sql'];
-				}
-
-				if (version_compare(sqlite_libversion(), '3.0') == -1)
-				{
-					$sql = "SELECT sql
-						FROM sqlite_master
-						WHERE type = 'table'
-							AND name = '{$table_name}'
-						ORDER BY type DESC, name;";
-					$result = $this->db->sql_query($sql);
-
-					if (!$result)
-					{
-						break;
-					}
-
-					$row = $this->db->sql_fetchrow($result);
-					$this->db->sql_freeresult($result);
-
-					$statements[] = 'begin';
-
-					// Create a backup table and populate it, destroy the existing one
-					$statements[] = preg_replace('#CREATE\s+TABLE\s+"?' . $table_name . '"?#i', 'CREATE TEMPORARY TABLE ' . $table_name . '_temp', $row['sql']);
-					$statements[] = 'INSERT INTO ' . $table_name . '_temp SELECT * FROM ' . $table_name;
-					$statements[] = 'DROP TABLE ' . $table_name;
-
-					preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-					$new_table_cols = trim($matches[1]);
-					$old_table_cols = preg_split('/,(?![\s\w]+\))/m', $new_table_cols);
-					$column_list = array();
-
-					foreach ($old_table_cols as $declaration)
-					{
-						$entities = preg_split('#\s+#', trim($declaration));
-						if ($entities[0] == 'PRIMARY')
-						{
-							continue;
-						}
-						$column_list[] = $entities[0];
-					}
-
-					$columns = implode(',', $column_list);
-
-					$new_table_cols = $column_name . ' ' . $column_data['column_type_sql'] . ',' . $new_table_cols;
-
-					// create a new table and fill it up. destroy the temp one
-					$statements[] = 'CREATE TABLE ' . $table_name . ' (' . $new_table_cols . ');';
-					$statements[] = 'INSERT INTO ' . $table_name . ' (' . $columns . ') SELECT ' . $columns . ' FROM ' . $table_name . '_temp;';
-					$statements[] = 'DROP TABLE ' . $table_name . '_temp';
-
-					$statements[] = 'commit';
-				}
-				else
-				{
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ADD ' . $column_name . ' [' . $column_data['column_type_sql'] . ']';
-				}
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Drop column
-	*/
-	function sql_column_remove($table_name, $column_name, $inline = false)
-	{
-		$statements = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				$statements[] = 'ALTER TABLE ' . $table_name . ' DROP "' . strtoupper($column_name) . '"';
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$statements[] = 'ALTER TABLE [' . $table_name . '] DROP COLUMN [' . $column_name . ']';
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$statements[] = 'ALTER TABLE `' . $table_name . '` DROP COLUMN `' . $column_name . '`';
-			break;
-
-			case 'oracle':
-				$statements[] = 'ALTER TABLE ' . $table_name . ' DROP ' . $column_name;
-			break;
-
-			case 'postgres':
-				$statements[] = 'ALTER TABLE ' . $table_name . ' DROP COLUMN "' . $column_name . '"';
-			break;
-
-			case 'sqlite':
-
-				if ($inline && $this->return_statements)
-				{
-					return $column_name;
-				}
-
-				if (version_compare(sqlite_libversion(), '3.0') == -1)
-				{
-					$sql = "SELECT sql
-						FROM sqlite_master
-						WHERE type = 'table'
-							AND name = '{$table_name}'
-						ORDER BY type DESC, name;";
-					$result = $this->db->sql_query($sql);
-
-					if (!$result)
-					{
-						break;
-					}
-
-					$row = $this->db->sql_fetchrow($result);
-					$this->db->sql_freeresult($result);
-
-					$statements[] = 'begin';
-
-					// Create a backup table and populate it, destroy the existing one
-					$statements[] = preg_replace('#CREATE\s+TABLE\s+"?' . $table_name . '"?#i', 'CREATE TEMPORARY TABLE ' . $table_name . '_temp', $row['sql']);
-					$statements[] = 'INSERT INTO ' . $table_name . '_temp SELECT * FROM ' . $table_name;
-					$statements[] = 'DROP TABLE ' . $table_name;
-
-					preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-					$new_table_cols = trim($matches[1]);
-					$old_table_cols = preg_split('/,(?![\s\w]+\))/m', $new_table_cols);
-					$column_list = array();
-
-					foreach ($old_table_cols as $declaration)
-					{
-						$entities = preg_split('#\s+#', trim($declaration));
-						if ($entities[0] == 'PRIMARY' || $entities[0] === $column_name)
-						{
-							continue;
-						}
-						$column_list[] = $entities[0];
-					}
-
-					$columns = implode(',', $column_list);
-
-					$new_table_cols = $new_table_cols = preg_replace('/' . $column_name . '[^,]+(?:,|$)/m', '', $new_table_cols);
-
-					// create a new table and fill it up. destroy the temp one
-					$statements[] = 'CREATE TABLE ' . $table_name . ' (' . $new_table_cols . ');';
-					$statements[] = 'INSERT INTO ' . $table_name . ' (' . $columns . ') SELECT ' . $columns . ' FROM ' . $table_name . '_temp;';
-					$statements[] = 'DROP TABLE ' . $table_name . '_temp';
-
-					$statements[] = 'commit';
-				}
-				else
-				{
-					$statements[] = 'ALTER TABLE ' . $table_name . ' DROP COLUMN ' . $column_name;
-				}
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Drop Index
-	*/
-	function sql_index_drop($table_name, $index_name)
-	{
-		$statements = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'mssql':
-			case 'mssqlnative':
-				$statements[] = 'DROP INDEX ' . $table_name . '.' . $index_name;
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$statements[] = 'DROP INDEX ' . $index_name . ' ON ' . $table_name;
-			break;
-
-			case 'firebird':
-			case 'oracle':
-			case 'postgres':
-			case 'sqlite':
-				$statements[] = 'DROP INDEX ' . $table_name . '_' . $index_name;
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Add primary key
-	*/
-	function sql_create_primary_key($table_name, $column, $inline = false)
-	{
-		$statements = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-			case 'postgres':
-			case 'mysql_40':
-			case 'mysql_41':
-				$statements[] = 'ALTER TABLE ' . $table_name . ' ADD PRIMARY KEY (' . implode(', ', $column) . ')';
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$sql = "ALTER TABLE [{$table_name}] WITH NOCHECK ADD ";
-				$sql .= "CONSTRAINT [PK_{$table_name}] PRIMARY KEY  CLUSTERED (";
-				$sql .= '[' . implode("],\n\t\t[", $column) . ']';
-				$sql .= ') ON [PRIMARY]';
-
-				$statements[] = $sql;
-			break;
-
-			case 'oracle':
-				$statements[] = 'ALTER TABLE ' . $table_name . 'add CONSTRAINT pk_' . $table_name . ' PRIMARY KEY (' . implode(', ', $column) . ')';
-			break;
-
-			case 'sqlite':
-
-				if ($inline && $this->return_statements)
-				{
-					return $column;
-				}
-
-				$sql = "SELECT sql
-					FROM sqlite_master
-					WHERE type = 'table'
-						AND name = '{$table_name}'
-					ORDER BY type DESC, name;";
-				$result = $this->db->sql_query($sql);
-
-				if (!$result)
-				{
-					break;
-				}
-
-				$row = $this->db->sql_fetchrow($result);
-				$this->db->sql_freeresult($result);
-
-				$statements[] = 'begin';
-
-				// Create a backup table and populate it, destroy the existing one
-				$statements[] = preg_replace('#CREATE\s+TABLE\s+"?' . $table_name . '"?#i', 'CREATE TEMPORARY TABLE ' . $table_name . '_temp', $row['sql']);
-				$statements[] = 'INSERT INTO ' . $table_name . '_temp SELECT * FROM ' . $table_name;
-				$statements[] = 'DROP TABLE ' . $table_name;
-
-				preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-				$new_table_cols = trim($matches[1]);
-				$old_table_cols = preg_split('/,(?![\s\w]+\))/m', $new_table_cols);
-				$column_list = array();
-
-				foreach ($old_table_cols as $declaration)
-				{
-					$entities = preg_split('#\s+#', trim($declaration));
-					if ($entities[0] == 'PRIMARY')
-					{
-						continue;
-					}
-					$column_list[] = $entities[0];
-				}
-
-				$columns = implode(',', $column_list);
-
-				// create a new table and fill it up. destroy the temp one
-				$statements[] = 'CREATE TABLE ' . $table_name . ' (' . $new_table_cols . ', PRIMARY KEY (' . implode(', ', $column) . '));';
-				$statements[] = 'INSERT INTO ' . $table_name . ' (' . $columns . ') SELECT ' . $columns . ' FROM ' . $table_name . '_temp;';
-				$statements[] = 'DROP TABLE ' . $table_name . '_temp';
-
-				$statements[] = 'commit';
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Add unique index
-	*/
-	function sql_create_unique_index($table_name, $index_name, $column)
-	{
-		$statements = array();
-
-		$table_prefix = substr(CONFIG_TABLE, 0, -6); // strlen(config)
-		if (strlen($table_name . $index_name) - strlen($table_prefix) > 24)
-		{
-			$max_length = $table_prefix + 24;
-			trigger_error("Index name '{$table_name}_$index_name' on table '$table_name' is too long. The maximum is $max_length characters.", E_USER_ERROR);
-		}
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-			case 'postgres':
-			case 'oracle':
-			case 'sqlite':
-				$statements[] = 'CREATE UNIQUE INDEX ' . $table_name . '_' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ')';
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$statements[] = 'CREATE UNIQUE INDEX ' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ')';
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$statements[] = 'CREATE UNIQUE INDEX ' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ') ON [PRIMARY]';
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Add index
-	*/
-	function sql_create_index($table_name, $index_name, $column)
-	{
-		$statements = array();
-
-		$table_prefix = substr(CONFIG_TABLE, 0, -6); // strlen(config)
-		if (strlen($table_name . $index_name) - strlen($table_prefix) > 24)
-		{
-			$max_length = $table_prefix + 24;
-			trigger_error("Index name '{$table_name}_$index_name' on table '$table_name' is too long. The maximum is $max_length characters.", E_USER_ERROR);
-		}
-
-		// remove index length unless MySQL4
-		if ('mysql_40' != $this->sql_layer)
-		{
-			$column = preg_replace('#:.*$#', '', $column);
-		}
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-			case 'postgres':
-			case 'oracle':
-			case 'sqlite':
-				$statements[] = 'CREATE INDEX ' . $table_name . '_' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ')';
-			break;
-
-			case 'mysql_40':
-				// add index size to definition as required by MySQL4
-				foreach ($column as $i => $col)
-				{
-					if (false !== strpos($col, ':'))
-					{
-						list($col, $index_size) = explode(':', $col);
-						$column[$i] = "$col($index_size)";
-					}
-				}
-			// no break
-			case 'mysql_41':
-				$statements[] = 'CREATE INDEX ' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ')';
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$statements[] = 'CREATE INDEX ' . $index_name . ' ON ' . $table_name . '(' . implode(', ', $column) . ') ON [PRIMARY]';
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-
-	/**
-	* Change column type (not name!)
-	*/
-	function sql_column_change($table_name, $column_name, $column_data, $inline = false)
-	{
-		$column_data = $this->sql_prepare_column_data($table_name, $column_name, $column_data);
-		$statements = array();
-
-		switch ($this->sql_layer)
-		{
-			case 'firebird':
-				// Change type...
-				if (!empty($column_data['column_type_sql_default']))
-				{
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ALTER COLUMN "' . strtoupper($column_name) . '" TYPE ' . ' ' . $column_data['column_type_sql_type'];
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ALTER COLUMN "' . strtoupper($column_name) . '" SET DEFAULT ' . ' ' . $column_data['column_type_sql_default'];
-				}
-				else
-				{
-					// TODO: try to change pkey without removing trigger, generator or constraints. ATM this query may fail.
-					$statements[] = 'ALTER TABLE ' . $table_name . ' ALTER COLUMN "' . strtoupper($column_name) . '" TYPE ' . ' ' . $column_data['column_type_sql_type'];
-				}
-			break;
-
-			case 'mssql':
-			case 'mssqlnative':
-				$statements[] = 'ALTER TABLE [' . $table_name . '] ALTER COLUMN [' . $column_name . '] ' . $column_data['column_type_sql'];
-
-				if (!empty($column_data['default']))
-				{
-					// Using TRANSACT-SQL for this statement because we do not want to have colliding data if statements are executed at a later stage
-					$statements[] = "DECLARE @drop_default_name VARCHAR(100), @cmd VARCHAR(1000)
-						SET @drop_default_name =
-							(SELECT so.name FROM sysobjects so
-							JOIN sysconstraints sc ON so.id = sc.constid
-							WHERE object_name(so.parent_obj) = '{$table_name}'
-								AND so.xtype = 'D'
-								AND sc.colid = (SELECT colid FROM syscolumns
-									WHERE id = object_id('{$table_name}')
-										AND name = '{$column_name}'))
-						IF @drop_default_name <> ''
-						BEGIN
-							SET @cmd = 'ALTER TABLE [{$table_name}] DROP CONSTRAINT [' + @drop_default_name + ']'
-							EXEC(@cmd)
-						END
-						SET @cmd = 'ALTER TABLE [{$table_name}] ADD CONSTRAINT [DF_{$table_name}_{$column_name}_1] {$column_data['default']} FOR [{$column_name}]'
-						EXEC(@cmd)";
-				}
-			break;
-
-			case 'mysql_40':
-			case 'mysql_41':
-				$statements[] = 'ALTER TABLE `' . $table_name . '` CHANGE `' . $column_name . '` `' . $column_name . '` ' . $column_data['column_type_sql'];
-			break;
-
-			case 'oracle':
-				$statements[] = 'ALTER TABLE ' . $table_name . ' MODIFY ' . $column_name . ' ' . $column_data['column_type_sql'];
-			break;
-
-			case 'postgres':
-				$sql = 'ALTER TABLE ' . $table_name . ' ';
-
-				$sql_array = array();
-				$sql_array[] = 'ALTER COLUMN ' . $column_name . ' TYPE ' . $column_data['column_type'];
-
-				if (isset($column_data['null']))
-				{
-					if ($column_data['null'] == 'NOT NULL')
-					{
-						$sql_array[] = 'ALTER COLUMN ' . $column_name . ' SET NOT NULL';
-					}
-					else if ($column_data['null'] == 'NULL')
-					{
-						$sql_array[] = 'ALTER COLUMN ' . $column_name . ' DROP NOT NULL';
-					}
-				}
-
-				if (isset($column_data['default']))
-				{
-					$sql_array[] = 'ALTER COLUMN ' . $column_name . ' SET DEFAULT ' . $column_data['default'];
-				}
-
-				// we don't want to double up on constraints if we change different number data types
-				if (isset($column_data['constraint']))
-				{
-					$constraint_sql = "SELECT consrc as constraint_data
-								FROM pg_constraint, pg_class bc
-								WHERE conrelid = bc.oid
-									AND bc.relname = '{$table_name}'
-									AND NOT EXISTS (
-										SELECT *
-											FROM pg_constraint as c, pg_inherits as i
-											WHERE i.inhrelid = pg_constraint.conrelid
-												AND c.conname = pg_constraint.conname
-												AND c.consrc = pg_constraint.consrc
-												AND c.conrelid = i.inhparent
-									)";
-
-					$constraint_exists = false;
-
-					$result = $this->db->sql_query($constraint_sql);
-					while ($row = $this->db->sql_fetchrow($result))
-					{
-						if (trim($row['constraint_data']) == trim($column_data['constraint']))
-						{
-							$constraint_exists = true;
-							break;
-						}
-					}
-					$this->db->sql_freeresult($result);
-
-					if (!$constraint_exists)
-					{
-						$sql_array[] = 'ADD ' . $column_data['constraint'];
-					}
-				}
-
-				$sql .= implode(', ', $sql_array);
-
-				$statements[] = $sql;
-			break;
-
-			case 'sqlite':
-
-				if ($inline && $this->return_statements)
-				{
-					return $column_name . ' ' . $column_data['column_type_sql'];
-				}
-
-				$sql = "SELECT sql
-					FROM sqlite_master
-					WHERE type = 'table'
-						AND name = '{$table_name}'
-					ORDER BY type DESC, name;";
-				$result = $this->db->sql_query($sql);
-
-				if (!$result)
-				{
-					break;
-				}
-
-				$row = $this->db->sql_fetchrow($result);
-				$this->db->sql_freeresult($result);
-
-				$statements[] = 'begin';
-
-				// Create a temp table and populate it, destroy the existing one
-				$statements[] = preg_replace('#CREATE\s+TABLE\s+"?' . $table_name . '"?#i', 'CREATE TEMPORARY TABLE ' . $table_name . '_temp', $row['sql']);
-				$statements[] = 'INSERT INTO ' . $table_name . '_temp SELECT * FROM ' . $table_name;
-				$statements[] = 'DROP TABLE ' . $table_name;
-
-				preg_match('#\((.*)\)#s', $row['sql'], $matches);
-
-				$new_table_cols = trim($matches[1]);
-				$old_table_cols = preg_split('/,(?![\s\w]+\))/m', $new_table_cols);
-				$column_list = array();
-
-				foreach ($old_table_cols as $key => $declaration)
-				{
-					$entities = preg_split('#\s+#', trim($declaration));
-					$column_list[] = $entities[0];
-					if ($entities[0] == $column_name)
-					{
-						$old_table_cols[$key] = $column_name . ' ' . $column_data['column_type_sql'];
-					}
-				}
-
-				$columns = implode(',', $column_list);
-
-				// create a new table and fill it up. destroy the temp one
-				$statements[] = 'CREATE TABLE ' . $table_name . ' (' . implode(',', $old_table_cols) . ');';
-				$statements[] = 'INSERT INTO ' . $table_name . ' (' . $columns . ') SELECT ' . $columns . ' FROM ' . $table_name . '_temp;';
-				$statements[] = 'DROP TABLE ' . $table_name . '_temp';
-
-				$statements[] = 'commit';
-
-			break;
-		}
-
-		return $this->_sql_run_sql($statements);
-	}
-}
-
-?>
diff -rNU5 phpBB3-init/install/index.php phpBB3/install/index.php
--- phpBB3-init/install/index.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/index.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,729 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2005 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-/**#@+
-* @ignore
-*/
-define('IN_PHPBB', true);
-define('IN_INSTALL', true);
-/**#@-*/
-
-$phpbb_root_path = (defined('PHPBB_ROOT_PATH')) ? PHPBB_ROOT_PATH : './../';
-$phpEx = substr(strrchr(__FILE__, '.'), 1);
-
-// @todo Review this test and see if we can find out what it is which prevents PHP 4.2.x from even displaying the page with requirements on it
-if (version_compare(PHP_VERSION, '4.3.3') < 0)
-{
-	die('You are running an unsupported PHP version. Please upgrade to PHP 4.3.3 or higher before trying to install phpBB 3.0');
-}
-
-function phpbb_require_updated($path, $optional = false)
-{
-	global $phpbb_root_path;
-
-	$new_path = $phpbb_root_path . 'install/update/new/' . $path;
-	$old_path = $phpbb_root_path . $path;
-
-	if (file_exists($new_path))
-	{
-		require($new_path);
-	}
-	else if (!$optional || file_exists($old_path))
-	{
-		require($old_path);
-	}
-}
-
-phpbb_require_updated('includes/startup.' . $phpEx);
-
-// Try to override some limits - maybe it helps some...
-@set_time_limit(0);
-$mem_limit = @ini_get('memory_limit');
-if (!empty($mem_limit))
-{
-	$unit = strtolower(substr($mem_limit, -1, 1));
-	$mem_limit = (int) $mem_limit;
-
-	if ($unit == 'k')
-	{
-		$mem_limit = floor($mem_limit / 1024);
-	}
-	else if ($unit == 'g')
-	{
-		$mem_limit *= 1024;
-	}
-	else if (is_numeric($unit))
-	{
-		$mem_limit = floor((int) ($mem_limit . $unit) / 1048576);
-	}
-	$mem_limit = max(128, $mem_limit) . 'M';
-}
-else
-{
-	$mem_limit = '128M';
-}
-@ini_set('memory_limit', $mem_limit);
-
-// Include essential scripts
-require($phpbb_root_path . 'includes/functions.' . $phpEx);
-
-phpbb_require_updated('includes/functions_content.' . $phpEx, true);
-
-include($phpbb_root_path . 'includes/auth.' . $phpEx);
-include($phpbb_root_path . 'includes/session.' . $phpEx);
-include($phpbb_root_path . 'includes/template.' . $phpEx);
-include($phpbb_root_path . 'includes/acm/acm_file.' . $phpEx);
-include($phpbb_root_path . 'includes/cache.' . $phpEx);
-include($phpbb_root_path . 'includes/functions_admin.' . $phpEx);
-include($phpbb_root_path . 'includes/utf/utf_tools.' . $phpEx);
-require($phpbb_root_path . 'includes/functions_install.' . $phpEx);
-
-// Try and load an appropriate language if required
-$language = basename(request_var('language', ''));
-
-if (!empty($_SERVER['HTTP_ACCEPT_LANGUAGE']) && !$language)
-{
-	$accept_lang_ary = explode(',', strtolower($_SERVER['HTTP_ACCEPT_LANGUAGE']));
-	foreach ($accept_lang_ary as $accept_lang)
-	{
-		// Set correct format ... guess full xx_yy form
-		$accept_lang = substr($accept_lang, 0, 2) . '_' . substr($accept_lang, 3, 2);
-
-		if (file_exists($phpbb_root_path . 'language/' . $accept_lang) && is_dir($phpbb_root_path . 'language/' . $accept_lang))
-		{
-			$language = $accept_lang;
-			break;
-		}
-		else
-		{
-			// No match on xx_yy so try xx
-			$accept_lang = substr($accept_lang, 0, 2);
-			if (file_exists($phpbb_root_path . 'language/' . $accept_lang) && is_dir($phpbb_root_path . 'language/' . $accept_lang))
-			{
-				$language = $accept_lang;
-				break;
-			}
-		}
-	}
-}
-
-// No appropriate language found ... so let's use the first one in the language
-// dir, this may or may not be English
-if (!$language)
-{
-	$dir = @opendir($phpbb_root_path . 'language');
-
-	if (!$dir)
-	{
-		die('Unable to access the language directory');
-		exit;
-	}
-
-	while (($file = readdir($dir)) !== false)
-	{
-		$path = $phpbb_root_path . 'language/' . $file;
-
-		if (!is_file($path) && !is_link($path) && file_exists($path . '/iso.txt'))
-		{
-			$language = $file;
-			break;
-		}
-	}
-	closedir($dir);
-}
-
-if (!file_exists($phpbb_root_path . 'language/' . $language) || !is_dir($phpbb_root_path . 'language/' . $language))
-{
-	die('No language found!');
-}
-
-// And finally, load the relevant language files
-include($phpbb_root_path . 'language/' . $language . '/common.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/acp/common.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/acp/board.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/install.' . $phpEx);
-include($phpbb_root_path . 'language/' . $language . '/posting.' . $phpEx);
-
-// usually we would need every single constant here - and it would be consistent. For 3.0.x, use a dirty hack... :(
-
-// Define needed constants
-define('CHMOD_ALL', 7);
-define('CHMOD_READ', 4);
-define('CHMOD_WRITE', 2);
-define('CHMOD_EXECUTE', 1);
-
-$mode = request_var('mode', 'overview');
-$sub = request_var('sub', '');
-
-// Set PHP error handler to ours
-set_error_handler(defined('PHPBB_MSG_HANDLER') ? PHPBB_MSG_HANDLER : 'msg_handler');
-
-$user = new user();
-$auth = new auth();
-$cache = new cache();
-$template = new template();
-
-// Add own hook handler, if present. :o
-if (file_exists($phpbb_root_path . 'includes/hooks/index.' . $phpEx))
-{
-	require($phpbb_root_path . 'includes/hooks/index.' . $phpEx);
-	$phpbb_hook = new phpbb_hook(array('exit_handler', 'phpbb_user_session_handler', 'append_sid', array('template', 'display')));
-
-	foreach ($cache->obtain_hooks() as $hook)
-	{
-		@include($phpbb_root_path . 'includes/hooks/' . $hook . '.' . $phpEx);
-	}
-}
-else
-{
-	$phpbb_hook = false;
-}
-
-// Set some standard variables we want to force
-$config = array(
-	'load_tplcompile'	=> '1'
-);
-
-$template->set_custom_template('../adm/style', 'admin');
-$template->assign_var('T_TEMPLATE_PATH', '../adm/style');
-
-// the acp template is never stored in the database
-$user->theme['template_storedb'] = false;
-
-$install = new module();
-
-$install->create('install', "index.$phpEx", $mode, $sub);
-$install->load();
-
-// Generate the page
-$install->page_header();
-$install->generate_navigation();
-
-$template->set_filenames(array(
-	'body' => $install->get_tpl_name())
-);
-
-$install->page_footer();
-
-/**
-* @package install
-*/
-class module
-{
-	var $id = 0;
-	var $type = 'install';
-	var $module_ary = array();
-	var $filename;
-	var $module_url = '';
-	var $tpl_name = '';
-	var $mode;
-	var $sub;
-
-	/**
-	* Private methods, should not be overwritten
-	*/
-	function create($module_type, $module_url, $selected_mod = false, $selected_submod = false)
-	{
-		global $db, $config, $phpEx, $phpbb_root_path;
-
-		$module = array();
-
-		// Grab module information using Bart's "neat-o-module" system (tm)
-		$dir = @opendir('.');
-
-		if (!$dir)
-		{
-			$this->error('Unable to access the installation directory', __LINE__, __FILE__);
-		}
-
-		$setmodules = 1;
-		while (($file = readdir($dir)) !== false)
-		{
-			if (preg_match('#^install_(.*?)\.' . $phpEx . '$#', $file))
-			{
-				include($file);
-			}
-		}
-		closedir($dir);
-
-		unset($setmodules);
-
-		if (!sizeof($module))
-		{
-			$this->error('No installation modules found', __LINE__, __FILE__);
-		}
-
-		// Order to use and count further if modules get assigned to the same position or not having an order
-		$max_module_order = 1000;
-
-		foreach ($module as $row)
-		{
-			// Module order not specified or module already assigned at this position?
-			if (!isset($row['module_order']) || isset($this->module_ary[$row['module_order']]))
-			{
-				$row['module_order'] = $max_module_order;
-				$max_module_order++;
-			}
-
-			$this->module_ary[$row['module_order']]['name'] = $row['module_title'];
-			$this->module_ary[$row['module_order']]['filename'] = $row['module_filename'];
-			$this->module_ary[$row['module_order']]['subs'] = $row['module_subs'];
-			$this->module_ary[$row['module_order']]['stages'] = $row['module_stages'];
-
-			if (strtolower($selected_mod) == strtolower($row['module_title']))
-			{
-				$this->id = (int) $row['module_order'];
-				$this->filename = (string) $row['module_filename'];
-				$this->module_url = (string) $module_url;
-				$this->mode = (string) $selected_mod;
-				// Check that the sub-mode specified is valid or set a default if not
-				if (is_array($row['module_subs']))
-				{
-					$this->sub = strtolower((in_array(strtoupper($selected_submod), $row['module_subs'])) ? $selected_submod : $row['module_subs'][0]);
-				}
-				else if (is_array($row['module_stages']))
-				{
-					$this->sub = strtolower((in_array(strtoupper($selected_submod), $row['module_stages'])) ? $selected_submod : $row['module_stages'][0]);
-				}
-				else
-				{
-					$this->sub = '';
-				}
-			}
-		} // END foreach
-	} // END create
-
-	/**
-	* Load and run the relevant module if applicable
-	*/
-	function load($mode = false, $run = true)
-	{
-		global $phpbb_root_path, $phpEx;
-
-		if ($run)
-		{
-			if (!empty($mode))
-			{
-				$this->mode = $mode;
-			}
-
-			$module = $this->filename;
-			if (!class_exists($module))
-			{
-				$this->error('Module "' . htmlspecialchars($module) . '" not accessible.', __LINE__, __FILE__);
-			}
-			$this->module = new $module($this);
-
-			if (method_exists($this->module, 'main'))
-			{
-				$this->module->main($this->mode, $this->sub);
-			}
-		}
-	}
-
-	/**
-	* Output the standard page header
-	*/
-	function page_header()
-	{
-		if (defined('HEADER_INC'))
-		{
-			return;
-		}
-
-		define('HEADER_INC', true);
-		global $template, $lang, $stage, $phpbb_root_path;
-
-		$template->assign_vars(array(
-			'L_CHANGE'				=> $lang['CHANGE'],
-			'L_INSTALL_PANEL'		=> $lang['INSTALL_PANEL'],
-			'L_SELECT_LANG'			=> $lang['SELECT_LANG'],
-			'L_SKIP'				=> $lang['SKIP'],
-			'PAGE_TITLE'			=> $this->get_page_title(),
-			'T_IMAGE_PATH'			=> $phpbb_root_path . 'adm/images/',
-
-			'S_CONTENT_DIRECTION' 	=> $lang['DIRECTION'],
-			'S_CONTENT_FLOW_BEGIN'	=> ($lang['DIRECTION'] == 'ltr') ? 'left' : 'right',
-			'S_CONTENT_FLOW_END'	=> ($lang['DIRECTION'] == 'ltr') ? 'right' : 'left',
-			'S_CONTENT_ENCODING' 	=> 'UTF-8',
-
-			'S_USER_LANG'			=> $lang['USER_LANG'],
-			)
-		);
-
-		header('Content-type: text/html; charset=UTF-8');
-		header('Cache-Control: private, no-cache="set-cookie"');
-		header('Expires: 0');
-		header('Pragma: no-cache');
-
-		return;
-	}
-
-	/**
-	* Output the standard page footer
-	*/
-	function page_footer()
-	{
-		global $db, $template;
-
-		$template->display('body');
-
-		// Close our DB connection.
-		if (!empty($db) && is_object($db))
-		{
-			$db->sql_close();
-		}
-
-		if (function_exists('exit_handler'))
-		{
-			exit_handler();
-		}
-	}
-
-	/**
-	* Returns desired template name
-	*/
-	function get_tpl_name()
-	{
-		return $this->module->tpl_name . '.html';
-	}
-
-	/**
-	* Returns the desired page title
-	*/
-	function get_page_title()
-	{
-		global $lang;
-
-		if (!isset($this->module->page_title))
-		{
-			return '';
-		}
-
-		return (isset($lang[$this->module->page_title])) ? $lang[$this->module->page_title] : $this->module->page_title;
-	}
-
-	/**
-	* Generate an HTTP/1.1 header to redirect the user to another page
-	* This is used during the installation when we do not have a database available to call the normal redirect function
-	* @param string $page The page to redirect to relative to the installer root path
-	*/
-	function redirect($page)
-	{
-		// HTTP_HOST is having the correct browser url in most cases...
-		$server_name = (!empty($_SERVER['HTTP_HOST'])) ? strtolower($_SERVER['HTTP_HOST']) : ((!empty($_SERVER['SERVER_NAME'])) ? $_SERVER['SERVER_NAME'] : getenv('SERVER_NAME'));
-		$server_port = (!empty($_SERVER['SERVER_PORT'])) ? (int) $_SERVER['SERVER_PORT'] : (int) getenv('SERVER_PORT');
-		$secure = (isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') ? 1 : 0;
-
-		$script_name = (!empty($_SERVER['PHP_SELF'])) ? $_SERVER['PHP_SELF'] : getenv('PHP_SELF');
-		if (!$script_name)
-		{
-			$script_name = (!empty($_SERVER['REQUEST_URI'])) ? $_SERVER['REQUEST_URI'] : getenv('REQUEST_URI');
-		}
-
-		// Replace backslashes and doubled slashes (could happen on some proxy setups)
-		$script_name = str_replace(array('\\', '//'), '/', $script_name);
-		$script_path = trim(dirname($script_name));
-
-		$url = (($secure) ? 'https://' : 'http://') . $server_name;
-
-		if ($server_port && (($secure && $server_port <> 443) || (!$secure && $server_port <> 80)))
-		{
-			// HTTP HOST can carry a port number...
-			if (strpos($server_name, ':') === false)
-			{
-				$url .= ':' . $server_port;
-			}
-		}
-
-		$url .= $script_path . '/' . $page;
-		header('Location: ' . $url);
-		exit;
-	}
-
-	/**
-	* Generate the navigation tabs
-	*/
-	function generate_navigation()
-	{
-		global $lang, $template, $phpEx, $language;
-
-		if (is_array($this->module_ary))
-		{
-			@ksort($this->module_ary);
-			foreach ($this->module_ary as $cat_ary)
-			{
-				$cat = $cat_ary['name'];
-				$l_cat = (!empty($lang['CAT_' . $cat])) ? $lang['CAT_' . $cat] : preg_replace('#_#', ' ', $cat);
-				$cat = strtolower($cat);
-				$url = $this->module_url . "?mode=$cat&amp;language=$language";
-
-				if ($this->mode == $cat)
-				{
-					$template->assign_block_vars('t_block1', array(
-						'L_TITLE'		=> $l_cat,
-						'S_SELECTED'	=> true,
-						'U_TITLE'		=> $url,
-					));
-
-					if (is_array($this->module_ary[$this->id]['subs']))
-					{
-						$subs = $this->module_ary[$this->id]['subs'];
-						foreach ($subs as $option)
-						{
-							$l_option = (!empty($lang['SUB_' . $option])) ? $lang['SUB_' . $option] : preg_replace('#_#', ' ', $option);
-							$option = strtolower($option);
-							$url = $this->module_url . '?mode=' . $this->mode . "&amp;sub=$option&amp;language=$language";
-
-							$template->assign_block_vars('l_block1', array(
-								'L_TITLE'		=> $l_option,
-								'S_SELECTED'	=> ($this->sub == $option),
-								'U_TITLE'		=> $url,
-							));
-						}
-					}
-
-					if (is_array($this->module_ary[$this->id]['stages']))
-					{
-						$subs = $this->module_ary[$this->id]['stages'];
-						$matched = false;
-						foreach ($subs as $option)
-						{
-							$l_option = (!empty($lang['STAGE_' . $option])) ? $lang['STAGE_' . $option] : preg_replace('#_#', ' ', $option);
-							$option = strtolower($option);
-							$matched = ($this->sub == $option) ? true : $matched;
-
-							$template->assign_block_vars('l_block2', array(
-								'L_TITLE'		=> $l_option,
-								'S_SELECTED'	=> ($this->sub == $option),
-								'S_COMPLETE'	=> !$matched,
-							));
-						}
-					}
-				}
-				else
-				{
-					$template->assign_block_vars('t_block1', array(
-						'L_TITLE'		=> $l_cat,
-						'S_SELECTED'	=> false,
-						'U_TITLE'		=> $url,
-					));
-				}
-			}
-		}
-	}
-
-	/**
-	* Output an error message
-	* If skip is true, return and continue execution, else exit
-	*/
-	function error($error, $line, $file, $skip = false)
-	{
-		global $lang, $db, $template;
-
-		if ($skip)
-		{
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'	=> true,
-				'LEGEND'	=> $lang['INST_ERR'],
-			));
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> basename($file) . ' [ ' . $line . ' ]',
-				'RESULT'	=> '<b style="color:red">' . $error . '</b>',
-			));
-
-			return;
-		}
-
-		echo '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">';
-		echo '<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">';
-		echo '<head>';
-		echo '<meta http-equiv="content-type" content="text/html; charset=utf-8" />';
-		echo '<title>' . $lang['INST_ERR_FATAL'] . '</title>';
-		echo '<link href="../adm/style/admin.css" rel="stylesheet" type="text/css" media="screen" />';
-		echo '</head>';
-		echo '<body id="errorpage">';
-		echo '<div id="wrap">';
-		echo '	<div id="page-header">';
-		echo '	</div>';
-		echo '	<div id="page-body">';
-		echo '		<div id="acp">';
-		echo '		<div class="panel">';
-		echo '			<span class="corners-top"><span></span></span>';
-		echo '			<div id="content">';
-		echo '				<h1>' . $lang['INST_ERR_FATAL'] . '</h1>';
-		echo '		<p>' . $lang['INST_ERR_FATAL'] . "</p>\n";
-		echo '		<p>' . basename($file) . ' [ ' . $line . " ]</p>\n";
-		echo '		<p><b>' . $error . "</b></p>\n";
-		echo '			</div>';
-		echo '			<span class="corners-bottom"><span></span></span>';
-		echo '		</div>';
-		echo '		</div>';
-		echo '	</div>';
-		echo '	<div id="page-footer">';
-		echo '		Powered by <a href="http://www.phpbb.com/">phpBB</a>&reg; Forum Software &copy; phpBB Group';
-		echo '	</div>';
-		echo '</div>';
-		echo '</body>';
-		echo '</html>';
-
-		if (!empty($db) && is_object($db))
-		{
-			$db->sql_close();
-		}
-
-		exit_handler();
-	}
-
-	/**
-	* Output an error message for a database related problem
-	* If skip is true, return and continue execution, else exit
-	*/
-	function db_error($error, $sql, $line, $file, $skip = false)
-	{
-		global $lang, $db, $template;
-
-		if ($skip)
-		{
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'	=> true,
-				'LEGEND'	=> $lang['INST_ERR_FATAL'],
-			));
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> basename($file) . ' [ ' . $line . ' ]',
-				'RESULT'	=> '<b style="color:red">' . $error . '</b><br />&#187; SQL:' . $sql,
-			));
-
-			return;
-		}
-
-		$template->set_filenames(array(
-			'body' => 'install_error.html')
-		);
-		$this->page_header();
-		$this->generate_navigation();
-
-		$template->assign_vars(array(
-			'MESSAGE_TITLE'		=> $lang['INST_ERR_FATAL_DB'],
-			'MESSAGE_TEXT'		=> '<p>' . basename($file) . ' [ ' . $line . ' ]</p><p>SQL : ' . $sql . '</p><p><b>' . $error . '</b></p>',
-		));
-
-		// Rollback if in transaction
-		if ($db->transaction)
-		{
-			$db->sql_transaction('rollback');
-		}
-
-		$this->page_footer();
-	}
-
-	/**
-	* Generate the relevant HTML for an input field and the associated label and explanatory text
-	*/
-	function input_field($name, $type, $value='', $options='')
-	{
-		global $lang;
-		$tpl_type = explode(':', $type);
-		$tpl = '';
-
-		switch ($tpl_type[0])
-		{
-			case 'text':
-			case 'password':
-				$size = (int) $tpl_type[1];
-				$maxlength = (int) $tpl_type[2];
-
-				$tpl = '<input id="' . $name . '" type="' . $tpl_type[0] . '"' . (($size) ? ' size="' . $size . '"' : '') . ' maxlength="' . (($maxlength) ? $maxlength : 255) . '" name="' . $name . '" value="' . $value . '" />';
-			break;
-
-			case 'textarea':
-				$rows = (int) $tpl_type[1];
-				$cols = (int) $tpl_type[2];
-
-				$tpl = '<textarea id="' . $name . '" name="' . $name . '" rows="' . $rows . '" cols="' . $cols . '">' . $value . '</textarea>';
-			break;
-
-			case 'radio':
-				$key_yes	= ($value) ? ' checked="checked" id="' . $name . '"' : '';
-				$key_no		= (!$value) ? ' checked="checked" id="' . $name . '"' : '';
-
-				$tpl_type_cond = explode('_', $tpl_type[1]);
-				$type_no = ($tpl_type_cond[0] == 'disabled' || $tpl_type_cond[0] == 'enabled') ? false : true;
-
-				$tpl_no = '<label><input type="radio" name="' . $name . '" value="0"' . $key_no . ' class="radio" /> ' . (($type_no) ? $lang['NO'] : $lang['DISABLED']) . '</label>';
-				$tpl_yes = '<label><input type="radio" name="' . $name . '" value="1"' . $key_yes . ' class="radio" /> ' . (($type_no) ? $lang['YES'] : $lang['ENABLED']) . '</label>';
-
-				$tpl = ($tpl_type_cond[0] == 'yes' || $tpl_type_cond[0] == 'enabled') ? $tpl_yes . '&nbsp;&nbsp;' . $tpl_no : $tpl_no . '&nbsp;&nbsp;' . $tpl_yes;
-			break;
-
-			case 'select':
-				eval('$s_options = ' . str_replace('{VALUE}', $value, $options) . ';');
-				$tpl = '<select id="' . $name . '" name="' . $name . '">' . $s_options . '</select>';
-			break;
-
-			case 'custom':
-				eval('$tpl = ' . str_replace('{VALUE}', $value, $options) . ';');
-			break;
-
-			default:
-			break;
-		}
-
-		return $tpl;
-	}
-
-	/**
-	* Generate the drop down of available language packs
-	*/
-	function inst_language_select($default = '')
-	{
-		global $phpbb_root_path, $phpEx;
-
-		$dir = @opendir($phpbb_root_path . 'language');
-
-		if (!$dir)
-		{
-			$this->error('Unable to access the language directory', __LINE__, __FILE__);
-		}
-
-		while ($file = readdir($dir))
-		{
-			$path = $phpbb_root_path . 'language/' . $file;
-
-			if ($file == '.' || $file == '..' || is_link($path) || is_file($path) || $file == 'CVS')
-			{
-				continue;
-			}
-
-			if (file_exists($path . '/iso.txt'))
-			{
-				list($displayname, $localname) = @file($path . '/iso.txt');
-				$lang[$localname] = $file;
-			}
-		}
-		closedir($dir);
-
-		@asort($lang);
-		@reset($lang);
-
-		$user_select = '';
-		foreach ($lang as $displayname => $filename)
-		{
-			$selected = (strtolower($default) == strtolower($filename)) ? ' selected="selected"' : '';
-			$user_select .= '<option value="' . $filename . '"' . $selected . '>' . ucwords($displayname) . '</option>';
-		}
-
-		return $user_select;
-	}
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/install_convert.php phpBB3/install/install_convert.php
--- phpBB3-init/install/install_convert.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/install_convert.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,2116 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2006 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-/**
-*/
-
-if (!defined('IN_INSTALL'))
-{
-	// Someone has tried to access the file direct. This is not a good idea, so exit
-	exit;
-}
-
-if (!empty($setmodules))
-{
-	$module[] = array(
-		'module_type'		=> 'install',
-		'module_title'		=> 'CONVERT',
-		'module_filename'	=> substr(basename(__FILE__), 0, -strlen($phpEx)-1),
-		'module_order'		=> 20,
-		'module_subs'		=> '',
-		'module_stages'		=> array('INTRO', 'SETTINGS', 'IN_PROGRESS', 'FINAL'),
-		'module_reqs'		=> ''
-	);
-}
-
-/**
-* Class holding all convertor-specific details.
-* @package install
-*/
-class convert
-{
-	var $options = array();
-
-	var $convertor_tag = '';
-	var $src_dbms = '';
-	var $src_dbhost = '';
-	var $src_dbport = '';
-	var $src_dbuser = '';
-	var $src_dbpasswd = '';
-	var $src_dbname = '';
-	var $src_table_prefix = '';
-
-	var $convertor_data = array();
-	var $tables = array();
-	var $config_schema = array();
-	var $convertor = array();
-	var $src_truncate_statement = 'DELETE FROM ';
-	var $truncate_statement = 'DELETE FROM ';
-
-	var $fulltext_search;
-
-	// Batch size, can be adjusted by the conversion file
-	// For big boards a value of 6000 seems to be optimal
-	var $batch_size = 2000;
-	// Number of rows to be inserted at once (extended insert) if supported
-	// For installations having enough memory a value of 60 may be good.
-	var $num_wait_rows = 20;
-
-	// Mysqls internal recoding engine messing up with our (better) functions? We at least support more encodings than mysql so should use it in favor.
-	var $mysql_convert = false;
-
-	var $p_master;
-
-	function convert(&$p_master)
-	{
-		$this->p_master = &$p_master;
-	}
-}
-
-/**
-* Convert class for conversions
-* @package install
-*/
-class install_convert extends module
-{
-	/**
-	* Variables used while converting, they are accessible from the global variable $convert
-	*/
-	function install_convert(&$p_master)
-	{
-		$this->p_master = &$p_master;
-	}
-
-	function main($mode, $sub)
-	{
-		global $lang, $template, $phpbb_root_path, $phpEx, $cache, $config, $language, $table_prefix;
-		global $convert;
-
-		$this->tpl_name = 'install_convert';
-		$this->mode = $mode;
-
-		$convert = new convert($this->p_master);
-
-		switch ($sub)
-		{
-			case 'intro':
-				// Try opening config file
-				// @todo If phpBB is not installed, we need to do a cut-down installation here
-				// For now, we redirect to the installation script instead
-				if (@file_exists($phpbb_root_path . 'config.' . $phpEx))
-				{
-					include($phpbb_root_path . 'config.' . $phpEx);
-				}
-
-				if (!defined('PHPBB_INSTALLED'))
-				{
-					$template->assign_vars(array(
-						'S_NOT_INSTALLED'		=> true,
-						'TITLE'					=> $lang['BOARD_NOT_INSTALLED'],
-						'BODY'					=> sprintf($lang['BOARD_NOT_INSTALLED_EXPLAIN'], append_sid($phpbb_root_path . 'install/index.' . $phpEx, 'mode=install&amp;language=' . $language)),
-					));
-
-					return;
-				}
-
-				require($phpbb_root_path . 'config.' . $phpEx);
-				require($phpbb_root_path . 'includes/constants.' . $phpEx);
-				require($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-				require($phpbb_root_path . 'includes/functions_convert.' . $phpEx);
-
-				$db = new $sql_db();
-				$db->sql_connect($dbhost, $dbuser, $dbpasswd, $dbname, $dbport, false, true);
-				unset($dbpasswd);
-
-				// We need to fill the config to let internal functions correctly work
-				$sql = 'SELECT *
-					FROM ' . CONFIG_TABLE;
-				$result = $db->sql_query($sql);
-
-				$config = array();
-				while ($row = $db->sql_fetchrow($result))
-				{
-					$config[$row['config_name']] = $row['config_value'];
-				}
-				$db->sql_freeresult($result);
-
-				// Detect if there is already a conversion in progress at this point and offer to resume
-				// It's quite possible that the user will get disconnected during a large conversion so they need to be able to resume it
-				$new_conversion = request_var('new_conv', 0);
-
-				if ($new_conversion)
-				{
-					$config['convert_progress'] = '';
-					$config['convert_db_server'] = '';
-					$config['convert_db_user'] = '';
-					$db->sql_query('DELETE FROM ' . CONFIG_TABLE . "
-						WHERE config_name = 'convert_progress'
-							OR config_name = 'convert_db_server'
-							OR config_name = 'convert_db_user'"
-					);
-				}
-
-				// Let's see if there is a conversion in the works...
-				$options = array();
-				if (!empty($config['convert_progress']) && !empty($config['convert_db_server']) && !empty($config['convert_db_user']) && !empty($config['convert_options']))
-				{
-					$options = unserialize($config['convert_progress']);
-					$options = array_merge($options, unserialize($config['convert_db_server']), unserialize($config['convert_db_user']), unserialize($config['convert_options']));
-				}
-
-				// This information should have already been checked once, but do it again for safety
-				if (!empty($options) && !empty($options['tag']) &&
-					isset($options['dbms']) &&
-					isset($options['dbhost']) &&
-					isset($options['dbport']) &&
-					isset($options['dbuser']) &&
-					isset($options['dbpasswd']) &&
-					isset($options['dbname']) &&
-					isset($options['table_prefix']))
-				{
-					$this->page_title = $lang['CONTINUE_CONVERT'];
-
-					$template->assign_vars(array(
-						'TITLE'			=> $lang['CONTINUE_CONVERT'],
-						'BODY'			=> $lang['CONTINUE_CONVERT_BODY'],
-						'L_NEW'			=> $lang['CONVERT_NEW_CONVERSION'],
-						'L_CONTINUE'	=> $lang['CONTINUE_OLD_CONVERSION'],
-						'S_CONTINUE'	=> true,
-
-						'U_NEW_ACTION'		=> $this->p_master->module_url . "?mode={$this->mode}&amp;sub=intro&amp;new_conv=1&amp;language=$language",
-						'U_CONTINUE_ACTION'	=> $this->p_master->module_url . "?mode={$this->mode}&amp;sub=in_progress&amp;tag={$options['tag']}{$options['step']}&amp;language=$language",
-					));
-
-					return;
-				}
-
-				$this->list_convertors($sub);
-
-			break;
-
-			case 'settings':
-				$this->get_convert_settings($sub);
-			break;
-
-			case 'in_progress':
-				$this->convert_data($sub);
-			break;
-
-			case 'final':
-				$this->page_title = $lang['CONVERT_COMPLETE'];
-
-				$template->assign_vars(array(
-					'TITLE'		=> $lang['CONVERT_COMPLETE'],
-					'BODY'		=> $lang['CONVERT_COMPLETE_EXPLAIN'],
-				));
-
-				// If we reached this step (conversion completed) we want to purge the cache and log the user out.
-				// This is for making sure the session get not screwed due to the 3.0.x users table being completely new.
-				$cache->purge();
-
-				require($phpbb_root_path . 'config.' . $phpEx);
-				require($phpbb_root_path . 'includes/constants.' . $phpEx);
-				require($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-				require($phpbb_root_path . 'includes/functions_convert.' . $phpEx);
-
-				$db = new $sql_db();
-				$db->sql_connect($dbhost, $dbuser, $dbpasswd, $dbname, $dbport, false, true);
-				unset($dbpasswd);
-
-				$sql = 'SELECT config_value
-					FROM ' . CONFIG_TABLE . '
-					WHERE config_name = \'search_type\'';
-				$result = $db->sql_query($sql);
-
-				if ($db->sql_fetchfield('config_value') != 'fulltext_mysql')
-				{
-					$template->assign_vars(array(
-						'S_ERROR_BOX'	=> true,
-						'ERROR_TITLE'	=> $lang['SEARCH_INDEX_UNCONVERTED'],
-						'ERROR_MSG'		=> $lang['SEARCH_INDEX_UNCONVERTED_EXPLAIN'],
-					));
-				}
-
-				switch ($db->sql_layer)
-				{
-					case 'sqlite':
-					case 'firebird':
-						$db->sql_query('DELETE FROM ' . SESSIONS_KEYS_TABLE);
-						$db->sql_query('DELETE FROM ' . SESSIONS_TABLE);
-					break;
-
-					default:
-						$db->sql_query('TRUNCATE TABLE ' . SESSIONS_KEYS_TABLE);
-						$db->sql_query('TRUNCATE TABLE ' . SESSIONS_TABLE);
-					break;
-				}
-
-			break;
-		}
-	}
-
-	/**
-	* Generate a list of all available conversion modules
-	*/
-	function list_convertors($sub)
-	{
-		global $lang, $language, $template, $phpbb_root_path, $phpEx;
-
-		$this->page_title = $lang['SUB_INTRO'];
-
-		$template->assign_vars(array(
-			'TITLE'		=> $lang['CONVERT_INTRO'],
-			'BODY'		=> $lang['CONVERT_INTRO_BODY'],
-
-			'L_AUTHOR'					=> $lang['AUTHOR'],
-			'L_AVAILABLE_CONVERTORS'	=> $lang['AVAILABLE_CONVERTORS'],
-			'L_CONVERT'					=> $lang['CONVERT'],
-			'L_NO_CONVERTORS'			=> $lang['NO_CONVERTORS'],
-			'L_OPTIONS'					=> $lang['CONVERT_OPTIONS'],
-			'L_SOFTWARE'				=> $lang['SOFTWARE'],
-			'L_VERSION'					=> $lang['VERSION'],
-
-			'S_LIST'	=> true,
-		));
-
-		$convertors = $sort = array();
-		$get_info = true;
-
-		$handle = @opendir('./convertors/');
-
-		if (!$handle)
-		{
-			$this->error('Unable to access the convertors directory', __LINE__, __FILE__);
-		}
-
-		while ($entry = readdir($handle))
-		{
-			if (preg_match('/^convert_([a-z0-9_]+).' . $phpEx . '$/i', $entry, $m))
-			{
-				include('./convertors/' . $entry);
-				if (isset($convertor_data))
-				{
-					$sort[strtolower($convertor_data['forum_name'])] = sizeof($convertors);
-
-					$convertors[] = array(
-						'tag'			=>	$m[1],
-						'forum_name'	=>	$convertor_data['forum_name'],
-						'version'		=>	$convertor_data['version'],
-						'dbms'			=>	$convertor_data['dbms'],
-						'dbhost'		=>	$convertor_data['dbhost'],
-						'dbport'		=>	$convertor_data['dbport'],
-						'dbuser'		=>	$convertor_data['dbuser'],
-						'dbpasswd'		=>	$convertor_data['dbpasswd'],
-						'dbname'		=>	$convertor_data['dbname'],
-						'table_prefix'	=>	$convertor_data['table_prefix'],
-						'author'		=>	$convertor_data['author']
-					);
-				}
-				unset($convertor_data);
-			}
-		}
-		closedir($handle);
-
-		@ksort($sort);
-
-		foreach ($sort as $void => $index)
-		{
-			$template->assign_block_vars('convertors', array(
-				'AUTHOR'	=> $convertors[$index]['author'],
-				'SOFTWARE'	=> $convertors[$index]['forum_name'],
-				'VERSION'	=> $convertors[$index]['version'],
-
-				'U_CONVERT'	=> $this->p_master->module_url . "?mode={$this->mode}&amp;language=$language&amp;sub=settings&amp;tag=" . $convertors[$index]['tag'],
-			));
-		}
-	}
-
-	/**
-	*/
-	function get_convert_settings($sub)
-	{
-		global $lang, $language, $template, $db, $phpbb_root_path, $phpEx, $config, $cache;
-
-		require($phpbb_root_path . 'config.' . $phpEx);
-		require($phpbb_root_path . 'includes/constants.' . $phpEx);
-		require($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-		require($phpbb_root_path . 'includes/functions_convert.' . $phpEx);
-
-		$db = new $sql_db();
-		$db->sql_connect($dbhost, $dbuser, $dbpasswd, $dbname, $dbport, false, true);
-		unset($dbpasswd);
-
-		$this->page_title = $lang['STAGE_SETTINGS'];
-
-		// We need to fill the config to let internal functions correctly work
-		$sql = 'SELECT *
-			FROM ' . CONFIG_TABLE;
-		$result = $db->sql_query($sql);
-
-		$config = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$config[$row['config_name']] = $row['config_value'];
-		}
-		$db->sql_freeresult($result);
-
-		$convertor_tag = request_var('tag', '');
-
-		if (empty($convertor_tag))
-		{
-			$this->p_master->error($lang['NO_CONVERT_SPECIFIED'], __LINE__, __FILE__);
-		}
-		$get_info = true;
-
-		// check security implications of direct inclusion
-		$convertor_tag = basename($convertor_tag);
-		if (!file_exists('./convertors/convert_' . $convertor_tag . '.' . $phpEx))
-		{
-			$this->p_master->error($lang['CONVERT_NOT_EXIST'], __LINE__, __FILE__);
-		}
-
-		include('./convertors/convert_' . $convertor_tag . '.' . $phpEx);
-
-		// The test_file is a file that should be present in the location of the old board.
-		if (!isset($test_file))
-		{
-			$this->p_master->error($lang['DEV_NO_TEST_FILE'], __LINE__, __FILE__);
-		}
-
-		$submit = (isset($_POST['submit'])) ? true : false;
-
-		$src_dbms			= request_var('src_dbms', $convertor_data['dbms']);
-		$src_dbhost			= request_var('src_dbhost', $convertor_data['dbhost']);
-		$src_dbport			= request_var('src_dbport', $convertor_data['dbport']);
-		$src_dbuser			= request_var('src_dbuser', $convertor_data['dbuser']);
-		$src_dbpasswd		= request_var('src_dbpasswd', $convertor_data['dbpasswd']);
-		$src_dbname			= request_var('src_dbname', $convertor_data['dbname']);
-		$src_table_prefix	= request_var('src_table_prefix', $convertor_data['table_prefix']);
-		$forum_path			= request_var('forum_path', $convertor_data['forum_path']);
-		$refresh			= request_var('refresh', 1);
-
-		// Default URL of the old board
-		// @todo Are we going to use this for attempting to convert URL references in posts, or should we remove it?
-		//		-> We should convert old urls to the new relative urls format
-		// $src_url = request_var('src_url', 'Not in use at the moment');
-
-		// strip trailing slash from old forum path
-		$forum_path = (strlen($forum_path) && $forum_path[strlen($forum_path) - 1] == '/') ? substr($forum_path, 0, -1) : $forum_path;
-
-		$error = array();
-		if ($submit)
-		{
-			if (!@file_exists('./../' . $forum_path . '/' . $test_file))
-			{
-				$error[] = sprintf($lang['COULD_NOT_FIND_PATH'], $forum_path);
-			}
-
-			$connect_test = false;
-			$available_dbms = get_available_dbms(false, true, true);
-
-			if (!isset($available_dbms[$src_dbms]) || !$available_dbms[$src_dbms]['AVAILABLE'])
-			{
-				$error['db'][] = $lang['INST_ERR_NO_DB'];
-				$connect_test = false;
-			}
-			else
-			{
-				$connect_test = connect_check_db(true, $error, $available_dbms[$src_dbms], $src_table_prefix, $src_dbhost, $src_dbuser, htmlspecialchars_decode($src_dbpasswd), $src_dbname, $src_dbport, true, ($src_dbms == $dbms) ? false : true, false);
-			}
-
-			// The forum prefix of the old and the new forum can only be the same if two different databases are used.
-			if ($src_table_prefix == $table_prefix && $src_dbms == $dbms && $src_dbhost == $dbhost && $src_dbport == $dbport && $src_dbname == $dbname)
-			{
-				$error[] = sprintf($lang['TABLE_PREFIX_SAME'], $src_table_prefix);
-			}
-
-			// Check table prefix
-			if (!sizeof($error))
-			{
-				// initiate database connection to old db if old and new db differ
-				global $src_db, $same_db;
-				$src_db = $same_db = false;
-
-				if ($src_dbms != $dbms || $src_dbhost != $dbhost || $src_dbport != $dbport || $src_dbname != $dbname || $src_dbuser != $dbuser)
-				{
-					$sql_db = 'dbal_' . $src_dbms;
-					$src_db = new $sql_db();
-					$src_db->sql_connect($src_dbhost, $src_dbuser, htmlspecialchars_decode($src_dbpasswd), $src_dbname, $src_dbport, false, true);
-					$same_db = false;
-				}
-				else
-				{
-					$src_db = $db;
-					$same_db = true;
-				}
-
-				$src_db->sql_return_on_error(true);
-				$db->sql_return_on_error(true);
-
-				// Try to select one row from the first table to see if the prefix is OK
-				$result = $src_db->sql_query_limit('SELECT * FROM ' . $src_table_prefix . $tables[0], 1);
-
-				if (!$result)
-				{
-					$prefixes = array();
-
-					$tables_existing = get_tables($src_db);
-					$tables_existing = array_map('strtolower', $tables_existing);
-					foreach ($tables_existing as $table_name)
-					{
-						compare_table($tables, $table_name, $prefixes);
-					}
-					unset($tables_existing);
-
-					foreach ($prefixes as $prefix => $count)
-					{
-						if ($count >= sizeof($tables))
-						{
-							$possible_prefix = $prefix;
-							break;
-						}
-					}
-
-					$msg = '';
-					if (!empty($convertor_data['table_prefix']))
-					{
-						$msg .= sprintf($lang['DEFAULT_PREFIX_IS'], $convertor_data['forum_name'], $convertor_data['table_prefix']);
-					}
-
-					if (!empty($possible_prefix))
-					{
-						$msg .= '<br />';
-						$msg .= ($possible_prefix == '*') ? $lang['BLANK_PREFIX_FOUND'] : sprintf($lang['PREFIX_FOUND'], $possible_prefix);
-						$src_table_prefix = ($possible_prefix == '*') ? '' : $possible_prefix;
-					}
-
-					$error[] = $msg;
-				}
-				$src_db->sql_freeresult($result);
-				$src_db->sql_return_on_error(false);
-			}
-
-			if (!sizeof($error))
-			{
-				// Save convertor Status
-				set_config('convert_progress', serialize(array(
-					'step'			=> '',
-					'table_prefix'	=> $src_table_prefix,
-					'tag'			=> $convertor_tag,
-				)), true);
-				set_config('convert_db_server', serialize(array(
-					'dbms'			=> $src_dbms,
-					'dbhost'		=> $src_dbhost,
-					'dbport'		=> $src_dbport,
-					'dbname'		=> $src_dbname,
-				)), true);
-				set_config('convert_db_user', serialize(array(
-					'dbuser'		=> $src_dbuser,
-					'dbpasswd'		=> $src_dbpasswd,
-				)), true);
-
-				// Save options
-				set_config('convert_options', serialize(array('forum_path' => './../' . $forum_path, 'refresh' => $refresh)), true);
-
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['VERIFY_OPTIONS'],
-					'RESULT'	=> $lang['CONVERT_SETTINGS_VERIFIED'],
-				));
-
-				$template->assign_vars(array(
-					'L_SUBMIT'	=> $lang['BEGIN_CONVERT'],
-//					'S_HIDDEN'	=> $s_hidden_fields,
-					'U_ACTION'	=> $this->p_master->module_url . "?mode={$this->mode}&amp;sub=in_progress&amp;tag=$convertor_tag&amp;language=$language",
-				));
-
-				return;
-			}
-			else
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['VERIFY_OPTIONS'],
-					'RESULT'	=> '<b style="color:red">' . implode('<br />', $error) . '</b>',
-				));
-			}
-		} // end submit
-
-		foreach ($this->convert_options as $config_key => $vars)
-		{
-			if (!is_array($vars) && strpos($config_key, 'legend') === false)
-			{
-				continue;
-			}
-
-			if (strpos($config_key, 'legend') !== false)
-			{
-				$template->assign_block_vars('options', array(
-					'S_LEGEND'		=> true,
-					'LEGEND'		=> $lang[$vars])
-				);
-
-				continue;
-			}
-
-			$options = isset($vars['options']) ? $vars['options'] : '';
-
-			$template->assign_block_vars('options', array(
-				'KEY'			=> $config_key,
-				'TITLE'			=> $lang[$vars['lang']],
-				'S_EXPLAIN'		=> $vars['explain'],
-				'S_LEGEND'		=> false,
-				'TITLE_EXPLAIN'	=> ($vars['explain']) ? $lang[$vars['lang'] . '_EXPLAIN'] : '',
-				'CONTENT'		=> $this->p_master->input_field($config_key, $vars['type'], $$config_key, $options),
-				)
-			);
-		}
-
-		$template->assign_vars(array(
-			'TITLE'		=> $lang['STAGE_SETTINGS'],
-			'BODY'		=> $lang['CONV_OPTIONS_BODY'],
-			'L_SUBMIT'	=> $lang['BEGIN_CONVERT'],
-			'U_ACTION'	=> $this->p_master->module_url . "?mode={$this->mode}&amp;sub=settings&amp;tag=$convertor_tag&amp;language=$language",
-		));
-	}
-
-	/**
-	* The function which does the actual work (or dispatches it to the relevant places)
-	*/
-	function convert_data($sub)
-	{
-		global $template, $user, $phpbb_root_path, $phpEx, $db, $lang, $config, $cache;
-		global $convert, $convert_row, $message_parser, $skip_rows, $language;
-
-		require($phpbb_root_path . 'config.' . $phpEx);
-		require($phpbb_root_path . 'includes/constants.' . $phpEx);
-		require($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-		require($phpbb_root_path . 'includes/functions_convert.' . $phpEx);
-
-		$db = new $sql_db();
-		$db->sql_connect($dbhost, $dbuser, $dbpasswd, $dbname, $dbport, false, true);
-		unset($dbpasswd);
-
-		$sql = 'SELECT *
-			FROM ' . CONFIG_TABLE;
-		$result = $db->sql_query($sql);
-
-		$config = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$config[$row['config_name']] = $row['config_value'];
-		}
-		$db->sql_freeresult($result);
-
-		// Override a couple of config variables for the duration
-		$config['max_quote_depth'] = 0;
-
-		// @todo Need to confirm that max post length in source is <= max post length in destination or there may be interesting formatting issues
-		$config['max_post_chars'] = $config['min_post_chars'] = 0;
-
-		// Set up a user as well. We _should_ have enough of a database here at this point to do this
-		// and it helps for any core code we call
-		$user->session_begin();
-		$user->page = $user->extract_current_page($phpbb_root_path);
-
-		// This is a little bit of a fudge, but it allows the language entries to be available to the
-		// core code without us loading them again
-		$user->lang = &$lang;
-
-		$this->page_title = $user->lang['STAGE_IN_PROGRESS'];
-
-		$convert->options = array();
-		if (isset($config['convert_progress']))
-		{
-			$convert->options = unserialize($config['convert_progress']);
-			$convert->options = array_merge($convert->options, unserialize($config['convert_db_server']), unserialize($config['convert_db_user']), unserialize($config['convert_options']));
-		}
-
-		// This information should have already been checked once, but do it again for safety
-		if (empty($convert->options) || empty($convert->options['tag']) ||
-			!isset($convert->options['dbms']) ||
-			!isset($convert->options['dbhost']) ||
-			!isset($convert->options['dbport']) ||
-			!isset($convert->options['dbuser']) ||
-			!isset($convert->options['dbpasswd']) ||
-			!isset($convert->options['dbname']) ||
-			!isset($convert->options['table_prefix']))
-		{
-			$this->p_master->error($user->lang['NO_CONVERT_SPECIFIED'], __LINE__, __FILE__);
-		}
-
-		// Make some short variables accessible, for easier referencing
-		$convert->convertor_tag = basename($convert->options['tag']);
-		$convert->src_dbms = $convert->options['dbms'];
-		$convert->src_dbhost = $convert->options['dbhost'];
-		$convert->src_dbport = $convert->options['dbport'];
-		$convert->src_dbuser = $convert->options['dbuser'];
-		$convert->src_dbpasswd = $convert->options['dbpasswd'];
-		$convert->src_dbname = $convert->options['dbname'];
-		$convert->src_table_prefix = $convert->options['table_prefix'];
-
-		// initiate database connection to old db if old and new db differ
-		global $src_db, $same_db;
-		$src_db = $same_db = null;
-		if ($convert->src_dbms != $dbms || $convert->src_dbhost != $dbhost || $convert->src_dbport != $dbport || $convert->src_dbname != $dbname || $convert->src_dbuser != $dbuser)
-		{
-			if ($convert->src_dbms != $dbms)
-			{
-				require($phpbb_root_path . 'includes/db/' . $convert->src_dbms . '.' . $phpEx);
-			}
-			$sql_db = 'dbal_' . $convert->src_dbms;
-			$src_db = new $sql_db();
-			$src_db->sql_connect($convert->src_dbhost, $convert->src_dbuser, htmlspecialchars_decode($convert->src_dbpasswd), $convert->src_dbname, $convert->src_dbport, false, true);
-			$same_db = false;
-		}
-		else
-		{
-			$src_db = $db;
-			$same_db = true;
-		}
-
-		$convert->mysql_convert = false;
-		switch ($src_db->sql_layer)
-		{
-			case 'sqlite':
-			case 'firebird':
-				$convert->src_truncate_statement = 'DELETE FROM ';
-			break;
-
-			// Thanks MySQL, for silently converting...
-			case 'mysql':
-			case 'mysql4':
-				if (version_compare($src_db->sql_server_info(true, false), '4.1.3', '>='))
-				{
-					$convert->mysql_convert = true;
-				}
-				$convert->src_truncate_statement = 'TRUNCATE TABLE ';
-			break;
-
-			case 'mysqli':
-				$convert->mysql_convert = true;
-				$convert->src_truncate_statement = 'TRUNCATE TABLE ';
-			break;
-
-			default:
-				$convert->src_truncate_statement = 'TRUNCATE TABLE ';
-			break;
-		}
-
-		if ($convert->mysql_convert && !$same_db)
-		{
-			$src_db->sql_query("SET NAMES 'binary'");
-		}
-
-		switch ($db->sql_layer)
-		{
-			case 'sqlite':
-			case 'firebird':
-				$convert->truncate_statement = 'DELETE FROM ';
-			break;
-
-			default:
-				$convert->truncate_statement = 'TRUNCATE TABLE ';
-			break;
-		}
-
-		$get_info = false;
-
-		// check security implications of direct inclusion
-		if (!file_exists('./convertors/convert_' . $convert->convertor_tag . '.' . $phpEx))
-		{
-			$this->p_master->error($user->lang['CONVERT_NOT_EXIST'], __LINE__, __FILE__);
-		}
-
-		if (file_exists('./convertors/functions_' . $convert->convertor_tag . '.' . $phpEx))
-		{
-			include('./convertors/functions_' . $convert->convertor_tag . '.' . $phpEx);
-		}
-
-		$get_info = true;
-		include('./convertors/convert_' . $convert->convertor_tag . '.' . $phpEx);
-
-		// Map some variables...
-		$convert->convertor_data = $convertor_data;
-		$convert->tables = $tables;
-		$convert->config_schema = $config_schema;
-
-		// Now include the real data
-		$get_info = false;
-		include('./convertors/convert_' . $convert->convertor_tag . '.' . $phpEx);
-
-		$convert->convertor_data = $convertor_data;
-		$convert->tables = $tables;
-		$convert->config_schema = $config_schema;
-		$convert->convertor = $convertor;
-
-		// The test_file is a file that should be present in the location of the old board.
-		if (!file_exists($convert->options['forum_path'] . '/' . $test_file))
-		{
-			$this->p_master->error(sprintf($user->lang['COULD_NOT_FIND_PATH'], $convert->options['forum_path']), __LINE__, __FILE__);
-		}
-
-		$search_type = basename(trim($config['search_type']));
-
-		// For conversions we are a bit less strict and set to a search backend we know exist...
-		if (!file_exists($phpbb_root_path . 'includes/search/' . $search_type . '.' . $phpEx))
-		{
-			$search_type = 'fulltext_native';
-			set_config('search_type', $search_type);
-		}
-
-		if (!file_exists($phpbb_root_path . 'includes/search/' . $search_type . '.' . $phpEx))
-		{
-			trigger_error('NO_SUCH_SEARCH_MODULE');
-		}
-
-		require($phpbb_root_path . 'includes/search/' . $search_type . '.' . $phpEx);
-
-		$error = false;
-		$convert->fulltext_search = new $search_type($error);
-
-		if ($error)
-		{
-			trigger_error($error);
-		}
-
-		include($phpbb_root_path . 'includes/message_parser.' . $phpEx);
-		$message_parser = new parse_message();
-
-		$jump = request_var('jump', 0);
-		$final_jump = request_var('final_jump', 0);
-		$sync_batch = request_var('sync_batch', -1);
-		$last_statement = request_var('last', 0);
-
-		// We are running sync...
-		if ($sync_batch >= 0)
-		{
-			$this->sync_forums($sync_batch);
-			return;
-		}
-
-		if ($jump)
-		{
-			$this->jump($jump, $last_statement);
-			return;
-		}
-
-		if ($final_jump)
-		{
-			$this->final_jump($final_jump);
-			return;
-		}
-
-		$current_table = request_var('current_table', 0);
-		$old_current_table = min(-1, $current_table - 1);
-		$skip_rows = request_var('skip_rows', 0);
-
-		if (!$current_table && !$skip_rows)
-		{
-			if (empty($_REQUEST['confirm']))
-			{
-				// If avatars / ranks / smilies folders are specified make sure they are writable
-				$bad_folders = array();
-
-				$local_paths = array(
-					'avatar_path'			=> path($config['avatar_path']),
-					'avatar_gallery_path'	=> path($config['avatar_gallery_path']),
-					'icons_path'			=> path($config['icons_path']),
-					'ranks_path'			=> path($config['ranks_path']),
-					'smilies_path'			=> path($config['smilies_path'])
-				);
-
-				foreach ($local_paths as $folder => $local_path)
-				{
-					if (isset($convert->convertor[$folder]))
-					{
-						if (empty($convert->convertor['test_file']))
-						{
-							// test_file is mandantory at the moment so this should never be reached, but just in case...
-							$this->p_master->error($user->lang['DEV_NO_TEST_FILE'], __LINE__, __FILE__);
-						}
-
-						if (!$local_path || !phpbb_is_writable($phpbb_root_path . $local_path))
-						{
-							if (!$local_path)
-							{
-								$bad_folders[] = sprintf($user->lang['CONFIG_PHPBB_EMPTY'], $folder);
-							}
-							else
-							{
-								$bad_folders[] = $local_path;
-							}
-						}
-					}
-				}
-
-				if (sizeof($bad_folders))
-				{
-					$msg = (sizeof($bad_folders) == 1) ? $user->lang['MAKE_FOLDER_WRITABLE'] : $user->lang['MAKE_FOLDERS_WRITABLE'];
-					sort($bad_folders);
-					$this->p_master->error(sprintf($msg, implode('<br />', $bad_folders)), __LINE__, __FILE__, true);
-
-					$template->assign_vars(array(
-						'L_SUBMIT'	=> $user->lang['INSTALL_TEST'],
-						'U_ACTION'	=> $this->p_master->module_url . "?mode={$this->mode}&amp;sub=in_progress&amp;tag={$convert->convertor_tag}&amp;language=$language",
-					));
-					return;
-				}
-
-				// Grab all the tables used in convertor
-				$missing_tables = $tables_list = $aliases = array();
-
-				foreach ($convert->convertor['schema'] as $schema)
-				{
-					// Skip those not used (because of addons/plugins not detected)
-					if (!$schema['target'])
-					{
-						continue;
-					}
-
-					foreach ($schema as $key => $val)
-					{
-						// we're dealing with an array like:
-						// array('forum_status',			'forums.forum_status',				'is_item_locked')
-						if (is_int($key) && !empty($val[1]))
-						{
-							$temp_data = $val[1];
-							if (!is_array($temp_data))
-							{
-								$temp_data = array($temp_data);
-							}
-
-							foreach ($temp_data as $val)
-							{
-								if (preg_match('/([a-z0-9_]+)\.([a-z0-9_]+)\)* ?A?S? ?([a-z0-9_]*?)\.?([a-z0-9_]*)$/i', $val, $m))
-								{
-									$table = $convert->src_table_prefix . $m[1];
-									$tables_list[$table] = $table;
-
-									if (!empty($m[3]))
-									{
-										$aliases[] = $convert->src_table_prefix . $m[3];
-									}
-								}
-							}
-						}
-						// 'left_join'		=> 'topics LEFT JOIN vote_desc ON topics.topic_id = vote_desc.topic_id AND topics.topic_vote = 1'
-						else if ($key == 'left_join')
-						{
-							// Convert the value if it wasn't an array already.
-							if (!is_array($val))
-							{
-								$val = array($val);
-							}
-
-							for ($j = 0; $j < sizeof($val); ++$j)
-							{
-								if (preg_match('/LEFT JOIN ([a-z0-9_]+) AS ([a-z0-9_]+)/i', $val[$j], $m))
-								{
-									$table = $convert->src_table_prefix . $m[1];
-									$tables_list[$table] = $table;
-
-									if (!empty($m[2]))
-									{
-										$aliases[] = $convert->src_table_prefix . $m[2];
-									}
-								}
-							}
-						}
-					}
-				}
-
-				// Remove aliased tables from $tables_list
-				foreach ($aliases as $alias)
-				{
-					unset($tables_list[$alias]);
-				}
-
-				// Check if the tables that we need exist
-				$src_db->sql_return_on_error(true);
-				foreach ($tables_list as $table => $null)
-				{
-					$sql = 'SELECT 1 FROM ' . $table;
-					$_result = $src_db->sql_query_limit($sql, 1);
-
-					if (!$_result)
-					{
-						$missing_tables[] = $table;
-					}
-					$src_db->sql_freeresult($_result);
-				}
-				$src_db->sql_return_on_error(false);
-
-				// Throw an error if some tables are missing
-				// We used to do some guessing here, but since we have a suggestion of possible values earlier, I don't see it adding anything here to do it again
-
-				if (sizeof($missing_tables) == sizeof($tables_list))
-				{
-					$this->p_master->error($user->lang['NO_TABLES_FOUND'] . ' ' . $user->lang['CHECK_TABLE_PREFIX'], __LINE__, __FILE__);
-				}
-				else if (sizeof($missing_tables))
-				{
-					$this->p_master->error(sprintf($user->lang['TABLES_MISSING'], implode(', ', $missing_tables)) . '<br /><br />' . $user->lang['CHECK_TABLE_PREFIX'], __LINE__, __FILE__);
-				}
-
-				$url = $this->save_convert_progress('&amp;confirm=1');
-				$msg = $user->lang['PRE_CONVERT_COMPLETE'];
-
-				if ($convert->convertor_data['author_notes'])
-				{
-					$msg .= '</p><p>' . sprintf($user->lang['AUTHOR_NOTES'], $convert->convertor_data['author_notes']);
-				}
-
-				$template->assign_vars(array(
-					'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-					'L_MESSAGE'		=> $msg,
-					'U_ACTION'		=> $url,
-				));
-
-				return;
-			} // if (empty($_REQUEST['confirm']))
-
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'		=> true,
-				'LEGEND'		=> $user->lang['STARTING_CONVERT'],
-			));
-
-			// Convert the config table and load the settings of the old board
-			if (!empty($convert->config_schema))
-			{
-				restore_config($convert->config_schema);
-
-				// Override a couple of config variables for the duration
-				$config['max_quote_depth'] = 0;
-
-				// @todo Need to confirm that max post length in source is <= max post length in destination or there may be interesting formatting issues
-				$config['max_post_chars'] = $config['min_post_chars'] = 0;
-			}
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $user->lang['CONFIG_CONVERT'],
-				'RESULT'	=> $user->lang['DONE'],
-			));
-
-			// Now process queries and execute functions that have to be executed prior to the conversion
-			if (!empty($convert->convertor['execute_first']))
-			{
-				eval($convert->convertor['execute_first']);
-			}
-
-			if (!empty($convert->convertor['query_first']))
-			{
-				if (!is_array($convert->convertor['query_first']))
-				{
-					$convert->convertor['query_first'] = array('target', array($convert->convertor['query_first']));
-				}
-				else if (!is_array($convert->convertor['query_first'][0]))
-				{
-					$convert->convertor['query_first'] = array(array($convert->convertor['query_first'][0], $convert->convertor['query_first'][1]));
-				}
-
-				foreach ($convert->convertor['query_first'] as $query_first)
-				{
-					if ($query_first[0] == 'src')
-					{
-						if ($convert->mysql_convert && $same_db)
-						{
-							$src_db->sql_query("SET NAMES 'binary'");
-						}
-
-						$src_db->sql_query($query_first[1]);
-
-						if ($convert->mysql_convert && $same_db)
-						{
-							$src_db->sql_query("SET NAMES 'utf8'");
-						}
-					}
-					else
-					{
-						$db->sql_query($query_first[1]);
-					}
-				}
-			}
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $user->lang['PREPROCESS_STEP'],
-				'RESULT'	=> $user->lang['DONE'],
-			));
-		} // if (!$current_table && !$skip_rows)
-
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'		=> true,
-			'LEGEND'		=> $user->lang['FILLING_TABLES'],
-		));
-
-		// This loop takes one target table and processes it
-		while ($current_table < sizeof($convert->convertor['schema']))
-		{
-			$schema = $convert->convertor['schema'][$current_table];
-
-			// The target table isn't set, this can be because a module (for example the attachement mod) is taking care of this.
-			if (empty($schema['target']))
-			{
-				$current_table++;
-				continue;
-			}
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'	=> sprintf($user->lang['FILLING_TABLE'], $schema['target']),
-			));
-
-			// This is only the case when we first start working on the tables.
-			if (!$skip_rows)
-			{
-				// process execute_first and query_first for this table...
-				if (!empty($schema['execute_first']))
-				{
-					eval($schema['execute_first']);
-				}
-
-				if (!empty($schema['query_first']))
-				{
-					if (!is_array($schema['query_first']))
-					{
-						$schema['query_first'] = array('target', array($schema['query_first']));
-					}
-					else if (!is_array($schema['query_first'][0]))
-					{
-						$schema['query_first'] = array(array($schema['query_first'][0], $schema['query_first'][1]));
-					}
-
-					foreach ($schema['query_first'] as $query_first)
-					{
-						if ($query_first[0] == 'src')
-						{
-							if ($convert->mysql_convert && $same_db)
-							{
-								$src_db->sql_query("SET NAMES 'binary'");
-							}
-							$src_db->sql_query($query_first[1]);
-							if ($convert->mysql_convert && $same_db)
-							{
-								$src_db->sql_query("SET NAMES 'utf8'");
-							}
-						}
-						else
-						{
-							$db->sql_query($query_first[1]);
-						}
-					}
-				}
-
-				if (!empty($schema['autoincrement']))
-				{
-					switch ($db->sql_layer)
-					{
-						case 'postgres':
-							$db->sql_query("SELECT SETVAL('" . $schema['target'] . "_seq',(select case when max(" . $schema['autoincrement'] . ")>0 then max(" . $schema['autoincrement'] . ")+1 else 1 end from " . $schema['target'] . '));');
-						break;
-
-						case 'oracle':
-							$result = $db->sql_query('SELECT MAX(' . $schema['autoincrement'] . ') as max_id FROM ' . $schema['target']);
-							$row = $db->sql_fetchrow($result);
-							$db->sql_freeresult($result);
-
-							$largest_id = (int) $row['max_id'];
-
-							if ($largest_id)
-							{
-								$db->sql_query('DROP SEQUENCE ' . $schema['target'] . '_seq');
-								$db->sql_query('CREATE SEQUENCE ' . $schema['target'] . '_seq START WITH ' . ($largest_id + 1));
-							}
-						break;
-					}
-				}
-			}
-
-			// Process execute_always for this table
-			// This is for code which needs to be executed on every pass of this table if
-			// it gets split because of time restrictions
-			if (!empty($schema['execute_always']))
-			{
-				eval($schema['execute_always']);
-			}
-
-			//
-			// Set up some variables
-			//
-			// $waiting_rows	holds rows for multirows insertion (MySQL only)
-			// $src_tables		holds unique tables with aliases to select from
-			// $src_fields		will quickly refer source fields (or aliases) corresponding to the current index
-			// $select_fields	holds the names of the fields to retrieve
-			//
-
-			$sql_data = array(
-				'source_fields'		=> array(),
-				'target_fields'		=> array(),
-				'source_tables'		=> array(),
-				'select_fields'		=> array(),
-			);
-
-			// This statement is building the keys for later insertion.
-			$insert_query = $this->build_insert_query($schema, $sql_data, $current_table);
-
-			// If no source table is affected, we skip the table
-			if (empty($sql_data['source_tables']))
-			{
-				$skip_rows = 0;
-				$current_table++;
-				continue;
-			}
-
-			$distinct = (!empty($schema['distinct'])) ? 'DISTINCT ' : '';
-
-			$sql = 'SELECT ' . $distinct . implode(', ', $sql_data['select_fields']) . " \nFROM " . implode(', ', $sql_data['source_tables']);
-
-			// Where
-			$sql .= (!empty($schema['where'])) ? "\nWHERE (" . $schema['where'] . ')' : '';
-
-			// Group By
-			if (!empty($schema['group_by']))
-			{
-				$schema['group_by'] = array($schema['group_by']);
-				foreach ($sql_data['select_fields'] as $select)
-				{
-					$alias = strpos(strtolower($select), ' as ');
-					$select = ($alias) ? substr($select, 0, $alias) : $select;
-					if (!in_array($select, $schema['group_by']))
-					{
-						$schema['group_by'][] = $select;
-					}
-				}
-			}
-			$sql .= (!empty($schema['group_by'])) ? "\nGROUP BY " . implode(', ', $schema['group_by']) : '';
-
-			// Having
-			$sql .= (!empty($schema['having'])) ? "\nHAVING " . $schema['having'] : '';
-
-			// Order By
-			if (empty($schema['order_by']) && !empty($schema['primary']))
-			{
-				$schema['order_by'] = $schema['primary'];
-			}
-			$sql .= (!empty($schema['order_by'])) ? "\nORDER BY " . $schema['order_by'] : '';
-
-			// Counting basically holds the amount of rows processed.
-			$counting = -1;
-			$batch_time = 0;
-
-			while ($counting === -1 || ($counting >= $convert->batch_size && still_on_time()))
-			{
-				$old_current_table = $current_table;
-
-				$rows = '';
-				$waiting_rows = array();
-
-				if (!empty($batch_time))
-				{
-					$mtime = explode(' ', microtime());
-					$mtime = $mtime[0] + $mtime[1];
-					$rows = ceil($counting/($mtime - $batch_time)) . " rows/s ($counting rows) | ";
-				}
-
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> "skip_rows = $skip_rows",
-					'RESULT'	=> $rows . ((defined('DEBUG_EXTRA') && function_exists('memory_get_usage')) ? ceil(memory_get_usage()/1024) . ' ' . $user->lang['KIB'] : ''),
-				));
-
-				$mtime = explode(' ', microtime());
-				$batch_time = $mtime[0] + $mtime[1];
-
-				if ($convert->mysql_convert && $same_db)
-				{
-					$src_db->sql_query("SET NAMES 'binary'");
-				}
-
-				// Take skip rows into account and only fetch batch_size amount of rows
-				$___result = $src_db->sql_query_limit($sql, $convert->batch_size, $skip_rows);
-
-				if ($convert->mysql_convert && $same_db)
-				{
-					$src_db->sql_query("SET NAMES 'utf8'");
-				}
-
-				// This loop processes each row
-				$counting = 0;
-
-				$convert->row = $convert_row = array();
-
-				if (!empty($schema['autoincrement']))
-				{
-					switch ($db->sql_layer)
-					{
-						case 'mssql':
-						case 'mssql_odbc':
-						case 'mssqlnative':
-							$db->sql_query('SET IDENTITY_INSERT ' . $schema['target'] . ' ON');
-						break;
-					}
-				}
-
-				// Now handle the rows until time is over or no more rows to process...
-				while ($counting === 0 || still_on_time())
-				{
-					$convert_row = $src_db->sql_fetchrow($___result);
-
-					if (!$convert_row)
-					{
-						// move to the next batch or table
-						break;
-					}
-
-					// With this we are able to always save the last state
-					$convert->row = $convert_row;
-
-					// Increment the counting variable, it stores the number of rows we have processed
-					$counting++;
-
-					$insert_values = array();
-
-					$sql_flag = $this->process_row($schema, $sql_data, $insert_values);
-
-					if ($sql_flag === true)
-					{
-						switch ($db->sql_layer)
-						{
-							// If MySQL, we'll wait to have num_wait_rows rows to submit at once
-							case 'mysql':
-							case 'mysql4':
-							case 'mysqli':
-								$waiting_rows[] = '(' . implode(', ', $insert_values) . ')';
-
-								if (sizeof($waiting_rows) >= $convert->num_wait_rows)
-								{
-									$errored = false;
-
-									$db->sql_return_on_error(true);
-
-									if (!$db->sql_query($insert_query . implode(', ', $waiting_rows)))
-									{
-										$errored = true;
-									}
-									$db->sql_return_on_error(false);
-
-									if ($errored)
-									{
-										$db->sql_return_on_error(true);
-
-										// Because it errored out we will try to insert the rows one by one... most of the time this
-										// is caused by duplicate entries - but we also do not want to miss one...
-										foreach ($waiting_rows as $waiting_sql)
-										{
-											if (!$db->sql_query($insert_query . $waiting_sql))
-											{
-												$this->p_master->db_error($user->lang['DB_ERR_INSERT'], htmlspecialchars($insert_query . $waiting_sql) . '<br /><br />' . htmlspecialchars(print_r($db->_sql_error(), true)), __LINE__, __FILE__, true);
-											}
-										}
-
-										$db->sql_return_on_error(false);
-									}
-
-									$waiting_rows = array();
-								}
-
-							break;
-
-							default:
-								$insert_sql = $insert_query . '(' . implode(', ', $insert_values) . ')';
-
-								$db->sql_return_on_error(true);
-
-								if (!$db->sql_query($insert_sql))
-								{
-									$this->p_master->db_error($user->lang['DB_ERR_INSERT'], htmlspecialchars($insert_sql) . '<br /><br />' . htmlspecialchars(print_r($db->_sql_error(), true)), __LINE__, __FILE__, true);
-								}
-								$db->sql_return_on_error(false);
-
-								$waiting_rows = array();
-
-							break;
-						}
-					}
-
-					$skip_rows++;
-				}
-				$src_db->sql_freeresult($___result);
-
-				// We might still have some rows waiting
-				if (sizeof($waiting_rows))
-				{
-					$errored = false;
-					$db->sql_return_on_error(true);
-
-					if (!$db->sql_query($insert_query . implode(', ', $waiting_rows)))
-					{
-						$errored = true;
-					}
-					$db->sql_return_on_error(false);
-
-					if ($errored)
-					{
-						$db->sql_return_on_error(true);
-
-						// Because it errored out we will try to insert the rows one by one... most of the time this
-						// is caused by duplicate entries - but we also do not want to miss one...
-						foreach ($waiting_rows as $waiting_sql)
-						{
-							$db->sql_query($insert_query . $waiting_sql);
-							$this->p_master->db_error($user->lang['DB_ERR_INSERT'], htmlspecialchars($insert_query . $waiting_sql) . '<br /><br />' . htmlspecialchars(print_r($db->_sql_error(), true)), __LINE__, __FILE__, true);
-						}
-
-						$db->sql_return_on_error(false);
-					}
-
-					$waiting_rows = array();
-				}
-
-				if (!empty($schema['autoincrement']))
-				{
-					switch ($db->sql_layer)
-					{
-						case 'mssql':
-						case 'mssql_odbc':
-						case 'mssqlnative':
-							$db->sql_query('SET IDENTITY_INSERT ' . $schema['target'] . ' OFF');
-						break;
-
-						case 'postgres':
-							$db->sql_query("SELECT SETVAL('" . $schema['target'] . "_seq',(select case when max(" . $schema['autoincrement'] . ")>0 then max(" . $schema['autoincrement'] . ")+1 else 1 end from " . $schema['target'] . '));');
-						break;
-
-						case 'oracle':
-							$result = $db->sql_query('SELECT MAX(' . $schema['autoincrement'] . ') as max_id FROM ' . $schema['target']);
-							$row = $db->sql_fetchrow($result);
-							$db->sql_freeresult($result);
-
-							$largest_id = (int) $row['max_id'];
-
-							if ($largest_id)
-							{
-								$db->sql_query('DROP SEQUENCE ' . $schema['target'] . '_seq');
-								$db->sql_query('CREATE SEQUENCE ' . $schema['target'] . '_seq START WITH ' . ($largest_id + 1));
-							}
-						break;
-					}
-				}
-			}
-
-			// When we reach this point, either the current table has been processed or we're running out of time.
-			if (still_on_time() && $counting < $convert->batch_size/* && !defined('DEBUG_EXTRA')*/)
-			{
-				$skip_rows = 0;
-				$current_table++;
-			}
-			else
-			{/*
-				if (still_on_time() && $counting < $convert->batch_size)
-				{
-					$skip_rows = 0;
-					$current_table++;
-				}*/
-
-				// Looks like we ran out of time.
-				$url = $this->save_convert_progress('&amp;current_table=' . $current_table . '&amp;skip_rows=' . $skip_rows);
-
-				$current_table++;
-//				$percentage = ($skip_rows == 0) ? 0 : floor(100 / ($total_rows / $skip_rows));
-
-				$msg = sprintf($user->lang['STEP_PERCENT_COMPLETED'], $current_table, sizeof($convert->convertor['schema']));
-
-				$template->assign_vars(array(
-					'L_MESSAGE'		=> $msg,
-					'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-					'U_ACTION'		=> $url,
-				));
-
-				$this->meta_refresh($url);
-				return;
-			}
-		}
-
-		// Process execute_last then we'll be done
-		$url = $this->save_convert_progress('&amp;jump=1');
-
-		$template->assign_vars(array(
-			'L_SUBMIT'		=> $user->lang['FINAL_STEP'],
-			'U_ACTION'		=> $url,
-		));
-
-		$this->meta_refresh($url);
-		return;
-	}
-
-	/**
-	* Sync function being executed at the middle, some functions need to be executed after a successful sync.
-	*/
-	function sync_forums($sync_batch)
-	{
-		global $template, $user, $db, $phpbb_root_path, $phpEx, $config, $cache;
-		global $convert;
-
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'	=> true,
-			'LEGEND'	=> $user->lang['SYNC_TOPICS'],
-		));
-
-		$batch_size = $convert->batch_size;
-
-		$sql = 'SELECT MIN(topic_id) as min_value, MAX(topic_id) AS max_value
-			FROM ' . TOPICS_TABLE;
-		$result = $db->sql_query($sql);
-		$row = $db->sql_fetchrow($result);
-		$db->sql_freeresult($result);
-
-		// Set values of minimum/maximum primary value for this table.
-		$primary_min = $row['min_value'];
-		$primary_max = $row['max_value'];
-
-		if ($sync_batch == 0)
-		{
-			$sync_batch = (int) $primary_min;
-		}
-
-		if ($sync_batch == 0)
-		{
-			$sync_batch = 1;
-		}
-
-		// Fetch a batch of rows, process and insert them.
-		while ($sync_batch <= $primary_max && still_on_time())
-		{
-			$end = ($sync_batch + $batch_size - 1);
-
-			// Sync all topics in batch mode...
-			sync('topic_approved', 'range', 'topic_id BETWEEN ' . $sync_batch . ' AND ' . $end, true, false);
-			sync('topic', 'range', 'topic_id BETWEEN ' . $sync_batch . ' AND ' . $end, true, true);
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> sprintf($user->lang['SYNC_TOPIC_ID'], $sync_batch, ($sync_batch + $batch_size)) . ((defined('DEBUG_EXTRA') && function_exists('memory_get_usage')) ? ' [' . ceil(memory_get_usage()/1024) . ' ' . $user->lang['KIB'] . ']' : ''),
-				'RESULT'	=> $user->lang['DONE'],
-			));
-
-			$sync_batch += $batch_size;
-		}
-
-		if ($sync_batch >= $primary_max)
-		{
-			$url = $this->save_convert_progress('&amp;final_jump=1');
-
-			$template->assign_vars(array(
-				'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-				'U_ACTION'		=> $url,
-			));
-
-			$this->meta_refresh($url);
-			return;
-		}
-		else
-		{
-			$sync_batch--;
-		}
-
-		$url = $this->save_convert_progress('&amp;sync_batch=' . $sync_batch);
-
-		$template->assign_vars(array(
-			'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-			'U_ACTION'		=> $url,
-		));
-
-		$this->meta_refresh($url);
-		return;
-	}
-
-	/**
-	* Save the convertor status
-	*/
-	function save_convert_progress($step)
-	{
-		global $convert, $language;
-
-		// Save convertor Status
-		set_config('convert_progress', serialize(array(
-			'step'			=> $step,
-			'table_prefix'	=> $convert->src_table_prefix,
-			'tag'			=> $convert->convertor_tag,
-		)), true);
-
-		set_config('convert_db_server', serialize(array(
-			'dbms'			=> $convert->src_dbms,
-			'dbhost'		=> $convert->src_dbhost,
-			'dbport'		=> $convert->src_dbport,
-			'dbname'		=> $convert->src_dbname,
-		)), true);
-
-		set_config('convert_db_user', serialize(array(
-			'dbuser'		=> $convert->src_dbuser,
-			'dbpasswd'		=> $convert->src_dbpasswd,
-		)), true);
-
-		return $this->p_master->module_url . "?mode={$this->mode}&amp;sub=in_progress&amp;tag={$convert->convertor_tag}$step&amp;language=$language";
-	}
-
-	/**
-	* Finish conversion, the last function to be called.
-	*/
-	function finish_conversion()
-	{
-		global $db, $phpbb_root_path, $phpEx, $convert, $config, $language, $user, $template;
-
-		$db->sql_query('DELETE FROM ' . CONFIG_TABLE . "
-			WHERE config_name = 'convert_progress'
-				OR config_name = 'convert_options'
-				OR config_name = 'convert_db_server'
-				OR config_name = 'convert_db_user'");
-		$db->sql_query('DELETE FROM ' . SESSIONS_TABLE);
-
-		@unlink($phpbb_root_path . 'cache/data_global.' . $phpEx);
-		cache_moderators();
-
-		// And finally, add a note to the log
-		add_log('admin', 'LOG_INSTALL_CONVERTED', $convert->convertor_data['forum_name'], $config['version']);
-
-		$url = $this->p_master->module_url . "?mode={$this->mode}&amp;sub=final&amp;language=$language";
-
-		$template->assign_vars(array(
-			'L_SUBMIT'		=> $user->lang['FINAL_STEP'],
-			'U_ACTION'		=> $url,
-		));
-
-		$this->meta_refresh($url);
-		return;
-	}
-
-	/**
-	* This function marks the steps after syncing
-	*/
-	function final_jump($final_jump)
-	{
-		global $template, $user, $src_db, $same_db, $db, $phpbb_root_path, $phpEx, $config, $cache;
-		global $convert;
-
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'	=> true,
-			'LEGEND'	=> $user->lang['PROCESS_LAST'],
-		));
-
-		if ($final_jump == 1)
-		{
-			$db->sql_return_on_error(true);
-
-			update_topics_posted();
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $user->lang['UPDATE_TOPICS_POSTED'],
-				'RESULT'	=> $user->lang['DONE'],
-			));
-
-			if ($db->sql_error_triggered)
-			{
-				$template->assign_vars(array(
-					'S_ERROR_BOX'	=> true,
-					'ERROR_TITLE'	=> $user->lang['UPDATE_TOPICS_POSTED'],
-					'ERROR_MSG'		=> $user->lang['UPDATE_TOPICS_POSTED_ERR'],
-				));
-			}
-			$db->sql_return_on_error(false);
-
-			$this->finish_conversion();
-			return;
-		}
-	}
-
-	/**
-	* This function marks the steps before syncing (jump=1)
-	*/
-	function jump($jump, $last_statement)
-	{
-		global $template, $user, $src_db, $same_db, $db, $phpbb_root_path, $phpEx, $config, $cache;
-		global $convert;
-
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'	=> true,
-			'LEGEND'	=> $user->lang['PROCESS_LAST'],
-		));
-
-		if ($jump == 1)
-		{
-			// Execute 'last' statements/queries
-			if (!empty($convert->convertor['execute_last']))
-			{
-				if (!is_array($convert->convertor['execute_last']))
-				{
-					eval($convert->convertor['execute_last']);
-				}
-				else
-				{
-					while ($last_statement < sizeof($convert->convertor['execute_last']))
-					{
-						eval($convert->convertor['execute_last'][$last_statement]);
-
-						$template->assign_block_vars('checks', array(
-							'TITLE'		=> $convert->convertor['execute_last'][$last_statement],
-							'RESULT'	=> $user->lang['DONE'],
-						));
-
-						$last_statement++;
-						$url = $this->save_convert_progress('&amp;jump=1&amp;last=' . $last_statement);
-
-						$percentage = ($last_statement == 0) ? 0 : floor(100 / (sizeof($convert->convertor['execute_last']) / $last_statement));
-						$msg = sprintf($user->lang['STEP_PERCENT_COMPLETED'], $last_statement, sizeof($convert->convertor['execute_last']), $percentage);
-
-						$template->assign_vars(array(
-							'L_SUBMIT'		=> $user->lang['CONTINUE_LAST'],
-							'L_MESSAGE'		=> $msg,
-							'U_ACTION'		=> $url,
-						));
-
-						$this->meta_refresh($url);
-						return;
-					}
-				}
-			}
-
-			if (!empty($convert->convertor['query_last']))
-			{
-				if (!is_array($convert->convertor['query_last']))
-				{
-					$convert->convertor['query_last'] = array('target', array($convert->convertor['query_last']));
-				}
-				else if (!is_array($convert->convertor['query_last'][0]))
-				{
-					$convert->convertor['query_last'] = array(array($convert->convertor['query_last'][0], $convert->convertor['query_last'][1]));
-				}
-
-				foreach ($convert->convertor['query_last'] as $query_last)
-				{
-					if ($query_last[0] == 'src')
-					{
-						if ($convert->mysql_convert && $same_db)
-						{
-							$src_db->sql_query("SET NAMES 'binary'");
-						}
-
-						$src_db->sql_query($query_last[1]);
-
-						if ($convert->mysql_convert && $same_db)
-						{
-							$src_db->sql_query("SET NAMES 'utf8'");
-						}
-					}
-					else
-					{
-						$db->sql_query($query_last[1]);
-					}
-				}
-			}
-
-			// Sanity check
-			$db->sql_return_on_error(false);
-			$src_db->sql_return_on_error(false);
-
-			fix_empty_primary_groups();
-
-			if (!isset($config['board_startdate']))
-			{
-				$sql = 'SELECT MIN(user_regdate) AS board_startdate
-					FROM ' . USERS_TABLE;
-				$result = $db->sql_query($sql);
-				$row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				if (($row['board_startdate'] < $config['board_startdate'] && $row['board_startdate'] > 0) || !isset($config['board_startdate']))
-				{
-					set_config('board_startdate', $row['board_startdate']);
-					$db->sql_query('UPDATE ' . USERS_TABLE . ' SET user_regdate = ' . $row['board_startdate'] . ' WHERE user_id = ' . ANONYMOUS);
-				}
-			}
-
-			update_dynamic_config();
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $user->lang['CLEAN_VERIFY'],
-				'RESULT'	=> $user->lang['DONE'],
-			));
-
-			$url = $this->save_convert_progress('&amp;jump=2');
-
-			$template->assign_vars(array(
-				'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-				'U_ACTION'		=> $url,
-			));
-
-			$this->meta_refresh($url);
-			return;
-		}
-
-		if ($jump == 2)
-		{
-			$db->sql_query('UPDATE ' . USERS_TABLE . " SET user_permissions = ''");
-
-			// TODO: sync() is likely going to bomb out on forums with a considerable amount of topics.
-			// TODO: the sync function is able to handle FROM-TO values, we should use them here (batch processing)
-			sync('forum', '', '', false, true);
-			$cache->destroy('sql', FORUMS_TABLE);
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $user->lang['SYNC_FORUMS'],
-				'RESULT'	=> $user->lang['DONE'],
-			));
-
-			// Continue with synchronizing the forums...
-			$url = $this->save_convert_progress('&amp;sync_batch=0');
-
-			$template->assign_vars(array(
-				'L_SUBMIT'		=> $user->lang['CONTINUE_CONVERT'],
-				'U_ACTION'		=> $url,
-			));
-
-			$this->meta_refresh($url);
-			return;
-		}
-	}
-
-	function build_insert_query(&$schema, &$sql_data, $current_table)
-	{
-		global $db, $user;
-		global $convert;
-
-		// Can we use IGNORE with this DBMS?
-		$sql_ignore = (strpos($db->sql_layer, 'mysql') === 0 && !defined('DEBUG_EXTRA')) ? 'IGNORE ' : '';
-		$insert_query = 'INSERT ' . $sql_ignore . 'INTO ' . $schema['target'] . ' (';
-
-		$aliases = array();
-
-		$sql_data = array(
-			'source_fields'		=> array(),
-			'target_fields'		=> array(),
-			'source_tables'		=> array(),
-			'select_fields'		=> array(),
-		);
-
-		foreach ($schema as $key => $val)
-		{
-			// Example: array('group_name',				'extension_groups.group_name',		'htmlspecialchars'),
-			if (is_int($key))
-			{
-				if (!empty($val[0]))
-				{
-					// Target fields
-					$sql_data['target_fields'][$val[0]] = $key;
-					$insert_query .= $val[0] . ', ';
-				}
-
-				if (!is_array($val[1]))
-				{
-					$val[1] = array($val[1]);
-				}
-
-				foreach ($val[1] as $valkey => $value_1)
-				{
-					// This should cover about any case:
-					//
-					// table.field					=> SELECT table.field				FROM table
-					// table.field AS alias			=> SELECT table.field	AS alias	FROM table
-					// table.field AS table2.alias	=> SELECT table2.field	AS alias	FROM table table2
-					// table.field AS table2.field	=> SELECT table2.field				FROM table table2
-					//
-					if (preg_match('/^([a-z0-9_]+)\.([a-z0-9_]+)( +AS +(([a-z0-9_]+?)\.)?([a-z0-9_]+))?$/i', $value_1, $m))
-					{
-						// There is 'AS ...' in the field names
-						if (!empty($m[3]))
-						{
-							$value_1 = ($m[2] == $m[6]) ? $m[1] . '.' . $m[2] : $m[1] . '.' . $m[2] . ' AS ' . $m[6];
-
-							// Table alias: store it then replace the source table with it
-							if (!empty($m[5]) && $m[5] != $m[1])
-							{
-								$aliases[$m[5]] = $m[1];
-								$value_1 = str_replace($m[1] . '.' . $m[2], $m[5] . '.' . $m[2], $value_1);
-							}
-						}
-						else
-						{
-							// No table alias
-							$sql_data['source_tables'][$m[1]] = (empty($convert->src_table_prefix)) ? $m[1] : $convert->src_table_prefix . $m[1] . ' ' . $m[1];
-						}
-
-						$sql_data['select_fields'][$value_1] = $value_1;
-						$sql_data['source_fields'][$key][$valkey] = (!empty($m[6])) ? $m[6] : $m[2];
-					}
-				}
-			}
-			else if ($key == 'where' || $key == 'group_by' || $key == 'order_by' || $key == 'having')
-			{
-				if (@preg_match_all('/([a-z0-9_]+)\.([a-z0-9_]+)/i', $val, $m))
-				{
-					foreach ($m[1] as $value)
-					{
-						$sql_data['source_tables'][$value] = (empty($convert->src_table_prefix)) ? $value : $convert->src_table_prefix . $value . ' ' . $value;
-					}
-				}
-			}
-		}
-
-		// Add the aliases to the list of tables
-		foreach ($aliases as $alias => $table)
-		{
-			$sql_data['source_tables'][$alias] = $convert->src_table_prefix . $table . ' ' . $alias;
-		}
-
-		// 'left_join'		=> 'forums LEFT JOIN forum_prune ON forums.forum_id = forum_prune.forum_id',
-		if (!empty($schema['left_join']))
-		{
-			if (!is_array($schema['left_join']))
-			{
-				$schema['left_join'] = array($schema['left_join']);
-			}
-
-			foreach ($schema['left_join'] as $left_join)
-			{
-				// This won't handle concatened LEFT JOINs
-				if (!preg_match('/([a-z0-9_]+) LEFT JOIN ([a-z0-9_]+) A?S? ?([a-z0-9_]*?) ?(ON|USING)(.*)/i', $left_join, $m))
-				{
-					$this->p_master->error(sprintf($user->lang['NOT_UNDERSTAND'], 'LEFT JOIN', $left_join, $current_table, $schema['target']), __LINE__, __FILE__);
-				}
-
-				if (!empty($aliases[$m[2]]))
-				{
-					if (!empty($m[3]))
-					{
-						$this->p_master->error(sprintf($user->lang['NAMING_CONFLICT'], $m[2], $m[3], $schema['left_join']), __LINE__, __FILE__);
-					}
-
-					$m[2] = $aliases[$m[2]];
-					$m[3] = $m[2];
-				}
-
-				$right_table = $convert->src_table_prefix . $m[2];
-				if (!empty($m[3]))
-				{
-					unset($sql_data['source_tables'][$m[3]]);
-				}
-				else if ($m[2] != $m[1])
-				{
-					unset($sql_data['source_tables'][$m[2]]);
-				}
-
-				if (strpos($sql_data['source_tables'][$m[1]], "\nLEFT JOIN") !== false)
-				{
-					$sql_data['source_tables'][$m[1]] = '(' . $sql_data['source_tables'][$m[1]] . ")\nLEFT JOIN $right_table";
-				}
-				else
-				{
-					$sql_data['source_tables'][$m[1]] .= "\nLEFT JOIN $right_table";
-				}
-
-				if (!empty($m[3]))
-				{
-					unset($sql_data['source_tables'][$m[3]]);
-					$sql_data['source_tables'][$m[1]] .= ' AS ' . $m[3];
-				}
-				else if (!empty($convert->src_table_prefix))
-				{
-					$sql_data['source_tables'][$m[1]] .= ' AS ' . $m[2];
-				}
-				$sql_data['source_tables'][$m[1]] .= ' ' . $m[4] . $m[5];
-			}
-		}
-
-		// Remove ", " from the end of the insert query
-		$insert_query = substr($insert_query, 0, -2) . ') VALUES ';
-
-		return $insert_query;
-	}
-
-	/**
-	* Function for processing the currently handled row
-	*/
-	function process_row(&$schema, &$sql_data, &$insert_values)
-	{
-		global $template, $user, $phpbb_root_path, $phpEx, $db, $lang, $config, $cache;
-		global $convert, $convert_row;
-
-		$sql_flag = false;
-
-		foreach ($schema as $key => $fields)
-		{
-			// We are only interested in the lines with:
-			// array('comment', 'attachments_desc.comment', 'htmlspecialchars'),
-			if (is_int($key))
-			{
-				if (!is_array($fields[1]))
-				{
-					$fields[1] = array($fields[1]);
-				}
-
-				$firstkey_set = false;
-				$firstkey = 0;
-
-				foreach ($fields[1] as $inner_key => $inner_value)
-				{
-					if (!$firstkey_set)
-					{
-						$firstkey = $inner_key;
-						$firstkey_set = true;
-					}
-
-					$src_field = isset($sql_data['source_fields'][$key][$inner_key]) ? $sql_data['source_fields'][$key][$inner_key] : '';
-
-					if (!empty($src_field))
-					{
-						$fields[1][$inner_key] = $convert->row[$src_field];
-					}
-				}
-
-				if (!empty($fields[0]))
-				{
-					// We have a target field, if we haven't set $sql_flag yet it will be set to TRUE.
-					// If a function has already set it to FALSE it won't change it.
-					if ($sql_flag === false)
-					{
-						$sql_flag = true;
-					}
-
-					// No function assigned?
-					if (empty($fields[2]))
-					{
-						$value = $fields[1][$firstkey];
-					}
-					else if (is_array($fields[2]))
-					{
-						// Execute complex function/eval/typecast
-						$value = $fields[1];
-
-						foreach ($fields[2] as $type => $execution)
-						{
-							if (strpos($type, 'typecast') === 0)
-							{
-								if (!is_array($value))
-								{
-									$value = array($value);
-								}
-								$value = $value[0];
-								settype($value, $execution);
-							}
-							else if (strpos($type, 'function') === 0)
-							{
-								if (!is_array($value))
-								{
-									$value = array($value);
-								}
-
-								$value = call_user_func_array($execution, $value);
-							}
-							else if (strpos($type, 'execute') === 0)
-							{
-								if (!is_array($value))
-								{
-									$value = array($value);
-								}
-
-								$execution = str_replace('{RESULT}', '$value', $execution);
-								$execution = str_replace('{VALUE}', '$value', $execution);
-								eval($execution);
-							}
-						}
-					}
-					else
-					{
-						$value = call_user_func_array($fields[2], $fields[1]);
-					}
-
-					if (is_null($value))
-					{
-						$value = '';
-					}
-
-					$insert_values[] = $db->_sql_validate_value($value);
-				}
-				else if (!empty($fields[2]))
-				{
-					if (is_array($fields[2]))
-					{
-						// Execute complex function/eval/typecast
-						$value = '';
-
-						foreach ($fields[2] as $type => $execution)
-						{
-							if (strpos($type, 'typecast') === 0)
-							{
-								$value = settype($value, $execution);
-							}
-							else if (strpos($type, 'function') === 0)
-							{
-								if (!is_array($value))
-								{
-									$value = array($value);
-								}
-
-								$value = call_user_func_array($execution, $value);
-							}
-							else if (strpos($type, 'execute') === 0)
-							{
-								if (!is_array($value))
-								{
-									$value = array($value);
-								}
-
-								$execution = str_replace('{RESULT}', '$value', $execution);
-								$execution = str_replace('{VALUE}', '$value', $execution);
-								eval($execution);
-							}
-						}
-					}
-					else
-					{
-						call_user_func_array($fields[2], $fields[1]);
-					}
-				}
-			}
-		}
-
-		return $sql_flag;
-	}
-
-	/**
-	* Own meta refresh function to be able to change the global time used
-	*/
-	function meta_refresh($url)
-	{
-		global $convert, $template;
-
-		if ($convert->options['refresh'])
-		{
-			// Because we should not rely on correct settings, we simply use the relative path here directly.
-			$template->assign_vars(array(
-				'S_REFRESH'	=> true,
-				'META'		=> '<meta http-equiv="refresh" content="5;url=' . $url . '" />')
-			);
-		}
-	}
-
-	/**
-	* The information below will be used to build the input fields presented to the user
-	*/
-	var $convert_options = array(
-		'legend1'			=> 'SPECIFY_OPTIONS',
-		'src_dbms'			=> array('lang' => 'DBMS',			'type' => 'select', 'options' => 'dbms_select(\'{VALUE}\', true)', 'explain' => false),
-		'src_dbhost'		=> array('lang' => 'DB_HOST',		'type' => 'text:25:100', 'explain' => true),
-		'src_dbport'		=> array('lang' => 'DB_PORT',		'type' => 'text:25:100', 'explain' => true),
-		'src_dbname'		=> array('lang' => 'DB_NAME',		'type' => 'text:25:100', 'explain' => false),
-		'src_dbuser'		=> array('lang' => 'DB_USERNAME',	'type' => 'text:25:100', 'explain' => false),
-		'src_dbpasswd'		=> array('lang' => 'DB_PASSWORD',	'type' => 'password:25:100', 'explain' => false),
-		'src_table_prefix'	=> array('lang' => 'TABLE_PREFIX',	'type' => 'text:25:100', 'explain' => false),
-		//'src_url'			=> array('lang' => 'FORUM_ADDRESS',	'type' => 'text:50:100', 'explain' => true),
-		'forum_path'		=> array('lang' => 'FORUM_PATH',	'type' => 'text:25:100', 'explain' => true),
-		'refresh'			=> array('lang' => 'REFRESH_PAGE',	'type' => 'radio:yes_no', 'explain' => true),
-	);
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/install_install.php phpBB3/install/install_install.php
--- phpBB3-init/install/install_install.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/install_install.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,2246 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2005 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-/**
-*/
-if (!defined('IN_INSTALL'))
-{
-	// Someone has tried to access the file direct. This is not a good idea, so exit
-	exit;
-}
-
-if (!empty($setmodules))
-{
-	// If phpBB is already installed we do not include this module
-	if (@file_exists($phpbb_root_path . 'config.' . $phpEx) && !file_exists($phpbb_root_path . 'cache/install_lock'))
-	{
-		include_once($phpbb_root_path . 'config.' . $phpEx);
-
-		if (defined('PHPBB_INSTALLED'))
-		{
-			return;
-		}
-	}
-
-	$module[] = array(
-		'module_type'		=> 'install',
-		'module_title'		=> 'INSTALL',
-		'module_filename'	=> substr(basename(__FILE__), 0, -strlen($phpEx)-1),
-		'module_order'		=> 10,
-		'module_subs'		=> '',
-		'module_stages'		=> array('INTRO', 'REQUIREMENTS', 'DATABASE', 'ADMINISTRATOR', 'CONFIG_FILE', 'ADVANCED', 'CREATE_TABLE', 'FINAL'),
-		'module_reqs'		=> ''
-	);
-}
-
-/**
-* Installation
-* @package install
-*/
-class install_install extends module
-{
-	function install_install(&$p_master)
-	{
-		$this->p_master = &$p_master;
-	}
-
-	function main($mode, $sub)
-	{
-		global $lang, $template, $language, $phpbb_root_path;
-
-		switch ($sub)
-		{
-			case 'intro':
-				$this->page_title = $lang['SUB_INTRO'];
-
-				$template->assign_vars(array(
-					'TITLE'			=> $lang['INSTALL_INTRO'],
-					'BODY'			=> $lang['INSTALL_INTRO_BODY'],
-					'L_SUBMIT'		=> $lang['NEXT_STEP'],
-					'S_LANG_SELECT'	=> '<select id="language" name="language">' . $this->p_master->inst_language_select($language) . '</select>',
-					'U_ACTION'		=> $this->p_master->module_url . "?mode=$mode&amp;sub=requirements&amp;language=$language",
-				));
-
-			break;
-
-			case 'requirements':
-				$this->check_server_requirements($mode, $sub);
-
-			break;
-
-			case 'database':
-				$this->obtain_database_settings($mode, $sub);
-
-			break;
-
-			case 'administrator':
-				$this->obtain_admin_settings($mode, $sub);
-
-			break;
-
-			case 'config_file':
-				$this->create_config_file($mode, $sub);
-
-			break;
-
-			case 'advanced':
-				$this->obtain_advanced_settings($mode, $sub);
-
-			break;
-
-			case 'create_table':
-				$this->load_schema($mode, $sub);
-			break;
-
-			case 'final':
-				$this->build_search_index($mode, $sub);
-				$this->add_modules($mode, $sub);
-				$this->add_language($mode, $sub);
-				$this->add_bots($mode, $sub);
-				$this->email_admin($mode, $sub);
-
-				// Remove the lock file
-				@unlink($phpbb_root_path . 'cache/install_lock');
-
-			break;
-		}
-
-		$this->tpl_name = 'install_install';
-	}
-
-	/**
-	* Checks that the server we are installing on meets the requirements for running phpBB
-	*/
-	function check_server_requirements($mode, $sub)
-	{
-		global $lang, $template, $phpbb_root_path, $phpEx, $language;
-
-		$this->page_title = $lang['STAGE_REQUIREMENTS'];
-
-		$template->assign_vars(array(
-			'TITLE'		=> $lang['REQUIREMENTS_TITLE'],
-			'BODY'		=> $lang['REQUIREMENTS_EXPLAIN'],
-		));
-
-		$passed = array('php' => false, 'db' => false, 'files' => false, 'pcre' => false, 'imagesize' => false,);
-
-		// Test for basic PHP settings
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'			=> true,
-			'LEGEND'			=> $lang['PHP_SETTINGS'],
-			'LEGEND_EXPLAIN'	=> $lang['PHP_SETTINGS_EXPLAIN'],
-		));
-
-		// Test the minimum PHP version
-		$php_version = PHP_VERSION;
-
-		if (version_compare($php_version, '4.3.3') < 0)
-		{
-			$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-		}
-		else
-		{
-			$passed['php'] = true;
-
-			// We also give feedback on whether we're running in safe mode
-			$result = '<strong style="color:green">' . $lang['YES'];
-			if (@ini_get('safe_mode') == '1' || strtolower(@ini_get('safe_mode')) == 'on')
-			{
-				$result .= ', ' . $lang['PHP_SAFE_MODE'];
-			}
-			$result .= '</strong>';
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'			=> $lang['PHP_VERSION_REQD'],
-			'RESULT'		=> $result,
-
-			'S_EXPLAIN'		=> false,
-			'S_LEGEND'		=> false,
-		));
-
-		// Check for register_globals being enabled
-		if (@ini_get('register_globals') == '1' || strtolower(@ini_get('register_globals')) == 'on')
-		{
-			$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-		}
-		else
-		{
-			$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'			=> $lang['PHP_REGISTER_GLOBALS'],
-			'TITLE_EXPLAIN'	=> $lang['PHP_REGISTER_GLOBALS_EXPLAIN'],
-			'RESULT'		=> $result,
-
-			'S_EXPLAIN'		=> true,
-			'S_LEGEND'		=> false,
-		));
-
-
-		// Check for url_fopen
-		if (@ini_get('allow_url_fopen') == '1' || strtolower(@ini_get('allow_url_fopen')) == 'on')
-		{
-			$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-		}
-		else
-		{
-			$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'			=> $lang['PHP_URL_FOPEN_SUPPORT'],
-			'TITLE_EXPLAIN'	=> $lang['PHP_URL_FOPEN_SUPPORT_EXPLAIN'],
-			'RESULT'		=> $result,
-
-			'S_EXPLAIN'		=> true,
-			'S_LEGEND'		=> false,
-		));
-
-
-		// Check for getimagesize
-		if (@function_exists('getimagesize'))
-		{
-			$passed['imagesize'] = true;
-			$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-		}
-		else
-		{
-			$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'			=> $lang['PHP_GETIMAGESIZE_SUPPORT'],
-			'TITLE_EXPLAIN'	=> $lang['PHP_GETIMAGESIZE_SUPPORT_EXPLAIN'],
-			'RESULT'		=> $result,
-
-			'S_EXPLAIN'		=> true,
-			'S_LEGEND'		=> false,
-		));
-
-		// Check for PCRE UTF-8 support
-		if (@preg_match('//u', ''))
-		{
-			$passed['pcre'] = true;
-			$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-		}
-		else
-		{
-			$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'			=> $lang['PCRE_UTF_SUPPORT'],
-			'TITLE_EXPLAIN'	=> $lang['PCRE_UTF_SUPPORT_EXPLAIN'],
-			'RESULT'		=> $result,
-
-			'S_EXPLAIN'		=> true,
-			'S_LEGEND'		=> false,
-		));
-
-/**
-*		Better not enabling and adding to the loaded extensions due to the specific requirements needed
-		if (!@extension_loaded('mbstring'))
-		{
-			can_load_dll('mbstring');
-		}
-*/
-
-		$passed['mbstring'] = true;
-		if (@extension_loaded('mbstring'))
-		{
-			// Test for available database modules
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'			=> true,
-				'LEGEND'			=> $lang['MBSTRING_CHECK'],
-				'LEGEND_EXPLAIN'	=> $lang['MBSTRING_CHECK_EXPLAIN'],
-			));
-
-			$checks = array(
-				array('func_overload', '&', MB_OVERLOAD_MAIL|MB_OVERLOAD_STRING),
-				array('encoding_translation', '!=', 0),
-				array('http_input', '!=', 'pass'),
-				array('http_output', '!=', 'pass')
-			);
-
-			foreach ($checks as $mb_checks)
-			{
-				$ini_val = @ini_get('mbstring.' . $mb_checks[0]);
-				switch ($mb_checks[1])
-				{
-					case '&':
-						if (intval($ini_val) & $mb_checks[2])
-						{
-							$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-							$passed['mbstring'] = false;
-						}
-						else
-						{
-							$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-						}
-					break;
-
-					case '!=':
-						if ($ini_val != $mb_checks[2])
-						{
-							$result = '<strong style="color:red">' . $lang['NO'] . '</strong>';
-							$passed['mbstring'] = false;
-						}
-						else
-						{
-							$result = '<strong style="color:green">' . $lang['YES'] . '</strong>';
-						}
-					break;
-				}
-				$template->assign_block_vars('checks', array(
-					'TITLE'			=> $lang['MBSTRING_' . strtoupper($mb_checks[0])],
-					'TITLE_EXPLAIN'	=> $lang['MBSTRING_' . strtoupper($mb_checks[0]) . '_EXPLAIN'],
-					'RESULT'		=> $result,
-
-					'S_EXPLAIN'		=> true,
-					'S_LEGEND'		=> false,
-				));
-			}
-		}
-
-		// Test for available database modules
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'			=> true,
-			'LEGEND'			=> $lang['PHP_SUPPORTED_DB'],
-			'LEGEND_EXPLAIN'	=> $lang['PHP_SUPPORTED_DB_EXPLAIN'],
-		));
-
-		$available_dbms = get_available_dbms(false, true);
-		$passed['db'] = $available_dbms['ANY_DB_SUPPORT'];
-		unset($available_dbms['ANY_DB_SUPPORT']);
-
-		foreach ($available_dbms as $db_name => $db_ary)
-		{
-			if (!$db_ary['AVAILABLE'])
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['DLL_' . strtoupper($db_name)],
-					'RESULT'	=> '<span style="color:red">' . $lang['UNAVAILABLE'] . '</span>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-			else
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['DLL_' . strtoupper($db_name)],
-					'RESULT'	=> '<strong style="color:green">' . $lang['AVAILABLE'] . '</strong>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-		}
-
-		// Test for other modules
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'			=> true,
-			'LEGEND'			=> $lang['PHP_OPTIONAL_MODULE'],
-			'LEGEND_EXPLAIN'	=> $lang['PHP_OPTIONAL_MODULE_EXPLAIN'],
-		));
-
-		foreach ($this->php_dlls_other as $dll)
-		{
-			if (!@extension_loaded($dll))
-			{
-				if (!can_load_dll($dll))
-				{
-					$template->assign_block_vars('checks', array(
-						'TITLE'		=> $lang['DLL_' . strtoupper($dll)],
-						'RESULT'	=> '<strong style="color:red">' . $lang['UNAVAILABLE'] . '</strong>',
-
-						'S_EXPLAIN'	=> false,
-						'S_LEGEND'	=> false,
-					));
-					continue;
-				}
-			}
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $lang['DLL_' . strtoupper($dll)],
-				'RESULT'	=> '<strong style="color:green">' . $lang['AVAILABLE'] . '</strong>',
-
-				'S_EXPLAIN'	=> false,
-				'S_LEGEND'	=> false,
-			));
-		}
-
-		// Can we find Imagemagick anywhere on the system?
-		$exe = (DIRECTORY_SEPARATOR == '\\') ? '.exe' : '';
-
-		$magic_home = getenv('MAGICK_HOME');
-		$img_imagick = '';
-		if (empty($magic_home))
-		{
-			$locations = array('C:/WINDOWS/', 'C:/WINNT/', 'C:/WINDOWS/SYSTEM/', 'C:/WINNT/SYSTEM/', 'C:/WINDOWS/SYSTEM32/', 'C:/WINNT/SYSTEM32/', '/usr/bin/', '/usr/sbin/', '/usr/local/bin/', '/usr/local/sbin/', '/opt/', '/usr/imagemagick/', '/usr/bin/imagemagick/');
-			$path_locations = str_replace('\\', '/', (explode(($exe) ? ';' : ':', getenv('PATH'))));
-
-			$locations = array_merge($path_locations, $locations);
-			foreach ($locations as $location)
-			{
-				// The path might not end properly, fudge it
-				if (substr($location, -1, 1) !== '/')
-				{
-					$location .= '/';
-				}
-
-				if (@file_exists($location) && @is_readable($location . 'mogrify' . $exe) && @filesize($location . 'mogrify' . $exe) > 3000)
-				{
-					$img_imagick = str_replace('\\', '/', $location);
-					continue;
-				}
-			}
-		}
-		else
-		{
-			$img_imagick = str_replace('\\', '/', $magic_home);
-		}
-
-		$template->assign_block_vars('checks', array(
-			'TITLE'		=> $lang['APP_MAGICK'],
-			'RESULT'	=> ($img_imagick) ? '<strong style="color:green">' . $lang['AVAILABLE'] . ', ' . $img_imagick . '</strong>' : '<strong style="color:blue">' . $lang['NO_LOCATION'] . '</strong>',
-
-			'S_EXPLAIN'	=> false,
-			'S_LEGEND'	=> false,
-		));
-
-		// Check permissions on files/directories we need access to
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'			=> true,
-			'LEGEND'			=> $lang['FILES_REQUIRED'],
-			'LEGEND_EXPLAIN'	=> $lang['FILES_REQUIRED_EXPLAIN'],
-		));
-
-		$directories = array('cache/', 'files/', 'store/');
-
-		umask(0);
-
-		$passed['files'] = true;
-		foreach ($directories as $dir)
-		{
-			$exists = $write = false;
-
-			// Try to create the directory if it does not exist
-			if (!file_exists($phpbb_root_path . $dir))
-			{
-				@mkdir($phpbb_root_path . $dir, 0777);
-				phpbb_chmod($phpbb_root_path . $dir, CHMOD_READ | CHMOD_WRITE);
-			}
-
-			// Now really check
-			if (file_exists($phpbb_root_path . $dir) && is_dir($phpbb_root_path . $dir))
-			{
-				phpbb_chmod($phpbb_root_path . $dir, CHMOD_READ | CHMOD_WRITE);
-				$exists = true;
-			}
-
-			// Now check if it is writable by storing a simple file
-			$fp = @fopen($phpbb_root_path . $dir . 'test_lock', 'wb');
-			if ($fp !== false)
-			{
-				$write = true;
-			}
-			@fclose($fp);
-
-			@unlink($phpbb_root_path . $dir . 'test_lock');
-
-			$passed['files'] = ($exists && $write && $passed['files']) ? true : false;
-
-			$exists = ($exists) ? '<strong style="color:green">' . $lang['FOUND'] . '</strong>' : '<strong style="color:red">' . $lang['NOT_FOUND'] . '</strong>';
-			$write = ($write) ? ', <strong style="color:green">' . $lang['WRITABLE'] . '</strong>' : (($exists) ? ', <strong style="color:red">' . $lang['UNWRITABLE'] . '</strong>' : '');
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $dir,
-				'RESULT'	=> $exists . $write,
-
-				'S_EXPLAIN'	=> false,
-				'S_LEGEND'	=> false,
-			));
-		}
-
-		// Check permissions on files/directories it would be useful access to
-		$template->assign_block_vars('checks', array(
-			'S_LEGEND'			=> true,
-			'LEGEND'			=> $lang['FILES_OPTIONAL'],
-			'LEGEND_EXPLAIN'	=> $lang['FILES_OPTIONAL_EXPLAIN'],
-		));
-
-		$directories = array('config.' . $phpEx, 'images/avatars/upload/');
-
-		foreach ($directories as $dir)
-		{
-			$write = $exists = true;
-			if (file_exists($phpbb_root_path . $dir))
-			{
-				if (!phpbb_is_writable($phpbb_root_path . $dir))
-				{
-					$write = false;
-				}
-			}
-			else
-			{
-				$write = $exists = false;
-			}
-
-			$exists_str = ($exists) ? '<strong style="color:green">' . $lang['FOUND'] . '</strong>' : '<strong style="color:red">' . $lang['NOT_FOUND'] . '</strong>';
-			$write_str = ($write) ? ', <strong style="color:green">' . $lang['WRITABLE'] . '</strong>' : (($exists) ? ', <strong style="color:red">' . $lang['UNWRITABLE'] . '</strong>' : '');
-
-			$template->assign_block_vars('checks', array(
-				'TITLE'		=> $dir,
-				'RESULT'	=> $exists_str . $write_str,
-
-				'S_EXPLAIN'	=> false,
-				'S_LEGEND'	=> false,
-			));
-		}
-
-		// And finally where do we want to go next (well today is taken isn't it :P)
-		$s_hidden_fields = ($img_imagick) ? '<input type="hidden" name="img_imagick" value="' . addslashes($img_imagick) . '" />' : '';
-
-		$url = (!in_array(false, $passed)) ? $this->p_master->module_url . "?mode=$mode&amp;sub=database&amp;language=$language" : $this->p_master->module_url . "?mode=$mode&amp;sub=requirements&amp;language=$language	";
-		$submit = (!in_array(false, $passed)) ? $lang['INSTALL_START'] : $lang['INSTALL_TEST'];
-
-
-		$template->assign_vars(array(
-			'L_SUBMIT'	=> $submit,
-			'S_HIDDEN'	=> $s_hidden_fields,
-			'U_ACTION'	=> $url,
-		));
-	}
-
-	/**
-	* Obtain the information required to connect to the database
-	*/
-	function obtain_database_settings($mode, $sub)
-	{
-		global $lang, $template, $phpEx;
-
-		$this->page_title = $lang['STAGE_DATABASE'];
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		$connect_test = false;
-		$error = array();
-		$available_dbms = get_available_dbms(false, true);
-
-		// Has the user opted to test the connection?
-		if (isset($_POST['testdb']))
-		{
-			if (!isset($available_dbms[$data['dbms']]) || !$available_dbms[$data['dbms']]['AVAILABLE'])
-			{
-				$error[] = $lang['INST_ERR_NO_DB'];
-				$connect_test = false;
-			}
-			else
-			{
-				$connect_test = connect_check_db(true, $error, $available_dbms[$data['dbms']], $data['table_prefix'], $data['dbhost'], $data['dbuser'], htmlspecialchars_decode($data['dbpasswd']), $data['dbname'], $data['dbport']);
-			}
-
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'			=> true,
-				'LEGEND'			=> $lang['DB_CONNECTION'],
-				'LEGEND_EXPLAIN'	=> false,
-			));
-
-			if ($connect_test)
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['DB_TEST'],
-					'RESULT'	=> '<strong style="color:green">' . $lang['SUCCESSFUL_CONNECT'] . '</strong>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-			else
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['DB_TEST'],
-					'RESULT'	=> '<strong style="color:red">' . implode('<br />', $error) . '</strong>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-		}
-
-		if (!$connect_test)
-		{
-			// Update the list of available DBMS modules to only contain those which can be used
-			$available_dbms_temp = array();
-			foreach ($available_dbms as $type => $dbms_ary)
-			{
-				if (!$dbms_ary['AVAILABLE'])
-				{
-					continue;
-				}
-
-				$available_dbms_temp[$type] = $dbms_ary;
-			}
-
-			$available_dbms = &$available_dbms_temp;
-
-			// And now for the main part of this page
-			$data['table_prefix'] = (!empty($data['table_prefix']) ? $data['table_prefix'] : 'phpbb_');
-
-			foreach ($this->db_config_options as $config_key => $vars)
-			{
-				if (!is_array($vars) && strpos($config_key, 'legend') === false)
-				{
-					continue;
-				}
-
-				if (strpos($config_key, 'legend') !== false)
-				{
-					$template->assign_block_vars('options', array(
-						'S_LEGEND'		=> true,
-						'LEGEND'		=> $lang[$vars])
-					);
-
-					continue;
-				}
-
-				$options = isset($vars['options']) ? $vars['options'] : '';
-
-				$template->assign_block_vars('options', array(
-					'KEY'			=> $config_key,
-					'TITLE'			=> $lang[$vars['lang']],
-					'S_EXPLAIN'		=> $vars['explain'],
-					'S_LEGEND'		=> false,
-					'TITLE_EXPLAIN'	=> ($vars['explain']) ? $lang[$vars['lang'] . '_EXPLAIN'] : '',
-					'CONTENT'		=> $this->p_master->input_field($config_key, $vars['type'], $data[$config_key], $options),
-					)
-				);
-			}
-		}
-
-		// And finally where do we want to go next (well today is taken isn't it :P)
-		$s_hidden_fields = ($data['img_imagick']) ? '<input type="hidden" name="img_imagick" value="' . addslashes($data['img_imagick']) . '" />' : '';
-		$s_hidden_fields .= '<input type="hidden" name="language" value="' . $data['language'] . '" />';
-		if ($connect_test)
-		{
-			foreach ($this->db_config_options as $config_key => $vars)
-			{
-				if (!is_array($vars))
-				{
-					continue;
-				}
-				$s_hidden_fields .= '<input type="hidden" name="' . $config_key . '" value="' . $data[$config_key] . '" />';
-			}
-		}
-
-		$url = ($connect_test) ? $this->p_master->module_url . "?mode=$mode&amp;sub=administrator" : $this->p_master->module_url . "?mode=$mode&amp;sub=database";
-		$s_hidden_fields .= ($connect_test) ? '' : '<input type="hidden" name="testdb" value="true" />';
-
-		$submit = $lang['NEXT_STEP'];
-
-		$template->assign_vars(array(
-			'L_SUBMIT'	=> $submit,
-			'S_HIDDEN'	=> $s_hidden_fields,
-			'U_ACTION'	=> $url,
-		));
-	}
-
-	/**
-	* Obtain the administrator's name, password and email address
-	*/
-	function obtain_admin_settings($mode, $sub)
-	{
-		global $lang, $template, $phpEx;
-
-		$this->page_title = $lang['STAGE_ADMINISTRATOR'];
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		if ($data['dbms'] == '')
-		{
-			// Someone's been silly and tried calling this page direct
-			// So we send them back to the start to do it again properly
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		$s_hidden_fields = ($data['img_imagick']) ? '<input type="hidden" name="img_imagick" value="' . addslashes($data['img_imagick']) . '" />' : '';
-		$passed = false;
-
-		$data['default_lang'] = ($data['default_lang'] !== '') ? $data['default_lang'] : $data['language'];
-
-		if (isset($_POST['check']))
-		{
-			$error = array();
-
-			// Check the entered email address and password
-			if ($data['admin_name'] == '' || $data['admin_pass1'] == '' || $data['admin_pass2'] == '' || $data['board_email1'] == '' || $data['board_email2'] == '')
-			{
-				$error[] = $lang['INST_ERR_MISSING_DATA'];
-			}
-
-			if ($data['admin_pass1'] != $data['admin_pass2'] && $data['admin_pass1'] != '')
-			{
-				$error[] = $lang['INST_ERR_PASSWORD_MISMATCH'];
-			}
-
-			// Test against the default username rules
-			if ($data['admin_name'] != '' && utf8_strlen($data['admin_name']) < 3)
-			{
-				$error[] = $lang['INST_ERR_USER_TOO_SHORT'];
-			}
-
-			if ($data['admin_name'] != '' && utf8_strlen($data['admin_name']) > 20)
-			{
-				$error[] = $lang['INST_ERR_USER_TOO_LONG'];
-			}
-
-			// Test against the default password rules
-			if ($data['admin_pass1'] != '' && utf8_strlen($data['admin_pass1']) < 6)
-			{
-				$error[] = $lang['INST_ERR_PASSWORD_TOO_SHORT'];
-			}
-
-			if ($data['admin_pass1'] != '' && utf8_strlen($data['admin_pass1']) > 30)
-			{
-				$error[] = $lang['INST_ERR_PASSWORD_TOO_LONG'];
-			}
-
-			if ($data['board_email1'] != $data['board_email2'] && $data['board_email1'] != '')
-			{
-				$error[] = $lang['INST_ERR_EMAIL_MISMATCH'];
-			}
-
-			if ($data['board_email1'] != '' && !preg_match('/^' . get_preg_expression('email') . '$/i', $data['board_email1']))
-			{
-				$error[] = $lang['INST_ERR_EMAIL_INVALID'];
-			}
-
-			$template->assign_block_vars('checks', array(
-				'S_LEGEND'			=> true,
-				'LEGEND'			=> $lang['STAGE_ADMINISTRATOR'],
-				'LEGEND_EXPLAIN'	=> false,
-			));
-
-			if (!sizeof($error))
-			{
-				$passed = true;
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['ADMIN_TEST'],
-					'RESULT'	=> '<strong style="color:green">' . $lang['TESTS_PASSED'] . '</strong>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-			else
-			{
-				$template->assign_block_vars('checks', array(
-					'TITLE'		=> $lang['ADMIN_TEST'],
-					'RESULT'	=> '<strong style="color:red">' . implode('<br />', $error) . '</strong>',
-
-					'S_EXPLAIN'	=> false,
-					'S_LEGEND'	=> false,
-				));
-			}
-		}
-
-		if (!$passed)
-		{
-			foreach ($this->admin_config_options as $config_key => $vars)
-			{
-				if (!is_array($vars) && strpos($config_key, 'legend') === false)
-				{
-					continue;
-				}
-
-				if (strpos($config_key, 'legend') !== false)
-				{
-					$template->assign_block_vars('options', array(
-						'S_LEGEND'		=> true,
-						'LEGEND'		=> $lang[$vars])
-					);
-
-					continue;
-				}
-
-				$options = isset($vars['options']) ? $vars['options'] : '';
-
-				$template->assign_block_vars('options', array(
-					'KEY'			=> $config_key,
-					'TITLE'			=> $lang[$vars['lang']],
-					'S_EXPLAIN'		=> $vars['explain'],
-					'S_LEGEND'		=> false,
-					'TITLE_EXPLAIN'	=> ($vars['explain']) ? $lang[$vars['lang'] . '_EXPLAIN'] : '',
-					'CONTENT'		=> $this->p_master->input_field($config_key, $vars['type'], $data[$config_key], $options),
-					)
-				);
-			}
-		}
-		else
-		{
-			foreach ($this->admin_config_options as $config_key => $vars)
-			{
-				if (!is_array($vars))
-				{
-					continue;
-				}
-				$s_hidden_fields .= '<input type="hidden" name="' . $config_key . '" value="' . $data[$config_key] . '" />';
-			}
-		}
-
-		$s_hidden_fields .= ($data['img_imagick']) ? '<input type="hidden" name="img_imagick" value="' . addslashes($data['img_imagick']) . '" />' : '';
-		$s_hidden_fields .= '<input type="hidden" name="language" value="' . $data['language'] . '" />';
-
-		foreach ($this->db_config_options as $config_key => $vars)
-		{
-			if (!is_array($vars))
-			{
-				continue;
-			}
-			$s_hidden_fields .= '<input type="hidden" name="' . $config_key . '" value="' . $data[$config_key] . '" />';
-		}
-
-		$submit = $lang['NEXT_STEP'];
-
-		$url = ($passed) ? $this->p_master->module_url . "?mode=$mode&amp;sub=config_file" : $this->p_master->module_url . "?mode=$mode&amp;sub=administrator";
-		$s_hidden_fields .= ($passed) ? '' : '<input type="hidden" name="check" value="true" />';
-
-		$template->assign_vars(array(
-			'L_SUBMIT'	=> $submit,
-			'S_HIDDEN'	=> $s_hidden_fields,
-			'U_ACTION'	=> $url,
-		));
-	}
-
-	/**
-	* Writes the config file to disk, or if unable to do so offers alternative methods
-	*/
-	function create_config_file($mode, $sub)
-	{
-		global $lang, $template, $phpbb_root_path, $phpEx;
-
-		$this->page_title = $lang['STAGE_CONFIG_FILE'];
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		if ($data['dbms'] == '')
-		{
-			// Someone's been silly and tried calling this page direct
-			// So we send them back to the start to do it again properly
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		$s_hidden_fields = ($data['img_imagick']) ? '<input type="hidden" name="img_imagick" value="' . addslashes($data['img_imagick']) . '" />' : '';
-		$s_hidden_fields .= '<input type="hidden" name="language" value="' . $data['language'] . '" />';
-		$written = false;
-
-		// Create a list of any PHP modules we wish to have loaded
-		$load_extensions = array();
-		$available_dbms = get_available_dbms($data['dbms']);
-		$check_exts = array_merge(array($available_dbms[$data['dbms']]['MODULE']), $this->php_dlls_other);
-
-		foreach ($check_exts as $dll)
-		{
-			if (!@extension_loaded($dll))
-			{
-				if (!can_load_dll($dll))
-				{
-					continue;
-				}
-
-				$load_extensions[] = $dll . '.' . PHP_SHLIB_SUFFIX;
-			}
-		}
-
-		// Create a lock file to indicate that there is an install in progress
-		$fp = @fopen($phpbb_root_path . 'cache/install_lock', 'wb');
-		if ($fp === false)
-		{
-			// We were unable to create the lock file - abort
-			$this->p_master->error($lang['UNABLE_WRITE_LOCK'], __LINE__, __FILE__);
-		}
-		@fclose($fp);
-
-		@chmod($phpbb_root_path . 'cache/install_lock', 0777);
-
-		$load_extensions = implode(',', $load_extensions);
-
-		// Time to convert the data provided into a config file
-		$config_data = "<?php\n";
-		$config_data .= "// phpBB 3.0.x auto-generated configuration file\n// Do not change anything in this file!\n";
-
-		$config_data_array = array(
-			'dbms'			=> $available_dbms[$data['dbms']]['DRIVER'],
-			'dbhost'		=> $data['dbhost'],
-			'dbport'		=> $data['dbport'],
-			'dbname'		=> $data['dbname'],
-			'dbuser'		=> $data['dbuser'],
-			'dbpasswd'		=> htmlspecialchars_decode($data['dbpasswd']),
-			'table_prefix'	=> $data['table_prefix'],
-			'acm_type'		=> 'file',
-			'load_extensions'	=> $load_extensions,
-		);
-
-		foreach ($config_data_array as $key => $value)
-		{
-			$config_data .= "\${$key} = '" . str_replace("'", "\\'", str_replace('\\', '\\\\', $value)) . "';\n";
-		}
-		unset($config_data_array);
-
-		$config_data .= "\n@define('PHPBB_INSTALLED', true);\n";
-		$config_data .= "// @define('DEBUG', true);\n";
-		$config_data .= "// @define('DEBUG_EXTRA', true);\n";
-		$config_data .= '?' . '>'; // Done this to prevent highlighting editors getting confused!
-
-		// Attempt to write out the config file directly. If it works, this is the easiest way to do it ...
-		if ((file_exists($phpbb_root_path . 'config.' . $phpEx) && phpbb_is_writable($phpbb_root_path . 'config.' . $phpEx)) || phpbb_is_writable($phpbb_root_path))
-		{
-			// Assume it will work ... if nothing goes wrong below
-			$written = true;
-
-			if (!($fp = @fopen($phpbb_root_path . 'config.' . $phpEx, 'w')))
-			{
-				// Something went wrong ... so let's try another method
-				$written = false;
-			}
-
-			if (!(@fwrite($fp, $config_data)))
-			{
-				// Something went wrong ... so let's try another method
-				$written = false;
-			}
-
-			@fclose($fp);
-
-			if ($written)
-			{
-				// We may revert back to chmod() if we see problems with users not able to change their config.php file directly
-				phpbb_chmod($phpbb_root_path . 'config.' . $phpEx, CHMOD_READ);
-			}
-		}
-
-		if (isset($_POST['dldone']))
-		{
-			// Do a basic check to make sure that the file has been uploaded
-			// Note that all we check is that the file has _something_ in it
-			// We don't compare the contents exactly - if they can't upload
-			// a single file correctly, it's likely they will have other problems....
-			if (filesize($phpbb_root_path . 'config.' . $phpEx) > 10)
-			{
-				$written = true;
-			}
-		}
-
-		$config_options = array_merge($this->db_config_options, $this->admin_config_options);
-
-		foreach ($config_options as $config_key => $vars)
-		{
-			if (!is_array($vars))
-			{
-				continue;
-			}
-			$s_hidden_fields .= '<input type="hidden" name="' . $config_key . '" value="' . $data[$config_key] . '" />';
-		}
-
-		if (!$written)
-		{
-			// OK, so it didn't work let's try the alternatives
-
-			if (isset($_POST['dlconfig']))
-			{
-				// They want a copy of the file to download, so send the relevant headers and dump out the data
-				header("Content-Type: text/x-delimtext; name=\"config.$phpEx\"");
-				header("Content-disposition: attachment; filename=config.$phpEx");
-				echo $config_data;
-				exit;
-			}
-
-			// The option to download the config file is always available, so output it here
-			$template->assign_vars(array(
-				'BODY'					=> $lang['CONFIG_FILE_UNABLE_WRITE'],
-				'L_DL_CONFIG'			=> $lang['DL_CONFIG'],
-				'L_DL_CONFIG_EXPLAIN'	=> $lang['DL_CONFIG_EXPLAIN'],
-				'L_DL_DONE'				=> $lang['DONE'],
-				'L_DL_DOWNLOAD'			=> $lang['DL_DOWNLOAD'],
-				'S_HIDDEN'				=> $s_hidden_fields,
-				'S_SHOW_DOWNLOAD'		=> true,
-				'U_ACTION'				=> $this->p_master->module_url . "?mode=$mode&amp;sub=config_file",
-			));
-			return;
-		}
-		else
-		{
-			$template->assign_vars(array(
-				'BODY'		=> $lang['CONFIG_FILE_WRITTEN'],
-				'L_SUBMIT'	=> $lang['NEXT_STEP'],
-				'S_HIDDEN'	=> $s_hidden_fields,
-				'U_ACTION'	=> $this->p_master->module_url . "?mode=$mode&amp;sub=advanced",
-			));
-			return;
-		}
-	}
-
-	/**
-	* Provide an opportunity to customise some advanced settings during the install
-	* in case it is necessary for them to be set to access later
-	*/
-	function obtain_advanced_settings($mode, $sub)
-	{
-		global $lang, $template, $phpEx;
-
-		$this->page_title = $lang['STAGE_ADVANCED'];
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		if ($data['dbms'] == '')
-		{
-			// Someone's been silly and tried calling this page direct
-			// So we send them back to the start to do it again properly
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		$s_hidden_fields = ($data['img_imagick']) ? '<input type="hidden" name="img_imagick" value="' . addslashes($data['img_imagick']) . '" />' : '';
-		$s_hidden_fields .= '<input type="hidden" name="language" value="' . $data['language'] . '" />';
-
-		// HTTP_HOST is having the correct browser url in most cases...
-		$server_name = (!empty($_SERVER['HTTP_HOST'])) ? strtolower($_SERVER['HTTP_HOST']) : ((!empty($_SERVER['SERVER_NAME'])) ? $_SERVER['SERVER_NAME'] : getenv('SERVER_NAME'));
-
-		// HTTP HOST can carry a port number...
-		if (strpos($server_name, ':') !== false)
-		{
-			$server_name = substr($server_name, 0, strpos($server_name, ':'));
-		}
-
-		$data['email_enable'] = ($data['email_enable'] !== '') ? $data['email_enable'] : true;
-		$data['server_name'] = ($data['server_name'] !== '') ? $data['server_name'] : $server_name;
-		$data['server_port'] = ($data['server_port'] !== '') ? $data['server_port'] : ((!empty($_SERVER['SERVER_PORT'])) ? (int) $_SERVER['SERVER_PORT'] : (int) getenv('SERVER_PORT'));
-		$data['server_protocol'] = ($data['server_protocol'] !== '') ? $data['server_protocol'] : ((isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') ? 'https://' : 'http://');
-		$data['cookie_secure'] = ($data['cookie_secure'] !== '') ? $data['cookie_secure'] : ((isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on') ? true : false);
-
-		if ($data['script_path'] === '')
-		{
-			$name = (!empty($_SERVER['PHP_SELF'])) ? $_SERVER['PHP_SELF'] : getenv('PHP_SELF');
-			if (!$name)
-			{
-				$name = (!empty($_SERVER['REQUEST_URI'])) ? $_SERVER['REQUEST_URI'] : getenv('REQUEST_URI');
-			}
-
-			// Replace backslashes and doubled slashes (could happen on some proxy setups)
-			$name = str_replace(array('\\', '//', '/install'), '/', $name);
-			$data['script_path'] = trim(dirname($name));
-		}
-
-		foreach ($this->advanced_config_options as $config_key => $vars)
-		{
-			if (!is_array($vars) && strpos($config_key, 'legend') === false)
-			{
-				continue;
-			}
-
-			if (strpos($config_key, 'legend') !== false)
-			{
-				$template->assign_block_vars('options', array(
-					'S_LEGEND'		=> true,
-					'LEGEND'		=> $lang[$vars])
-				);
-
-				continue;
-			}
-
-			$options = isset($vars['options']) ? $vars['options'] : '';
-
-			$template->assign_block_vars('options', array(
-				'KEY'			=> $config_key,
-				'TITLE'			=> $lang[$vars['lang']],
-				'S_EXPLAIN'		=> $vars['explain'],
-				'S_LEGEND'		=> false,
-				'TITLE_EXPLAIN'	=> ($vars['explain']) ? $lang[$vars['lang'] . '_EXPLAIN'] : '',
-				'CONTENT'		=> $this->p_master->input_field($config_key, $vars['type'], $data[$config_key], $options),
-				)
-			);
-		}
-
-		$config_options = array_merge($this->db_config_options, $this->admin_config_options);
-		foreach ($config_options as $config_key => $vars)
-		{
-			if (!is_array($vars))
-			{
-				continue;
-			}
-			$s_hidden_fields .= '<input type="hidden" name="' . $config_key . '" value="' . $data[$config_key] . '" />';
-		}
-
-		$submit = $lang['NEXT_STEP'];
-
-		$url = $this->p_master->module_url . "?mode=$mode&amp;sub=create_table";
-
-		$template->assign_vars(array(
-			'BODY'		=> $lang['STAGE_ADVANCED_EXPLAIN'],
-			'L_SUBMIT'	=> $submit,
-			'S_HIDDEN'	=> $s_hidden_fields,
-			'U_ACTION'	=> $url,
-		));
-	}
-
-	/**
-	* Load the contents of the schema into the database and then alter it based on what has been input during the installation
-	*/
-	function load_schema($mode, $sub)
-	{
-		global $db, $lang, $template, $phpbb_root_path, $phpEx;
-
-		$this->page_title = $lang['STAGE_CREATE_TABLE'];
-		$s_hidden_fields = '';
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		if ($data['dbms'] == '')
-		{
-			// Someone's been silly and tried calling this page direct
-			// So we send them back to the start to do it again properly
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		// HTTP_HOST is having the correct browser url in most cases...
-		$server_name = (!empty($_SERVER['HTTP_HOST'])) ? strtolower($_SERVER['HTTP_HOST']) : ((!empty($_SERVER['SERVER_NAME'])) ? $_SERVER['SERVER_NAME'] : getenv('SERVER_NAME'));
-		$referer = (!empty($_SERVER['HTTP_REFERER'])) ? strtolower($_SERVER['HTTP_REFERER']) : getenv('HTTP_REFERER');
-
-		// HTTP HOST can carry a port number...
-		if (strpos($server_name, ':') !== false)
-		{
-			$server_name = substr($server_name, 0, strpos($server_name, ':'));
-		}
-
-		$cookie_domain = ($data['server_name'] != '') ? $data['server_name'] : $server_name;
-
-		// Try to come up with the best solution for cookie domain...
-		if (strpos($cookie_domain, 'www.') === 0)
-		{
-			$cookie_domain = str_replace('www.', '.', $cookie_domain);
-		}
-
-		// If we get here and the extension isn't loaded it should be safe to just go ahead and load it
-		$available_dbms = get_available_dbms($data['dbms']);
-
-		if (!isset($available_dbms[$data['dbms']]))
-		{
-			// Someone's been silly and tried providing a non-existant dbms
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		$dbms = $available_dbms[$data['dbms']]['DRIVER'];
-
-		// Load the appropriate database class if not already loaded
-		include($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-
-		// Instantiate the database
-		$db = new $sql_db();
-		$db->sql_connect($data['dbhost'], $data['dbuser'], htmlspecialchars_decode($data['dbpasswd']), $data['dbname'], $data['dbport'], false, false);
-
-		// NOTE: trigger_error does not work here.
-		$db->sql_return_on_error(true);
-
-		// If mysql is chosen, we need to adjust the schema filename slightly to reflect the correct version. ;)
-		if ($data['dbms'] == 'mysql')
-		{
-			if (version_compare($db->sql_server_info(true), '4.1.3', '>='))
-			{
-				$available_dbms[$data['dbms']]['SCHEMA'] .= '_41';
-			}
-			else
-			{
-				$available_dbms[$data['dbms']]['SCHEMA'] .= '_40';
-			}
-		}
-
-		// Ok we have the db info go ahead and read in the relevant schema
-		// and work on building the table
-		$dbms_schema = 'schemas/' . $available_dbms[$data['dbms']]['SCHEMA'] . '_schema.sql';
-
-		// How should we treat this schema?
-		$remove_remarks = $available_dbms[$data['dbms']]['COMMENTS'];
-		$delimiter = $available_dbms[$data['dbms']]['DELIM'];
-
-		$sql_query = @file_get_contents($dbms_schema);
-
-		$sql_query = preg_replace('#phpbb_#i', $data['table_prefix'], $sql_query);
-
-		$remove_remarks($sql_query);
-
-		$sql_query = split_sql_file($sql_query, $delimiter);
-
-		foreach ($sql_query as $sql)
-		{
-			//$sql = trim(str_replace('|', ';', $sql));
-			if (!$db->sql_query($sql))
-			{
-				$error = $db->sql_error();
-				$this->p_master->db_error($error['message'], $sql, __LINE__, __FILE__);
-			}
-		}
-		unset($sql_query);
-
-		// Ok tables have been built, let's fill in the basic information
-		$sql_query = file_get_contents('schemas/schema_data.sql');
-
-		// Deal with any special comments
-		switch ($data['dbms'])
-		{
-			case 'mssql':
-			case 'mssql_odbc':
-			case 'mssqlnative':
-				$sql_query = preg_replace('#\# MSSQL IDENTITY (phpbb_[a-z_]+) (ON|OFF) \##s', 'SET IDENTITY_INSERT \1 \2;', $sql_query);
-			break;
-
-			case 'postgres':
-				$sql_query = preg_replace('#\# POSTGRES (BEGIN|COMMIT) \##s', '\1; ', $sql_query);
-			break;
-		}
-
-		// Change prefix
-		$sql_query = preg_replace('# phpbb_([^\s]*) #i', ' ' . $data['table_prefix'] . '\1 ', $sql_query);
-
-		// Change language strings...
-		$sql_query = preg_replace_callback('#\{L_([A-Z0-9\-_]*)\}#s', 'adjust_language_keys_callback', $sql_query);
-
-		// Since there is only one schema file we know the comment style and are able to remove it directly with remove_remarks
-		remove_remarks($sql_query);
-		$sql_query = split_sql_file($sql_query, ';');
-
-		foreach ($sql_query as $sql)
-		{
-			//$sql = trim(str_replace('|', ';', $sql));
-			if (!$db->sql_query($sql))
-			{
-				$error = $db->sql_error();
-				$this->p_master->db_error($error['message'], $sql, __LINE__, __FILE__);
-			}
-		}
-		unset($sql_query);
-
-		$current_time = time();
-
-		$user_ip = (!empty($_SERVER['REMOTE_ADDR'])) ? htmlspecialchars($_SERVER['REMOTE_ADDR']) : '';
-		$user_ip = (stripos($user_ip, '::ffff:') === 0) ? substr($user_ip, 7) : $user_ip;
-
-		if ($data['script_path'] !== '/')
-		{
-			// Adjust destination path (no trailing slash)
-			if (substr($data['script_path'], -1) == '/')
-			{
-				$data['script_path'] = substr($data['script_path'], 0, -1);
-			}
-
-			$data['script_path'] = str_replace(array('../', './'), '', $data['script_path']);
-
-			if ($data['script_path'][0] != '/')
-			{
-				$data['script_path'] = '/' . $data['script_path'];
-			}
-		}
-
-		// Set default config and post data, this applies to all DB's
-		$sql_ary = array(
-			'INSERT INTO ' . $data['table_prefix'] . "config (config_name, config_value)
-				VALUES ('board_startdate', '$current_time')",
-
-			'INSERT INTO ' . $data['table_prefix'] . "config (config_name, config_value)
-				VALUES ('default_lang', '" . $db->sql_escape($data['default_lang']) . "')",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['img_imagick']) . "'
-				WHERE config_name = 'img_imagick'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['server_name']) . "'
-				WHERE config_name = 'server_name'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['server_port']) . "'
-				WHERE config_name = 'server_port'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['board_email1']) . "'
-				WHERE config_name = 'board_email'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['board_email1']) . "'
-				WHERE config_name = 'board_contact'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($cookie_domain) . "'
-				WHERE config_name = 'cookie_domain'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($lang['default_dateformat']) . "'
-				WHERE config_name = 'default_dateformat'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['email_enable']) . "'
-				WHERE config_name = 'email_enable'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['smtp_delivery']) . "'
-				WHERE config_name = 'smtp_delivery'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['smtp_host']) . "'
-				WHERE config_name = 'smtp_host'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['smtp_auth']) . "'
-				WHERE config_name = 'smtp_auth_method'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['smtp_user']) . "'
-				WHERE config_name = 'smtp_username'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['smtp_pass']) . "'
-				WHERE config_name = 'smtp_password'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['cookie_secure']) . "'
-				WHERE config_name = 'cookie_secure'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['force_server_vars']) . "'
-				WHERE config_name = 'force_server_vars'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['script_path']) . "'
-				WHERE config_name = 'script_path'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['server_protocol']) . "'
-				WHERE config_name = 'server_protocol'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($data['admin_name']) . "'
-				WHERE config_name = 'newest_username'",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . md5(mt_rand()) . "'
-				WHERE config_name = 'avatar_salt'",
-
-			'UPDATE ' . $data['table_prefix'] . "users
-				SET username = '" . $db->sql_escape($data['admin_name']) . "', user_password='" . $db->sql_escape(md5($data['admin_pass1'])) . "', user_ip = '" . $db->sql_escape($user_ip) . "', user_lang = '" . $db->sql_escape($data['default_lang']) . "', user_email='" . $db->sql_escape($data['board_email1']) . "', user_dateformat='" . $db->sql_escape($lang['default_dateformat']) . "', user_email_hash = " . $db->sql_escape(phpbb_email_hash($data['board_email1'])) . ", username_clean = '" . $db->sql_escape(utf8_clean_string($data['admin_name'])) . "'
-				WHERE username = 'Admin'",
-
-			'UPDATE ' . $data['table_prefix'] . "moderator_cache
-				SET username = '" . $db->sql_escape($data['admin_name']) . "'
-				WHERE username = 'Admin'",
-
-			'UPDATE ' . $data['table_prefix'] . "forums
-				SET forum_last_poster_name = '" . $db->sql_escape($data['admin_name']) . "'
-				WHERE forum_last_poster_name = 'Admin'",
-
-			'UPDATE ' . $data['table_prefix'] . "topics
-				SET topic_first_poster_name = '" . $db->sql_escape($data['admin_name']) . "', topic_last_poster_name = '" . $db->sql_escape($data['admin_name']) . "'
-				WHERE topic_first_poster_name = 'Admin'
-					OR topic_last_poster_name = 'Admin'",
-
-			'UPDATE ' . $data['table_prefix'] . "users
-				SET user_regdate = $current_time",
-
-			'UPDATE ' . $data['table_prefix'] . "posts
-				SET post_time = $current_time, poster_ip = '" . $db->sql_escape($user_ip) . "'",
-
-			'UPDATE ' . $data['table_prefix'] . "topics
-				SET topic_time = $current_time, topic_last_post_time = $current_time",
-
-			'UPDATE ' . $data['table_prefix'] . "forums
-				SET forum_last_post_time = $current_time",
-
-			'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '" . $db->sql_escape($db->sql_server_info(true)) . "'
-				WHERE config_name = 'dbms_version'",
-		);
-
-		if (@extension_loaded('gd') || can_load_dll('gd'))
-		{
-			$sql_ary[] = 'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = 'phpbb_captcha_gd'
-				WHERE config_name = 'captcha_plugin'";
-
-			$sql_ary[] = 'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '1'
-				WHERE config_name = 'captcha_gd'";
-		}
-
-		$ref = substr($referer, strpos($referer, '://') + 3);
-
-		if (!(stripos($ref, $server_name) === 0))
-		{
-			$sql_ary[] = 'UPDATE ' . $data['table_prefix'] . "config
-				SET config_value = '0'
-				WHERE config_name = 'referer_validation'";
-		}
-
-		// We set a (semi-)unique cookie name to bypass login issues related to the cookie name.
-		$cookie_name = 'phpbb3_';
-		$rand_str = md5(mt_rand());
-		$rand_str = str_replace('0', 'z', base_convert($rand_str, 16, 35));
-		$rand_str = substr($rand_str, 0, 5);
-		$cookie_name .= strtolower($rand_str);
-
-		$sql_ary[] = 'UPDATE ' . $data['table_prefix'] . "config
-			SET config_value = '" . $db->sql_escape($cookie_name) . "'
-			WHERE config_name = 'cookie_name'";
-
-		foreach ($sql_ary as $sql)
-		{
-			//$sql = trim(str_replace('|', ';', $sql));
-
-			if (!$db->sql_query($sql))
-			{
-				$error = $db->sql_error();
-				$this->p_master->db_error($error['message'], $sql, __LINE__, __FILE__);
-			}
-		}
-
-		$submit = $lang['NEXT_STEP'];
-
-		$url = $this->p_master->module_url . "?mode=$mode&amp;sub=final";
-
-		$template->assign_vars(array(
-			'BODY'		=> $lang['STAGE_CREATE_TABLE_EXPLAIN'],
-			'L_SUBMIT'	=> $submit,
-			'S_HIDDEN'	=> build_hidden_fields($data),
-			'U_ACTION'	=> $url,
-		));
-	}
-
-	/**
-	* Build the search index...
-	*/
-	function build_search_index($mode, $sub)
-	{
-		global $db, $lang, $phpbb_root_path, $phpEx, $config;
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-		$table_prefix = $data['table_prefix'];
-
-		// If we get here and the extension isn't loaded it should be safe to just go ahead and load it
-		$available_dbms = get_available_dbms($data['dbms']);
-
-		if (!isset($available_dbms[$data['dbms']]))
-		{
-			// Someone's been silly and tried providing a non-existant dbms
-			$this->p_master->redirect("index.$phpEx?mode=install");
-		}
-
-		$dbms = $available_dbms[$data['dbms']]['DRIVER'];
-
-		// Load the appropriate database class if not already loaded
-		include($phpbb_root_path . 'includes/db/' . $dbms . '.' . $phpEx);
-
-		// Instantiate the database
-		$db = new $sql_db();
-		$db->sql_connect($data['dbhost'], $data['dbuser'], htmlspecialchars_decode($data['dbpasswd']), $data['dbname'], $data['dbport'], false, false);
-
-		// NOTE: trigger_error does not work here.
-		$db->sql_return_on_error(true);
-
-		include_once($phpbb_root_path . 'includes/constants.' . $phpEx);
-		include_once($phpbb_root_path . 'includes/search/fulltext_native.' . $phpEx);
-
-		// Fill the config array - it is needed by those functions we call
-		$sql = 'SELECT *
-			FROM ' . CONFIG_TABLE;
-		$result = $db->sql_query($sql);
-
-		$config = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$config[$row['config_name']] = $row['config_value'];
-		}
-		$db->sql_freeresult($result);
-
-		$error = false;
-		$search = new fulltext_native($error);
-
-		$sql = 'SELECT post_id, post_subject, post_text, poster_id, forum_id
-			FROM ' . POSTS_TABLE;
-		$result = $db->sql_query($sql);
-
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$search->index('post', $row['post_id'], $row['post_text'], $row['post_subject'], $row['poster_id'], $row['forum_id']);
-		}
-		$db->sql_freeresult($result);
-	}
-
-	/**
-	* Populate the module tables
-	*/
-	function add_modules($mode, $sub)
-	{
-		global $db, $lang, $phpbb_root_path, $phpEx;
-
-		include_once($phpbb_root_path . 'includes/acp/acp_modules.' . $phpEx);
-
-		$_module = new acp_modules();
-		$module_classes = array('acp', 'mcp', 'ucp');
-
-		// Add categories
-		foreach ($module_classes as $module_class)
-		{
-			$categories = array();
-
-			// Set the module class
-			$_module->module_class = $module_class;
-
-			foreach ($this->module_categories[$module_class] as $cat_name => $subs)
-			{
-				$module_data = array(
-					'module_basename'	=> '',
-					'module_enabled'	=> 1,
-					'module_display'	=> 1,
-					'parent_id'			=> 0,
-					'module_class'		=> $module_class,
-					'module_langname'	=> $cat_name,
-					'module_mode'		=> '',
-					'module_auth'		=> '',
-				);
-
-				// Add category
-				$_module->update_module_data($module_data, true);
-
-				// Check for last sql error happened
-				if ($db->sql_error_triggered)
-				{
-					$error = $db->sql_error($db->sql_error_sql);
-					$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-				}
-
-				$categories[$cat_name]['id'] = (int) $module_data['module_id'];
-				$categories[$cat_name]['parent_id'] = 0;
-
-				// Create sub-categories...
-				if (is_array($subs))
-				{
-					foreach ($subs as $level2_name)
-					{
-						$module_data = array(
-							'module_basename'	=> '',
-							'module_enabled'	=> 1,
-							'module_display'	=> 1,
-							'parent_id'			=> (int) $categories[$cat_name]['id'],
-							'module_class'		=> $module_class,
-							'module_langname'	=> $level2_name,
-							'module_mode'		=> '',
-							'module_auth'		=> '',
-						);
-
-						$_module->update_module_data($module_data, true);
-
-						// Check for last sql error happened
-						if ($db->sql_error_triggered)
-						{
-							$error = $db->sql_error($db->sql_error_sql);
-							$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-						}
-
-						$categories[$level2_name]['id'] = (int) $module_data['module_id'];
-						$categories[$level2_name]['parent_id'] = (int) $categories[$cat_name]['id'];
-					}
-				}
-			}
-
-			// Get the modules we want to add... returned sorted by name
-			$module_info = $_module->get_module_infos('', $module_class);
-
-			foreach ($module_info as $module_basename => $fileinfo)
-			{
-				foreach ($fileinfo['modes'] as $module_mode => $row)
-				{
-					foreach ($row['cat'] as $cat_name)
-					{
-						if (!isset($categories[$cat_name]))
-						{
-							continue;
-						}
-
-						$module_data = array(
-							'module_basename'	=> $module_basename,
-							'module_enabled'	=> 1,
-							'module_display'	=> (isset($row['display'])) ? (int) $row['display'] : 1,
-							'parent_id'			=> (int) $categories[$cat_name]['id'],
-							'module_class'		=> $module_class,
-							'module_langname'	=> $row['title'],
-							'module_mode'		=> $module_mode,
-							'module_auth'		=> $row['auth'],
-						);
-
-						$_module->update_module_data($module_data, true);
-
-						// Check for last sql error happened
-						if ($db->sql_error_triggered)
-						{
-							$error = $db->sql_error($db->sql_error_sql);
-							$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-						}
-					}
-				}
-			}
-
-			// Move some of the modules around since the code above will put them in the wrong place
-			if ($module_class == 'acp')
-			{
-				// Move main module 4 up...
-				$sql = 'SELECT *
-					FROM ' . MODULES_TABLE . "
-					WHERE module_basename = 'main'
-						AND module_class = 'acp'
-						AND module_mode = 'main'";
-				$result = $db->sql_query($sql);
-				$row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				$_module->move_module_by($row, 'move_up', 4);
-
-				// Move permissions intro screen module 4 up...
-				$sql = 'SELECT *
-					FROM ' . MODULES_TABLE . "
-					WHERE module_basename = 'permissions'
-						AND module_class = 'acp'
-						AND module_mode = 'intro'";
-				$result = $db->sql_query($sql);
-				$row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				$_module->move_module_by($row, 'move_up', 4);
-
-				// Move manage users screen module 5 up...
-				$sql = 'SELECT *
-					FROM ' . MODULES_TABLE . "
-					WHERE module_basename = 'users'
-						AND module_class = 'acp'
-						AND module_mode = 'overview'";
-				$result = $db->sql_query($sql);
-				$row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				$_module->move_module_by($row, 'move_up', 5);
-			}
-
-			if ($module_class == 'ucp')
-			{
-				// Move attachment module 4 down...
-				$sql = 'SELECT *
-					FROM ' . MODULES_TABLE . "
-					WHERE module_basename = 'attachments'
-						AND module_class = 'ucp'
-						AND module_mode = 'attachments'";
-				$result = $db->sql_query($sql);
-				$row = $db->sql_fetchrow($result);
-				$db->sql_freeresult($result);
-
-				$_module->move_module_by($row, 'move_down', 4);
-			}
-
-			// And now for the special ones
-			// (these are modules which appear in multiple categories and thus get added manually to some for more control)
-			if (isset($this->module_extras[$module_class]))
-			{
-				foreach ($this->module_extras[$module_class] as $cat_name => $mods)
-				{
-					$sql = 'SELECT module_id, left_id, right_id
-						FROM ' . MODULES_TABLE . "
-						WHERE module_langname = '" . $db->sql_escape($cat_name) . "'
-							AND module_class = '" . $db->sql_escape($module_class) . "'";
-					$result = $db->sql_query_limit($sql, 1);
-					$row2 = $db->sql_fetchrow($result);
-					$db->sql_freeresult($result);
-
-					foreach ($mods as $mod_name)
-					{
-						$sql = 'SELECT *
-							FROM ' . MODULES_TABLE . "
-							WHERE module_langname = '" . $db->sql_escape($mod_name) . "'
-								AND module_class = '" . $db->sql_escape($module_class) . "'
-								AND module_basename <> ''";
-						$result = $db->sql_query_limit($sql, 1);
-						$row = $db->sql_fetchrow($result);
-						$db->sql_freeresult($result);
-
-						$module_data = array(
-							'module_basename'	=> $row['module_basename'],
-							'module_enabled'	=> (int) $row['module_enabled'],
-							'module_display'	=> (int) $row['module_display'],
-							'parent_id'			=> (int) $row2['module_id'],
-							'module_class'		=> $row['module_class'],
-							'module_langname'	=> $row['module_langname'],
-							'module_mode'		=> $row['module_mode'],
-							'module_auth'		=> $row['module_auth'],
-						);
-
-						$_module->update_module_data($module_data, true);
-
-						// Check for last sql error happened
-						if ($db->sql_error_triggered)
-						{
-							$error = $db->sql_error($db->sql_error_sql);
-							$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-						}
-					}
-				}
-			}
-
-			$_module->remove_cache_file();
-		}
-	}
-
-	/**
-	* Populate the language tables
-	*/
-	function add_language($mode, $sub)
-	{
-		global $db, $lang, $phpbb_root_path, $phpEx;
-
-		$dir = @opendir($phpbb_root_path . 'language');
-
-		if (!$dir)
-		{
-			$this->error('Unable to access the language directory', __LINE__, __FILE__);
-		}
-
-		while (($file = readdir($dir)) !== false)
-		{
-			$path = $phpbb_root_path . 'language/' . $file;
-
-			if ($file == '.' || $file == '..' || is_link($path) || is_file($path) || $file == 'CVS')
-			{
-				continue;
-			}
-
-			if (is_dir($path) && file_exists($path . '/iso.txt'))
-			{
-				$lang_file = file("$path/iso.txt");
-
-				$lang_pack = array(
-					'lang_iso'			=> basename($path),
-					'lang_dir'			=> basename($path),
-					'lang_english_name'	=> trim(htmlspecialchars($lang_file[0])),
-					'lang_local_name'	=> trim(htmlspecialchars($lang_file[1], ENT_COMPAT, 'UTF-8')),
-					'lang_author'		=> trim(htmlspecialchars($lang_file[2], ENT_COMPAT, 'UTF-8')),
-				);
-
-				$db->sql_query('INSERT INTO ' . LANG_TABLE . ' ' . $db->sql_build_array('INSERT', $lang_pack));
-
-				if ($db->sql_error_triggered)
-				{
-					$error = $db->sql_error($db->sql_error_sql);
-					$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-				}
-
-				$valid_localized = array(
-					'icon_back_top', 'icon_contact_aim', 'icon_contact_email', 'icon_contact_icq', 'icon_contact_jabber', 'icon_contact_msnm', 'icon_contact_pm', 'icon_contact_yahoo', 'icon_contact_www', 'icon_post_delete', 'icon_post_edit', 'icon_post_info', 'icon_post_quote', 'icon_post_report', 'icon_user_online', 'icon_user_offline', 'icon_user_profile', 'icon_user_search', 'icon_user_warn', 'button_pm_forward', 'button_pm_new', 'button_pm_reply', 'button_topic_locked', 'button_topic_new', 'button_topic_reply',
-				);
-
-				$sql_ary = array();
-
-				$sql = 'SELECT *
-					FROM ' . STYLES_IMAGESET_TABLE;
-				$result = $db->sql_query($sql);
-
-				while ($imageset_row = $db->sql_fetchrow($result))
-				{
-					if (@file_exists("{$phpbb_root_path}styles/{$imageset_row['imageset_path']}/imageset/{$lang_pack['lang_iso']}/imageset.cfg"))
-					{
-						$cfg_data_imageset_data = parse_cfg_file("{$phpbb_root_path}styles/{$imageset_row['imageset_path']}/imageset/{$lang_pack['lang_iso']}/imageset.cfg");
-						foreach ($cfg_data_imageset_data as $image_name => $value)
-						{
-							if (strpos($value, '*') !== false)
-							{
-								if (substr($value, -1, 1) === '*')
-								{
-									list($image_filename, $image_height) = explode('*', $value);
-									$image_width = 0;
-								}
-								else
-								{
-									list($image_filename, $image_height, $image_width) = explode('*', $value);
-								}
-							}
-							else
-							{
-								$image_filename = $value;
-								$image_height = $image_width = 0;
-							}
-
-							if (strpos($image_name, 'img_') === 0 && $image_filename)
-							{
-								$image_name = substr($image_name, 4);
-								if (in_array($image_name, $valid_localized))
-								{
-									$sql_ary[] = array(
-										'image_name'		=> (string) $image_name,
-										'image_filename'	=> (string) $image_filename,
-										'image_height'		=> (int) $image_height,
-										'image_width'		=> (int) $image_width,
-										'imageset_id'		=> (int) $imageset_row['imageset_id'],
-										'image_lang'		=> (string) $lang_pack['lang_iso'],
-									);
-								}
-							}
-						}
-					}
-				}
-				$db->sql_freeresult($result);
-
-				if (sizeof($sql_ary))
-				{
-					$db->sql_multi_insert(STYLES_IMAGESET_DATA_TABLE, $sql_ary);
-
-					if ($db->sql_error_triggered)
-					{
-						$error = $db->sql_error($db->sql_error_sql);
-						$this->p_master->db_error($error['message'], $db->sql_error_sql, __LINE__, __FILE__);
-					}
-				}
-			}
-		}
-		closedir($dir);
-	}
-
-	/**
-	* Add search robots to the database
-	*/
-	function add_bots($mode, $sub)
-	{
-		global $db, $lang, $phpbb_root_path, $phpEx, $config;
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		// Fill the config array - it is needed by those functions we call
-		$sql = 'SELECT *
-			FROM ' . CONFIG_TABLE;
-		$result = $db->sql_query($sql);
-
-		$config = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$config[$row['config_name']] = $row['config_value'];
-		}
-		$db->sql_freeresult($result);
-
-		$sql = 'SELECT group_id
-			FROM ' . GROUPS_TABLE . "
-			WHERE group_name = 'BOTS'";
-		$result = $db->sql_query($sql);
-		$group_id = (int) $db->sql_fetchfield('group_id');
-		$db->sql_freeresult($result);
-
-		if (!$group_id)
-		{
-			// If we reach this point then something has gone very wrong
-			$this->p_master->error($lang['NO_GROUP'], __LINE__, __FILE__);
-		}
-
-		if (!function_exists('user_add'))
-		{
-			include($phpbb_root_path . 'includes/functions_user.' . $phpEx);
-		}
-
-		foreach ($this->bot_list as $bot_name => $bot_ary)
-		{
-			$user_row = array(
-				'user_type'				=> USER_IGNORE,
-				'group_id'				=> $group_id,
-				'username'				=> $bot_name,
-				'user_regdate'			=> time(),
-				'user_password'			=> '',
-				'user_colour'			=> '9E8DA7',
-				'user_email'			=> '',
-				'user_lang'				=> $data['default_lang'],
-				'user_style'			=> 1,
-				'user_timezone'			=> 0,
-				'user_dateformat'		=> $lang['default_dateformat'],
-				'user_allow_massemail'	=> 0,
-			);
-
-			$user_id = user_add($user_row);
-
-			if (!$user_id)
-			{
-				// If we can't insert this user then continue to the next one to avoid inconsistent data
-				$this->p_master->db_error('Unable to insert bot into users table', $db->sql_error_sql, __LINE__, __FILE__, true);
-				continue;
-			}
-
-			$sql = 'INSERT INTO ' . BOTS_TABLE . ' ' . $db->sql_build_array('INSERT', array(
-				'bot_active'	=> 1,
-				'bot_name'		=> (string) $bot_name,
-				'user_id'		=> (int) $user_id,
-				'bot_agent'		=> (string) $bot_ary[0],
-				'bot_ip'		=> (string) $bot_ary[1],
-			));
-
-			$result = $db->sql_query($sql);
-		}
-	}
-
-	/**
-	* Sends an email to the board administrator with their password and some useful links
-	*/
-	function email_admin($mode, $sub)
-	{
-		global $auth, $config, $db, $lang, $template, $user, $phpbb_root_path, $phpEx;
-
-		$this->page_title = $lang['STAGE_FINAL'];
-
-		// Obtain any submitted data
-		$data = $this->get_submitted_data();
-
-		$sql = 'SELECT *
-			FROM ' . CONFIG_TABLE;
-		$result = $db->sql_query($sql);
-
-		$config = array();
-		while ($row = $db->sql_fetchrow($result))
-		{
-			$config[$row['config_name']] = $row['config_value'];
-		}
-		$db->sql_freeresult($result);
-
-		$user->session_begin();
-		$auth->login($data['admin_name'], $data['admin_pass1'], false, true, true);
-
-		// OK, Now that we've reached this point we can be confident that everything
-		// is installed and working......I hope :)
-		// So it's time to send an email to the administrator confirming the details
-		// they entered
-
-		if ($config['email_enable'])
-		{
-			include_once($phpbb_root_path . 'includes/functions_messenger.' . $phpEx);
-
-			$messenger = new messenger(false);
-
-			$messenger->template('installed', $data['language']);
-
-			$messenger->to($data['board_email1'], $data['admin_name']);
-
-			$messenger->headers('X-AntiAbuse: Board servername - ' . $config['server_name']);
-			$messenger->headers('X-AntiAbuse: User_id - ' . $user->data['user_id']);
-			$messenger->headers('X-AntiAbuse: Username - ' . $user->data['username']);
-			$messenger->headers('X-AntiAbuse: User IP - ' . $user->ip);
-
-			$messenger->assign_vars(array(
-				'USERNAME'		=> htmlspecialchars_decode($data['admin_name']),
-				'PASSWORD'		=> htmlspecialchars_decode($data['admin_pass1']))
-			);
-
-			$messenger->send(NOTIFY_EMAIL);
-		}
-
-		// And finally, add a note to the log
-		add_log('admin', 'LOG_INSTALL_INSTALLED', $config['version']);
-
-		$template->assign_vars(array(
-			'TITLE'		=> $lang['INSTALL_CONGRATS'],
-			'BODY'		=> sprintf($lang['INSTALL_CONGRATS_EXPLAIN'], $config['version'], append_sid($phpbb_root_path . 'install/index.' . $phpEx, 'mode=convert&amp;language=' . $data['language']), '../docs/README.html'),
-			'L_SUBMIT'	=> $lang['INSTALL_LOGIN'],
-			'U_ACTION'	=> append_sid($phpbb_root_path . 'adm/index.' . $phpEx, 'i=send_statistics&amp;mode=send_statistics'),
-		));
-	}
-
-	/**
-	* Generate a list of available mail server authentication methods
-	*/
-	function mail_auth_select($selected_method)
-	{
-		global $lang;
-
-		$auth_methods = array('PLAIN', 'LOGIN', 'CRAM-MD5', 'DIGEST-MD5', 'POP-BEFORE-SMTP');
-		$s_smtp_auth_options = '';
-
-		foreach ($auth_methods as $method)
-		{
-			$s_smtp_auth_options .= '<option value="' . $method . '"' . (($selected_method == $method) ? ' selected="selected"' : '') . '>' . $lang['SMTP_' . str_replace('-', '_', $method)] . '</option>';
-		}
-
-		return $s_smtp_auth_options;
-	}
-
-	/**
-	* Get submitted data
-	*/
-	function get_submitted_data()
-	{
-		return array(
-			'language'		=> basename(request_var('language', '')),
-			'dbms'			=> request_var('dbms', ''),
-			'dbhost'		=> request_var('dbhost', ''),
-			'dbport'		=> request_var('dbport', ''),
-			'dbuser'		=> request_var('dbuser', ''),
-			'dbpasswd'		=> request_var('dbpasswd', '', true),
-			'dbname'		=> request_var('dbname', ''),
-			'table_prefix'	=> request_var('table_prefix', ''),
-			'default_lang'	=> basename(request_var('default_lang', '')),
-			'admin_name'	=> utf8_normalize_nfc(request_var('admin_name', '', true)),
-			'admin_pass1'	=> request_var('admin_pass1', '', true),
-			'admin_pass2'	=> request_var('admin_pass2', '', true),
-			'board_email1'	=> strtolower(request_var('board_email1', '')),
-			'board_email2'	=> strtolower(request_var('board_email2', '')),
-			'img_imagick'	=> request_var('img_imagick', ''),
-			'ftp_path'		=> request_var('ftp_path', ''),
-			'ftp_user'		=> request_var('ftp_user', ''),
-			'ftp_pass'		=> request_var('ftp_pass', ''),
-			'email_enable'	=> request_var('email_enable', ''),
-			'smtp_delivery'	=> request_var('smtp_delivery', ''),
-			'smtp_host'		=> request_var('smtp_host', ''),
-			'smtp_auth'		=> request_var('smtp_auth', ''),
-			'smtp_user'		=> request_var('smtp_user', ''),
-			'smtp_pass'		=> request_var('smtp_pass', ''),
-			'cookie_secure'	=> request_var('cookie_secure', ''),
-			'force_server_vars'	=> request_var('force_server_vars', ''),
-			'server_protocol'	=> request_var('server_protocol', ''),
-			'server_name'	=> request_var('server_name', ''),
-			'server_port'	=> request_var('server_port', ''),
-			'script_path'	=> request_var('script_path', ''),
-		);
-	}
-
-	/**
-	* The information below will be used to build the input fields presented to the user
-	*/
-	var $db_config_options = array(
-		'legend1'				=> 'DB_CONFIG',
-		'dbms'					=> array('lang' => 'DBMS',			'type' => 'select', 'options' => 'dbms_select(\'{VALUE}\')', 'explain' => false),
-		'dbhost'				=> array('lang' => 'DB_HOST',		'type' => 'text:25:100', 'explain' => true),
-		'dbport'				=> array('lang' => 'DB_PORT',		'type' => 'text:25:100', 'explain' => true),
-		'dbname'				=> array('lang' => 'DB_NAME',		'type' => 'text:25:100', 'explain' => false),
-		'dbuser'				=> array('lang' => 'DB_USERNAME',	'type' => 'text:25:100', 'explain' => false),
-		'dbpasswd'				=> array('lang' => 'DB_PASSWORD',	'type' => 'password:25:100', 'explain' => false),
-		'table_prefix'			=> array('lang' => 'TABLE_PREFIX',	'type' => 'text:25:100', 'explain' => false),
-	);
-	var $admin_config_options = array(
-		'legend1'				=> 'ADMIN_CONFIG',
-		'default_lang'			=> array('lang' => 'DEFAULT_LANG',				'type' => 'select', 'options' => '$this->module->inst_language_select(\'{VALUE}\')', 'explain' => false),
-		'admin_name'			=> array('lang' => 'ADMIN_USERNAME',			'type' => 'text:25:100', 'explain' => true),
-		'admin_pass1'			=> array('lang' => 'ADMIN_PASSWORD',			'type' => 'password:25:100', 'explain' => true),
-		'admin_pass2'			=> array('lang' => 'ADMIN_PASSWORD_CONFIRM',	'type' => 'password:25:100', 'explain' => false),
-		'board_email1'			=> array('lang' => 'CONTACT_EMAIL',				'type' => 'text:25:100', 'explain' => false),
-		'board_email2'			=> array('lang' => 'CONTACT_EMAIL_CONFIRM',		'type' => 'text:25:100', 'explain' => false),
-	);
-	var $advanced_config_options = array(
-		'legend1'				=> 'ACP_EMAIL_SETTINGS',
-		'email_enable'			=> array('lang' => 'ENABLE_EMAIL',		'type' => 'radio:enabled_disabled', 'explain' => true),
-		'smtp_delivery'			=> array('lang' => 'USE_SMTP',			'type' => 'radio:yes_no', 'explain' => true),
-		'smtp_host'				=> array('lang' => 'SMTP_SERVER',		'type' => 'text:25:50', 'explain' => false),
-		'smtp_auth'				=> array('lang' => 'SMTP_AUTH_METHOD',	'type' => 'select', 'options' => '$this->module->mail_auth_select(\'{VALUE}\')', 'explain' => true),
-		'smtp_user'				=> array('lang' => 'SMTP_USERNAME',		'type' => 'text:25:255', 'explain' => true),
-		'smtp_pass'				=> array('lang' => 'SMTP_PASSWORD',		'type' => 'password:25:255', 'explain' => true),
-
-		'legend2'				=> 'SERVER_URL_SETTINGS',
-		'cookie_secure'			=> array('lang' => 'COOKIE_SECURE',		'type' => 'radio:enabled_disabled', 'explain' => true),
-		'force_server_vars'		=> array('lang' => 'FORCE_SERVER_VARS',	'type' => 'radio:yes_no', 'explain' => true),
-		'server_protocol'		=> array('lang' => 'SERVER_PROTOCOL',	'type' => 'text:10:10', 'explain' => true),
-		'server_name'			=> array('lang' => 'SERVER_NAME',		'type' => 'text:40:255', 'explain' => true),
-		'server_port'			=> array('lang' => 'SERVER_PORT',		'type' => 'text:5:5', 'explain' => true),
-		'script_path'			=> array('lang' => 'SCRIPT_PATH',		'type' => 'text::255', 'explain' => true),
-	);
-
-	/**
-	* Specific PHP modules we may require for certain optional or extended features
-	*/
-	var $php_dlls_other = array('zlib', 'ftp', 'gd', 'xml');
-
-	/**
-	* A list of the web-crawlers/bots we recognise by default
-	*
-	* Candidates but not included:
-	* 'Accoona [Bot]'				'Accoona-AI-Agent/'
-	* 'ASPseek [Crawler]'			'ASPseek/'
-	* 'Boitho [Crawler]'			'boitho.com-dc/'
-	* 'Bunnybot [Bot]'				'powered by www.buncat.de'
-	* 'Cosmix [Bot]'				'cfetch/'
-	* 'Crawler Search [Crawler]'	'.Crawler-Search.de'
-	* 'Findexa [Crawler]'			'Findexa Crawler ('
-	* 'GBSpider [Spider]'			'GBSpider v'
-	* 'genie [Bot]'					'genieBot ('
-	* 'Hogsearch [Bot]'				'oegp v. 1.3.0'
-	* 'Insuranco [Bot]'				'InsurancoBot'
-	* 'IRLbot [Bot]'				'http://irl.cs.tamu.edu/crawler'
-	* 'ISC Systems [Bot]'			'ISC Systems iRc Search'
-	* 'Jyxobot [Bot]'				'Jyxobot/'
-	* 'Kraehe [Metasuche]'			'-DIE-KRAEHE- META-SEARCH-ENGINE/'
-	* 'LinkWalker'					'LinkWalker'
-	* 'MMSBot [Bot]'				'http://www.mmsweb.at/bot.html'
-	* 'Naver [Bot]'					'nhnbot@naver.com)'
-	* 'NetResearchServer'			'NetResearchServer/'
-	* 'Nimble [Crawler]'			'NimbleCrawler'
-	* 'Ocelli [Bot]'				'Ocelli/'
-	* 'Onsearch [Bot]'				'onCHECK-Robot'
-	* 'Orange [Spider]'				'OrangeSpider'
-	* 'Sproose [Bot]'				'http://www.sproose.com/bot'
-	* 'Susie [Sync]'				'!Susie (http://www.sync2it.com/susie)'
-	* 'Tbot [Bot]'					'Tbot/'
-	* 'Thumbshots [Capture]'		'thumbshots-de-Bot'
-	* 'Vagabondo [Crawler]'			'http://webagent.wise-guys.nl/'
-	* 'Walhello [Bot]'				'appie 1.1 (www.walhello.com)'
-	* 'WissenOnline [Bot]'			'WissenOnline-Bot'
-	* 'WWWeasel [Bot]'				'WWWeasel Robot v'
-	* 'Xaldon [Spider]'				'Xaldon WebSpider'
-	*/
-	var $bot_list = array(
-		'AdsBot [Google]'			=> array('AdsBot-Google', ''),
-		'Alexa [Bot]'				=> array('ia_archiver', ''),
-		'Alta Vista [Bot]'			=> array('Scooter/', ''),
-		'Ask Jeeves [Bot]'			=> array('Ask Jeeves', ''),
-		'Baidu [Spider]'			=> array('Baiduspider+(', ''),
-		'Bing [Bot]'                => array('bingbot/', ''),
-		'Exabot [Bot]'				=> array('Exabot/', ''),
-		'FAST Enterprise [Crawler]'	=> array('FAST Enterprise Crawler', ''),
-		'FAST WebCrawler [Crawler]'	=> array('FAST-WebCrawler/', ''),
-		'Francis [Bot]'				=> array('http://www.neomo.de/', ''),
-		'Gigabot [Bot]'				=> array('Gigabot/', ''),
-		'Google Adsense [Bot]'		=> array('Mediapartners-Google', ''),
-		'Google Desktop'			=> array('Google Desktop', ''),
-		'Google Feedfetcher'		=> array('Feedfetcher-Google', ''),
-		'Google [Bot]'				=> array('Googlebot', ''),
-		'Heise IT-Markt [Crawler]'	=> array('heise-IT-Markt-Crawler', ''),
-		'Heritrix [Crawler]'		=> array('heritrix/1.', ''),
-		'IBM Research [Bot]'		=> array('ibm.com/cs/crawler', ''),
-		'ICCrawler - ICjobs'		=> array('ICCrawler - ICjobs', ''),
-		'ichiro [Crawler]'			=> array('ichiro/', ''),
-		'Majestic-12 [Bot]'			=> array('MJ12bot/', ''),
-		'Metager [Bot]'				=> array('MetagerBot/', ''),
-		'MSN NewsBlogs'				=> array('msnbot-NewsBlogs/', ''),
-		'MSN [Bot]'					=> array('msnbot/', ''),
-		'MSNbot Media'				=> array('msnbot-media/', ''),
-		'NG-Search [Bot]'			=> array('NG-Search/', ''),
-		'Nutch [Bot]'				=> array('http://lucene.apache.org/nutch/', ''),
-		'Nutch/CVS [Bot]'			=> array('NutchCVS/', ''),
-		'OmniExplorer [Bot]'		=> array('OmniExplorer_Bot/', ''),
-		'Online link [Validator]'	=> array('online link validator', ''),
-		'psbot [Picsearch]'			=> array('psbot/0', ''),
-		'Seekport [Bot]'			=> array('Seekbot/', ''),
-		'Sensis [Crawler]'			=> array('Sensis Web Crawler', ''),
-		'SEO Crawler'				=> array('SEO search Crawler/', ''),
-		'Seoma [Crawler]'			=> array('Seoma [SEO Crawler]', ''),
-		'SEOSearch [Crawler]'		=> array('SEOsearch/', ''),
-		'Snappy [Bot]'				=> array('Snappy/1.1 ( http://www.urltrends.com/ )', ''),
-		'Steeler [Crawler]'			=> array('http://www.tkl.iis.u-tokyo.ac.jp/~crawler/', ''),
-		'Synoo [Bot]'				=> array('SynooBot/', ''),
-		'Telekom [Bot]'				=> array('crawleradmin.t-info@telekom.de', ''),
-		'TurnitinBot [Bot]'			=> array('TurnitinBot/', ''),
-		'Voyager [Bot]'				=> array('voyager/1.0', ''),
-		'W3 [Sitesearch]'			=> array('W3 SiteSearch Crawler', ''),
-		'W3C [Linkcheck]'			=> array('W3C-checklink/', ''),
-		'W3C [Validator]'			=> array('W3C_*Validator', ''),
-		'WiseNut [Bot]'				=> array('http://www.WISEnutbot.com', ''),
-		'YaCy [Bot]'				=> array('yacybot', ''),
-		'Yahoo MMCrawler [Bot]'		=> array('Yahoo-MMCrawler/', ''),
-		'Yahoo Slurp [Bot]'			=> array('Yahoo! DE Slurp', ''),
-		'Yahoo [Bot]'				=> array('Yahoo! Slurp', ''),
-		'YahooSeeker [Bot]'			=> array('YahooSeeker/', ''),
-	);
-
-	/**
-	* Define the module structure so that we can populate the database without
-	* needing to hard-code module_id values
-	*/
-	var $module_categories = array(
-		'acp'	=> array(
-			'ACP_CAT_GENERAL'		=> array(
-				'ACP_QUICK_ACCESS',
-				'ACP_BOARD_CONFIGURATION',
-				'ACP_CLIENT_COMMUNICATION',
-				'ACP_SERVER_CONFIGURATION',
-			),
-			'ACP_CAT_FORUMS'		=> array(
-				'ACP_MANAGE_FORUMS',
-				'ACP_FORUM_BASED_PERMISSIONS',
-			),
-			'ACP_CAT_POSTING'		=> array(
-				'ACP_MESSAGES',
-				'ACP_ATTACHMENTS',
-			),
-			'ACP_CAT_USERGROUP'		=> array(
-				'ACP_CAT_USERS',
-				'ACP_GROUPS',
-				'ACP_USER_SECURITY',
-			),
-			'ACP_CAT_PERMISSIONS'	=> array(
-				'ACP_GLOBAL_PERMISSIONS',
-				'ACP_FORUM_BASED_PERMISSIONS',
-				'ACP_PERMISSION_ROLES',
-				'ACP_PERMISSION_MASKS',
-			),
-			'ACP_CAT_STYLES'		=> array(
-				'ACP_STYLE_MANAGEMENT',
-				'ACP_STYLE_COMPONENTS',
-			),
-			'ACP_CAT_MAINTENANCE'	=> array(
-				'ACP_FORUM_LOGS',
-				'ACP_CAT_DATABASE',
-			),
-			'ACP_CAT_SYSTEM'		=> array(
-				'ACP_AUTOMATION',
-				'ACP_GENERAL_TASKS',
-				'ACP_MODULE_MANAGEMENT',
-			),
-			'ACP_CAT_DOT_MODS'		=> null,
-		),
-		'mcp'	=> array(
-			'MCP_MAIN'		=> null,
-			'MCP_QUEUE'		=> null,
-			'MCP_REPORTS'	=> null,
-			'MCP_NOTES'		=> null,
-			'MCP_WARN'		=> null,
-			'MCP_LOGS'		=> null,
-			'MCP_BAN'		=> null,
-		),
-		'ucp'	=> array(
-			'UCP_MAIN'			=> null,
-			'UCP_PROFILE'		=> null,
-			'UCP_PREFS'			=> null,
-			'UCP_PM'			=> null,
-			'UCP_USERGROUPS'	=> null,
-			'UCP_ZEBRA'			=> null,
-		),
-	);
-
-	var $module_extras = array(
-		'acp'	=> array(
-			'ACP_QUICK_ACCESS' => array(
-				'ACP_MANAGE_USERS',
-				'ACP_GROUPS_MANAGE',
-				'ACP_MANAGE_FORUMS',
-				'ACP_MOD_LOGS',
-				'ACP_BOTS',
-				'ACP_PHP_INFO',
-			),
-			'ACP_FORUM_BASED_PERMISSIONS' => array(
-				'ACP_FORUM_PERMISSIONS',
-				'ACP_FORUM_PERMISSIONS_COPY',
-				'ACP_FORUM_MODERATORS',
-				'ACP_USERS_FORUM_PERMISSIONS',
-				'ACP_GROUPS_FORUM_PERMISSIONS',
-			),
-		),
-	);
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/install_main.php phpBB3/install/install_main.php
--- phpBB3-init/install/install_main.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/install_main.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,78 +0,0 @@
-<?php
-/**
-*
-* @package install
-* @version $Id$
-* @copyright (c) 2005 phpBB Group
-* @license http://opensource.org/licenses/gpl-license.php GNU Public License
-*
-*/
-
-/**
-*/
-
-if ( !defined('IN_INSTALL') )
-{
-	// Someone has tried to access the file direct. This is not a good idea, so exit
-	exit;
-}
-
-if (!empty($setmodules))
-{
-	$module[] = array(
-		'module_type'		=> 'install',
-		'module_title'		=> 'OVERVIEW',
-		'module_filename'	=> substr(basename(__FILE__), 0, -strlen($phpEx)-1),
-		'module_order'		=> 0,
-		'module_subs'		=> array('INTRO', 'LICENSE', 'SUPPORT'),
-		'module_stages'		=> '',
-		'module_reqs'		=> ''
-	);
-}
-
-/**
-* Main Tab - Installation
-* @package install
-*/
-class install_main extends module
-{
-	function install_main(&$p_master)
-	{
-		$this->p_master = &$p_master;
-	}
-
-	function main($mode, $sub)
-	{
-		global $lang, $template, $language;
-
-		switch ($sub)
-		{
-			case 'intro' :
-				$title = $lang['SUB_INTRO'];
-				$body = $lang['OVERVIEW_BODY'];
-			break;
-
-			case 'license' :
-				$title = $lang['GPL'];
-				$body = implode("<br/>\n", file('../docs/COPYING'));
-			break;
-
-			case 'support' :
-				$title = $lang['SUB_SUPPORT'];
-				$body = $lang['SUPPORT_BODY'];
-			break;
-		}
-
-		$this->tpl_name = 'install_main';
-		$this->page_title = $title;
-
-		$template->assign_vars(array(
-			'TITLE'		=> $title,
-			'BODY'		=> $body,
-
-			'S_LANG_SELECT'	=> '<select id="language" name="language">' . $this->p_master->inst_language_select($language) . '</select>',
-		));
-	}
-}
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/phpinfo.php phpBB3/install/phpinfo.php
--- phpBB3-init/install/phpinfo.php	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/phpinfo.php	1970-01-01 01:00:00.000000000 +0100
@@ -1,5 +0,0 @@
-<?php
-
-phpinfo();
-
-?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/schemas/firebird_schema.sql phpBB3/install/schemas/firebird_schema.sql
--- phpBB3-init/install/schemas/firebird_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/firebird_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1469 +0,0 @@
-#
-# $Id: $
-#
-
-
-# Table: 'phpbb_attachments'
-CREATE TABLE phpbb_attachments (
-	attach_id INTEGER NOT NULL,
-	post_msg_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	in_message INTEGER DEFAULT 0 NOT NULL,
-	poster_id INTEGER DEFAULT 0 NOT NULL,
-	is_orphan INTEGER DEFAULT 1 NOT NULL,
-	physical_filename VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	real_filename VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	download_count INTEGER DEFAULT 0 NOT NULL,
-	attach_comment BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	extension VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	mimetype VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	filesize INTEGER DEFAULT 0 NOT NULL,
-	filetime INTEGER DEFAULT 0 NOT NULL,
-	thumbnail INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_attachments ADD PRIMARY KEY (attach_id);;
-
-CREATE INDEX phpbb_attachments_filetime ON phpbb_attachments(filetime);;
-CREATE INDEX phpbb_attachments_post_msg_id ON phpbb_attachments(post_msg_id);;
-CREATE INDEX phpbb_attachments_topic_id ON phpbb_attachments(topic_id);;
-CREATE INDEX phpbb_attachments_poster_id ON phpbb_attachments(poster_id);;
-CREATE INDEX phpbb_attachments_is_orphan ON phpbb_attachments(is_orphan);;
-
-CREATE GENERATOR phpbb_attachments_gen;;
-SET GENERATOR phpbb_attachments_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_attachments FOR phpbb_attachments
-BEFORE INSERT
-AS
-BEGIN
-	NEW.attach_id = GEN_ID(phpbb_attachments_gen, 1);
-END;;
-
-
-# Table: 'phpbb_acl_groups'
-CREATE TABLE phpbb_acl_groups (
-	group_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	auth_option_id INTEGER DEFAULT 0 NOT NULL,
-	auth_role_id INTEGER DEFAULT 0 NOT NULL,
-	auth_setting INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_acl_groups_group_id ON phpbb_acl_groups(group_id);;
-CREATE INDEX phpbb_acl_groups_auth_opt_id ON phpbb_acl_groups(auth_option_id);;
-CREATE INDEX phpbb_acl_groups_auth_role_id ON phpbb_acl_groups(auth_role_id);;
-
-# Table: 'phpbb_acl_options'
-CREATE TABLE phpbb_acl_options (
-	auth_option_id INTEGER NOT NULL,
-	auth_option VARCHAR(50) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	is_global INTEGER DEFAULT 0 NOT NULL,
-	is_local INTEGER DEFAULT 0 NOT NULL,
-	founder_only INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_acl_options ADD PRIMARY KEY (auth_option_id);;
-
-CREATE UNIQUE INDEX phpbb_acl_options_auth_option ON phpbb_acl_options(auth_option);;
-
-CREATE GENERATOR phpbb_acl_options_gen;;
-SET GENERATOR phpbb_acl_options_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_acl_options FOR phpbb_acl_options
-BEFORE INSERT
-AS
-BEGIN
-	NEW.auth_option_id = GEN_ID(phpbb_acl_options_gen, 1);
-END;;
-
-
-# Table: 'phpbb_acl_roles'
-CREATE TABLE phpbb_acl_roles (
-	role_id INTEGER NOT NULL,
-	role_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	role_description BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	role_type VARCHAR(10) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	role_order INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_acl_roles ADD PRIMARY KEY (role_id);;
-
-CREATE INDEX phpbb_acl_roles_role_type ON phpbb_acl_roles(role_type);;
-CREATE INDEX phpbb_acl_roles_role_order ON phpbb_acl_roles(role_order);;
-
-CREATE GENERATOR phpbb_acl_roles_gen;;
-SET GENERATOR phpbb_acl_roles_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_acl_roles FOR phpbb_acl_roles
-BEFORE INSERT
-AS
-BEGIN
-	NEW.role_id = GEN_ID(phpbb_acl_roles_gen, 1);
-END;;
-
-
-# Table: 'phpbb_acl_roles_data'
-CREATE TABLE phpbb_acl_roles_data (
-	role_id INTEGER DEFAULT 0 NOT NULL,
-	auth_option_id INTEGER DEFAULT 0 NOT NULL,
-	auth_setting INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_acl_roles_data ADD PRIMARY KEY (role_id, auth_option_id);;
-
-CREATE INDEX phpbb_acl_roles_data_ath_op_id ON phpbb_acl_roles_data(auth_option_id);;
-
-# Table: 'phpbb_acl_users'
-CREATE TABLE phpbb_acl_users (
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	auth_option_id INTEGER DEFAULT 0 NOT NULL,
-	auth_role_id INTEGER DEFAULT 0 NOT NULL,
-	auth_setting INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_acl_users_user_id ON phpbb_acl_users(user_id);;
-CREATE INDEX phpbb_acl_users_auth_option_id ON phpbb_acl_users(auth_option_id);;
-CREATE INDEX phpbb_acl_users_auth_role_id ON phpbb_acl_users(auth_role_id);;
-
-# Table: 'phpbb_banlist'
-CREATE TABLE phpbb_banlist (
-	ban_id INTEGER NOT NULL,
-	ban_userid INTEGER DEFAULT 0 NOT NULL,
-	ban_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	ban_email VARCHAR(100) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	ban_start INTEGER DEFAULT 0 NOT NULL,
-	ban_end INTEGER DEFAULT 0 NOT NULL,
-	ban_exclude INTEGER DEFAULT 0 NOT NULL,
-	ban_reason VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	ban_give_reason VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_banlist ADD PRIMARY KEY (ban_id);;
-
-CREATE INDEX phpbb_banlist_ban_end ON phpbb_banlist(ban_end);;
-CREATE INDEX phpbb_banlist_ban_user ON phpbb_banlist(ban_userid, ban_exclude);;
-CREATE INDEX phpbb_banlist_ban_email ON phpbb_banlist(ban_email, ban_exclude);;
-CREATE INDEX phpbb_banlist_ban_ip ON phpbb_banlist(ban_ip, ban_exclude);;
-
-CREATE GENERATOR phpbb_banlist_gen;;
-SET GENERATOR phpbb_banlist_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_banlist FOR phpbb_banlist
-BEFORE INSERT
-AS
-BEGIN
-	NEW.ban_id = GEN_ID(phpbb_banlist_gen, 1);
-END;;
-
-
-# Table: 'phpbb_bbcodes'
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id INTEGER DEFAULT 0 NOT NULL,
-	bbcode_tag VARCHAR(16) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	bbcode_helpline VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	display_on_posting INTEGER DEFAULT 0 NOT NULL,
-	bbcode_match BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	bbcode_tpl BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	first_pass_match BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	first_pass_replace BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	second_pass_match BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	second_pass_replace BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_bbcodes ADD PRIMARY KEY (bbcode_id);;
-
-CREATE INDEX phpbb_bbcodes_display_on_post ON phpbb_bbcodes(display_on_posting);;
-
-# Table: 'phpbb_bookmarks'
-CREATE TABLE phpbb_bookmarks (
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_bookmarks ADD PRIMARY KEY (topic_id, user_id);;
-
-
-# Table: 'phpbb_bots'
-CREATE TABLE phpbb_bots (
-	bot_id INTEGER NOT NULL,
-	bot_active INTEGER DEFAULT 1 NOT NULL,
-	bot_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	bot_agent VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	bot_ip VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_bots ADD PRIMARY KEY (bot_id);;
-
-CREATE INDEX phpbb_bots_bot_active ON phpbb_bots(bot_active);;
-
-CREATE GENERATOR phpbb_bots_gen;;
-SET GENERATOR phpbb_bots_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_bots FOR phpbb_bots
-BEFORE INSERT
-AS
-BEGIN
-	NEW.bot_id = GEN_ID(phpbb_bots_gen, 1);
-END;;
-
-
-# Table: 'phpbb_config'
-CREATE TABLE phpbb_config (
-	config_name VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	config_value VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	is_dynamic INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_config ADD PRIMARY KEY (config_name);;
-
-CREATE INDEX phpbb_config_is_dynamic ON phpbb_config(is_dynamic);;
-
-# Table: 'phpbb_confirm'
-CREATE TABLE phpbb_confirm (
-	confirm_id CHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	session_id CHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	confirm_type INTEGER DEFAULT 0 NOT NULL,
-	code VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	seed INTEGER DEFAULT 0 NOT NULL,
-	attempts INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_confirm ADD PRIMARY KEY (session_id, confirm_id);;
-
-CREATE INDEX phpbb_confirm_confirm_type ON phpbb_confirm(confirm_type);;
-
-# Table: 'phpbb_disallow'
-CREATE TABLE phpbb_disallow (
-	disallow_id INTEGER NOT NULL,
-	disallow_username VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_disallow ADD PRIMARY KEY (disallow_id);;
-
-
-CREATE GENERATOR phpbb_disallow_gen;;
-SET GENERATOR phpbb_disallow_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_disallow FOR phpbb_disallow
-BEFORE INSERT
-AS
-BEGIN
-	NEW.disallow_id = GEN_ID(phpbb_disallow_gen, 1);
-END;;
-
-
-# Table: 'phpbb_drafts'
-CREATE TABLE phpbb_drafts (
-	draft_id INTEGER NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	save_time INTEGER DEFAULT 0 NOT NULL,
-	draft_subject VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	draft_message BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_drafts ADD PRIMARY KEY (draft_id);;
-
-CREATE INDEX phpbb_drafts_save_time ON phpbb_drafts(save_time);;
-
-CREATE GENERATOR phpbb_drafts_gen;;
-SET GENERATOR phpbb_drafts_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_drafts FOR phpbb_drafts
-BEFORE INSERT
-AS
-BEGIN
-	NEW.draft_id = GEN_ID(phpbb_drafts_gen, 1);
-END;;
-
-
-# Table: 'phpbb_extensions'
-CREATE TABLE phpbb_extensions (
-	extension_id INTEGER NOT NULL,
-	group_id INTEGER DEFAULT 0 NOT NULL,
-	extension VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_extensions ADD PRIMARY KEY (extension_id);;
-
-
-CREATE GENERATOR phpbb_extensions_gen;;
-SET GENERATOR phpbb_extensions_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_extensions FOR phpbb_extensions
-BEFORE INSERT
-AS
-BEGIN
-	NEW.extension_id = GEN_ID(phpbb_extensions_gen, 1);
-END;;
-
-
-# Table: 'phpbb_extension_groups'
-CREATE TABLE phpbb_extension_groups (
-	group_id INTEGER NOT NULL,
-	group_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	cat_id INTEGER DEFAULT 0 NOT NULL,
-	allow_group INTEGER DEFAULT 0 NOT NULL,
-	download_mode INTEGER DEFAULT 1 NOT NULL,
-	upload_icon VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	max_filesize INTEGER DEFAULT 0 NOT NULL,
-	allowed_forums BLOB SUB_TYPE TEXT CHARACTER SET NONE DEFAULT '' NOT NULL,
-	allow_in_pm INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_extension_groups ADD PRIMARY KEY (group_id);;
-
-
-CREATE GENERATOR phpbb_extension_groups_gen;;
-SET GENERATOR phpbb_extension_groups_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_extension_groups FOR phpbb_extension_groups
-BEFORE INSERT
-AS
-BEGIN
-	NEW.group_id = GEN_ID(phpbb_extension_groups_gen, 1);
-END;;
-
-
-# Table: 'phpbb_forums'
-CREATE TABLE phpbb_forums (
-	forum_id INTEGER NOT NULL,
-	parent_id INTEGER DEFAULT 0 NOT NULL,
-	left_id INTEGER DEFAULT 0 NOT NULL,
-	right_id INTEGER DEFAULT 0 NOT NULL,
-	forum_parents BLOB SUB_TYPE TEXT CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_desc BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	forum_desc_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_desc_options INTEGER DEFAULT 7 NOT NULL,
-	forum_desc_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_link VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_password VARCHAR(40) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_style INTEGER DEFAULT 0 NOT NULL,
-	forum_image VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_rules BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	forum_rules_link VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_rules_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_rules_options INTEGER DEFAULT 7 NOT NULL,
-	forum_rules_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_topics_per_page INTEGER DEFAULT 0 NOT NULL,
-	forum_type INTEGER DEFAULT 0 NOT NULL,
-	forum_status INTEGER DEFAULT 0 NOT NULL,
-	forum_posts INTEGER DEFAULT 0 NOT NULL,
-	forum_topics INTEGER DEFAULT 0 NOT NULL,
-	forum_topics_real INTEGER DEFAULT 0 NOT NULL,
-	forum_last_post_id INTEGER DEFAULT 0 NOT NULL,
-	forum_last_poster_id INTEGER DEFAULT 0 NOT NULL,
-	forum_last_post_subject VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_last_post_time INTEGER DEFAULT 0 NOT NULL,
-	forum_last_poster_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	forum_last_poster_colour VARCHAR(6) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	forum_flags INTEGER DEFAULT 32 NOT NULL,
-	forum_options INTEGER DEFAULT 0 NOT NULL,
-	display_subforum_list INTEGER DEFAULT 1 NOT NULL,
-	display_on_index INTEGER DEFAULT 1 NOT NULL,
-	enable_indexing INTEGER DEFAULT 1 NOT NULL,
-	enable_icons INTEGER DEFAULT 1 NOT NULL,
-	enable_prune INTEGER DEFAULT 0 NOT NULL,
-	prune_next INTEGER DEFAULT 0 NOT NULL,
-	prune_days INTEGER DEFAULT 0 NOT NULL,
-	prune_viewed INTEGER DEFAULT 0 NOT NULL,
-	prune_freq INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_forums ADD PRIMARY KEY (forum_id);;
-
-CREATE INDEX phpbb_forums_left_right_id ON phpbb_forums(left_id, right_id);;
-CREATE INDEX phpbb_forums_forum_lastpost_id ON phpbb_forums(forum_last_post_id);;
-
-CREATE GENERATOR phpbb_forums_gen;;
-SET GENERATOR phpbb_forums_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_forums FOR phpbb_forums
-BEFORE INSERT
-AS
-BEGIN
-	NEW.forum_id = GEN_ID(phpbb_forums_gen, 1);
-END;;
-
-
-# Table: 'phpbb_forums_access'
-CREATE TABLE phpbb_forums_access (
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	session_id CHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_forums_access ADD PRIMARY KEY (forum_id, user_id, session_id);;
-
-
-# Table: 'phpbb_forums_track'
-CREATE TABLE phpbb_forums_track (
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	mark_time INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_forums_track ADD PRIMARY KEY (user_id, forum_id);;
-
-
-# Table: 'phpbb_forums_watch'
-CREATE TABLE phpbb_forums_watch (
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	notify_status INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_forums_watch_forum_id ON phpbb_forums_watch(forum_id);;
-CREATE INDEX phpbb_forums_watch_user_id ON phpbb_forums_watch(user_id);;
-CREATE INDEX phpbb_forums_watch_notify_stat ON phpbb_forums_watch(notify_status);;
-
-# Table: 'phpbb_groups'
-CREATE TABLE phpbb_groups (
-	group_id INTEGER NOT NULL,
-	group_type INTEGER DEFAULT 1 NOT NULL,
-	group_founder_manage INTEGER DEFAULT 0 NOT NULL,
-	group_skip_auth INTEGER DEFAULT 0 NOT NULL,
-	group_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	group_desc BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	group_desc_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	group_desc_options INTEGER DEFAULT 7 NOT NULL,
-	group_desc_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	group_display INTEGER DEFAULT 0 NOT NULL,
-	group_avatar VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	group_avatar_type INTEGER DEFAULT 0 NOT NULL,
-	group_avatar_width INTEGER DEFAULT 0 NOT NULL,
-	group_avatar_height INTEGER DEFAULT 0 NOT NULL,
-	group_rank INTEGER DEFAULT 0 NOT NULL,
-	group_colour VARCHAR(6) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	group_sig_chars INTEGER DEFAULT 0 NOT NULL,
-	group_receive_pm INTEGER DEFAULT 0 NOT NULL,
-	group_message_limit INTEGER DEFAULT 0 NOT NULL,
-	group_max_recipients INTEGER DEFAULT 0 NOT NULL,
-	group_legend INTEGER DEFAULT 1 NOT NULL
-);;
-
-ALTER TABLE phpbb_groups ADD PRIMARY KEY (group_id);;
-
-CREATE INDEX phpbb_groups_group_legend_name ON phpbb_groups(group_legend, group_name);;
-
-CREATE GENERATOR phpbb_groups_gen;;
-SET GENERATOR phpbb_groups_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_groups FOR phpbb_groups
-BEFORE INSERT
-AS
-BEGIN
-	NEW.group_id = GEN_ID(phpbb_groups_gen, 1);
-END;;
-
-
-# Table: 'phpbb_icons'
-CREATE TABLE phpbb_icons (
-	icons_id INTEGER NOT NULL,
-	icons_url VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	icons_width INTEGER DEFAULT 0 NOT NULL,
-	icons_height INTEGER DEFAULT 0 NOT NULL,
-	icons_order INTEGER DEFAULT 0 NOT NULL,
-	display_on_posting INTEGER DEFAULT 1 NOT NULL
-);;
-
-ALTER TABLE phpbb_icons ADD PRIMARY KEY (icons_id);;
-
-CREATE INDEX phpbb_icons_display_on_posting ON phpbb_icons(display_on_posting);;
-
-CREATE GENERATOR phpbb_icons_gen;;
-SET GENERATOR phpbb_icons_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_icons FOR phpbb_icons
-BEFORE INSERT
-AS
-BEGIN
-	NEW.icons_id = GEN_ID(phpbb_icons_gen, 1);
-END;;
-
-
-# Table: 'phpbb_lang'
-CREATE TABLE phpbb_lang (
-	lang_id INTEGER NOT NULL,
-	lang_iso VARCHAR(30) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	lang_dir VARCHAR(30) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	lang_english_name VARCHAR(100) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	lang_local_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	lang_author VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_lang ADD PRIMARY KEY (lang_id);;
-
-CREATE INDEX phpbb_lang_lang_iso ON phpbb_lang(lang_iso);;
-
-CREATE GENERATOR phpbb_lang_gen;;
-SET GENERATOR phpbb_lang_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_lang FOR phpbb_lang
-BEFORE INSERT
-AS
-BEGIN
-	NEW.lang_id = GEN_ID(phpbb_lang_gen, 1);
-END;;
-
-
-# Table: 'phpbb_log'
-CREATE TABLE phpbb_log (
-	log_id INTEGER NOT NULL,
-	log_type INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	reportee_id INTEGER DEFAULT 0 NOT NULL,
-	log_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	log_time INTEGER DEFAULT 0 NOT NULL,
-	log_operation BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	log_data BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_log ADD PRIMARY KEY (log_id);;
-
-CREATE INDEX phpbb_log_log_type ON phpbb_log(log_type);;
-CREATE INDEX phpbb_log_forum_id ON phpbb_log(forum_id);;
-CREATE INDEX phpbb_log_topic_id ON phpbb_log(topic_id);;
-CREATE INDEX phpbb_log_reportee_id ON phpbb_log(reportee_id);;
-CREATE INDEX phpbb_log_user_id ON phpbb_log(user_id);;
-
-CREATE GENERATOR phpbb_log_gen;;
-SET GENERATOR phpbb_log_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_log FOR phpbb_log
-BEFORE INSERT
-AS
-BEGIN
-	NEW.log_id = GEN_ID(phpbb_log_gen, 1);
-END;;
-
-
-# Table: 'phpbb_login_attempts'
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	attempt_browser VARCHAR(150) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	attempt_forwarded_for VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	attempt_time INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	username VARCHAR(255) CHARACTER SET UTF8 DEFAULT 0 NOT NULL COLLATE UNICODE,
-	username_clean VARCHAR(255) CHARACTER SET UTF8 DEFAULT 0 NOT NULL COLLATE UNICODE
-);;
-
-CREATE INDEX phpbb_login_attempts_att_ip ON phpbb_login_attempts(attempt_ip, attempt_time);;
-CREATE INDEX phpbb_login_attempts_att_for ON phpbb_login_attempts(attempt_forwarded_for, attempt_time);;
-CREATE INDEX phpbb_login_attempts_att_time ON phpbb_login_attempts(attempt_time);;
-CREATE INDEX phpbb_login_attempts_user_id ON phpbb_login_attempts(user_id);;
-
-# Table: 'phpbb_moderator_cache'
-CREATE TABLE phpbb_moderator_cache (
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	username VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	group_id INTEGER DEFAULT 0 NOT NULL,
-	group_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	display_on_index INTEGER DEFAULT 1 NOT NULL
-);;
-
-CREATE INDEX phpbb_moderator_cache_disp_idx ON phpbb_moderator_cache(display_on_index);;
-CREATE INDEX phpbb_moderator_cache_forum_id ON phpbb_moderator_cache(forum_id);;
-
-# Table: 'phpbb_modules'
-CREATE TABLE phpbb_modules (
-	module_id INTEGER NOT NULL,
-	module_enabled INTEGER DEFAULT 1 NOT NULL,
-	module_display INTEGER DEFAULT 1 NOT NULL,
-	module_basename VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	module_class VARCHAR(10) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	parent_id INTEGER DEFAULT 0 NOT NULL,
-	left_id INTEGER DEFAULT 0 NOT NULL,
-	right_id INTEGER DEFAULT 0 NOT NULL,
-	module_langname VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	module_mode VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	module_auth VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_modules ADD PRIMARY KEY (module_id);;
-
-CREATE INDEX phpbb_modules_left_right_id ON phpbb_modules(left_id, right_id);;
-CREATE INDEX phpbb_modules_module_enabled ON phpbb_modules(module_enabled);;
-CREATE INDEX phpbb_modules_class_left_id ON phpbb_modules(module_class, left_id);;
-
-CREATE GENERATOR phpbb_modules_gen;;
-SET GENERATOR phpbb_modules_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_modules FOR phpbb_modules
-BEFORE INSERT
-AS
-BEGIN
-	NEW.module_id = GEN_ID(phpbb_modules_gen, 1);
-END;;
-
-
-# Table: 'phpbb_poll_options'
-CREATE TABLE phpbb_poll_options (
-	poll_option_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	poll_option_text BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	poll_option_total INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_poll_options_poll_opt_id ON phpbb_poll_options(poll_option_id);;
-CREATE INDEX phpbb_poll_options_topic_id ON phpbb_poll_options(topic_id);;
-
-# Table: 'phpbb_poll_votes'
-CREATE TABLE phpbb_poll_votes (
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	poll_option_id INTEGER DEFAULT 0 NOT NULL,
-	vote_user_id INTEGER DEFAULT 0 NOT NULL,
-	vote_user_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-CREATE INDEX phpbb_poll_votes_topic_id ON phpbb_poll_votes(topic_id);;
-CREATE INDEX phpbb_poll_votes_vote_user_id ON phpbb_poll_votes(vote_user_id);;
-CREATE INDEX phpbb_poll_votes_vote_user_ip ON phpbb_poll_votes(vote_user_ip);;
-
-# Table: 'phpbb_posts'
-CREATE TABLE phpbb_posts (
-	post_id INTEGER NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	poster_id INTEGER DEFAULT 0 NOT NULL,
-	icon_id INTEGER DEFAULT 0 NOT NULL,
-	poster_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	post_time INTEGER DEFAULT 0 NOT NULL,
-	post_approved INTEGER DEFAULT 1 NOT NULL,
-	post_reported INTEGER DEFAULT 0 NOT NULL,
-	enable_bbcode INTEGER DEFAULT 1 NOT NULL,
-	enable_smilies INTEGER DEFAULT 1 NOT NULL,
-	enable_magic_url INTEGER DEFAULT 1 NOT NULL,
-	enable_sig INTEGER DEFAULT 1 NOT NULL,
-	post_username VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	post_subject VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	post_text BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	post_checksum VARCHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	post_attachment INTEGER DEFAULT 0 NOT NULL,
-	bbcode_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	bbcode_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	post_postcount INTEGER DEFAULT 1 NOT NULL,
-	post_edit_time INTEGER DEFAULT 0 NOT NULL,
-	post_edit_reason VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	post_edit_user INTEGER DEFAULT 0 NOT NULL,
-	post_edit_count INTEGER DEFAULT 0 NOT NULL,
-	post_edit_locked INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_posts ADD PRIMARY KEY (post_id);;
-
-CREATE INDEX phpbb_posts_forum_id ON phpbb_posts(forum_id);;
-CREATE INDEX phpbb_posts_topic_id ON phpbb_posts(topic_id);;
-CREATE INDEX phpbb_posts_poster_ip ON phpbb_posts(poster_ip);;
-CREATE INDEX phpbb_posts_poster_id ON phpbb_posts(poster_id);;
-CREATE INDEX phpbb_posts_post_approved ON phpbb_posts(post_approved);;
-CREATE INDEX phpbb_posts_post_username ON phpbb_posts(post_username);;
-CREATE INDEX phpbb_posts_tid_post_time ON phpbb_posts(topic_id, post_time);;
-
-CREATE GENERATOR phpbb_posts_gen;;
-SET GENERATOR phpbb_posts_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_posts FOR phpbb_posts
-BEFORE INSERT
-AS
-BEGIN
-	NEW.post_id = GEN_ID(phpbb_posts_gen, 1);
-END;;
-
-
-# Table: 'phpbb_privmsgs'
-CREATE TABLE phpbb_privmsgs (
-	msg_id INTEGER NOT NULL,
-	root_level INTEGER DEFAULT 0 NOT NULL,
-	author_id INTEGER DEFAULT 0 NOT NULL,
-	icon_id INTEGER DEFAULT 0 NOT NULL,
-	author_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	message_time INTEGER DEFAULT 0 NOT NULL,
-	enable_bbcode INTEGER DEFAULT 1 NOT NULL,
-	enable_smilies INTEGER DEFAULT 1 NOT NULL,
-	enable_magic_url INTEGER DEFAULT 1 NOT NULL,
-	enable_sig INTEGER DEFAULT 1 NOT NULL,
-	message_subject VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	message_text BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	message_edit_reason VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	message_edit_user INTEGER DEFAULT 0 NOT NULL,
-	message_attachment INTEGER DEFAULT 0 NOT NULL,
-	bbcode_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	bbcode_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	message_edit_time INTEGER DEFAULT 0 NOT NULL,
-	message_edit_count INTEGER DEFAULT 0 NOT NULL,
-	to_address BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	bcc_address BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	message_reported INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_privmsgs ADD PRIMARY KEY (msg_id);;
-
-CREATE INDEX phpbb_privmsgs_author_ip ON phpbb_privmsgs(author_ip);;
-CREATE INDEX phpbb_privmsgs_message_time ON phpbb_privmsgs(message_time);;
-CREATE INDEX phpbb_privmsgs_author_id ON phpbb_privmsgs(author_id);;
-CREATE INDEX phpbb_privmsgs_root_level ON phpbb_privmsgs(root_level);;
-
-CREATE GENERATOR phpbb_privmsgs_gen;;
-SET GENERATOR phpbb_privmsgs_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_privmsgs FOR phpbb_privmsgs
-BEFORE INSERT
-AS
-BEGIN
-	NEW.msg_id = GEN_ID(phpbb_privmsgs_gen, 1);
-END;;
-
-
-# Table: 'phpbb_privmsgs_folder'
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id INTEGER NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	folder_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	pm_count INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_privmsgs_folder ADD PRIMARY KEY (folder_id);;
-
-CREATE INDEX phpbb_privmsgs_folder_user_id ON phpbb_privmsgs_folder(user_id);;
-
-CREATE GENERATOR phpbb_privmsgs_folder_gen;;
-SET GENERATOR phpbb_privmsgs_folder_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_privmsgs_folder FOR phpbb_privmsgs_folder
-BEFORE INSERT
-AS
-BEGIN
-	NEW.folder_id = GEN_ID(phpbb_privmsgs_folder_gen, 1);
-END;;
-
-
-# Table: 'phpbb_privmsgs_rules'
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id INTEGER NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	rule_check INTEGER DEFAULT 0 NOT NULL,
-	rule_connection INTEGER DEFAULT 0 NOT NULL,
-	rule_string VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	rule_user_id INTEGER DEFAULT 0 NOT NULL,
-	rule_group_id INTEGER DEFAULT 0 NOT NULL,
-	rule_action INTEGER DEFAULT 0 NOT NULL,
-	rule_folder_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_privmsgs_rules ADD PRIMARY KEY (rule_id);;
-
-CREATE INDEX phpbb_privmsgs_rules_user_id ON phpbb_privmsgs_rules(user_id);;
-
-CREATE GENERATOR phpbb_privmsgs_rules_gen;;
-SET GENERATOR phpbb_privmsgs_rules_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_privmsgs_rules FOR phpbb_privmsgs_rules
-BEFORE INSERT
-AS
-BEGIN
-	NEW.rule_id = GEN_ID(phpbb_privmsgs_rules_gen, 1);
-END;;
-
-
-# Table: 'phpbb_privmsgs_to'
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	author_id INTEGER DEFAULT 0 NOT NULL,
-	pm_deleted INTEGER DEFAULT 0 NOT NULL,
-	pm_new INTEGER DEFAULT 1 NOT NULL,
-	pm_unread INTEGER DEFAULT 1 NOT NULL,
-	pm_replied INTEGER DEFAULT 0 NOT NULL,
-	pm_marked INTEGER DEFAULT 0 NOT NULL,
-	pm_forwarded INTEGER DEFAULT 0 NOT NULL,
-	folder_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_privmsgs_to_msg_id ON phpbb_privmsgs_to(msg_id);;
-CREATE INDEX phpbb_privmsgs_to_author_id ON phpbb_privmsgs_to(author_id);;
-CREATE INDEX phpbb_privmsgs_to_usr_flder_id ON phpbb_privmsgs_to(user_id, folder_id);;
-
-# Table: 'phpbb_profile_fields'
-CREATE TABLE phpbb_profile_fields (
-	field_id INTEGER NOT NULL,
-	field_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	field_type INTEGER DEFAULT 0 NOT NULL,
-	field_ident VARCHAR(20) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	field_length VARCHAR(20) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	field_minlen VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	field_maxlen VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	field_novalue VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	field_default_value VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	field_validation VARCHAR(20) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	field_required INTEGER DEFAULT 0 NOT NULL,
-	field_show_on_reg INTEGER DEFAULT 0 NOT NULL,
-	field_show_on_vt INTEGER DEFAULT 0 NOT NULL,
-	field_show_profile INTEGER DEFAULT 0 NOT NULL,
-	field_hide INTEGER DEFAULT 0 NOT NULL,
-	field_no_view INTEGER DEFAULT 0 NOT NULL,
-	field_active INTEGER DEFAULT 0 NOT NULL,
-	field_order INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_profile_fields ADD PRIMARY KEY (field_id);;
-
-CREATE INDEX phpbb_profile_fields_fld_type ON phpbb_profile_fields(field_type);;
-CREATE INDEX phpbb_profile_fields_fld_ordr ON phpbb_profile_fields(field_order);;
-
-CREATE GENERATOR phpbb_profile_fields_gen;;
-SET GENERATOR phpbb_profile_fields_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_profile_fields FOR phpbb_profile_fields
-BEFORE INSERT
-AS
-BEGIN
-	NEW.field_id = GEN_ID(phpbb_profile_fields_gen, 1);
-END;;
-
-
-# Table: 'phpbb_profile_fields_data'
-CREATE TABLE phpbb_profile_fields_data (
-	user_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_profile_fields_data ADD PRIMARY KEY (user_id);;
-
-
-# Table: 'phpbb_profile_fields_lang'
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id INTEGER DEFAULT 0 NOT NULL,
-	lang_id INTEGER DEFAULT 0 NOT NULL,
-	option_id INTEGER DEFAULT 0 NOT NULL,
-	field_type INTEGER DEFAULT 0 NOT NULL,
-	lang_value VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_profile_fields_lang ADD PRIMARY KEY (field_id, lang_id, option_id);;
-
-
-# Table: 'phpbb_profile_lang'
-CREATE TABLE phpbb_profile_lang (
-	field_id INTEGER DEFAULT 0 NOT NULL,
-	lang_id INTEGER DEFAULT 0 NOT NULL,
-	lang_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	lang_explain BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	lang_default_value VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_profile_lang ADD PRIMARY KEY (field_id, lang_id);;
-
-
-# Table: 'phpbb_ranks'
-CREATE TABLE phpbb_ranks (
-	rank_id INTEGER NOT NULL,
-	rank_title VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	rank_min INTEGER DEFAULT 0 NOT NULL,
-	rank_special INTEGER DEFAULT 0 NOT NULL,
-	rank_image VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_ranks ADD PRIMARY KEY (rank_id);;
-
-
-CREATE GENERATOR phpbb_ranks_gen;;
-SET GENERATOR phpbb_ranks_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_ranks FOR phpbb_ranks
-BEFORE INSERT
-AS
-BEGIN
-	NEW.rank_id = GEN_ID(phpbb_ranks_gen, 1);
-END;;
-
-
-# Table: 'phpbb_reports'
-CREATE TABLE phpbb_reports (
-	report_id INTEGER NOT NULL,
-	reason_id INTEGER DEFAULT 0 NOT NULL,
-	post_id INTEGER DEFAULT 0 NOT NULL,
-	pm_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	user_notify INTEGER DEFAULT 0 NOT NULL,
-	report_closed INTEGER DEFAULT 0 NOT NULL,
-	report_time INTEGER DEFAULT 0 NOT NULL,
-	report_text BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_reports ADD PRIMARY KEY (report_id);;
-
-CREATE INDEX phpbb_reports_post_id ON phpbb_reports(post_id);;
-CREATE INDEX phpbb_reports_pm_id ON phpbb_reports(pm_id);;
-
-CREATE GENERATOR phpbb_reports_gen;;
-SET GENERATOR phpbb_reports_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_reports FOR phpbb_reports
-BEFORE INSERT
-AS
-BEGIN
-	NEW.report_id = GEN_ID(phpbb_reports_gen, 1);
-END;;
-
-
-# Table: 'phpbb_reports_reasons'
-CREATE TABLE phpbb_reports_reasons (
-	reason_id INTEGER NOT NULL,
-	reason_title VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	reason_description BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	reason_order INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_reports_reasons ADD PRIMARY KEY (reason_id);;
-
-
-CREATE GENERATOR phpbb_reports_reasons_gen;;
-SET GENERATOR phpbb_reports_reasons_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_reports_reasons FOR phpbb_reports_reasons
-BEFORE INSERT
-AS
-BEGIN
-	NEW.reason_id = GEN_ID(phpbb_reports_reasons_gen, 1);
-END;;
-
-
-# Table: 'phpbb_search_results'
-CREATE TABLE phpbb_search_results (
-	search_key VARCHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	search_time INTEGER DEFAULT 0 NOT NULL,
-	search_keywords BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	search_authors BLOB SUB_TYPE TEXT CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_search_results ADD PRIMARY KEY (search_key);;
-
-
-# Table: 'phpbb_search_wordlist'
-CREATE TABLE phpbb_search_wordlist (
-	word_id INTEGER NOT NULL,
-	word_text VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	word_common INTEGER DEFAULT 0 NOT NULL,
-	word_count INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_search_wordlist ADD PRIMARY KEY (word_id);;
-
-CREATE UNIQUE INDEX phpbb_search_wordlist_wrd_txt ON phpbb_search_wordlist(word_text);;
-CREATE INDEX phpbb_search_wordlist_wrd_cnt ON phpbb_search_wordlist(word_count);;
-
-CREATE GENERATOR phpbb_search_wordlist_gen;;
-SET GENERATOR phpbb_search_wordlist_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_search_wordlist FOR phpbb_search_wordlist
-BEFORE INSERT
-AS
-BEGIN
-	NEW.word_id = GEN_ID(phpbb_search_wordlist_gen, 1);
-END;;
-
-
-# Table: 'phpbb_search_wordmatch'
-CREATE TABLE phpbb_search_wordmatch (
-	post_id INTEGER DEFAULT 0 NOT NULL,
-	word_id INTEGER DEFAULT 0 NOT NULL,
-	title_match INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE UNIQUE INDEX phpbb_search_wordmatch_unq_mtch ON phpbb_search_wordmatch(word_id, post_id, title_match);;
-CREATE INDEX phpbb_search_wordmatch_word_id ON phpbb_search_wordmatch(word_id);;
-CREATE INDEX phpbb_search_wordmatch_post_id ON phpbb_search_wordmatch(post_id);;
-
-# Table: 'phpbb_sessions'
-CREATE TABLE phpbb_sessions (
-	session_id CHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	session_user_id INTEGER DEFAULT 0 NOT NULL,
-	session_forum_id INTEGER DEFAULT 0 NOT NULL,
-	session_last_visit INTEGER DEFAULT 0 NOT NULL,
-	session_start INTEGER DEFAULT 0 NOT NULL,
-	session_time INTEGER DEFAULT 0 NOT NULL,
-	session_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	session_browser VARCHAR(150) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	session_forwarded_for VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	session_page VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	session_viewonline INTEGER DEFAULT 1 NOT NULL,
-	session_autologin INTEGER DEFAULT 0 NOT NULL,
-	session_admin INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_sessions ADD PRIMARY KEY (session_id);;
-
-CREATE INDEX phpbb_sessions_session_time ON phpbb_sessions(session_time);;
-CREATE INDEX phpbb_sessions_session_user_id ON phpbb_sessions(session_user_id);;
-CREATE INDEX phpbb_sessions_session_fid ON phpbb_sessions(session_forum_id);;
-
-# Table: 'phpbb_sessions_keys'
-CREATE TABLE phpbb_sessions_keys (
-	key_id CHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	last_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	last_login INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_sessions_keys ADD PRIMARY KEY (key_id, user_id);;
-
-CREATE INDEX phpbb_sessions_keys_last_login ON phpbb_sessions_keys(last_login);;
-
-# Table: 'phpbb_sitelist'
-CREATE TABLE phpbb_sitelist (
-	site_id INTEGER NOT NULL,
-	site_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	site_hostname VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	ip_exclude INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_sitelist ADD PRIMARY KEY (site_id);;
-
-
-CREATE GENERATOR phpbb_sitelist_gen;;
-SET GENERATOR phpbb_sitelist_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_sitelist FOR phpbb_sitelist
-BEFORE INSERT
-AS
-BEGIN
-	NEW.site_id = GEN_ID(phpbb_sitelist_gen, 1);
-END;;
-
-
-# Table: 'phpbb_smilies'
-CREATE TABLE phpbb_smilies (
-	smiley_id INTEGER NOT NULL,
-	code VARCHAR(50) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	emotion VARCHAR(50) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	smiley_url VARCHAR(50) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	smiley_width INTEGER DEFAULT 0 NOT NULL,
-	smiley_height INTEGER DEFAULT 0 NOT NULL,
-	smiley_order INTEGER DEFAULT 0 NOT NULL,
-	display_on_posting INTEGER DEFAULT 1 NOT NULL
-);;
-
-ALTER TABLE phpbb_smilies ADD PRIMARY KEY (smiley_id);;
-
-CREATE INDEX phpbb_smilies_display_on_post ON phpbb_smilies(display_on_posting);;
-
-CREATE GENERATOR phpbb_smilies_gen;;
-SET GENERATOR phpbb_smilies_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_smilies FOR phpbb_smilies
-BEFORE INSERT
-AS
-BEGIN
-	NEW.smiley_id = GEN_ID(phpbb_smilies_gen, 1);
-END;;
-
-
-# Table: 'phpbb_styles'
-CREATE TABLE phpbb_styles (
-	style_id INTEGER NOT NULL,
-	style_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	style_copyright VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	style_active INTEGER DEFAULT 1 NOT NULL,
-	template_id INTEGER DEFAULT 0 NOT NULL,
-	theme_id INTEGER DEFAULT 0 NOT NULL,
-	imageset_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_styles ADD PRIMARY KEY (style_id);;
-
-CREATE UNIQUE INDEX phpbb_styles_style_name ON phpbb_styles(style_name);;
-CREATE INDEX phpbb_styles_template_id ON phpbb_styles(template_id);;
-CREATE INDEX phpbb_styles_theme_id ON phpbb_styles(theme_id);;
-CREATE INDEX phpbb_styles_imageset_id ON phpbb_styles(imageset_id);;
-
-CREATE GENERATOR phpbb_styles_gen;;
-SET GENERATOR phpbb_styles_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_styles FOR phpbb_styles
-BEFORE INSERT
-AS
-BEGIN
-	NEW.style_id = GEN_ID(phpbb_styles_gen, 1);
-END;;
-
-
-# Table: 'phpbb_styles_template'
-CREATE TABLE phpbb_styles_template (
-	template_id INTEGER NOT NULL,
-	template_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	template_copyright VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	template_path VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	bbcode_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT 'kNg=' NOT NULL,
-	template_storedb INTEGER DEFAULT 0 NOT NULL,
-	template_inherits_id INTEGER DEFAULT 0 NOT NULL,
-	template_inherit_path VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_styles_template ADD PRIMARY KEY (template_id);;
-
-CREATE UNIQUE INDEX phpbb_styles_template_tmplte_nm ON phpbb_styles_template(template_name);;
-
-CREATE GENERATOR phpbb_styles_template_gen;;
-SET GENERATOR phpbb_styles_template_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_styles_template FOR phpbb_styles_template
-BEFORE INSERT
-AS
-BEGIN
-	NEW.template_id = GEN_ID(phpbb_styles_template_gen, 1);
-END;;
-
-
-# Table: 'phpbb_styles_template_data'
-CREATE TABLE phpbb_styles_template_data (
-	template_id INTEGER DEFAULT 0 NOT NULL,
-	template_filename VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	template_included BLOB SUB_TYPE TEXT CHARACTER SET NONE DEFAULT '' NOT NULL,
-	template_mtime INTEGER DEFAULT 0 NOT NULL,
-	template_data BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-CREATE INDEX phpbb_styles_template_data_tid ON phpbb_styles_template_data(template_id);;
-CREATE INDEX phpbb_styles_template_data_tfn ON phpbb_styles_template_data(template_filename);;
-
-# Table: 'phpbb_styles_theme'
-CREATE TABLE phpbb_styles_theme (
-	theme_id INTEGER NOT NULL,
-	theme_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	theme_copyright VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	theme_path VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	theme_storedb INTEGER DEFAULT 0 NOT NULL,
-	theme_mtime INTEGER DEFAULT 0 NOT NULL,
-	theme_data BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_styles_theme ADD PRIMARY KEY (theme_id);;
-
-CREATE UNIQUE INDEX phpbb_styles_theme_theme_name ON phpbb_styles_theme(theme_name);;
-
-CREATE GENERATOR phpbb_styles_theme_gen;;
-SET GENERATOR phpbb_styles_theme_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_styles_theme FOR phpbb_styles_theme
-BEFORE INSERT
-AS
-BEGIN
-	NEW.theme_id = GEN_ID(phpbb_styles_theme_gen, 1);
-END;;
-
-
-# Table: 'phpbb_styles_imageset'
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id INTEGER NOT NULL,
-	imageset_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	imageset_copyright VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	imageset_path VARCHAR(100) CHARACTER SET NONE DEFAULT '' NOT NULL
-);;
-
-ALTER TABLE phpbb_styles_imageset ADD PRIMARY KEY (imageset_id);;
-
-CREATE UNIQUE INDEX phpbb_styles_imageset_imgset_nm ON phpbb_styles_imageset(imageset_name);;
-
-CREATE GENERATOR phpbb_styles_imageset_gen;;
-SET GENERATOR phpbb_styles_imageset_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_styles_imageset FOR phpbb_styles_imageset
-BEFORE INSERT
-AS
-BEGIN
-	NEW.imageset_id = GEN_ID(phpbb_styles_imageset_gen, 1);
-END;;
-
-
-# Table: 'phpbb_styles_imageset_data'
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id INTEGER NOT NULL,
-	image_name VARCHAR(200) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	image_filename VARCHAR(200) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	image_lang VARCHAR(30) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	image_height INTEGER DEFAULT 0 NOT NULL,
-	image_width INTEGER DEFAULT 0 NOT NULL,
-	imageset_id INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_styles_imageset_data ADD PRIMARY KEY (image_id);;
-
-CREATE INDEX phpbb_styles_imageset_data_i_d ON phpbb_styles_imageset_data(imageset_id);;
-
-CREATE GENERATOR phpbb_styles_imageset_data_gen;;
-SET GENERATOR phpbb_styles_imageset_data_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_styles_imageset_data FOR phpbb_styles_imageset_data
-BEFORE INSERT
-AS
-BEGIN
-	NEW.image_id = GEN_ID(phpbb_styles_imageset_data_gen, 1);
-END;;
-
-
-# Table: 'phpbb_topics'
-CREATE TABLE phpbb_topics (
-	topic_id INTEGER NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	icon_id INTEGER DEFAULT 0 NOT NULL,
-	topic_attachment INTEGER DEFAULT 0 NOT NULL,
-	topic_approved INTEGER DEFAULT 1 NOT NULL,
-	topic_reported INTEGER DEFAULT 0 NOT NULL,
-	topic_title VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	topic_poster INTEGER DEFAULT 0 NOT NULL,
-	topic_time INTEGER DEFAULT 0 NOT NULL,
-	topic_time_limit INTEGER DEFAULT 0 NOT NULL,
-	topic_views INTEGER DEFAULT 0 NOT NULL,
-	topic_replies INTEGER DEFAULT 0 NOT NULL,
-	topic_replies_real INTEGER DEFAULT 0 NOT NULL,
-	topic_status INTEGER DEFAULT 0 NOT NULL,
-	topic_type INTEGER DEFAULT 0 NOT NULL,
-	topic_first_post_id INTEGER DEFAULT 0 NOT NULL,
-	topic_first_poster_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	topic_first_poster_colour VARCHAR(6) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	topic_last_post_id INTEGER DEFAULT 0 NOT NULL,
-	topic_last_poster_id INTEGER DEFAULT 0 NOT NULL,
-	topic_last_poster_name VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	topic_last_poster_colour VARCHAR(6) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	topic_last_post_subject VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	topic_last_post_time INTEGER DEFAULT 0 NOT NULL,
-	topic_last_view_time INTEGER DEFAULT 0 NOT NULL,
-	topic_moved_id INTEGER DEFAULT 0 NOT NULL,
-	topic_bumped INTEGER DEFAULT 0 NOT NULL,
-	topic_bumper INTEGER DEFAULT 0 NOT NULL,
-	poll_title VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	poll_start INTEGER DEFAULT 0 NOT NULL,
-	poll_length INTEGER DEFAULT 0 NOT NULL,
-	poll_max_options INTEGER DEFAULT 1 NOT NULL,
-	poll_last_vote INTEGER DEFAULT 0 NOT NULL,
-	poll_vote_change INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_topics ADD PRIMARY KEY (topic_id);;
-
-CREATE INDEX phpbb_topics_forum_id ON phpbb_topics(forum_id);;
-CREATE INDEX phpbb_topics_forum_id_type ON phpbb_topics(forum_id, topic_type);;
-CREATE INDEX phpbb_topics_last_post_time ON phpbb_topics(topic_last_post_time);;
-CREATE INDEX phpbb_topics_topic_approved ON phpbb_topics(topic_approved);;
-CREATE INDEX phpbb_topics_forum_appr_last ON phpbb_topics(forum_id, topic_approved, topic_last_post_id);;
-CREATE INDEX phpbb_topics_fid_time_moved ON phpbb_topics(forum_id, topic_last_post_time, topic_moved_id);;
-
-CREATE GENERATOR phpbb_topics_gen;;
-SET GENERATOR phpbb_topics_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_topics FOR phpbb_topics
-BEFORE INSERT
-AS
-BEGIN
-	NEW.topic_id = GEN_ID(phpbb_topics_gen, 1);
-END;;
-
-
-# Table: 'phpbb_topics_track'
-CREATE TABLE phpbb_topics_track (
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	forum_id INTEGER DEFAULT 0 NOT NULL,
-	mark_time INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_topics_track ADD PRIMARY KEY (user_id, topic_id);;
-
-CREATE INDEX phpbb_topics_track_topic_id ON phpbb_topics_track(topic_id);;
-CREATE INDEX phpbb_topics_track_forum_id ON phpbb_topics_track(forum_id);;
-
-# Table: 'phpbb_topics_posted'
-CREATE TABLE phpbb_topics_posted (
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	topic_posted INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_topics_posted ADD PRIMARY KEY (user_id, topic_id);;
-
-
-# Table: 'phpbb_topics_watch'
-CREATE TABLE phpbb_topics_watch (
-	topic_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	notify_status INTEGER DEFAULT 0 NOT NULL
-);;
-
-CREATE INDEX phpbb_topics_watch_topic_id ON phpbb_topics_watch(topic_id);;
-CREATE INDEX phpbb_topics_watch_user_id ON phpbb_topics_watch(user_id);;
-CREATE INDEX phpbb_topics_watch_notify_stat ON phpbb_topics_watch(notify_status);;
-
-# Table: 'phpbb_user_group'
-CREATE TABLE phpbb_user_group (
-	group_id INTEGER DEFAULT 0 NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	group_leader INTEGER DEFAULT 0 NOT NULL,
-	user_pending INTEGER DEFAULT 1 NOT NULL
-);;
-
-CREATE INDEX phpbb_user_group_group_id ON phpbb_user_group(group_id);;
-CREATE INDEX phpbb_user_group_user_id ON phpbb_user_group(user_id);;
-CREATE INDEX phpbb_user_group_group_leader ON phpbb_user_group(group_leader);;
-
-# Table: 'phpbb_users'
-CREATE TABLE phpbb_users (
-	user_id INTEGER NOT NULL,
-	user_type INTEGER DEFAULT 0 NOT NULL,
-	group_id INTEGER DEFAULT 3 NOT NULL,
-	user_permissions BLOB SUB_TYPE TEXT CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_perm_from INTEGER DEFAULT 0 NOT NULL,
-	user_ip VARCHAR(40) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_regdate INTEGER DEFAULT 0 NOT NULL,
-	username VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	username_clean VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_password VARCHAR(40) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_passchg INTEGER DEFAULT 0 NOT NULL,
-	user_pass_convert INTEGER DEFAULT 0 NOT NULL,
-	user_email VARCHAR(100) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_email_hash DOUBLE PRECISION DEFAULT 0 NOT NULL,
-	user_birthday VARCHAR(10) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_lastvisit INTEGER DEFAULT 0 NOT NULL,
-	user_lastmark INTEGER DEFAULT 0 NOT NULL,
-	user_lastpost_time INTEGER DEFAULT 0 NOT NULL,
-	user_lastpage VARCHAR(200) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_last_confirm_key VARCHAR(10) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_last_search INTEGER DEFAULT 0 NOT NULL,
-	user_warnings INTEGER DEFAULT 0 NOT NULL,
-	user_last_warning INTEGER DEFAULT 0 NOT NULL,
-	user_login_attempts INTEGER DEFAULT 0 NOT NULL,
-	user_inactive_reason INTEGER DEFAULT 0 NOT NULL,
-	user_inactive_time INTEGER DEFAULT 0 NOT NULL,
-	user_posts INTEGER DEFAULT 0 NOT NULL,
-	user_lang VARCHAR(30) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_timezone DOUBLE PRECISION DEFAULT 0 NOT NULL,
-	user_dst INTEGER DEFAULT 0 NOT NULL,
-	user_dateformat VARCHAR(30) CHARACTER SET UTF8 DEFAULT 'd M Y H:i' NOT NULL COLLATE UNICODE,
-	user_style INTEGER DEFAULT 0 NOT NULL,
-	user_rank INTEGER DEFAULT 0 NOT NULL,
-	user_colour VARCHAR(6) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_new_privmsg INTEGER DEFAULT 0 NOT NULL,
-	user_unread_privmsg INTEGER DEFAULT 0 NOT NULL,
-	user_last_privmsg INTEGER DEFAULT 0 NOT NULL,
-	user_message_rules INTEGER DEFAULT 0 NOT NULL,
-	user_full_folder INTEGER DEFAULT -3 NOT NULL,
-	user_emailtime INTEGER DEFAULT 0 NOT NULL,
-	user_topic_show_days INTEGER DEFAULT 0 NOT NULL,
-	user_topic_sortby_type VARCHAR(1) CHARACTER SET NONE DEFAULT 't' NOT NULL,
-	user_topic_sortby_dir VARCHAR(1) CHARACTER SET NONE DEFAULT 'd' NOT NULL,
-	user_post_show_days INTEGER DEFAULT 0 NOT NULL,
-	user_post_sortby_type VARCHAR(1) CHARACTER SET NONE DEFAULT 't' NOT NULL,
-	user_post_sortby_dir VARCHAR(1) CHARACTER SET NONE DEFAULT 'a' NOT NULL,
-	user_notify INTEGER DEFAULT 0 NOT NULL,
-	user_notify_pm INTEGER DEFAULT 1 NOT NULL,
-	user_notify_type INTEGER DEFAULT 0 NOT NULL,
-	user_allow_pm INTEGER DEFAULT 1 NOT NULL,
-	user_allow_viewonline INTEGER DEFAULT 1 NOT NULL,
-	user_allow_viewemail INTEGER DEFAULT 1 NOT NULL,
-	user_allow_massemail INTEGER DEFAULT 1 NOT NULL,
-	user_options INTEGER DEFAULT 230271 NOT NULL,
-	user_avatar VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_avatar_type INTEGER DEFAULT 0 NOT NULL,
-	user_avatar_width INTEGER DEFAULT 0 NOT NULL,
-	user_avatar_height INTEGER DEFAULT 0 NOT NULL,
-	user_sig BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	user_sig_bbcode_uid VARCHAR(8) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_sig_bbcode_bitfield VARCHAR(255) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_from VARCHAR(100) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_icq VARCHAR(15) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_aim VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_yim VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_msnm VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_jabber VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_website VARCHAR(200) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_occ BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	user_interests BLOB SUB_TYPE TEXT CHARACTER SET UTF8 DEFAULT '' NOT NULL,
-	user_actkey VARCHAR(32) CHARACTER SET NONE DEFAULT '' NOT NULL,
-	user_newpasswd VARCHAR(40) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_form_salt VARCHAR(32) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	user_new INTEGER DEFAULT 1 NOT NULL,
-	user_reminded INTEGER DEFAULT 0 NOT NULL,
-	user_reminded_time INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_users ADD PRIMARY KEY (user_id);;
-
-CREATE INDEX phpbb_users_user_birthday ON phpbb_users(user_birthday);;
-CREATE INDEX phpbb_users_user_email_hash ON phpbb_users(user_email_hash);;
-CREATE INDEX phpbb_users_user_type ON phpbb_users(user_type);;
-CREATE UNIQUE INDEX phpbb_users_username_clean ON phpbb_users(username_clean);;
-
-CREATE GENERATOR phpbb_users_gen;;
-SET GENERATOR phpbb_users_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_users FOR phpbb_users
-BEFORE INSERT
-AS
-BEGIN
-	NEW.user_id = GEN_ID(phpbb_users_gen, 1);
-END;;
-
-
-# Table: 'phpbb_warnings'
-CREATE TABLE phpbb_warnings (
-	warning_id INTEGER NOT NULL,
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	post_id INTEGER DEFAULT 0 NOT NULL,
-	log_id INTEGER DEFAULT 0 NOT NULL,
-	warning_time INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_warnings ADD PRIMARY KEY (warning_id);;
-
-
-CREATE GENERATOR phpbb_warnings_gen;;
-SET GENERATOR phpbb_warnings_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_warnings FOR phpbb_warnings
-BEFORE INSERT
-AS
-BEGIN
-	NEW.warning_id = GEN_ID(phpbb_warnings_gen, 1);
-END;;
-
-
-# Table: 'phpbb_words'
-CREATE TABLE phpbb_words (
-	word_id INTEGER NOT NULL,
-	word VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE,
-	replacement VARCHAR(255) CHARACTER SET UTF8 DEFAULT '' NOT NULL COLLATE UNICODE
-);;
-
-ALTER TABLE phpbb_words ADD PRIMARY KEY (word_id);;
-
-
-CREATE GENERATOR phpbb_words_gen;;
-SET GENERATOR phpbb_words_gen TO 0;;
-
-CREATE TRIGGER t_phpbb_words FOR phpbb_words
-BEFORE INSERT
-AS
-BEGIN
-	NEW.word_id = GEN_ID(phpbb_words_gen, 1);
-END;;
-
-
-# Table: 'phpbb_zebra'
-CREATE TABLE phpbb_zebra (
-	user_id INTEGER DEFAULT 0 NOT NULL,
-	zebra_id INTEGER DEFAULT 0 NOT NULL,
-	friend INTEGER DEFAULT 0 NOT NULL,
-	foe INTEGER DEFAULT 0 NOT NULL
-);;
-
-ALTER TABLE phpbb_zebra ADD PRIMARY KEY (user_id, zebra_id);;
-
-
diff -rNU5 phpBB3-init/install/schemas/index.htm phpBB3/install/schemas/index.htm
--- phpBB3-init/install/schemas/index.htm	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/index.htm	1970-01-01 01:00:00.000000000 +0100
@@ -1,10 +0,0 @@
-<html>
-<head>
-<title></title>
-<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
-</head>
-
-<body bgcolor="#FFFFFF" text="#000000">
-
-</body>
-</html>
diff -rNU5 phpBB3-init/install/schemas/mssql_schema.sql phpBB3/install/schemas/mssql_schema.sql
--- phpBB3-init/install/schemas/mssql_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/mssql_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1760 +0,0 @@
-/*
-
- $Id: $
-
-*/
-
-/*
-	Table: 'phpbb_attachments'
-*/
-CREATE TABLE [phpbb_attachments] (
-	[attach_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[post_msg_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[in_message] [int] DEFAULT (0) NOT NULL ,
-	[poster_id] [int] DEFAULT (0) NOT NULL ,
-	[is_orphan] [int] DEFAULT (1) NOT NULL ,
-	[physical_filename] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[real_filename] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[download_count] [int] DEFAULT (0) NOT NULL ,
-	[attach_comment] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[extension] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[mimetype] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[filesize] [int] DEFAULT (0) NOT NULL ,
-	[filetime] [int] DEFAULT (0) NOT NULL ,
-	[thumbnail] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_attachments] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_attachments] PRIMARY KEY  CLUSTERED 
-	(
-		[attach_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [filetime] ON [phpbb_attachments]([filetime]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [post_msg_id] ON [phpbb_attachments]([post_msg_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_attachments]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [poster_id] ON [phpbb_attachments]([poster_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [is_orphan] ON [phpbb_attachments]([is_orphan]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_acl_groups'
-*/
-CREATE TABLE [phpbb_acl_groups] (
-	[group_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_option_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_role_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_setting] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [group_id] ON [phpbb_acl_groups]([group_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [auth_opt_id] ON [phpbb_acl_groups]([auth_option_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [auth_role_id] ON [phpbb_acl_groups]([auth_role_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_acl_options'
-*/
-CREATE TABLE [phpbb_acl_options] (
-	[auth_option_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[auth_option] [varchar] (50) DEFAULT ('') NOT NULL ,
-	[is_global] [int] DEFAULT (0) NOT NULL ,
-	[is_local] [int] DEFAULT (0) NOT NULL ,
-	[founder_only] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_acl_options] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_acl_options] PRIMARY KEY  CLUSTERED 
-	(
-		[auth_option_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [auth_option] ON [phpbb_acl_options]([auth_option]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_acl_roles'
-*/
-CREATE TABLE [phpbb_acl_roles] (
-	[role_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[role_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[role_description] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[role_type] [varchar] (10) DEFAULT ('') NOT NULL ,
-	[role_order] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_acl_roles] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_acl_roles] PRIMARY KEY  CLUSTERED 
-	(
-		[role_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [role_type] ON [phpbb_acl_roles]([role_type]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [role_order] ON [phpbb_acl_roles]([role_order]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_acl_roles_data'
-*/
-CREATE TABLE [phpbb_acl_roles_data] (
-	[role_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_option_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_setting] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_acl_roles_data] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_acl_roles_data] PRIMARY KEY  CLUSTERED 
-	(
-		[role_id],
-		[auth_option_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [ath_op_id] ON [phpbb_acl_roles_data]([auth_option_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_acl_users'
-*/
-CREATE TABLE [phpbb_acl_users] (
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_option_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_role_id] [int] DEFAULT (0) NOT NULL ,
-	[auth_setting] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_acl_users]([user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [auth_option_id] ON [phpbb_acl_users]([auth_option_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [auth_role_id] ON [phpbb_acl_users]([auth_role_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_banlist'
-*/
-CREATE TABLE [phpbb_banlist] (
-	[ban_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[ban_userid] [int] DEFAULT (0) NOT NULL ,
-	[ban_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[ban_email] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[ban_start] [int] DEFAULT (0) NOT NULL ,
-	[ban_end] [int] DEFAULT (0) NOT NULL ,
-	[ban_exclude] [int] DEFAULT (0) NOT NULL ,
-	[ban_reason] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[ban_give_reason] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_banlist] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_banlist] PRIMARY KEY  CLUSTERED 
-	(
-		[ban_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [ban_end] ON [phpbb_banlist]([ban_end]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [ban_user] ON [phpbb_banlist]([ban_userid], [ban_exclude]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [ban_email] ON [phpbb_banlist]([ban_email], [ban_exclude]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [ban_ip] ON [phpbb_banlist]([ban_ip], [ban_exclude]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_bbcodes'
-*/
-CREATE TABLE [phpbb_bbcodes] (
-	[bbcode_id] [int] DEFAULT (0) NOT NULL ,
-	[bbcode_tag] [varchar] (16) DEFAULT ('') NOT NULL ,
-	[bbcode_helpline] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[display_on_posting] [int] DEFAULT (0) NOT NULL ,
-	[bbcode_match] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[bbcode_tpl] [text] DEFAULT ('') NOT NULL ,
-	[first_pass_match] [text] DEFAULT ('') NOT NULL ,
-	[first_pass_replace] [text] DEFAULT ('') NOT NULL ,
-	[second_pass_match] [text] DEFAULT ('') NOT NULL ,
-	[second_pass_replace] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_bbcodes] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_bbcodes] PRIMARY KEY  CLUSTERED 
-	(
-		[bbcode_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [display_on_post] ON [phpbb_bbcodes]([display_on_posting]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_bookmarks'
-*/
-CREATE TABLE [phpbb_bookmarks] (
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_bookmarks] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_bookmarks] PRIMARY KEY  CLUSTERED 
-	(
-		[topic_id],
-		[user_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_bots'
-*/
-CREATE TABLE [phpbb_bots] (
-	[bot_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[bot_active] [int] DEFAULT (1) NOT NULL ,
-	[bot_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[bot_agent] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[bot_ip] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_bots] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_bots] PRIMARY KEY  CLUSTERED 
-	(
-		[bot_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [bot_active] ON [phpbb_bots]([bot_active]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_config'
-*/
-CREATE TABLE [phpbb_config] (
-	[config_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[config_value] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[is_dynamic] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_config] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_config] PRIMARY KEY  CLUSTERED 
-	(
-		[config_name]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [is_dynamic] ON [phpbb_config]([is_dynamic]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_confirm'
-*/
-CREATE TABLE [phpbb_confirm] (
-	[confirm_id] [char] (32) DEFAULT ('') NOT NULL ,
-	[session_id] [char] (32) DEFAULT ('') NOT NULL ,
-	[confirm_type] [int] DEFAULT (0) NOT NULL ,
-	[code] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[seed] [int] DEFAULT (0) NOT NULL ,
-	[attempts] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_confirm] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_confirm] PRIMARY KEY  CLUSTERED 
-	(
-		[session_id],
-		[confirm_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [confirm_type] ON [phpbb_confirm]([confirm_type]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_disallow'
-*/
-CREATE TABLE [phpbb_disallow] (
-	[disallow_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[disallow_username] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_disallow] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_disallow] PRIMARY KEY  CLUSTERED 
-	(
-		[disallow_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_drafts'
-*/
-CREATE TABLE [phpbb_drafts] (
-	[draft_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[save_time] [int] DEFAULT (0) NOT NULL ,
-	[draft_subject] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[draft_message] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_drafts] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_drafts] PRIMARY KEY  CLUSTERED 
-	(
-		[draft_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [save_time] ON [phpbb_drafts]([save_time]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_extensions'
-*/
-CREATE TABLE [phpbb_extensions] (
-	[extension_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[group_id] [int] DEFAULT (0) NOT NULL ,
-	[extension] [varchar] (100) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_extensions] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_extensions] PRIMARY KEY  CLUSTERED 
-	(
-		[extension_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_extension_groups'
-*/
-CREATE TABLE [phpbb_extension_groups] (
-	[group_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[group_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[cat_id] [int] DEFAULT (0) NOT NULL ,
-	[allow_group] [int] DEFAULT (0) NOT NULL ,
-	[download_mode] [int] DEFAULT (1) NOT NULL ,
-	[upload_icon] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[max_filesize] [int] DEFAULT (0) NOT NULL ,
-	[allowed_forums] [varchar] (8000) DEFAULT ('') NOT NULL ,
-	[allow_in_pm] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_extension_groups] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_extension_groups] PRIMARY KEY  CLUSTERED 
-	(
-		[group_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_forums'
-*/
-CREATE TABLE [phpbb_forums] (
-	[forum_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[parent_id] [int] DEFAULT (0) NOT NULL ,
-	[left_id] [int] DEFAULT (0) NOT NULL ,
-	[right_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_parents] [text] DEFAULT ('') NOT NULL ,
-	[forum_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_desc] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[forum_desc_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_desc_options] [int] DEFAULT (7) NOT NULL ,
-	[forum_desc_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[forum_link] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_password] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[forum_style] [int] DEFAULT (0) NOT NULL ,
-	[forum_image] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_rules] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[forum_rules_link] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_rules_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_rules_options] [int] DEFAULT (7) NOT NULL ,
-	[forum_rules_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[forum_topics_per_page] [int] DEFAULT (0) NOT NULL ,
-	[forum_type] [int] DEFAULT (0) NOT NULL ,
-	[forum_status] [int] DEFAULT (0) NOT NULL ,
-	[forum_posts] [int] DEFAULT (0) NOT NULL ,
-	[forum_topics] [int] DEFAULT (0) NOT NULL ,
-	[forum_topics_real] [int] DEFAULT (0) NOT NULL ,
-	[forum_last_post_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_last_poster_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_last_post_subject] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_last_post_time] [int] DEFAULT (0) NOT NULL ,
-	[forum_last_poster_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[forum_last_poster_colour] [varchar] (6) DEFAULT ('') NOT NULL ,
-	[forum_flags] [int] DEFAULT (32) NOT NULL ,
-	[forum_options] [int] DEFAULT (0) NOT NULL ,
-	[display_subforum_list] [int] DEFAULT (1) NOT NULL ,
-	[display_on_index] [int] DEFAULT (1) NOT NULL ,
-	[enable_indexing] [int] DEFAULT (1) NOT NULL ,
-	[enable_icons] [int] DEFAULT (1) NOT NULL ,
-	[enable_prune] [int] DEFAULT (0) NOT NULL ,
-	[prune_next] [int] DEFAULT (0) NOT NULL ,
-	[prune_days] [int] DEFAULT (0) NOT NULL ,
-	[prune_viewed] [int] DEFAULT (0) NOT NULL ,
-	[prune_freq] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_forums] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_forums] PRIMARY KEY  CLUSTERED 
-	(
-		[forum_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [left_right_id] ON [phpbb_forums]([left_id], [right_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_lastpost_id] ON [phpbb_forums]([forum_last_post_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_forums_access'
-*/
-CREATE TABLE [phpbb_forums_access] (
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[session_id] [char] (32) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_forums_access] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_forums_access] PRIMARY KEY  CLUSTERED 
-	(
-		[forum_id],
-		[user_id],
-		[session_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_forums_track'
-*/
-CREATE TABLE [phpbb_forums_track] (
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[mark_time] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_forums_track] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_forums_track] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id],
-		[forum_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_forums_watch'
-*/
-CREATE TABLE [phpbb_forums_watch] (
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[notify_status] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_forums_watch]([forum_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_forums_watch]([user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [notify_stat] ON [phpbb_forums_watch]([notify_status]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_groups'
-*/
-CREATE TABLE [phpbb_groups] (
-	[group_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[group_type] [int] DEFAULT (1) NOT NULL ,
-	[group_founder_manage] [int] DEFAULT (0) NOT NULL ,
-	[group_skip_auth] [int] DEFAULT (0) NOT NULL ,
-	[group_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[group_desc] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[group_desc_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[group_desc_options] [int] DEFAULT (7) NOT NULL ,
-	[group_desc_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[group_display] [int] DEFAULT (0) NOT NULL ,
-	[group_avatar] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[group_avatar_type] [int] DEFAULT (0) NOT NULL ,
-	[group_avatar_width] [int] DEFAULT (0) NOT NULL ,
-	[group_avatar_height] [int] DEFAULT (0) NOT NULL ,
-	[group_rank] [int] DEFAULT (0) NOT NULL ,
-	[group_colour] [varchar] (6) DEFAULT ('') NOT NULL ,
-	[group_sig_chars] [int] DEFAULT (0) NOT NULL ,
-	[group_receive_pm] [int] DEFAULT (0) NOT NULL ,
-	[group_message_limit] [int] DEFAULT (0) NOT NULL ,
-	[group_max_recipients] [int] DEFAULT (0) NOT NULL ,
-	[group_legend] [int] DEFAULT (1) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_groups] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_groups] PRIMARY KEY  CLUSTERED 
-	(
-		[group_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [group_legend_name] ON [phpbb_groups]([group_legend], [group_name]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_icons'
-*/
-CREATE TABLE [phpbb_icons] (
-	[icons_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[icons_url] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[icons_width] [int] DEFAULT (0) NOT NULL ,
-	[icons_height] [int] DEFAULT (0) NOT NULL ,
-	[icons_order] [int] DEFAULT (0) NOT NULL ,
-	[display_on_posting] [int] DEFAULT (1) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_icons] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_icons] PRIMARY KEY  CLUSTERED 
-	(
-		[icons_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [display_on_posting] ON [phpbb_icons]([display_on_posting]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_lang'
-*/
-CREATE TABLE [phpbb_lang] (
-	[lang_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[lang_iso] [varchar] (30) DEFAULT ('') NOT NULL ,
-	[lang_dir] [varchar] (30) DEFAULT ('') NOT NULL ,
-	[lang_english_name] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[lang_local_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[lang_author] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_lang] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_lang] PRIMARY KEY  CLUSTERED 
-	(
-		[lang_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [lang_iso] ON [phpbb_lang]([lang_iso]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_log'
-*/
-CREATE TABLE [phpbb_log] (
-	[log_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[log_type] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[reportee_id] [int] DEFAULT (0) NOT NULL ,
-	[log_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[log_time] [int] DEFAULT (0) NOT NULL ,
-	[log_operation] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[log_data] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_log] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_log] PRIMARY KEY  CLUSTERED 
-	(
-		[log_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [log_type] ON [phpbb_log]([log_type]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_log]([forum_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_log]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [reportee_id] ON [phpbb_log]([reportee_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_log]([user_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_login_attempts'
-*/
-CREATE TABLE [phpbb_login_attempts] (
-	[attempt_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[attempt_browser] [varchar] (150) DEFAULT ('') NOT NULL ,
-	[attempt_forwarded_for] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[attempt_time] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[username] [varchar] (255) DEFAULT (0) NOT NULL ,
-	[username_clean] [varchar] (255) DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [att_ip] ON [phpbb_login_attempts]([attempt_ip], [attempt_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [att_for] ON [phpbb_login_attempts]([attempt_forwarded_for], [attempt_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [att_time] ON [phpbb_login_attempts]([attempt_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_login_attempts]([user_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_moderator_cache'
-*/
-CREATE TABLE [phpbb_moderator_cache] (
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[username] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[group_id] [int] DEFAULT (0) NOT NULL ,
-	[group_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[display_on_index] [int] DEFAULT (1) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [disp_idx] ON [phpbb_moderator_cache]([display_on_index]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_moderator_cache]([forum_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_modules'
-*/
-CREATE TABLE [phpbb_modules] (
-	[module_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[module_enabled] [int] DEFAULT (1) NOT NULL ,
-	[module_display] [int] DEFAULT (1) NOT NULL ,
-	[module_basename] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[module_class] [varchar] (10) DEFAULT ('') NOT NULL ,
-	[parent_id] [int] DEFAULT (0) NOT NULL ,
-	[left_id] [int] DEFAULT (0) NOT NULL ,
-	[right_id] [int] DEFAULT (0) NOT NULL ,
-	[module_langname] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[module_mode] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[module_auth] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_modules] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_modules] PRIMARY KEY  CLUSTERED 
-	(
-		[module_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [left_right_id] ON [phpbb_modules]([left_id], [right_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [module_enabled] ON [phpbb_modules]([module_enabled]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [class_left_id] ON [phpbb_modules]([module_class], [left_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_poll_options'
-*/
-CREATE TABLE [phpbb_poll_options] (
-	[poll_option_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[poll_option_text] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[poll_option_total] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [poll_opt_id] ON [phpbb_poll_options]([poll_option_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_poll_options]([topic_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_poll_votes'
-*/
-CREATE TABLE [phpbb_poll_votes] (
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[poll_option_id] [int] DEFAULT (0) NOT NULL ,
-	[vote_user_id] [int] DEFAULT (0) NOT NULL ,
-	[vote_user_ip] [varchar] (40) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_poll_votes]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [vote_user_id] ON [phpbb_poll_votes]([vote_user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [vote_user_ip] ON [phpbb_poll_votes]([vote_user_ip]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_posts'
-*/
-CREATE TABLE [phpbb_posts] (
-	[post_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[poster_id] [int] DEFAULT (0) NOT NULL ,
-	[icon_id] [int] DEFAULT (0) NOT NULL ,
-	[poster_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[post_time] [int] DEFAULT (0) NOT NULL ,
-	[post_approved] [int] DEFAULT (1) NOT NULL ,
-	[post_reported] [int] DEFAULT (0) NOT NULL ,
-	[enable_bbcode] [int] DEFAULT (1) NOT NULL ,
-	[enable_smilies] [int] DEFAULT (1) NOT NULL ,
-	[enable_magic_url] [int] DEFAULT (1) NOT NULL ,
-	[enable_sig] [int] DEFAULT (1) NOT NULL ,
-	[post_username] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[post_subject] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[post_text] [text] DEFAULT ('') NOT NULL ,
-	[post_checksum] [varchar] (32) DEFAULT ('') NOT NULL ,
-	[post_attachment] [int] DEFAULT (0) NOT NULL ,
-	[bbcode_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[bbcode_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[post_postcount] [int] DEFAULT (1) NOT NULL ,
-	[post_edit_time] [int] DEFAULT (0) NOT NULL ,
-	[post_edit_reason] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[post_edit_user] [int] DEFAULT (0) NOT NULL ,
-	[post_edit_count] [int] DEFAULT (0) NOT NULL ,
-	[post_edit_locked] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_posts] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_posts] PRIMARY KEY  CLUSTERED 
-	(
-		[post_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_posts]([forum_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_posts]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [poster_ip] ON [phpbb_posts]([poster_ip]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [poster_id] ON [phpbb_posts]([poster_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [post_approved] ON [phpbb_posts]([post_approved]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [post_username] ON [phpbb_posts]([post_username]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [tid_post_time] ON [phpbb_posts]([topic_id], [post_time]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_privmsgs'
-*/
-CREATE TABLE [phpbb_privmsgs] (
-	[msg_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[root_level] [int] DEFAULT (0) NOT NULL ,
-	[author_id] [int] DEFAULT (0) NOT NULL ,
-	[icon_id] [int] DEFAULT (0) NOT NULL ,
-	[author_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[message_time] [int] DEFAULT (0) NOT NULL ,
-	[enable_bbcode] [int] DEFAULT (1) NOT NULL ,
-	[enable_smilies] [int] DEFAULT (1) NOT NULL ,
-	[enable_magic_url] [int] DEFAULT (1) NOT NULL ,
-	[enable_sig] [int] DEFAULT (1) NOT NULL ,
-	[message_subject] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[message_text] [text] DEFAULT ('') NOT NULL ,
-	[message_edit_reason] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[message_edit_user] [int] DEFAULT (0) NOT NULL ,
-	[message_attachment] [int] DEFAULT (0) NOT NULL ,
-	[bbcode_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[bbcode_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[message_edit_time] [int] DEFAULT (0) NOT NULL ,
-	[message_edit_count] [int] DEFAULT (0) NOT NULL ,
-	[to_address] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[bcc_address] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[message_reported] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_privmsgs] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_privmsgs] PRIMARY KEY  CLUSTERED 
-	(
-		[msg_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [author_ip] ON [phpbb_privmsgs]([author_ip]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [message_time] ON [phpbb_privmsgs]([message_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [author_id] ON [phpbb_privmsgs]([author_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [root_level] ON [phpbb_privmsgs]([root_level]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_privmsgs_folder'
-*/
-CREATE TABLE [phpbb_privmsgs_folder] (
-	[folder_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[folder_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[pm_count] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_privmsgs_folder] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_privmsgs_folder] PRIMARY KEY  CLUSTERED 
-	(
-		[folder_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_privmsgs_folder]([user_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_privmsgs_rules'
-*/
-CREATE TABLE [phpbb_privmsgs_rules] (
-	[rule_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[rule_check] [int] DEFAULT (0) NOT NULL ,
-	[rule_connection] [int] DEFAULT (0) NOT NULL ,
-	[rule_string] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[rule_user_id] [int] DEFAULT (0) NOT NULL ,
-	[rule_group_id] [int] DEFAULT (0) NOT NULL ,
-	[rule_action] [int] DEFAULT (0) NOT NULL ,
-	[rule_folder_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_privmsgs_rules] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_privmsgs_rules] PRIMARY KEY  CLUSTERED 
-	(
-		[rule_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_privmsgs_rules]([user_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_privmsgs_to'
-*/
-CREATE TABLE [phpbb_privmsgs_to] (
-	[msg_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[author_id] [int] DEFAULT (0) NOT NULL ,
-	[pm_deleted] [int] DEFAULT (0) NOT NULL ,
-	[pm_new] [int] DEFAULT (1) NOT NULL ,
-	[pm_unread] [int] DEFAULT (1) NOT NULL ,
-	[pm_replied] [int] DEFAULT (0) NOT NULL ,
-	[pm_marked] [int] DEFAULT (0) NOT NULL ,
-	[pm_forwarded] [int] DEFAULT (0) NOT NULL ,
-	[folder_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [msg_id] ON [phpbb_privmsgs_to]([msg_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [author_id] ON [phpbb_privmsgs_to]([author_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [usr_flder_id] ON [phpbb_privmsgs_to]([user_id], [folder_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_profile_fields'
-*/
-CREATE TABLE [phpbb_profile_fields] (
-	[field_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[field_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[field_type] [int] DEFAULT (0) NOT NULL ,
-	[field_ident] [varchar] (20) DEFAULT ('') NOT NULL ,
-	[field_length] [varchar] (20) DEFAULT ('') NOT NULL ,
-	[field_minlen] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[field_maxlen] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[field_novalue] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[field_default_value] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[field_validation] [varchar] (20) DEFAULT ('') NOT NULL ,
-	[field_required] [int] DEFAULT (0) NOT NULL ,
-	[field_show_on_reg] [int] DEFAULT (0) NOT NULL ,
-	[field_show_on_vt] [int] DEFAULT (0) NOT NULL ,
-	[field_show_profile] [int] DEFAULT (0) NOT NULL ,
-	[field_hide] [int] DEFAULT (0) NOT NULL ,
-	[field_no_view] [int] DEFAULT (0) NOT NULL ,
-	[field_active] [int] DEFAULT (0) NOT NULL ,
-	[field_order] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_profile_fields] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_profile_fields] PRIMARY KEY  CLUSTERED 
-	(
-		[field_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [fld_type] ON [phpbb_profile_fields]([field_type]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [fld_ordr] ON [phpbb_profile_fields]([field_order]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_profile_fields_data'
-*/
-CREATE TABLE [phpbb_profile_fields_data] (
-	[user_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_profile_fields_data] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_profile_fields_data] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_profile_fields_lang'
-*/
-CREATE TABLE [phpbb_profile_fields_lang] (
-	[field_id] [int] DEFAULT (0) NOT NULL ,
-	[lang_id] [int] DEFAULT (0) NOT NULL ,
-	[option_id] [int] DEFAULT (0) NOT NULL ,
-	[field_type] [int] DEFAULT (0) NOT NULL ,
-	[lang_value] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_profile_fields_lang] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_profile_fields_lang] PRIMARY KEY  CLUSTERED 
-	(
-		[field_id],
-		[lang_id],
-		[option_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_profile_lang'
-*/
-CREATE TABLE [phpbb_profile_lang] (
-	[field_id] [int] DEFAULT (0) NOT NULL ,
-	[lang_id] [int] DEFAULT (0) NOT NULL ,
-	[lang_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[lang_explain] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[lang_default_value] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_profile_lang] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_profile_lang] PRIMARY KEY  CLUSTERED 
-	(
-		[field_id],
-		[lang_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_ranks'
-*/
-CREATE TABLE [phpbb_ranks] (
-	[rank_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[rank_title] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[rank_min] [int] DEFAULT (0) NOT NULL ,
-	[rank_special] [int] DEFAULT (0) NOT NULL ,
-	[rank_image] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_ranks] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_ranks] PRIMARY KEY  CLUSTERED 
-	(
-		[rank_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_reports'
-*/
-CREATE TABLE [phpbb_reports] (
-	[report_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[reason_id] [int] DEFAULT (0) NOT NULL ,
-	[post_id] [int] DEFAULT (0) NOT NULL ,
-	[pm_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[user_notify] [int] DEFAULT (0) NOT NULL ,
-	[report_closed] [int] DEFAULT (0) NOT NULL ,
-	[report_time] [int] DEFAULT (0) NOT NULL ,
-	[report_text] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_reports] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_reports] PRIMARY KEY  CLUSTERED 
-	(
-		[report_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [post_id] ON [phpbb_reports]([post_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [pm_id] ON [phpbb_reports]([pm_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_reports_reasons'
-*/
-CREATE TABLE [phpbb_reports_reasons] (
-	[reason_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[reason_title] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[reason_description] [text] DEFAULT ('') NOT NULL ,
-	[reason_order] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_reports_reasons] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_reports_reasons] PRIMARY KEY  CLUSTERED 
-	(
-		[reason_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_search_results'
-*/
-CREATE TABLE [phpbb_search_results] (
-	[search_key] [varchar] (32) DEFAULT ('') NOT NULL ,
-	[search_time] [int] DEFAULT (0) NOT NULL ,
-	[search_keywords] [text] DEFAULT ('') NOT NULL ,
-	[search_authors] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_search_results] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_search_results] PRIMARY KEY  CLUSTERED 
-	(
-		[search_key]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_search_wordlist'
-*/
-CREATE TABLE [phpbb_search_wordlist] (
-	[word_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[word_text] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[word_common] [int] DEFAULT (0) NOT NULL ,
-	[word_count] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_search_wordlist] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_search_wordlist] PRIMARY KEY  CLUSTERED 
-	(
-		[word_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [wrd_txt] ON [phpbb_search_wordlist]([word_text]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [wrd_cnt] ON [phpbb_search_wordlist]([word_count]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_search_wordmatch'
-*/
-CREATE TABLE [phpbb_search_wordmatch] (
-	[post_id] [int] DEFAULT (0) NOT NULL ,
-	[word_id] [int] DEFAULT (0) NOT NULL ,
-	[title_match] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  UNIQUE  INDEX [unq_mtch] ON [phpbb_search_wordmatch]([word_id], [post_id], [title_match]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [word_id] ON [phpbb_search_wordmatch]([word_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [post_id] ON [phpbb_search_wordmatch]([post_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_sessions'
-*/
-CREATE TABLE [phpbb_sessions] (
-	[session_id] [char] (32) DEFAULT ('') NOT NULL ,
-	[session_user_id] [int] DEFAULT (0) NOT NULL ,
-	[session_forum_id] [int] DEFAULT (0) NOT NULL ,
-	[session_last_visit] [int] DEFAULT (0) NOT NULL ,
-	[session_start] [int] DEFAULT (0) NOT NULL ,
-	[session_time] [int] DEFAULT (0) NOT NULL ,
-	[session_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[session_browser] [varchar] (150) DEFAULT ('') NOT NULL ,
-	[session_forwarded_for] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[session_page] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[session_viewonline] [int] DEFAULT (1) NOT NULL ,
-	[session_autologin] [int] DEFAULT (0) NOT NULL ,
-	[session_admin] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_sessions] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_sessions] PRIMARY KEY  CLUSTERED 
-	(
-		[session_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [session_time] ON [phpbb_sessions]([session_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [session_user_id] ON [phpbb_sessions]([session_user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [session_fid] ON [phpbb_sessions]([session_forum_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_sessions_keys'
-*/
-CREATE TABLE [phpbb_sessions_keys] (
-	[key_id] [char] (32) DEFAULT ('') NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[last_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[last_login] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_sessions_keys] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_sessions_keys] PRIMARY KEY  CLUSTERED 
-	(
-		[key_id],
-		[user_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [last_login] ON [phpbb_sessions_keys]([last_login]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_sitelist'
-*/
-CREATE TABLE [phpbb_sitelist] (
-	[site_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[site_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[site_hostname] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[ip_exclude] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_sitelist] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_sitelist] PRIMARY KEY  CLUSTERED 
-	(
-		[site_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_smilies'
-*/
-CREATE TABLE [phpbb_smilies] (
-	[smiley_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[code] [varchar] (50) DEFAULT ('') NOT NULL ,
-	[emotion] [varchar] (50) DEFAULT ('') NOT NULL ,
-	[smiley_url] [varchar] (50) DEFAULT ('') NOT NULL ,
-	[smiley_width] [int] DEFAULT (0) NOT NULL ,
-	[smiley_height] [int] DEFAULT (0) NOT NULL ,
-	[smiley_order] [int] DEFAULT (0) NOT NULL ,
-	[display_on_posting] [int] DEFAULT (1) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_smilies] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_smilies] PRIMARY KEY  CLUSTERED 
-	(
-		[smiley_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [display_on_post] ON [phpbb_smilies]([display_on_posting]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles'
-*/
-CREATE TABLE [phpbb_styles] (
-	[style_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[style_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[style_copyright] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[style_active] [int] DEFAULT (1) NOT NULL ,
-	[template_id] [int] DEFAULT (0) NOT NULL ,
-	[theme_id] [int] DEFAULT (0) NOT NULL ,
-	[imageset_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_styles] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_styles] PRIMARY KEY  CLUSTERED 
-	(
-		[style_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [style_name] ON [phpbb_styles]([style_name]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [template_id] ON [phpbb_styles]([template_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [theme_id] ON [phpbb_styles]([theme_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [imageset_id] ON [phpbb_styles]([imageset_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles_template'
-*/
-CREATE TABLE [phpbb_styles_template] (
-	[template_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[template_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[template_copyright] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[template_path] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[bbcode_bitfield] [varchar] (255) DEFAULT ('kNg=') NOT NULL ,
-	[template_storedb] [int] DEFAULT (0) NOT NULL ,
-	[template_inherits_id] [int] DEFAULT (0) NOT NULL ,
-	[template_inherit_path] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_styles_template] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_styles_template] PRIMARY KEY  CLUSTERED 
-	(
-		[template_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [tmplte_nm] ON [phpbb_styles_template]([template_name]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles_template_data'
-*/
-CREATE TABLE [phpbb_styles_template_data] (
-	[template_id] [int] DEFAULT (0) NOT NULL ,
-	[template_filename] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[template_included] [varchar] (8000) DEFAULT ('') NOT NULL ,
-	[template_mtime] [int] DEFAULT (0) NOT NULL ,
-	[template_data] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-CREATE  INDEX [tid] ON [phpbb_styles_template_data]([template_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [tfn] ON [phpbb_styles_template_data]([template_filename]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles_theme'
-*/
-CREATE TABLE [phpbb_styles_theme] (
-	[theme_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[theme_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[theme_copyright] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[theme_path] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[theme_storedb] [int] DEFAULT (0) NOT NULL ,
-	[theme_mtime] [int] DEFAULT (0) NOT NULL ,
-	[theme_data] [text] DEFAULT ('') NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_styles_theme] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_styles_theme] PRIMARY KEY  CLUSTERED 
-	(
-		[theme_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [theme_name] ON [phpbb_styles_theme]([theme_name]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles_imageset'
-*/
-CREATE TABLE [phpbb_styles_imageset] (
-	[imageset_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[imageset_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[imageset_copyright] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[imageset_path] [varchar] (100) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_styles_imageset] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_styles_imageset] PRIMARY KEY  CLUSTERED 
-	(
-		[imageset_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  UNIQUE  INDEX [imgset_nm] ON [phpbb_styles_imageset]([imageset_name]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_styles_imageset_data'
-*/
-CREATE TABLE [phpbb_styles_imageset_data] (
-	[image_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[image_name] [varchar] (200) DEFAULT ('') NOT NULL ,
-	[image_filename] [varchar] (200) DEFAULT ('') NOT NULL ,
-	[image_lang] [varchar] (30) DEFAULT ('') NOT NULL ,
-	[image_height] [int] DEFAULT (0) NOT NULL ,
-	[image_width] [int] DEFAULT (0) NOT NULL ,
-	[imageset_id] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_styles_imageset_data] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_styles_imageset_data] PRIMARY KEY  CLUSTERED 
-	(
-		[image_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [i_d] ON [phpbb_styles_imageset_data]([imageset_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_topics'
-*/
-CREATE TABLE [phpbb_topics] (
-	[topic_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[icon_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_attachment] [int] DEFAULT (0) NOT NULL ,
-	[topic_approved] [int] DEFAULT (1) NOT NULL ,
-	[topic_reported] [int] DEFAULT (0) NOT NULL ,
-	[topic_title] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[topic_poster] [int] DEFAULT (0) NOT NULL ,
-	[topic_time] [int] DEFAULT (0) NOT NULL ,
-	[topic_time_limit] [int] DEFAULT (0) NOT NULL ,
-	[topic_views] [int] DEFAULT (0) NOT NULL ,
-	[topic_replies] [int] DEFAULT (0) NOT NULL ,
-	[topic_replies_real] [int] DEFAULT (0) NOT NULL ,
-	[topic_status] [int] DEFAULT (0) NOT NULL ,
-	[topic_type] [int] DEFAULT (0) NOT NULL ,
-	[topic_first_post_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_first_poster_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[topic_first_poster_colour] [varchar] (6) DEFAULT ('') NOT NULL ,
-	[topic_last_post_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_last_poster_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_last_poster_name] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[topic_last_poster_colour] [varchar] (6) DEFAULT ('') NOT NULL ,
-	[topic_last_post_subject] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[topic_last_post_time] [int] DEFAULT (0) NOT NULL ,
-	[topic_last_view_time] [int] DEFAULT (0) NOT NULL ,
-	[topic_moved_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_bumped] [int] DEFAULT (0) NOT NULL ,
-	[topic_bumper] [int] DEFAULT (0) NOT NULL ,
-	[poll_title] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[poll_start] [int] DEFAULT (0) NOT NULL ,
-	[poll_length] [int] DEFAULT (0) NOT NULL ,
-	[poll_max_options] [int] DEFAULT (1) NOT NULL ,
-	[poll_last_vote] [int] DEFAULT (0) NOT NULL ,
-	[poll_vote_change] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_topics] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_topics] PRIMARY KEY  CLUSTERED 
-	(
-		[topic_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_topics]([forum_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_id_type] ON [phpbb_topics]([forum_id], [topic_type]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [last_post_time] ON [phpbb_topics]([topic_last_post_time]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_approved] ON [phpbb_topics]([topic_approved]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_appr_last] ON [phpbb_topics]([forum_id], [topic_approved], [topic_last_post_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [fid_time_moved] ON [phpbb_topics]([forum_id], [topic_last_post_time], [topic_moved_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_topics_track'
-*/
-CREATE TABLE [phpbb_topics_track] (
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[forum_id] [int] DEFAULT (0) NOT NULL ,
-	[mark_time] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_topics_track] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_topics_track] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id],
-		[topic_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_topics_track]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [forum_id] ON [phpbb_topics_track]([forum_id]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_topics_posted'
-*/
-CREATE TABLE [phpbb_topics_posted] (
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[topic_posted] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_topics_posted] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_topics_posted] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id],
-		[topic_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_topics_watch'
-*/
-CREATE TABLE [phpbb_topics_watch] (
-	[topic_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[notify_status] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [topic_id] ON [phpbb_topics_watch]([topic_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_topics_watch]([user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [notify_stat] ON [phpbb_topics_watch]([notify_status]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_user_group'
-*/
-CREATE TABLE [phpbb_user_group] (
-	[group_id] [int] DEFAULT (0) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[group_leader] [int] DEFAULT (0) NOT NULL ,
-	[user_pending] [int] DEFAULT (1) NOT NULL 
-) ON [PRIMARY]
-GO
-
-CREATE  INDEX [group_id] ON [phpbb_user_group]([group_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_id] ON [phpbb_user_group]([user_id]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [group_leader] ON [phpbb_user_group]([group_leader]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_users'
-*/
-CREATE TABLE [phpbb_users] (
-	[user_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[user_type] [int] DEFAULT (0) NOT NULL ,
-	[group_id] [int] DEFAULT (3) NOT NULL ,
-	[user_permissions] [text] DEFAULT ('') NOT NULL ,
-	[user_perm_from] [int] DEFAULT (0) NOT NULL ,
-	[user_ip] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[user_regdate] [int] DEFAULT (0) NOT NULL ,
-	[username] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[username_clean] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_password] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[user_passchg] [int] DEFAULT (0) NOT NULL ,
-	[user_pass_convert] [int] DEFAULT (0) NOT NULL ,
-	[user_email] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[user_email_hash] [float] DEFAULT (0) NOT NULL ,
-	[user_birthday] [varchar] (10) DEFAULT ('') NOT NULL ,
-	[user_lastvisit] [int] DEFAULT (0) NOT NULL ,
-	[user_lastmark] [int] DEFAULT (0) NOT NULL ,
-	[user_lastpost_time] [int] DEFAULT (0) NOT NULL ,
-	[user_lastpage] [varchar] (200) DEFAULT ('') NOT NULL ,
-	[user_last_confirm_key] [varchar] (10) DEFAULT ('') NOT NULL ,
-	[user_last_search] [int] DEFAULT (0) NOT NULL ,
-	[user_warnings] [int] DEFAULT (0) NOT NULL ,
-	[user_last_warning] [int] DEFAULT (0) NOT NULL ,
-	[user_login_attempts] [int] DEFAULT (0) NOT NULL ,
-	[user_inactive_reason] [int] DEFAULT (0) NOT NULL ,
-	[user_inactive_time] [int] DEFAULT (0) NOT NULL ,
-	[user_posts] [int] DEFAULT (0) NOT NULL ,
-	[user_lang] [varchar] (30) DEFAULT ('') NOT NULL ,
-	[user_timezone] [float] DEFAULT (0) NOT NULL ,
-	[user_dst] [int] DEFAULT (0) NOT NULL ,
-	[user_dateformat] [varchar] (30) DEFAULT ('d M Y H:i') NOT NULL ,
-	[user_style] [int] DEFAULT (0) NOT NULL ,
-	[user_rank] [int] DEFAULT (0) NOT NULL ,
-	[user_colour] [varchar] (6) DEFAULT ('') NOT NULL ,
-	[user_new_privmsg] [int] DEFAULT (0) NOT NULL ,
-	[user_unread_privmsg] [int] DEFAULT (0) NOT NULL ,
-	[user_last_privmsg] [int] DEFAULT (0) NOT NULL ,
-	[user_message_rules] [int] DEFAULT (0) NOT NULL ,
-	[user_full_folder] [int] DEFAULT (-3) NOT NULL ,
-	[user_emailtime] [int] DEFAULT (0) NOT NULL ,
-	[user_topic_show_days] [int] DEFAULT (0) NOT NULL ,
-	[user_topic_sortby_type] [varchar] (1) DEFAULT ('t') NOT NULL ,
-	[user_topic_sortby_dir] [varchar] (1) DEFAULT ('d') NOT NULL ,
-	[user_post_show_days] [int] DEFAULT (0) NOT NULL ,
-	[user_post_sortby_type] [varchar] (1) DEFAULT ('t') NOT NULL ,
-	[user_post_sortby_dir] [varchar] (1) DEFAULT ('a') NOT NULL ,
-	[user_notify] [int] DEFAULT (0) NOT NULL ,
-	[user_notify_pm] [int] DEFAULT (1) NOT NULL ,
-	[user_notify_type] [int] DEFAULT (0) NOT NULL ,
-	[user_allow_pm] [int] DEFAULT (1) NOT NULL ,
-	[user_allow_viewonline] [int] DEFAULT (1) NOT NULL ,
-	[user_allow_viewemail] [int] DEFAULT (1) NOT NULL ,
-	[user_allow_massemail] [int] DEFAULT (1) NOT NULL ,
-	[user_options] [int] DEFAULT (230271) NOT NULL ,
-	[user_avatar] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_avatar_type] [int] DEFAULT (0) NOT NULL ,
-	[user_avatar_width] [int] DEFAULT (0) NOT NULL ,
-	[user_avatar_height] [int] DEFAULT (0) NOT NULL ,
-	[user_sig] [text] DEFAULT ('') NOT NULL ,
-	[user_sig_bbcode_uid] [varchar] (8) DEFAULT ('') NOT NULL ,
-	[user_sig_bbcode_bitfield] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_from] [varchar] (100) DEFAULT ('') NOT NULL ,
-	[user_icq] [varchar] (15) DEFAULT ('') NOT NULL ,
-	[user_aim] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_yim] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_msnm] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_jabber] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[user_website] [varchar] (200) DEFAULT ('') NOT NULL ,
-	[user_occ] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[user_interests] [varchar] (4000) DEFAULT ('') NOT NULL ,
-	[user_actkey] [varchar] (32) DEFAULT ('') NOT NULL ,
-	[user_newpasswd] [varchar] (40) DEFAULT ('') NOT NULL ,
-	[user_form_salt] [varchar] (32) DEFAULT ('') NOT NULL ,
-	[user_new] [int] DEFAULT (1) NOT NULL ,
-	[user_reminded] [int] DEFAULT (0) NOT NULL ,
-	[user_reminded_time] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_users] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_users] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id]
-	)  ON [PRIMARY] 
-GO
-
-CREATE  INDEX [user_birthday] ON [phpbb_users]([user_birthday]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_email_hash] ON [phpbb_users]([user_email_hash]) ON [PRIMARY]
-GO
-
-CREATE  INDEX [user_type] ON [phpbb_users]([user_type]) ON [PRIMARY]
-GO
-
-CREATE  UNIQUE  INDEX [username_clean] ON [phpbb_users]([username_clean]) ON [PRIMARY]
-GO
-
-
-/*
-	Table: 'phpbb_warnings'
-*/
-CREATE TABLE [phpbb_warnings] (
-	[warning_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[post_id] [int] DEFAULT (0) NOT NULL ,
-	[log_id] [int] DEFAULT (0) NOT NULL ,
-	[warning_time] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_warnings] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_warnings] PRIMARY KEY  CLUSTERED 
-	(
-		[warning_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_words'
-*/
-CREATE TABLE [phpbb_words] (
-	[word_id] [int] IDENTITY (1, 1) NOT NULL ,
-	[word] [varchar] (255) DEFAULT ('') NOT NULL ,
-	[replacement] [varchar] (255) DEFAULT ('') NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_words] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_words] PRIMARY KEY  CLUSTERED 
-	(
-		[word_id]
-	)  ON [PRIMARY] 
-GO
-
-
-/*
-	Table: 'phpbb_zebra'
-*/
-CREATE TABLE [phpbb_zebra] (
-	[user_id] [int] DEFAULT (0) NOT NULL ,
-	[zebra_id] [int] DEFAULT (0) NOT NULL ,
-	[friend] [int] DEFAULT (0) NOT NULL ,
-	[foe] [int] DEFAULT (0) NOT NULL 
-) ON [PRIMARY]
-GO
-
-ALTER TABLE [phpbb_zebra] WITH NOCHECK ADD 
-	CONSTRAINT [PK_phpbb_zebra] PRIMARY KEY  CLUSTERED 
-	(
-		[user_id],
-		[zebra_id]
-	)  ON [PRIMARY] 
-GO
-
-
diff -rNU5 phpBB3-init/install/schemas/mysql_40_schema.sql phpBB3/install/schemas/mysql_40_schema.sql
--- phpBB3-init/install/schemas/mysql_40_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/mysql_40_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1032 +0,0 @@
-#
-# $Id: $
-#
-
-# Table: 'phpbb_attachments'
-CREATE TABLE phpbb_attachments (
-	attach_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	post_msg_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	in_message tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	is_orphan tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	physical_filename varbinary(255) DEFAULT '' NOT NULL,
-	real_filename varbinary(255) DEFAULT '' NOT NULL,
-	download_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	attach_comment blob NOT NULL,
-	extension varbinary(100) DEFAULT '' NOT NULL,
-	mimetype varbinary(100) DEFAULT '' NOT NULL,
-	filesize int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	filetime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	thumbnail tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (attach_id),
-	KEY filetime (filetime),
-	KEY post_msg_id (post_msg_id),
-	KEY topic_id (topic_id),
-	KEY poster_id (poster_id),
-	KEY is_orphan (is_orphan)
-);
-
-
-# Table: 'phpbb_acl_groups'
-CREATE TABLE phpbb_acl_groups (
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	KEY group_id (group_id),
-	KEY auth_opt_id (auth_option_id),
-	KEY auth_role_id (auth_role_id)
-);
-
-
-# Table: 'phpbb_acl_options'
-CREATE TABLE phpbb_acl_options (
-	auth_option_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	auth_option varbinary(50) DEFAULT '' NOT NULL,
-	is_global tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	is_local tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	founder_only tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (auth_option_id),
-	UNIQUE auth_option (auth_option)
-);
-
-
-# Table: 'phpbb_acl_roles'
-CREATE TABLE phpbb_acl_roles (
-	role_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	role_name blob NOT NULL,
-	role_description blob NOT NULL,
-	role_type varbinary(10) DEFAULT '' NOT NULL,
-	role_order smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (role_id),
-	KEY role_type (role_type),
-	KEY role_order (role_order)
-);
-
-
-# Table: 'phpbb_acl_roles_data'
-CREATE TABLE phpbb_acl_roles_data (
-	role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	PRIMARY KEY (role_id, auth_option_id),
-	KEY ath_op_id (auth_option_id)
-);
-
-
-# Table: 'phpbb_acl_users'
-CREATE TABLE phpbb_acl_users (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	KEY user_id (user_id),
-	KEY auth_option_id (auth_option_id),
-	KEY auth_role_id (auth_role_id)
-);
-
-
-# Table: 'phpbb_banlist'
-CREATE TABLE phpbb_banlist (
-	ban_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	ban_userid mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_ip varbinary(40) DEFAULT '' NOT NULL,
-	ban_email blob NOT NULL,
-	ban_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_end int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_exclude tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_reason blob NOT NULL,
-	ban_give_reason blob NOT NULL,
-	PRIMARY KEY (ban_id),
-	KEY ban_end (ban_end),
-	KEY ban_user (ban_userid, ban_exclude),
-	KEY ban_email (ban_email(255), ban_exclude),
-	KEY ban_ip (ban_ip, ban_exclude)
-);
-
-
-# Table: 'phpbb_bbcodes'
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_tag varbinary(16) DEFAULT '' NOT NULL,
-	bbcode_helpline blob NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_match blob NOT NULL,
-	bbcode_tpl mediumblob NOT NULL,
-	first_pass_match mediumblob NOT NULL,
-	first_pass_replace mediumblob NOT NULL,
-	second_pass_match mediumblob NOT NULL,
-	second_pass_replace mediumblob NOT NULL,
-	PRIMARY KEY (bbcode_id),
-	KEY display_on_post (display_on_posting)
-);
-
-
-# Table: 'phpbb_bookmarks'
-CREATE TABLE phpbb_bookmarks (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (topic_id, user_id)
-);
-
-
-# Table: 'phpbb_bots'
-CREATE TABLE phpbb_bots (
-	bot_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	bot_active tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	bot_name blob NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	bot_agent varbinary(255) DEFAULT '' NOT NULL,
-	bot_ip varbinary(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (bot_id),
-	KEY bot_active (bot_active)
-);
-
-
-# Table: 'phpbb_config'
-CREATE TABLE phpbb_config (
-	config_name varbinary(255) DEFAULT '' NOT NULL,
-	config_value blob NOT NULL,
-	is_dynamic tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (config_name),
-	KEY is_dynamic (is_dynamic)
-);
-
-
-# Table: 'phpbb_confirm'
-CREATE TABLE phpbb_confirm (
-	confirm_id binary(32) DEFAULT '' NOT NULL,
-	session_id binary(32) DEFAULT '' NOT NULL,
-	confirm_type tinyint(3) DEFAULT '0' NOT NULL,
-	code varbinary(8) DEFAULT '' NOT NULL,
-	seed int(10) UNSIGNED DEFAULT '0' NOT NULL,
-	attempts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (session_id, confirm_id),
-	KEY confirm_type (confirm_type)
-);
-
-
-# Table: 'phpbb_disallow'
-CREATE TABLE phpbb_disallow (
-	disallow_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	disallow_username blob NOT NULL,
-	PRIMARY KEY (disallow_id)
-);
-
-
-# Table: 'phpbb_drafts'
-CREATE TABLE phpbb_drafts (
-	draft_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	save_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	draft_subject blob NOT NULL,
-	draft_message mediumblob NOT NULL,
-	PRIMARY KEY (draft_id),
-	KEY save_time (save_time)
-);
-
-
-# Table: 'phpbb_extensions'
-CREATE TABLE phpbb_extensions (
-	extension_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	extension varbinary(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (extension_id)
-);
-
-
-# Table: 'phpbb_extension_groups'
-CREATE TABLE phpbb_extension_groups (
-	group_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_name blob NOT NULL,
-	cat_id tinyint(2) DEFAULT '0' NOT NULL,
-	allow_group tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	download_mode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	upload_icon varbinary(255) DEFAULT '' NOT NULL,
-	max_filesize int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	allowed_forums blob NOT NULL,
-	allow_in_pm tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (group_id)
-);
-
-
-# Table: 'phpbb_forums'
-CREATE TABLE phpbb_forums (
-	forum_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	parent_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	left_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	right_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_parents mediumblob NOT NULL,
-	forum_name blob NOT NULL,
-	forum_desc blob NOT NULL,
-	forum_desc_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	forum_desc_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	forum_desc_uid varbinary(8) DEFAULT '' NOT NULL,
-	forum_link blob NOT NULL,
-	forum_password varbinary(120) DEFAULT '' NOT NULL,
-	forum_style mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_image varbinary(255) DEFAULT '' NOT NULL,
-	forum_rules blob NOT NULL,
-	forum_rules_link blob NOT NULL,
-	forum_rules_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	forum_rules_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	forum_rules_uid varbinary(8) DEFAULT '' NOT NULL,
-	forum_topics_per_page tinyint(4) DEFAULT '0' NOT NULL,
-	forum_type tinyint(4) DEFAULT '0' NOT NULL,
-	forum_status tinyint(4) DEFAULT '0' NOT NULL,
-	forum_posts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_topics mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_topics_real mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_post_subject blob NOT NULL,
-	forum_last_post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_poster_name blob NOT NULL,
-	forum_last_poster_colour varbinary(6) DEFAULT '' NOT NULL,
-	forum_flags tinyint(4) DEFAULT '32' NOT NULL,
-	forum_options int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	display_subforum_list tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	display_on_index tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_indexing tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_icons tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_prune tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_next int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_days mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_viewed mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_freq mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (forum_id),
-	KEY left_right_id (left_id, right_id),
-	KEY forum_lastpost_id (forum_last_post_id)
-);
-
-
-# Table: 'phpbb_forums_access'
-CREATE TABLE phpbb_forums_access (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_id binary(32) DEFAULT '' NOT NULL,
-	PRIMARY KEY (forum_id, user_id, session_id)
-);
-
-
-# Table: 'phpbb_forums_track'
-CREATE TABLE phpbb_forums_track (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	mark_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, forum_id)
-);
-
-
-# Table: 'phpbb_forums_watch'
-CREATE TABLE phpbb_forums_watch (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	notify_status tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY forum_id (forum_id),
-	KEY user_id (user_id),
-	KEY notify_stat (notify_status)
-);
-
-
-# Table: 'phpbb_groups'
-CREATE TABLE phpbb_groups (
-	group_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_type tinyint(4) DEFAULT '1' NOT NULL,
-	group_founder_manage tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_skip_auth tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_name blob NOT NULL,
-	group_desc blob NOT NULL,
-	group_desc_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	group_desc_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	group_desc_uid varbinary(8) DEFAULT '' NOT NULL,
-	group_display tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_avatar varbinary(255) DEFAULT '' NOT NULL,
-	group_avatar_type tinyint(2) DEFAULT '0' NOT NULL,
-	group_avatar_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	group_avatar_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	group_rank mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_colour varbinary(6) DEFAULT '' NOT NULL,
-	group_sig_chars mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_receive_pm tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_message_limit mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_max_recipients mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_legend tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (group_id),
-	KEY group_legend_name (group_legend, group_name(255))
-);
-
-
-# Table: 'phpbb_icons'
-CREATE TABLE phpbb_icons (
-	icons_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	icons_url varbinary(255) DEFAULT '' NOT NULL,
-	icons_width tinyint(4) DEFAULT '0' NOT NULL,
-	icons_height tinyint(4) DEFAULT '0' NOT NULL,
-	icons_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (icons_id),
-	KEY display_on_posting (display_on_posting)
-);
-
-
-# Table: 'phpbb_lang'
-CREATE TABLE phpbb_lang (
-	lang_id tinyint(4) NOT NULL auto_increment,
-	lang_iso varbinary(30) DEFAULT '' NOT NULL,
-	lang_dir varbinary(30) DEFAULT '' NOT NULL,
-	lang_english_name blob NOT NULL,
-	lang_local_name blob NOT NULL,
-	lang_author blob NOT NULL,
-	PRIMARY KEY (lang_id),
-	KEY lang_iso (lang_iso)
-);
-
-
-# Table: 'phpbb_log'
-CREATE TABLE phpbb_log (
-	log_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	log_type tinyint(4) DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	reportee_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	log_ip varbinary(40) DEFAULT '' NOT NULL,
-	log_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	log_operation blob NOT NULL,
-	log_data mediumblob NOT NULL,
-	PRIMARY KEY (log_id),
-	KEY log_type (log_type),
-	KEY forum_id (forum_id),
-	KEY topic_id (topic_id),
-	KEY reportee_id (reportee_id),
-	KEY user_id (user_id)
-);
-
-
-# Table: 'phpbb_login_attempts'
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip varbinary(40) DEFAULT '' NOT NULL,
-	attempt_browser varbinary(150) DEFAULT '' NOT NULL,
-	attempt_forwarded_for varbinary(255) DEFAULT '' NOT NULL,
-	attempt_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	username blob NOT NULL,
-	username_clean blob NOT NULL,
-	KEY att_ip (attempt_ip, attempt_time),
-	KEY att_for (attempt_forwarded_for, attempt_time),
-	KEY att_time (attempt_time),
-	KEY user_id (user_id)
-);
-
-
-# Table: 'phpbb_moderator_cache'
-CREATE TABLE phpbb_moderator_cache (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	username blob NOT NULL,
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_name blob NOT NULL,
-	display_on_index tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	KEY disp_idx (display_on_index),
-	KEY forum_id (forum_id)
-);
-
-
-# Table: 'phpbb_modules'
-CREATE TABLE phpbb_modules (
-	module_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	module_enabled tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	module_display tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	module_basename varbinary(255) DEFAULT '' NOT NULL,
-	module_class varbinary(10) DEFAULT '' NOT NULL,
-	parent_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	left_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	right_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	module_langname varbinary(255) DEFAULT '' NOT NULL,
-	module_mode varbinary(255) DEFAULT '' NOT NULL,
-	module_auth varbinary(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (module_id),
-	KEY left_right_id (left_id, right_id),
-	KEY module_enabled (module_enabled),
-	KEY class_left_id (module_class, left_id)
-);
-
-
-# Table: 'phpbb_poll_options'
-CREATE TABLE phpbb_poll_options (
-	poll_option_id tinyint(4) DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_option_text blob NOT NULL,
-	poll_option_total mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY poll_opt_id (poll_option_id),
-	KEY topic_id (topic_id)
-);
-
-
-# Table: 'phpbb_poll_votes'
-CREATE TABLE phpbb_poll_votes (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_option_id tinyint(4) DEFAULT '0' NOT NULL,
-	vote_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	vote_user_ip varbinary(40) DEFAULT '' NOT NULL,
-	KEY topic_id (topic_id),
-	KEY vote_user_id (vote_user_id),
-	KEY vote_user_ip (vote_user_ip)
-);
-
-
-# Table: 'phpbb_posts'
-CREATE TABLE phpbb_posts (
-	post_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_ip varbinary(40) DEFAULT '' NOT NULL,
-	post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	post_approved tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	enable_bbcode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_smilies tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_magic_url tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_sig tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_username blob NOT NULL,
-	post_subject blob NOT NULL,
-	post_text mediumblob NOT NULL,
-	post_checksum varbinary(32) DEFAULT '' NOT NULL,
-	post_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	bbcode_uid varbinary(8) DEFAULT '' NOT NULL,
-	post_postcount tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_edit_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_reason blob NOT NULL,
-	post_edit_user mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_count smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_locked tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (post_id),
-	KEY forum_id (forum_id),
-	KEY topic_id (topic_id),
-	KEY poster_ip (poster_ip),
-	KEY poster_id (poster_id),
-	KEY post_approved (post_approved),
-	KEY post_username (post_username(255)),
-	KEY tid_post_time (topic_id, post_time)
-);
-
-
-# Table: 'phpbb_privmsgs'
-CREATE TABLE phpbb_privmsgs (
-	msg_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	root_level mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_ip varbinary(40) DEFAULT '' NOT NULL,
-	message_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	enable_bbcode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_smilies tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_magic_url tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_sig tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	message_subject blob NOT NULL,
-	message_text mediumblob NOT NULL,
-	message_edit_reason blob NOT NULL,
-	message_edit_user mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	message_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	bbcode_uid varbinary(8) DEFAULT '' NOT NULL,
-	message_edit_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	message_edit_count smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	to_address blob NOT NULL,
-	bcc_address blob NOT NULL,
-	message_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (msg_id),
-	KEY author_ip (author_ip),
-	KEY message_time (message_time),
-	KEY author_id (author_id),
-	KEY root_level (root_level)
-);
-
-
-# Table: 'phpbb_privmsgs_folder'
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	folder_name blob NOT NULL,
-	pm_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (folder_id),
-	KEY user_id (user_id)
-);
-
-
-# Table: 'phpbb_privmsgs_rules'
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_check mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_connection mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_string blob NOT NULL,
-	rule_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_action mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_folder_id int(11) DEFAULT '0' NOT NULL,
-	PRIMARY KEY (rule_id),
-	KEY user_id (user_id)
-);
-
-
-# Table: 'phpbb_privmsgs_to'
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_deleted tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_new tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	pm_unread tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	pm_replied tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_marked tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_forwarded tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	folder_id int(11) DEFAULT '0' NOT NULL,
-	KEY msg_id (msg_id),
-	KEY author_id (author_id),
-	KEY usr_flder_id (user_id, folder_id)
-);
-
-
-# Table: 'phpbb_profile_fields'
-CREATE TABLE phpbb_profile_fields (
-	field_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	field_name blob NOT NULL,
-	field_type tinyint(4) DEFAULT '0' NOT NULL,
-	field_ident varbinary(20) DEFAULT '' NOT NULL,
-	field_length varbinary(20) DEFAULT '' NOT NULL,
-	field_minlen varbinary(255) DEFAULT '' NOT NULL,
-	field_maxlen varbinary(255) DEFAULT '' NOT NULL,
-	field_novalue blob NOT NULL,
-	field_default_value blob NOT NULL,
-	field_validation varbinary(60) DEFAULT '' NOT NULL,
-	field_required tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_on_reg tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_on_vt tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_profile tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_hide tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_no_view tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_active tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (field_id),
-	KEY fld_type (field_type),
-	KEY fld_ordr (field_order)
-);
-
-
-# Table: 'phpbb_profile_fields_data'
-CREATE TABLE phpbb_profile_fields_data (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id)
-);
-
-
-# Table: 'phpbb_profile_fields_lang'
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	field_type tinyint(4) DEFAULT '0' NOT NULL,
-	lang_value blob NOT NULL,
-	PRIMARY KEY (field_id, lang_id, option_id)
-);
-
-
-# Table: 'phpbb_profile_lang'
-CREATE TABLE phpbb_profile_lang (
-	field_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_name blob NOT NULL,
-	lang_explain blob NOT NULL,
-	lang_default_value blob NOT NULL,
-	PRIMARY KEY (field_id, lang_id)
-);
-
-
-# Table: 'phpbb_ranks'
-CREATE TABLE phpbb_ranks (
-	rank_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	rank_title blob NOT NULL,
-	rank_min mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rank_special tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	rank_image varbinary(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (rank_id)
-);
-
-
-# Table: 'phpbb_reports'
-CREATE TABLE phpbb_reports (
-	report_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	reason_id smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_notify tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	report_closed tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	report_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	report_text mediumblob NOT NULL,
-	PRIMARY KEY (report_id),
-	KEY post_id (post_id),
-	KEY pm_id (pm_id)
-);
-
-
-# Table: 'phpbb_reports_reasons'
-CREATE TABLE phpbb_reports_reasons (
-	reason_id smallint(4) UNSIGNED NOT NULL auto_increment,
-	reason_title blob NOT NULL,
-	reason_description mediumblob NOT NULL,
-	reason_order smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (reason_id)
-);
-
-
-# Table: 'phpbb_search_results'
-CREATE TABLE phpbb_search_results (
-	search_key varbinary(32) DEFAULT '' NOT NULL,
-	search_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	search_keywords mediumblob NOT NULL,
-	search_authors mediumblob NOT NULL,
-	PRIMARY KEY (search_key)
-);
-
-
-# Table: 'phpbb_search_wordlist'
-CREATE TABLE phpbb_search_wordlist (
-	word_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	word_text blob NOT NULL,
-	word_common tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	word_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (word_id),
-	UNIQUE wrd_txt (word_text(255)),
-	KEY wrd_cnt (word_count)
-);
-
-
-# Table: 'phpbb_search_wordmatch'
-CREATE TABLE phpbb_search_wordmatch (
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	word_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	title_match tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	UNIQUE unq_mtch (word_id, post_id, title_match),
-	KEY word_id (word_id),
-	KEY post_id (post_id)
-);
-
-
-# Table: 'phpbb_sessions'
-CREATE TABLE phpbb_sessions (
-	session_id binary(32) DEFAULT '' NOT NULL,
-	session_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_last_visit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_ip varbinary(40) DEFAULT '' NOT NULL,
-	session_browser varbinary(150) DEFAULT '' NOT NULL,
-	session_forwarded_for varbinary(255) DEFAULT '' NOT NULL,
-	session_page blob NOT NULL,
-	session_viewonline tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	session_autologin tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	session_admin tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (session_id),
-	KEY session_time (session_time),
-	KEY session_user_id (session_user_id),
-	KEY session_fid (session_forum_id)
-);
-
-
-# Table: 'phpbb_sessions_keys'
-CREATE TABLE phpbb_sessions_keys (
-	key_id binary(32) DEFAULT '' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	last_ip varbinary(40) DEFAULT '' NOT NULL,
-	last_login int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (key_id, user_id),
-	KEY last_login (last_login)
-);
-
-
-# Table: 'phpbb_sitelist'
-CREATE TABLE phpbb_sitelist (
-	site_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	site_ip varbinary(40) DEFAULT '' NOT NULL,
-	site_hostname varbinary(255) DEFAULT '' NOT NULL,
-	ip_exclude tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (site_id)
-);
-
-
-# Table: 'phpbb_smilies'
-CREATE TABLE phpbb_smilies (
-	smiley_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	code varbinary(150) DEFAULT '' NOT NULL,
-	emotion varbinary(150) DEFAULT '' NOT NULL,
-	smiley_url varbinary(50) DEFAULT '' NOT NULL,
-	smiley_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	smiley_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	smiley_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (smiley_id),
-	KEY display_on_post (display_on_posting)
-);
-
-
-# Table: 'phpbb_styles'
-CREATE TABLE phpbb_styles (
-	style_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	style_name blob NOT NULL,
-	style_copyright blob NOT NULL,
-	style_active tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	template_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	imageset_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (style_id),
-	UNIQUE style_name (style_name(255)),
-	KEY template_id (template_id),
-	KEY theme_id (theme_id),
-	KEY imageset_id (imageset_id)
-);
-
-
-# Table: 'phpbb_styles_template'
-CREATE TABLE phpbb_styles_template (
-	template_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	template_name blob NOT NULL,
-	template_copyright blob NOT NULL,
-	template_path varbinary(100) DEFAULT '' NOT NULL,
-	bbcode_bitfield varbinary(255) DEFAULT 'kNg=' NOT NULL,
-	template_storedb tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	template_inherits_id int(4) UNSIGNED DEFAULT '0' NOT NULL,
-	template_inherit_path varbinary(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (template_id),
-	UNIQUE tmplte_nm (template_name(255))
-);
-
-
-# Table: 'phpbb_styles_template_data'
-CREATE TABLE phpbb_styles_template_data (
-	template_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	template_filename varbinary(100) DEFAULT '' NOT NULL,
-	template_included blob NOT NULL,
-	template_mtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	template_data mediumblob NOT NULL,
-	KEY tid (template_id),
-	KEY tfn (template_filename)
-);
-
-
-# Table: 'phpbb_styles_theme'
-CREATE TABLE phpbb_styles_theme (
-	theme_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	theme_name blob NOT NULL,
-	theme_copyright blob NOT NULL,
-	theme_path varbinary(100) DEFAULT '' NOT NULL,
-	theme_storedb tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_mtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_data mediumblob NOT NULL,
-	PRIMARY KEY (theme_id),
-	UNIQUE theme_name (theme_name(255))
-);
-
-
-# Table: 'phpbb_styles_imageset'
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	imageset_name blob NOT NULL,
-	imageset_copyright blob NOT NULL,
-	imageset_path varbinary(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (imageset_id),
-	UNIQUE imgset_nm (imageset_name(255))
-);
-
-
-# Table: 'phpbb_styles_imageset_data'
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	image_name varbinary(200) DEFAULT '' NOT NULL,
-	image_filename varbinary(200) DEFAULT '' NOT NULL,
-	image_lang varbinary(30) DEFAULT '' NOT NULL,
-	image_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	image_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	imageset_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (image_id),
-	KEY i_d (imageset_id)
-);
-
-
-# Table: 'phpbb_topics'
-CREATE TABLE phpbb_topics (
-	topic_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_approved tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	topic_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_title blob NOT NULL,
-	topic_poster mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_time_limit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_views mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_replies mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_replies_real mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_status tinyint(3) DEFAULT '0' NOT NULL,
-	topic_type tinyint(3) DEFAULT '0' NOT NULL,
-	topic_first_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_first_poster_name blob NOT NULL,
-	topic_first_poster_colour varbinary(6) DEFAULT '' NOT NULL,
-	topic_last_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_poster_name blob NOT NULL,
-	topic_last_poster_colour varbinary(6) DEFAULT '' NOT NULL,
-	topic_last_post_subject blob NOT NULL,
-	topic_last_post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_view_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_moved_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_bumped tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_bumper mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_title blob NOT NULL,
-	poll_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_length int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_max_options tinyint(4) DEFAULT '1' NOT NULL,
-	poll_last_vote int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_vote_change tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (topic_id),
-	KEY forum_id (forum_id),
-	KEY forum_id_type (forum_id, topic_type),
-	KEY last_post_time (topic_last_post_time),
-	KEY topic_approved (topic_approved),
-	KEY forum_appr_last (forum_id, topic_approved, topic_last_post_id),
-	KEY fid_time_moved (forum_id, topic_last_post_time, topic_moved_id)
-);
-
-
-# Table: 'phpbb_topics_track'
-CREATE TABLE phpbb_topics_track (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	mark_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, topic_id),
-	KEY topic_id (topic_id),
-	KEY forum_id (forum_id)
-);
-
-
-# Table: 'phpbb_topics_posted'
-CREATE TABLE phpbb_topics_posted (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_posted tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, topic_id)
-);
-
-
-# Table: 'phpbb_topics_watch'
-CREATE TABLE phpbb_topics_watch (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	notify_status tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY topic_id (topic_id),
-	KEY user_id (user_id),
-	KEY notify_stat (notify_status)
-);
-
-
-# Table: 'phpbb_user_group'
-CREATE TABLE phpbb_user_group (
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_leader tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_pending tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	KEY group_id (group_id),
-	KEY user_id (user_id),
-	KEY group_leader (group_leader)
-);
-
-
-# Table: 'phpbb_users'
-CREATE TABLE phpbb_users (
-	user_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_type tinyint(2) DEFAULT '0' NOT NULL,
-	group_id mediumint(8) UNSIGNED DEFAULT '3' NOT NULL,
-	user_permissions mediumblob NOT NULL,
-	user_perm_from mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_ip varbinary(40) DEFAULT '' NOT NULL,
-	user_regdate int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	username blob NOT NULL,
-	username_clean blob NOT NULL,
-	user_password varbinary(120) DEFAULT '' NOT NULL,
-	user_passchg int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_pass_convert tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_email blob NOT NULL,
-	user_email_hash bigint(20) DEFAULT '0' NOT NULL,
-	user_birthday varbinary(10) DEFAULT '' NOT NULL,
-	user_lastvisit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastmark int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastpost_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastpage blob NOT NULL,
-	user_last_confirm_key varbinary(10) DEFAULT '' NOT NULL,
-	user_last_search int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_warnings tinyint(4) DEFAULT '0' NOT NULL,
-	user_last_warning int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_login_attempts tinyint(4) DEFAULT '0' NOT NULL,
-	user_inactive_reason tinyint(2) DEFAULT '0' NOT NULL,
-	user_inactive_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_posts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lang varbinary(30) DEFAULT '' NOT NULL,
-	user_timezone decimal(5,2) DEFAULT '0' NOT NULL,
-	user_dst tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_dateformat varbinary(90) DEFAULT 'd M Y H:i' NOT NULL,
-	user_style mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_rank mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_colour varbinary(6) DEFAULT '' NOT NULL,
-	user_new_privmsg int(4) DEFAULT '0' NOT NULL,
-	user_unread_privmsg int(4) DEFAULT '0' NOT NULL,
-	user_last_privmsg int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_message_rules tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_full_folder int(11) DEFAULT '-3' NOT NULL,
-	user_emailtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_topic_show_days smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_topic_sortby_type varbinary(1) DEFAULT 't' NOT NULL,
-	user_topic_sortby_dir varbinary(1) DEFAULT 'd' NOT NULL,
-	user_post_show_days smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_post_sortby_type varbinary(1) DEFAULT 't' NOT NULL,
-	user_post_sortby_dir varbinary(1) DEFAULT 'a' NOT NULL,
-	user_notify tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_notify_pm tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_notify_type tinyint(4) DEFAULT '0' NOT NULL,
-	user_allow_pm tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_viewonline tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_viewemail tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_massemail tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_options int(11) UNSIGNED DEFAULT '230271' NOT NULL,
-	user_avatar varbinary(255) DEFAULT '' NOT NULL,
-	user_avatar_type tinyint(2) DEFAULT '0' NOT NULL,
-	user_avatar_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_avatar_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_sig mediumblob NOT NULL,
-	user_sig_bbcode_uid varbinary(8) DEFAULT '' NOT NULL,
-	user_sig_bbcode_bitfield varbinary(255) DEFAULT '' NOT NULL,
-	user_from blob NOT NULL,
-	user_icq varbinary(15) DEFAULT '' NOT NULL,
-	user_aim blob NOT NULL,
-	user_yim blob NOT NULL,
-	user_msnm blob NOT NULL,
-	user_jabber blob NOT NULL,
-	user_website blob NOT NULL,
-	user_occ blob NOT NULL,
-	user_interests blob NOT NULL,
-	user_actkey varbinary(32) DEFAULT '' NOT NULL,
-	user_newpasswd varbinary(120) DEFAULT '' NOT NULL,
-	user_form_salt varbinary(96) DEFAULT '' NOT NULL,
-	user_new tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_reminded tinyint(4) DEFAULT '0' NOT NULL,
-	user_reminded_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id),
-	KEY user_birthday (user_birthday),
-	KEY user_email_hash (user_email_hash),
-	KEY user_type (user_type),
-	UNIQUE username_clean (username_clean(255))
-);
-
-
-# Table: 'phpbb_warnings'
-CREATE TABLE phpbb_warnings (
-	warning_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	log_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	warning_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (warning_id)
-);
-
-
-# Table: 'phpbb_words'
-CREATE TABLE phpbb_words (
-	word_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	word blob NOT NULL,
-	replacement blob NOT NULL,
-	PRIMARY KEY (word_id)
-);
-
-
-# Table: 'phpbb_zebra'
-CREATE TABLE phpbb_zebra (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	zebra_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	friend tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	foe tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, zebra_id)
-);
-
-
diff -rNU5 phpBB3-init/install/schemas/mysql_41_schema.sql phpBB3/install/schemas/mysql_41_schema.sql
--- phpBB3-init/install/schemas/mysql_41_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/mysql_41_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1032 +0,0 @@
-#
-# $Id: $
-#
-
-# Table: 'phpbb_attachments'
-CREATE TABLE phpbb_attachments (
-	attach_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	post_msg_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	in_message tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	is_orphan tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	physical_filename varchar(255) DEFAULT '' NOT NULL,
-	real_filename varchar(255) DEFAULT '' NOT NULL,
-	download_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	attach_comment text NOT NULL,
-	extension varchar(100) DEFAULT '' NOT NULL,
-	mimetype varchar(100) DEFAULT '' NOT NULL,
-	filesize int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	filetime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	thumbnail tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (attach_id),
-	KEY filetime (filetime),
-	KEY post_msg_id (post_msg_id),
-	KEY topic_id (topic_id),
-	KEY poster_id (poster_id),
-	KEY is_orphan (is_orphan)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_acl_groups'
-CREATE TABLE phpbb_acl_groups (
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	KEY group_id (group_id),
-	KEY auth_opt_id (auth_option_id),
-	KEY auth_role_id (auth_role_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_acl_options'
-CREATE TABLE phpbb_acl_options (
-	auth_option_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	auth_option varchar(50) DEFAULT '' NOT NULL,
-	is_global tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	is_local tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	founder_only tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (auth_option_id),
-	UNIQUE auth_option (auth_option)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_acl_roles'
-CREATE TABLE phpbb_acl_roles (
-	role_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	role_name varchar(255) DEFAULT '' NOT NULL,
-	role_description text NOT NULL,
-	role_type varchar(10) DEFAULT '' NOT NULL,
-	role_order smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (role_id),
-	KEY role_type (role_type),
-	KEY role_order (role_order)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_acl_roles_data'
-CREATE TABLE phpbb_acl_roles_data (
-	role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	PRIMARY KEY (role_id, auth_option_id),
-	KEY ath_op_id (auth_option_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_acl_users'
-CREATE TABLE phpbb_acl_users (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_role_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	auth_setting tinyint(2) DEFAULT '0' NOT NULL,
-	KEY user_id (user_id),
-	KEY auth_option_id (auth_option_id),
-	KEY auth_role_id (auth_role_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_banlist'
-CREATE TABLE phpbb_banlist (
-	ban_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	ban_userid mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_ip varchar(40) DEFAULT '' NOT NULL,
-	ban_email varchar(100) DEFAULT '' NOT NULL,
-	ban_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_end int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_exclude tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	ban_reason varchar(255) DEFAULT '' NOT NULL,
-	ban_give_reason varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (ban_id),
-	KEY ban_end (ban_end),
-	KEY ban_user (ban_userid, ban_exclude),
-	KEY ban_email (ban_email, ban_exclude),
-	KEY ban_ip (ban_ip, ban_exclude)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_bbcodes'
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_tag varchar(16) DEFAULT '' NOT NULL,
-	bbcode_helpline varchar(255) DEFAULT '' NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_match text NOT NULL,
-	bbcode_tpl mediumtext NOT NULL,
-	first_pass_match mediumtext NOT NULL,
-	first_pass_replace mediumtext NOT NULL,
-	second_pass_match mediumtext NOT NULL,
-	second_pass_replace mediumtext NOT NULL,
-	PRIMARY KEY (bbcode_id),
-	KEY display_on_post (display_on_posting)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_bookmarks'
-CREATE TABLE phpbb_bookmarks (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (topic_id, user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_bots'
-CREATE TABLE phpbb_bots (
-	bot_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	bot_active tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	bot_name varchar(255) DEFAULT '' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	bot_agent varchar(255) DEFAULT '' NOT NULL,
-	bot_ip varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (bot_id),
-	KEY bot_active (bot_active)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_config'
-CREATE TABLE phpbb_config (
-	config_name varchar(255) DEFAULT '' NOT NULL,
-	config_value varchar(255) DEFAULT '' NOT NULL,
-	is_dynamic tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (config_name),
-	KEY is_dynamic (is_dynamic)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_confirm'
-CREATE TABLE phpbb_confirm (
-	confirm_id char(32) DEFAULT '' NOT NULL,
-	session_id char(32) DEFAULT '' NOT NULL,
-	confirm_type tinyint(3) DEFAULT '0' NOT NULL,
-	code varchar(8) DEFAULT '' NOT NULL,
-	seed int(10) UNSIGNED DEFAULT '0' NOT NULL,
-	attempts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (session_id, confirm_id),
-	KEY confirm_type (confirm_type)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_disallow'
-CREATE TABLE phpbb_disallow (
-	disallow_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	disallow_username varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (disallow_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_drafts'
-CREATE TABLE phpbb_drafts (
-	draft_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	save_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	draft_subject varchar(255) DEFAULT '' NOT NULL,
-	draft_message mediumtext NOT NULL,
-	PRIMARY KEY (draft_id),
-	KEY save_time (save_time)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_extensions'
-CREATE TABLE phpbb_extensions (
-	extension_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	extension varchar(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (extension_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_extension_groups'
-CREATE TABLE phpbb_extension_groups (
-	group_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_name varchar(255) DEFAULT '' NOT NULL,
-	cat_id tinyint(2) DEFAULT '0' NOT NULL,
-	allow_group tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	download_mode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	upload_icon varchar(255) DEFAULT '' NOT NULL,
-	max_filesize int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	allowed_forums text NOT NULL,
-	allow_in_pm tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (group_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_forums'
-CREATE TABLE phpbb_forums (
-	forum_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	parent_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	left_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	right_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_parents mediumtext NOT NULL,
-	forum_name varchar(255) DEFAULT '' NOT NULL,
-	forum_desc text NOT NULL,
-	forum_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
-	forum_desc_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	forum_desc_uid varchar(8) DEFAULT '' NOT NULL,
-	forum_link varchar(255) DEFAULT '' NOT NULL,
-	forum_password varchar(40) DEFAULT '' NOT NULL,
-	forum_style mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_image varchar(255) DEFAULT '' NOT NULL,
-	forum_rules text NOT NULL,
-	forum_rules_link varchar(255) DEFAULT '' NOT NULL,
-	forum_rules_bitfield varchar(255) DEFAULT '' NOT NULL,
-	forum_rules_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	forum_rules_uid varchar(8) DEFAULT '' NOT NULL,
-	forum_topics_per_page tinyint(4) DEFAULT '0' NOT NULL,
-	forum_type tinyint(4) DEFAULT '0' NOT NULL,
-	forum_status tinyint(4) DEFAULT '0' NOT NULL,
-	forum_posts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_topics mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_topics_real mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_post_subject varchar(255) DEFAULT '' NOT NULL,
-	forum_last_post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_last_poster_name varchar(255) DEFAULT '' NOT NULL,
-	forum_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	forum_flags tinyint(4) DEFAULT '32' NOT NULL,
-	forum_options int(20) UNSIGNED DEFAULT '0' NOT NULL,
-	display_subforum_list tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	display_on_index tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_indexing tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_icons tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_prune tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_next int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_days mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_viewed mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	prune_freq mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (forum_id),
-	KEY left_right_id (left_id, right_id),
-	KEY forum_lastpost_id (forum_last_post_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_forums_access'
-CREATE TABLE phpbb_forums_access (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_id char(32) DEFAULT '' NOT NULL,
-	PRIMARY KEY (forum_id, user_id, session_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_forums_track'
-CREATE TABLE phpbb_forums_track (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	mark_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, forum_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_forums_watch'
-CREATE TABLE phpbb_forums_watch (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	notify_status tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY forum_id (forum_id),
-	KEY user_id (user_id),
-	KEY notify_stat (notify_status)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_groups'
-CREATE TABLE phpbb_groups (
-	group_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	group_type tinyint(4) DEFAULT '1' NOT NULL,
-	group_founder_manage tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_skip_auth tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_name varchar(255) DEFAULT '' NOT NULL,
-	group_desc text NOT NULL,
-	group_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
-	group_desc_options int(11) UNSIGNED DEFAULT '7' NOT NULL,
-	group_desc_uid varchar(8) DEFAULT '' NOT NULL,
-	group_display tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_avatar varchar(255) DEFAULT '' NOT NULL,
-	group_avatar_type tinyint(2) DEFAULT '0' NOT NULL,
-	group_avatar_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	group_avatar_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	group_rank mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_colour varchar(6) DEFAULT '' NOT NULL,
-	group_sig_chars mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_receive_pm tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	group_message_limit mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_max_recipients mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_legend tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (group_id),
-	KEY group_legend_name (group_legend, group_name)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_icons'
-CREATE TABLE phpbb_icons (
-	icons_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	icons_url varchar(255) DEFAULT '' NOT NULL,
-	icons_width tinyint(4) DEFAULT '0' NOT NULL,
-	icons_height tinyint(4) DEFAULT '0' NOT NULL,
-	icons_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (icons_id),
-	KEY display_on_posting (display_on_posting)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_lang'
-CREATE TABLE phpbb_lang (
-	lang_id tinyint(4) NOT NULL auto_increment,
-	lang_iso varchar(30) DEFAULT '' NOT NULL,
-	lang_dir varchar(30) DEFAULT '' NOT NULL,
-	lang_english_name varchar(100) DEFAULT '' NOT NULL,
-	lang_local_name varchar(255) DEFAULT '' NOT NULL,
-	lang_author varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (lang_id),
-	KEY lang_iso (lang_iso)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_log'
-CREATE TABLE phpbb_log (
-	log_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	log_type tinyint(4) DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	reportee_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	log_ip varchar(40) DEFAULT '' NOT NULL,
-	log_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	log_operation text NOT NULL,
-	log_data mediumtext NOT NULL,
-	PRIMARY KEY (log_id),
-	KEY log_type (log_type),
-	KEY forum_id (forum_id),
-	KEY topic_id (topic_id),
-	KEY reportee_id (reportee_id),
-	KEY user_id (user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_login_attempts'
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip varchar(40) DEFAULT '' NOT NULL,
-	attempt_browser varchar(150) DEFAULT '' NOT NULL,
-	attempt_forwarded_for varchar(255) DEFAULT '' NOT NULL,
-	attempt_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	username varchar(255) DEFAULT '0' NOT NULL,
-	username_clean varchar(255) DEFAULT '0' NOT NULL,
-	KEY att_ip (attempt_ip, attempt_time),
-	KEY att_for (attempt_forwarded_for, attempt_time),
-	KEY att_time (attempt_time),
-	KEY user_id (user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_moderator_cache'
-CREATE TABLE phpbb_moderator_cache (
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	username varchar(255) DEFAULT '' NOT NULL,
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_name varchar(255) DEFAULT '' NOT NULL,
-	display_on_index tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	KEY disp_idx (display_on_index),
-	KEY forum_id (forum_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_modules'
-CREATE TABLE phpbb_modules (
-	module_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	module_enabled tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	module_display tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	module_basename varchar(255) DEFAULT '' NOT NULL,
-	module_class varchar(10) DEFAULT '' NOT NULL,
-	parent_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	left_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	right_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	module_langname varchar(255) DEFAULT '' NOT NULL,
-	module_mode varchar(255) DEFAULT '' NOT NULL,
-	module_auth varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (module_id),
-	KEY left_right_id (left_id, right_id),
-	KEY module_enabled (module_enabled),
-	KEY class_left_id (module_class, left_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_poll_options'
-CREATE TABLE phpbb_poll_options (
-	poll_option_id tinyint(4) DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_option_text text NOT NULL,
-	poll_option_total mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY poll_opt_id (poll_option_id),
-	KEY topic_id (topic_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_poll_votes'
-CREATE TABLE phpbb_poll_votes (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_option_id tinyint(4) DEFAULT '0' NOT NULL,
-	vote_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	vote_user_ip varchar(40) DEFAULT '' NOT NULL,
-	KEY topic_id (topic_id),
-	KEY vote_user_id (vote_user_id),
-	KEY vote_user_ip (vote_user_ip)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_posts'
-CREATE TABLE phpbb_posts (
-	post_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poster_ip varchar(40) DEFAULT '' NOT NULL,
-	post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	post_approved tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	enable_bbcode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_smilies tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_magic_url tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_sig tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_username varchar(255) DEFAULT '' NOT NULL,
-	post_subject varchar(255) DEFAULT '' NOT NULL COLLATE utf8_unicode_ci,
-	post_text mediumtext NOT NULL,
-	post_checksum varchar(32) DEFAULT '' NOT NULL,
-	post_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	post_postcount tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	post_edit_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_reason varchar(255) DEFAULT '' NOT NULL,
-	post_edit_user mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_count smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	post_edit_locked tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (post_id),
-	KEY forum_id (forum_id),
-	KEY topic_id (topic_id),
-	KEY poster_ip (poster_ip),
-	KEY poster_id (poster_id),
-	KEY post_approved (post_approved),
-	KEY post_username (post_username),
-	KEY tid_post_time (topic_id, post_time)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_privmsgs'
-CREATE TABLE phpbb_privmsgs (
-	msg_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	root_level mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_ip varchar(40) DEFAULT '' NOT NULL,
-	message_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	enable_bbcode tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_smilies tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_magic_url tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	enable_sig tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	message_subject varchar(255) DEFAULT '' NOT NULL,
-	message_text mediumtext NOT NULL,
-	message_edit_reason varchar(255) DEFAULT '' NOT NULL,
-	message_edit_user mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	message_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	message_edit_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	message_edit_count smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	to_address text NOT NULL,
-	bcc_address text NOT NULL,
-	message_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (msg_id),
-	KEY author_ip (author_ip),
-	KEY message_time (message_time),
-	KEY author_id (author_id),
-	KEY root_level (root_level)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_privmsgs_folder'
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	folder_name varchar(255) DEFAULT '' NOT NULL,
-	pm_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (folder_id),
-	KEY user_id (user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_privmsgs_rules'
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_check mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_connection mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_string varchar(255) DEFAULT '' NOT NULL,
-	rule_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_action mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rule_folder_id int(11) DEFAULT '0' NOT NULL,
-	PRIMARY KEY (rule_id),
-	KEY user_id (user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_privmsgs_to'
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	author_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_deleted tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_new tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	pm_unread tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	pm_replied tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_marked tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_forwarded tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	folder_id int(11) DEFAULT '0' NOT NULL,
-	KEY msg_id (msg_id),
-	KEY author_id (author_id),
-	KEY usr_flder_id (user_id, folder_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_profile_fields'
-CREATE TABLE phpbb_profile_fields (
-	field_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	field_name varchar(255) DEFAULT '' NOT NULL,
-	field_type tinyint(4) DEFAULT '0' NOT NULL,
-	field_ident varchar(20) DEFAULT '' NOT NULL,
-	field_length varchar(20) DEFAULT '' NOT NULL,
-	field_minlen varchar(255) DEFAULT '' NOT NULL,
-	field_maxlen varchar(255) DEFAULT '' NOT NULL,
-	field_novalue varchar(255) DEFAULT '' NOT NULL,
-	field_default_value varchar(255) DEFAULT '' NOT NULL,
-	field_validation varchar(20) DEFAULT '' NOT NULL,
-	field_required tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_on_reg tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_on_vt tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_show_profile tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_hide tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_no_view tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_active tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	field_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (field_id),
-	KEY fld_type (field_type),
-	KEY fld_ordr (field_order)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_profile_fields_data'
-CREATE TABLE phpbb_profile_fields_data (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_profile_fields_lang'
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	option_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	field_type tinyint(4) DEFAULT '0' NOT NULL,
-	lang_value varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (field_id, lang_id, option_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_profile_lang'
-CREATE TABLE phpbb_profile_lang (
-	field_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	lang_name varchar(255) DEFAULT '' NOT NULL,
-	lang_explain text NOT NULL,
-	lang_default_value varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (field_id, lang_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_ranks'
-CREATE TABLE phpbb_ranks (
-	rank_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	rank_title varchar(255) DEFAULT '' NOT NULL,
-	rank_min mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	rank_special tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	rank_image varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (rank_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_reports'
-CREATE TABLE phpbb_reports (
-	report_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	reason_id smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	pm_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_notify tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	report_closed tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	report_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	report_text mediumtext NOT NULL,
-	PRIMARY KEY (report_id),
-	KEY post_id (post_id),
-	KEY pm_id (pm_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_reports_reasons'
-CREATE TABLE phpbb_reports_reasons (
-	reason_id smallint(4) UNSIGNED NOT NULL auto_increment,
-	reason_title varchar(255) DEFAULT '' NOT NULL,
-	reason_description mediumtext NOT NULL,
-	reason_order smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (reason_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_search_results'
-CREATE TABLE phpbb_search_results (
-	search_key varchar(32) DEFAULT '' NOT NULL,
-	search_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	search_keywords mediumtext NOT NULL,
-	search_authors mediumtext NOT NULL,
-	PRIMARY KEY (search_key)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_search_wordlist'
-CREATE TABLE phpbb_search_wordlist (
-	word_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	word_text varchar(255) DEFAULT '' NOT NULL,
-	word_common tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	word_count mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (word_id),
-	UNIQUE wrd_txt (word_text),
-	KEY wrd_cnt (word_count)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_search_wordmatch'
-CREATE TABLE phpbb_search_wordmatch (
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	word_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	title_match tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	UNIQUE unq_mtch (word_id, post_id, title_match),
-	KEY word_id (word_id),
-	KEY post_id (post_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_sessions'
-CREATE TABLE phpbb_sessions (
-	session_id char(32) DEFAULT '' NOT NULL,
-	session_user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	session_last_visit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	session_ip varchar(40) DEFAULT '' NOT NULL,
-	session_browser varchar(150) DEFAULT '' NOT NULL,
-	session_forwarded_for varchar(255) DEFAULT '' NOT NULL,
-	session_page varchar(255) DEFAULT '' NOT NULL,
-	session_viewonline tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	session_autologin tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	session_admin tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (session_id),
-	KEY session_time (session_time),
-	KEY session_user_id (session_user_id),
-	KEY session_fid (session_forum_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_sessions_keys'
-CREATE TABLE phpbb_sessions_keys (
-	key_id char(32) DEFAULT '' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	last_ip varchar(40) DEFAULT '' NOT NULL,
-	last_login int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (key_id, user_id),
-	KEY last_login (last_login)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_sitelist'
-CREATE TABLE phpbb_sitelist (
-	site_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	site_ip varchar(40) DEFAULT '' NOT NULL,
-	site_hostname varchar(255) DEFAULT '' NOT NULL,
-	ip_exclude tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (site_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_smilies'
-CREATE TABLE phpbb_smilies (
-	smiley_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	code varchar(50) DEFAULT '' NOT NULL,
-	emotion varchar(50) DEFAULT '' NOT NULL,
-	smiley_url varchar(50) DEFAULT '' NOT NULL,
-	smiley_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	smiley_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	smiley_order mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	display_on_posting tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	PRIMARY KEY (smiley_id),
-	KEY display_on_post (display_on_posting)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles'
-CREATE TABLE phpbb_styles (
-	style_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	style_name varchar(255) DEFAULT '' NOT NULL,
-	style_copyright varchar(255) DEFAULT '' NOT NULL,
-	style_active tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	template_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	imageset_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (style_id),
-	UNIQUE style_name (style_name),
-	KEY template_id (template_id),
-	KEY theme_id (theme_id),
-	KEY imageset_id (imageset_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles_template'
-CREATE TABLE phpbb_styles_template (
-	template_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	template_name varchar(255) DEFAULT '' NOT NULL,
-	template_copyright varchar(255) DEFAULT '' NOT NULL,
-	template_path varchar(100) DEFAULT '' NOT NULL,
-	bbcode_bitfield varchar(255) DEFAULT 'kNg=' NOT NULL,
-	template_storedb tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	template_inherits_id int(4) UNSIGNED DEFAULT '0' NOT NULL,
-	template_inherit_path varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (template_id),
-	UNIQUE tmplte_nm (template_name)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles_template_data'
-CREATE TABLE phpbb_styles_template_data (
-	template_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	template_filename varchar(100) DEFAULT '' NOT NULL,
-	template_included text NOT NULL,
-	template_mtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	template_data mediumtext NOT NULL,
-	KEY tid (template_id),
-	KEY tfn (template_filename)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles_theme'
-CREATE TABLE phpbb_styles_theme (
-	theme_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	theme_name varchar(255) DEFAULT '' NOT NULL,
-	theme_copyright varchar(255) DEFAULT '' NOT NULL,
-	theme_path varchar(100) DEFAULT '' NOT NULL,
-	theme_storedb tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_mtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	theme_data mediumtext NOT NULL,
-	PRIMARY KEY (theme_id),
-	UNIQUE theme_name (theme_name)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles_imageset'
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	imageset_name varchar(255) DEFAULT '' NOT NULL,
-	imageset_copyright varchar(255) DEFAULT '' NOT NULL,
-	imageset_path varchar(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (imageset_id),
-	UNIQUE imgset_nm (imageset_name)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_styles_imageset_data'
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	image_name varchar(200) DEFAULT '' NOT NULL,
-	image_filename varchar(200) DEFAULT '' NOT NULL,
-	image_lang varchar(30) DEFAULT '' NOT NULL,
-	image_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	image_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	imageset_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (image_id),
-	KEY i_d (imageset_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_topics'
-CREATE TABLE phpbb_topics (
-	topic_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	icon_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_attachment tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_approved tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	topic_reported tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_title varchar(255) DEFAULT '' NOT NULL COLLATE utf8_unicode_ci,
-	topic_poster mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_time_limit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_views mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_replies mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_replies_real mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_status tinyint(3) DEFAULT '0' NOT NULL,
-	topic_type tinyint(3) DEFAULT '0' NOT NULL,
-	topic_first_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_first_poster_name varchar(255) DEFAULT '' NOT NULL,
-	topic_first_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	topic_last_post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_poster_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_poster_name varchar(255) DEFAULT '' NOT NULL,
-	topic_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	topic_last_post_subject varchar(255) DEFAULT '' NOT NULL,
-	topic_last_post_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_last_view_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_moved_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_bumped tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_bumper mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_title varchar(255) DEFAULT '' NOT NULL,
-	poll_start int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_length int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_max_options tinyint(4) DEFAULT '1' NOT NULL,
-	poll_last_vote int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	poll_vote_change tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (topic_id),
-	KEY forum_id (forum_id),
-	KEY forum_id_type (forum_id, topic_type),
-	KEY last_post_time (topic_last_post_time),
-	KEY topic_approved (topic_approved),
-	KEY forum_appr_last (forum_id, topic_approved, topic_last_post_id),
-	KEY fid_time_moved (forum_id, topic_last_post_time, topic_moved_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_topics_track'
-CREATE TABLE phpbb_topics_track (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	forum_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	mark_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, topic_id),
-	KEY topic_id (topic_id),
-	KEY forum_id (forum_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_topics_posted'
-CREATE TABLE phpbb_topics_posted (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	topic_posted tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, topic_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_topics_watch'
-CREATE TABLE phpbb_topics_watch (
-	topic_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	notify_status tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	KEY topic_id (topic_id),
-	KEY user_id (user_id),
-	KEY notify_stat (notify_status)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_user_group'
-CREATE TABLE phpbb_user_group (
-	group_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	group_leader tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_pending tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	KEY group_id (group_id),
-	KEY user_id (user_id),
-	KEY group_leader (group_leader)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_users'
-CREATE TABLE phpbb_users (
-	user_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_type tinyint(2) DEFAULT '0' NOT NULL,
-	group_id mediumint(8) UNSIGNED DEFAULT '3' NOT NULL,
-	user_permissions mediumtext NOT NULL,
-	user_perm_from mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_ip varchar(40) DEFAULT '' NOT NULL,
-	user_regdate int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	username varchar(255) DEFAULT '' NOT NULL,
-	username_clean varchar(255) DEFAULT '' NOT NULL,
-	user_password varchar(40) DEFAULT '' NOT NULL,
-	user_passchg int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_pass_convert tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_email varchar(100) DEFAULT '' NOT NULL,
-	user_email_hash bigint(20) DEFAULT '0' NOT NULL,
-	user_birthday varchar(10) DEFAULT '' NOT NULL,
-	user_lastvisit int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastmark int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastpost_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lastpage varchar(200) DEFAULT '' NOT NULL,
-	user_last_confirm_key varchar(10) DEFAULT '' NOT NULL,
-	user_last_search int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_warnings tinyint(4) DEFAULT '0' NOT NULL,
-	user_last_warning int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_login_attempts tinyint(4) DEFAULT '0' NOT NULL,
-	user_inactive_reason tinyint(2) DEFAULT '0' NOT NULL,
-	user_inactive_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_posts mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_lang varchar(30) DEFAULT '' NOT NULL,
-	user_timezone decimal(5,2) DEFAULT '0' NOT NULL,
-	user_dst tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_dateformat varchar(30) DEFAULT 'd M Y H:i' NOT NULL,
-	user_style mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_rank mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	user_colour varchar(6) DEFAULT '' NOT NULL,
-	user_new_privmsg int(4) DEFAULT '0' NOT NULL,
-	user_unread_privmsg int(4) DEFAULT '0' NOT NULL,
-	user_last_privmsg int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_message_rules tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_full_folder int(11) DEFAULT '-3' NOT NULL,
-	user_emailtime int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	user_topic_show_days smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_topic_sortby_type varchar(1) DEFAULT 't' NOT NULL,
-	user_topic_sortby_dir varchar(1) DEFAULT 'd' NOT NULL,
-	user_post_show_days smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_post_sortby_type varchar(1) DEFAULT 't' NOT NULL,
-	user_post_sortby_dir varchar(1) DEFAULT 'a' NOT NULL,
-	user_notify tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	user_notify_pm tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_notify_type tinyint(4) DEFAULT '0' NOT NULL,
-	user_allow_pm tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_viewonline tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_viewemail tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_allow_massemail tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_options int(11) UNSIGNED DEFAULT '230271' NOT NULL,
-	user_avatar varchar(255) DEFAULT '' NOT NULL,
-	user_avatar_type tinyint(2) DEFAULT '0' NOT NULL,
-	user_avatar_width smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_avatar_height smallint(4) UNSIGNED DEFAULT '0' NOT NULL,
-	user_sig mediumtext NOT NULL,
-	user_sig_bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	user_sig_bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	user_from varchar(100) DEFAULT '' NOT NULL,
-	user_icq varchar(15) DEFAULT '' NOT NULL,
-	user_aim varchar(255) DEFAULT '' NOT NULL,
-	user_yim varchar(255) DEFAULT '' NOT NULL,
-	user_msnm varchar(255) DEFAULT '' NOT NULL,
-	user_jabber varchar(255) DEFAULT '' NOT NULL,
-	user_website varchar(200) DEFAULT '' NOT NULL,
-	user_occ text NOT NULL,
-	user_interests text NOT NULL,
-	user_actkey varchar(32) DEFAULT '' NOT NULL,
-	user_newpasswd varchar(40) DEFAULT '' NOT NULL,
-	user_form_salt varchar(32) DEFAULT '' NOT NULL,
-	user_new tinyint(1) UNSIGNED DEFAULT '1' NOT NULL,
-	user_reminded tinyint(4) DEFAULT '0' NOT NULL,
-	user_reminded_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id),
-	KEY user_birthday (user_birthday),
-	KEY user_email_hash (user_email_hash),
-	KEY user_type (user_type),
-	UNIQUE username_clean (username_clean)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_warnings'
-CREATE TABLE phpbb_warnings (
-	warning_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	post_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	log_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	warning_time int(11) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (warning_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_words'
-CREATE TABLE phpbb_words (
-	word_id mediumint(8) UNSIGNED NOT NULL auto_increment,
-	word varchar(255) DEFAULT '' NOT NULL,
-	replacement varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (word_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
-# Table: 'phpbb_zebra'
-CREATE TABLE phpbb_zebra (
-	user_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	zebra_id mediumint(8) UNSIGNED DEFAULT '0' NOT NULL,
-	friend tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	foe tinyint(1) UNSIGNED DEFAULT '0' NOT NULL,
-	PRIMARY KEY (user_id, zebra_id)
-) CHARACTER SET `utf8` COLLATE `utf8_bin`;
-
-
diff -rNU5 phpBB3-init/install/schemas/oracle_schema.sql phpBB3/install/schemas/oracle_schema.sql
--- phpBB3-init/install/schemas/oracle_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/oracle_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1921 +0,0 @@
-/*
-
- $Id: $
-
-*/
-
-/*
-  This first section is optional, however its probably the best method
-  of running phpBB on Oracle. If you already have a tablespace and user created
-  for phpBB you can leave this section commented out!
-
-  The first set of statements create a phpBB tablespace and a phpBB user,
-  make sure you change the password of the phpBB user before you run this script!!
-*/
-
-/*
-CREATE TABLESPACE "PHPBB"
-	LOGGING
-	DATAFILE 'E:\ORACLE\ORADATA\LOCAL\PHPBB.ora'
-	SIZE 10M
-	AUTOEXTEND ON NEXT 10M
-	MAXSIZE 100M;
-
-CREATE USER "PHPBB"
-	PROFILE "DEFAULT"
-	IDENTIFIED BY "phpbb_password"
-	DEFAULT TABLESPACE "PHPBB"
-	QUOTA UNLIMITED ON "PHPBB"
-	ACCOUNT UNLOCK;
-
-GRANT ANALYZE ANY TO "PHPBB";
-GRANT CREATE SEQUENCE TO "PHPBB";
-GRANT CREATE SESSION TO "PHPBB";
-GRANT CREATE TABLE TO "PHPBB";
-GRANT CREATE TRIGGER TO "PHPBB";
-GRANT CREATE VIEW TO "PHPBB";
-GRANT "CONNECT" TO "PHPBB";
-
-COMMIT;
-DISCONNECT;
-
-CONNECT phpbb/phpbb_password;
-*/
-/*
-	Table: 'phpbb_attachments'
-*/
-CREATE TABLE phpbb_attachments (
-	attach_id number(8) NOT NULL,
-	post_msg_id number(8) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	in_message number(1) DEFAULT '0' NOT NULL,
-	poster_id number(8) DEFAULT '0' NOT NULL,
-	is_orphan number(1) DEFAULT '1' NOT NULL,
-	physical_filename varchar2(255) DEFAULT '' ,
-	real_filename varchar2(255) DEFAULT '' ,
-	download_count number(8) DEFAULT '0' NOT NULL,
-	attach_comment clob DEFAULT '' ,
-	extension varchar2(100) DEFAULT '' ,
-	mimetype varchar2(100) DEFAULT '' ,
-	filesize number(20) DEFAULT '0' NOT NULL,
-	filetime number(11) DEFAULT '0' NOT NULL,
-	thumbnail number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_attachments PRIMARY KEY (attach_id)
-)
-/
-
-CREATE INDEX phpbb_attachments_filetime ON phpbb_attachments (filetime)
-/
-CREATE INDEX phpbb_attachments_post_msg_id ON phpbb_attachments (post_msg_id)
-/
-CREATE INDEX phpbb_attachments_topic_id ON phpbb_attachments (topic_id)
-/
-CREATE INDEX phpbb_attachments_poster_id ON phpbb_attachments (poster_id)
-/
-CREATE INDEX phpbb_attachments_is_orphan ON phpbb_attachments (is_orphan)
-/
-
-CREATE SEQUENCE phpbb_attachments_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_attachments
-BEFORE INSERT ON phpbb_attachments
-FOR EACH ROW WHEN (
-	new.attach_id IS NULL OR new.attach_id = 0
-)
-BEGIN
-	SELECT phpbb_attachments_seq.nextval
-	INTO :new.attach_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_acl_groups'
-*/
-CREATE TABLE phpbb_acl_groups (
-	group_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	auth_option_id number(8) DEFAULT '0' NOT NULL,
-	auth_role_id number(8) DEFAULT '0' NOT NULL,
-	auth_setting number(2) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_acl_groups_group_id ON phpbb_acl_groups (group_id)
-/
-CREATE INDEX phpbb_acl_groups_auth_opt_id ON phpbb_acl_groups (auth_option_id)
-/
-CREATE INDEX phpbb_acl_groups_auth_role_id ON phpbb_acl_groups (auth_role_id)
-/
-
-/*
-	Table: 'phpbb_acl_options'
-*/
-CREATE TABLE phpbb_acl_options (
-	auth_option_id number(8) NOT NULL,
-	auth_option varchar2(50) DEFAULT '' ,
-	is_global number(1) DEFAULT '0' NOT NULL,
-	is_local number(1) DEFAULT '0' NOT NULL,
-	founder_only number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_acl_options PRIMARY KEY (auth_option_id),
-	CONSTRAINT u_phpbb_auth_option UNIQUE (auth_option)
-)
-/
-
-
-CREATE SEQUENCE phpbb_acl_options_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_acl_options
-BEFORE INSERT ON phpbb_acl_options
-FOR EACH ROW WHEN (
-	new.auth_option_id IS NULL OR new.auth_option_id = 0
-)
-BEGIN
-	SELECT phpbb_acl_options_seq.nextval
-	INTO :new.auth_option_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_acl_roles'
-*/
-CREATE TABLE phpbb_acl_roles (
-	role_id number(8) NOT NULL,
-	role_name varchar2(765) DEFAULT '' ,
-	role_description clob DEFAULT '' ,
-	role_type varchar2(10) DEFAULT '' ,
-	role_order number(4) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_acl_roles PRIMARY KEY (role_id)
-)
-/
-
-CREATE INDEX phpbb_acl_roles_role_type ON phpbb_acl_roles (role_type)
-/
-CREATE INDEX phpbb_acl_roles_role_order ON phpbb_acl_roles (role_order)
-/
-
-CREATE SEQUENCE phpbb_acl_roles_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_acl_roles
-BEFORE INSERT ON phpbb_acl_roles
-FOR EACH ROW WHEN (
-	new.role_id IS NULL OR new.role_id = 0
-)
-BEGIN
-	SELECT phpbb_acl_roles_seq.nextval
-	INTO :new.role_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_acl_roles_data'
-*/
-CREATE TABLE phpbb_acl_roles_data (
-	role_id number(8) DEFAULT '0' NOT NULL,
-	auth_option_id number(8) DEFAULT '0' NOT NULL,
-	auth_setting number(2) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_acl_roles_data PRIMARY KEY (role_id, auth_option_id)
-)
-/
-
-CREATE INDEX phpbb_acl_roles_data_ath_op_id ON phpbb_acl_roles_data (auth_option_id)
-/
-
-/*
-	Table: 'phpbb_acl_users'
-*/
-CREATE TABLE phpbb_acl_users (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	auth_option_id number(8) DEFAULT '0' NOT NULL,
-	auth_role_id number(8) DEFAULT '0' NOT NULL,
-	auth_setting number(2) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_acl_users_user_id ON phpbb_acl_users (user_id)
-/
-CREATE INDEX phpbb_acl_users_auth_option_id ON phpbb_acl_users (auth_option_id)
-/
-CREATE INDEX phpbb_acl_users_auth_role_id ON phpbb_acl_users (auth_role_id)
-/
-
-/*
-	Table: 'phpbb_banlist'
-*/
-CREATE TABLE phpbb_banlist (
-	ban_id number(8) NOT NULL,
-	ban_userid number(8) DEFAULT '0' NOT NULL,
-	ban_ip varchar2(40) DEFAULT '' ,
-	ban_email varchar2(300) DEFAULT '' ,
-	ban_start number(11) DEFAULT '0' NOT NULL,
-	ban_end number(11) DEFAULT '0' NOT NULL,
-	ban_exclude number(1) DEFAULT '0' NOT NULL,
-	ban_reason varchar2(765) DEFAULT '' ,
-	ban_give_reason varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_banlist PRIMARY KEY (ban_id)
-)
-/
-
-CREATE INDEX phpbb_banlist_ban_end ON phpbb_banlist (ban_end)
-/
-CREATE INDEX phpbb_banlist_ban_user ON phpbb_banlist (ban_userid, ban_exclude)
-/
-CREATE INDEX phpbb_banlist_ban_email ON phpbb_banlist (ban_email, ban_exclude)
-/
-CREATE INDEX phpbb_banlist_ban_ip ON phpbb_banlist (ban_ip, ban_exclude)
-/
-
-CREATE SEQUENCE phpbb_banlist_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_banlist
-BEFORE INSERT ON phpbb_banlist
-FOR EACH ROW WHEN (
-	new.ban_id IS NULL OR new.ban_id = 0
-)
-BEGIN
-	SELECT phpbb_banlist_seq.nextval
-	INTO :new.ban_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_bbcodes'
-*/
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id number(4) DEFAULT '0' NOT NULL,
-	bbcode_tag varchar2(16) DEFAULT '' ,
-	bbcode_helpline varchar2(765) DEFAULT '' ,
-	display_on_posting number(1) DEFAULT '0' NOT NULL,
-	bbcode_match clob DEFAULT '' ,
-	bbcode_tpl clob DEFAULT '' ,
-	first_pass_match clob DEFAULT '' ,
-	first_pass_replace clob DEFAULT '' ,
-	second_pass_match clob DEFAULT '' ,
-	second_pass_replace clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_bbcodes PRIMARY KEY (bbcode_id)
-)
-/
-
-CREATE INDEX phpbb_bbcodes_display_on_post ON phpbb_bbcodes (display_on_posting)
-/
-
-/*
-	Table: 'phpbb_bookmarks'
-*/
-CREATE TABLE phpbb_bookmarks (
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_bookmarks PRIMARY KEY (topic_id, user_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_bots'
-*/
-CREATE TABLE phpbb_bots (
-	bot_id number(8) NOT NULL,
-	bot_active number(1) DEFAULT '1' NOT NULL,
-	bot_name varchar2(765) DEFAULT '' ,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	bot_agent varchar2(255) DEFAULT '' ,
-	bot_ip varchar2(255) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_bots PRIMARY KEY (bot_id)
-)
-/
-
-CREATE INDEX phpbb_bots_bot_active ON phpbb_bots (bot_active)
-/
-
-CREATE SEQUENCE phpbb_bots_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_bots
-BEFORE INSERT ON phpbb_bots
-FOR EACH ROW WHEN (
-	new.bot_id IS NULL OR new.bot_id = 0
-)
-BEGIN
-	SELECT phpbb_bots_seq.nextval
-	INTO :new.bot_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_config'
-*/
-CREATE TABLE phpbb_config (
-	config_name varchar2(255) DEFAULT '' ,
-	config_value varchar2(765) DEFAULT '' ,
-	is_dynamic number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_config PRIMARY KEY (config_name)
-)
-/
-
-CREATE INDEX phpbb_config_is_dynamic ON phpbb_config (is_dynamic)
-/
-
-/*
-	Table: 'phpbb_confirm'
-*/
-CREATE TABLE phpbb_confirm (
-	confirm_id char(32) DEFAULT '' ,
-	session_id char(32) DEFAULT '' ,
-	confirm_type number(3) DEFAULT '0' NOT NULL,
-	code varchar2(8) DEFAULT '' ,
-	seed number(10) DEFAULT '0' NOT NULL,
-	attempts number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_confirm PRIMARY KEY (session_id, confirm_id)
-)
-/
-
-CREATE INDEX phpbb_confirm_confirm_type ON phpbb_confirm (confirm_type)
-/
-
-/*
-	Table: 'phpbb_disallow'
-*/
-CREATE TABLE phpbb_disallow (
-	disallow_id number(8) NOT NULL,
-	disallow_username varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_disallow PRIMARY KEY (disallow_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_disallow_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_disallow
-BEFORE INSERT ON phpbb_disallow
-FOR EACH ROW WHEN (
-	new.disallow_id IS NULL OR new.disallow_id = 0
-)
-BEGIN
-	SELECT phpbb_disallow_seq.nextval
-	INTO :new.disallow_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_drafts'
-*/
-CREATE TABLE phpbb_drafts (
-	draft_id number(8) NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	save_time number(11) DEFAULT '0' NOT NULL,
-	draft_subject varchar2(765) DEFAULT '' ,
-	draft_message clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_drafts PRIMARY KEY (draft_id)
-)
-/
-
-CREATE INDEX phpbb_drafts_save_time ON phpbb_drafts (save_time)
-/
-
-CREATE SEQUENCE phpbb_drafts_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_drafts
-BEFORE INSERT ON phpbb_drafts
-FOR EACH ROW WHEN (
-	new.draft_id IS NULL OR new.draft_id = 0
-)
-BEGIN
-	SELECT phpbb_drafts_seq.nextval
-	INTO :new.draft_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_extensions'
-*/
-CREATE TABLE phpbb_extensions (
-	extension_id number(8) NOT NULL,
-	group_id number(8) DEFAULT '0' NOT NULL,
-	extension varchar2(100) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_extensions PRIMARY KEY (extension_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_extensions_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_extensions
-BEFORE INSERT ON phpbb_extensions
-FOR EACH ROW WHEN (
-	new.extension_id IS NULL OR new.extension_id = 0
-)
-BEGIN
-	SELECT phpbb_extensions_seq.nextval
-	INTO :new.extension_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_extension_groups'
-*/
-CREATE TABLE phpbb_extension_groups (
-	group_id number(8) NOT NULL,
-	group_name varchar2(765) DEFAULT '' ,
-	cat_id number(2) DEFAULT '0' NOT NULL,
-	allow_group number(1) DEFAULT '0' NOT NULL,
-	download_mode number(1) DEFAULT '1' NOT NULL,
-	upload_icon varchar2(255) DEFAULT '' ,
-	max_filesize number(20) DEFAULT '0' NOT NULL,
-	allowed_forums clob DEFAULT '' ,
-	allow_in_pm number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_extension_groups PRIMARY KEY (group_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_extension_groups_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_extension_groups
-BEFORE INSERT ON phpbb_extension_groups
-FOR EACH ROW WHEN (
-	new.group_id IS NULL OR new.group_id = 0
-)
-BEGIN
-	SELECT phpbb_extension_groups_seq.nextval
-	INTO :new.group_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_forums'
-*/
-CREATE TABLE phpbb_forums (
-	forum_id number(8) NOT NULL,
-	parent_id number(8) DEFAULT '0' NOT NULL,
-	left_id number(8) DEFAULT '0' NOT NULL,
-	right_id number(8) DEFAULT '0' NOT NULL,
-	forum_parents clob DEFAULT '' ,
-	forum_name varchar2(765) DEFAULT '' ,
-	forum_desc clob DEFAULT '' ,
-	forum_desc_bitfield varchar2(255) DEFAULT '' ,
-	forum_desc_options number(11) DEFAULT '7' NOT NULL,
-	forum_desc_uid varchar2(8) DEFAULT '' ,
-	forum_link varchar2(765) DEFAULT '' ,
-	forum_password varchar2(120) DEFAULT '' ,
-	forum_style number(8) DEFAULT '0' NOT NULL,
-	forum_image varchar2(255) DEFAULT '' ,
-	forum_rules clob DEFAULT '' ,
-	forum_rules_link varchar2(765) DEFAULT '' ,
-	forum_rules_bitfield varchar2(255) DEFAULT '' ,
-	forum_rules_options number(11) DEFAULT '7' NOT NULL,
-	forum_rules_uid varchar2(8) DEFAULT '' ,
-	forum_topics_per_page number(4) DEFAULT '0' NOT NULL,
-	forum_type number(4) DEFAULT '0' NOT NULL,
-	forum_status number(4) DEFAULT '0' NOT NULL,
-	forum_posts number(8) DEFAULT '0' NOT NULL,
-	forum_topics number(8) DEFAULT '0' NOT NULL,
-	forum_topics_real number(8) DEFAULT '0' NOT NULL,
-	forum_last_post_id number(8) DEFAULT '0' NOT NULL,
-	forum_last_poster_id number(8) DEFAULT '0' NOT NULL,
-	forum_last_post_subject varchar2(765) DEFAULT '' ,
-	forum_last_post_time number(11) DEFAULT '0' NOT NULL,
-	forum_last_poster_name varchar2(765) DEFAULT '' ,
-	forum_last_poster_colour varchar2(6) DEFAULT '' ,
-	forum_flags number(4) DEFAULT '32' NOT NULL,
-	forum_options number(20) DEFAULT '0' NOT NULL,
-	display_subforum_list number(1) DEFAULT '1' NOT NULL,
-	display_on_index number(1) DEFAULT '1' NOT NULL,
-	enable_indexing number(1) DEFAULT '1' NOT NULL,
-	enable_icons number(1) DEFAULT '1' NOT NULL,
-	enable_prune number(1) DEFAULT '0' NOT NULL,
-	prune_next number(11) DEFAULT '0' NOT NULL,
-	prune_days number(8) DEFAULT '0' NOT NULL,
-	prune_viewed number(8) DEFAULT '0' NOT NULL,
-	prune_freq number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_forums PRIMARY KEY (forum_id)
-)
-/
-
-CREATE INDEX phpbb_forums_left_right_id ON phpbb_forums (left_id, right_id)
-/
-CREATE INDEX phpbb_forums_forum_lastpost_id ON phpbb_forums (forum_last_post_id)
-/
-
-CREATE SEQUENCE phpbb_forums_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_forums
-BEFORE INSERT ON phpbb_forums
-FOR EACH ROW WHEN (
-	new.forum_id IS NULL OR new.forum_id = 0
-)
-BEGIN
-	SELECT phpbb_forums_seq.nextval
-	INTO :new.forum_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_forums_access'
-*/
-CREATE TABLE phpbb_forums_access (
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	session_id char(32) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_forums_access PRIMARY KEY (forum_id, user_id, session_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_forums_track'
-*/
-CREATE TABLE phpbb_forums_track (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	mark_time number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_forums_track PRIMARY KEY (user_id, forum_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_forums_watch'
-*/
-CREATE TABLE phpbb_forums_watch (
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	notify_status number(1) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_forums_watch_forum_id ON phpbb_forums_watch (forum_id)
-/
-CREATE INDEX phpbb_forums_watch_user_id ON phpbb_forums_watch (user_id)
-/
-CREATE INDEX phpbb_forums_watch_notify_stat ON phpbb_forums_watch (notify_status)
-/
-
-/*
-	Table: 'phpbb_groups'
-*/
-CREATE TABLE phpbb_groups (
-	group_id number(8) NOT NULL,
-	group_type number(4) DEFAULT '1' NOT NULL,
-	group_founder_manage number(1) DEFAULT '0' NOT NULL,
-	group_skip_auth number(1) DEFAULT '0' NOT NULL,
-	group_name varchar2(255) DEFAULT '' ,
-	group_desc clob DEFAULT '' ,
-	group_desc_bitfield varchar2(255) DEFAULT '' ,
-	group_desc_options number(11) DEFAULT '7' NOT NULL,
-	group_desc_uid varchar2(8) DEFAULT '' ,
-	group_display number(1) DEFAULT '0' NOT NULL,
-	group_avatar varchar2(255) DEFAULT '' ,
-	group_avatar_type number(2) DEFAULT '0' NOT NULL,
-	group_avatar_width number(4) DEFAULT '0' NOT NULL,
-	group_avatar_height number(4) DEFAULT '0' NOT NULL,
-	group_rank number(8) DEFAULT '0' NOT NULL,
-	group_colour varchar2(6) DEFAULT '' ,
-	group_sig_chars number(8) DEFAULT '0' NOT NULL,
-	group_receive_pm number(1) DEFAULT '0' NOT NULL,
-	group_message_limit number(8) DEFAULT '0' NOT NULL,
-	group_max_recipients number(8) DEFAULT '0' NOT NULL,
-	group_legend number(1) DEFAULT '1' NOT NULL,
-	CONSTRAINT pk_phpbb_groups PRIMARY KEY (group_id)
-)
-/
-
-CREATE INDEX phpbb_groups_group_legend_name ON phpbb_groups (group_legend, group_name)
-/
-
-CREATE SEQUENCE phpbb_groups_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_groups
-BEFORE INSERT ON phpbb_groups
-FOR EACH ROW WHEN (
-	new.group_id IS NULL OR new.group_id = 0
-)
-BEGIN
-	SELECT phpbb_groups_seq.nextval
-	INTO :new.group_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_icons'
-*/
-CREATE TABLE phpbb_icons (
-	icons_id number(8) NOT NULL,
-	icons_url varchar2(255) DEFAULT '' ,
-	icons_width number(4) DEFAULT '0' NOT NULL,
-	icons_height number(4) DEFAULT '0' NOT NULL,
-	icons_order number(8) DEFAULT '0' NOT NULL,
-	display_on_posting number(1) DEFAULT '1' NOT NULL,
-	CONSTRAINT pk_phpbb_icons PRIMARY KEY (icons_id)
-)
-/
-
-CREATE INDEX phpbb_icons_display_on_posting ON phpbb_icons (display_on_posting)
-/
-
-CREATE SEQUENCE phpbb_icons_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_icons
-BEFORE INSERT ON phpbb_icons
-FOR EACH ROW WHEN (
-	new.icons_id IS NULL OR new.icons_id = 0
-)
-BEGIN
-	SELECT phpbb_icons_seq.nextval
-	INTO :new.icons_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_lang'
-*/
-CREATE TABLE phpbb_lang (
-	lang_id number(4) NOT NULL,
-	lang_iso varchar2(30) DEFAULT '' ,
-	lang_dir varchar2(30) DEFAULT '' ,
-	lang_english_name varchar2(300) DEFAULT '' ,
-	lang_local_name varchar2(765) DEFAULT '' ,
-	lang_author varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_lang PRIMARY KEY (lang_id)
-)
-/
-
-CREATE INDEX phpbb_lang_lang_iso ON phpbb_lang (lang_iso)
-/
-
-CREATE SEQUENCE phpbb_lang_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_lang
-BEFORE INSERT ON phpbb_lang
-FOR EACH ROW WHEN (
-	new.lang_id IS NULL OR new.lang_id = 0
-)
-BEGIN
-	SELECT phpbb_lang_seq.nextval
-	INTO :new.lang_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_log'
-*/
-CREATE TABLE phpbb_log (
-	log_id number(8) NOT NULL,
-	log_type number(4) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	reportee_id number(8) DEFAULT '0' NOT NULL,
-	log_ip varchar2(40) DEFAULT '' ,
-	log_time number(11) DEFAULT '0' NOT NULL,
-	log_operation clob DEFAULT '' ,
-	log_data clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_log PRIMARY KEY (log_id)
-)
-/
-
-CREATE INDEX phpbb_log_log_type ON phpbb_log (log_type)
-/
-CREATE INDEX phpbb_log_forum_id ON phpbb_log (forum_id)
-/
-CREATE INDEX phpbb_log_topic_id ON phpbb_log (topic_id)
-/
-CREATE INDEX phpbb_log_reportee_id ON phpbb_log (reportee_id)
-/
-CREATE INDEX phpbb_log_user_id ON phpbb_log (user_id)
-/
-
-CREATE SEQUENCE phpbb_log_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_log
-BEFORE INSERT ON phpbb_log
-FOR EACH ROW WHEN (
-	new.log_id IS NULL OR new.log_id = 0
-)
-BEGIN
-	SELECT phpbb_log_seq.nextval
-	INTO :new.log_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_login_attempts'
-*/
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip varchar2(40) DEFAULT '' ,
-	attempt_browser varchar2(150) DEFAULT '' ,
-	attempt_forwarded_for varchar2(255) DEFAULT '' ,
-	attempt_time number(11) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	username varchar2(765) DEFAULT '0' NOT NULL,
-	username_clean varchar2(255) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_login_attempts_att_ip ON phpbb_login_attempts (attempt_ip, attempt_time)
-/
-CREATE INDEX phpbb_login_attempts_att_for ON phpbb_login_attempts (attempt_forwarded_for, attempt_time)
-/
-CREATE INDEX phpbb_login_attempts_att_time ON phpbb_login_attempts (attempt_time)
-/
-CREATE INDEX phpbb_login_attempts_user_id ON phpbb_login_attempts (user_id)
-/
-
-/*
-	Table: 'phpbb_moderator_cache'
-*/
-CREATE TABLE phpbb_moderator_cache (
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	username varchar2(765) DEFAULT '' ,
-	group_id number(8) DEFAULT '0' NOT NULL,
-	group_name varchar2(765) DEFAULT '' ,
-	display_on_index number(1) DEFAULT '1' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_moderator_cache_disp_idx ON phpbb_moderator_cache (display_on_index)
-/
-CREATE INDEX phpbb_moderator_cache_forum_id ON phpbb_moderator_cache (forum_id)
-/
-
-/*
-	Table: 'phpbb_modules'
-*/
-CREATE TABLE phpbb_modules (
-	module_id number(8) NOT NULL,
-	module_enabled number(1) DEFAULT '1' NOT NULL,
-	module_display number(1) DEFAULT '1' NOT NULL,
-	module_basename varchar2(255) DEFAULT '' ,
-	module_class varchar2(10) DEFAULT '' ,
-	parent_id number(8) DEFAULT '0' NOT NULL,
-	left_id number(8) DEFAULT '0' NOT NULL,
-	right_id number(8) DEFAULT '0' NOT NULL,
-	module_langname varchar2(255) DEFAULT '' ,
-	module_mode varchar2(255) DEFAULT '' ,
-	module_auth varchar2(255) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_modules PRIMARY KEY (module_id)
-)
-/
-
-CREATE INDEX phpbb_modules_left_right_id ON phpbb_modules (left_id, right_id)
-/
-CREATE INDEX phpbb_modules_module_enabled ON phpbb_modules (module_enabled)
-/
-CREATE INDEX phpbb_modules_class_left_id ON phpbb_modules (module_class, left_id)
-/
-
-CREATE SEQUENCE phpbb_modules_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_modules
-BEFORE INSERT ON phpbb_modules
-FOR EACH ROW WHEN (
-	new.module_id IS NULL OR new.module_id = 0
-)
-BEGIN
-	SELECT phpbb_modules_seq.nextval
-	INTO :new.module_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_poll_options'
-*/
-CREATE TABLE phpbb_poll_options (
-	poll_option_id number(4) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	poll_option_text clob DEFAULT '' ,
-	poll_option_total number(8) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_poll_options_poll_opt_id ON phpbb_poll_options (poll_option_id)
-/
-CREATE INDEX phpbb_poll_options_topic_id ON phpbb_poll_options (topic_id)
-/
-
-/*
-	Table: 'phpbb_poll_votes'
-*/
-CREATE TABLE phpbb_poll_votes (
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	poll_option_id number(4) DEFAULT '0' NOT NULL,
-	vote_user_id number(8) DEFAULT '0' NOT NULL,
-	vote_user_ip varchar2(40) DEFAULT '' 
-)
-/
-
-CREATE INDEX phpbb_poll_votes_topic_id ON phpbb_poll_votes (topic_id)
-/
-CREATE INDEX phpbb_poll_votes_vote_user_id ON phpbb_poll_votes (vote_user_id)
-/
-CREATE INDEX phpbb_poll_votes_vote_user_ip ON phpbb_poll_votes (vote_user_ip)
-/
-
-/*
-	Table: 'phpbb_posts'
-*/
-CREATE TABLE phpbb_posts (
-	post_id number(8) NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	poster_id number(8) DEFAULT '0' NOT NULL,
-	icon_id number(8) DEFAULT '0' NOT NULL,
-	poster_ip varchar2(40) DEFAULT '' ,
-	post_time number(11) DEFAULT '0' NOT NULL,
-	post_approved number(1) DEFAULT '1' NOT NULL,
-	post_reported number(1) DEFAULT '0' NOT NULL,
-	enable_bbcode number(1) DEFAULT '1' NOT NULL,
-	enable_smilies number(1) DEFAULT '1' NOT NULL,
-	enable_magic_url number(1) DEFAULT '1' NOT NULL,
-	enable_sig number(1) DEFAULT '1' NOT NULL,
-	post_username varchar2(765) DEFAULT '' ,
-	post_subject varchar2(765) DEFAULT '' ,
-	post_text clob DEFAULT '' ,
-	post_checksum varchar2(32) DEFAULT '' ,
-	post_attachment number(1) DEFAULT '0' NOT NULL,
-	bbcode_bitfield varchar2(255) DEFAULT '' ,
-	bbcode_uid varchar2(8) DEFAULT '' ,
-	post_postcount number(1) DEFAULT '1' NOT NULL,
-	post_edit_time number(11) DEFAULT '0' NOT NULL,
-	post_edit_reason varchar2(765) DEFAULT '' ,
-	post_edit_user number(8) DEFAULT '0' NOT NULL,
-	post_edit_count number(4) DEFAULT '0' NOT NULL,
-	post_edit_locked number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_posts PRIMARY KEY (post_id)
-)
-/
-
-CREATE INDEX phpbb_posts_forum_id ON phpbb_posts (forum_id)
-/
-CREATE INDEX phpbb_posts_topic_id ON phpbb_posts (topic_id)
-/
-CREATE INDEX phpbb_posts_poster_ip ON phpbb_posts (poster_ip)
-/
-CREATE INDEX phpbb_posts_poster_id ON phpbb_posts (poster_id)
-/
-CREATE INDEX phpbb_posts_post_approved ON phpbb_posts (post_approved)
-/
-CREATE INDEX phpbb_posts_post_username ON phpbb_posts (post_username)
-/
-CREATE INDEX phpbb_posts_tid_post_time ON phpbb_posts (topic_id, post_time)
-/
-
-CREATE SEQUENCE phpbb_posts_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_posts
-BEFORE INSERT ON phpbb_posts
-FOR EACH ROW WHEN (
-	new.post_id IS NULL OR new.post_id = 0
-)
-BEGIN
-	SELECT phpbb_posts_seq.nextval
-	INTO :new.post_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_privmsgs'
-*/
-CREATE TABLE phpbb_privmsgs (
-	msg_id number(8) NOT NULL,
-	root_level number(8) DEFAULT '0' NOT NULL,
-	author_id number(8) DEFAULT '0' NOT NULL,
-	icon_id number(8) DEFAULT '0' NOT NULL,
-	author_ip varchar2(40) DEFAULT '' ,
-	message_time number(11) DEFAULT '0' NOT NULL,
-	enable_bbcode number(1) DEFAULT '1' NOT NULL,
-	enable_smilies number(1) DEFAULT '1' NOT NULL,
-	enable_magic_url number(1) DEFAULT '1' NOT NULL,
-	enable_sig number(1) DEFAULT '1' NOT NULL,
-	message_subject varchar2(765) DEFAULT '' ,
-	message_text clob DEFAULT '' ,
-	message_edit_reason varchar2(765) DEFAULT '' ,
-	message_edit_user number(8) DEFAULT '0' NOT NULL,
-	message_attachment number(1) DEFAULT '0' NOT NULL,
-	bbcode_bitfield varchar2(255) DEFAULT '' ,
-	bbcode_uid varchar2(8) DEFAULT '' ,
-	message_edit_time number(11) DEFAULT '0' NOT NULL,
-	message_edit_count number(4) DEFAULT '0' NOT NULL,
-	to_address clob DEFAULT '' ,
-	bcc_address clob DEFAULT '' ,
-	message_reported number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_privmsgs PRIMARY KEY (msg_id)
-)
-/
-
-CREATE INDEX phpbb_privmsgs_author_ip ON phpbb_privmsgs (author_ip)
-/
-CREATE INDEX phpbb_privmsgs_message_time ON phpbb_privmsgs (message_time)
-/
-CREATE INDEX phpbb_privmsgs_author_id ON phpbb_privmsgs (author_id)
-/
-CREATE INDEX phpbb_privmsgs_root_level ON phpbb_privmsgs (root_level)
-/
-
-CREATE SEQUENCE phpbb_privmsgs_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_privmsgs
-BEFORE INSERT ON phpbb_privmsgs
-FOR EACH ROW WHEN (
-	new.msg_id IS NULL OR new.msg_id = 0
-)
-BEGIN
-	SELECT phpbb_privmsgs_seq.nextval
-	INTO :new.msg_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_privmsgs_folder'
-*/
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id number(8) NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	folder_name varchar2(765) DEFAULT '' ,
-	pm_count number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_privmsgs_folder PRIMARY KEY (folder_id)
-)
-/
-
-CREATE INDEX phpbb_privmsgs_folder_user_id ON phpbb_privmsgs_folder (user_id)
-/
-
-CREATE SEQUENCE phpbb_privmsgs_folder_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_privmsgs_folder
-BEFORE INSERT ON phpbb_privmsgs_folder
-FOR EACH ROW WHEN (
-	new.folder_id IS NULL OR new.folder_id = 0
-)
-BEGIN
-	SELECT phpbb_privmsgs_folder_seq.nextval
-	INTO :new.folder_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_privmsgs_rules'
-*/
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id number(8) NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	rule_check number(8) DEFAULT '0' NOT NULL,
-	rule_connection number(8) DEFAULT '0' NOT NULL,
-	rule_string varchar2(765) DEFAULT '' ,
-	rule_user_id number(8) DEFAULT '0' NOT NULL,
-	rule_group_id number(8) DEFAULT '0' NOT NULL,
-	rule_action number(8) DEFAULT '0' NOT NULL,
-	rule_folder_id number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_privmsgs_rules PRIMARY KEY (rule_id)
-)
-/
-
-CREATE INDEX phpbb_privmsgs_rules_user_id ON phpbb_privmsgs_rules (user_id)
-/
-
-CREATE SEQUENCE phpbb_privmsgs_rules_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_privmsgs_rules
-BEFORE INSERT ON phpbb_privmsgs_rules
-FOR EACH ROW WHEN (
-	new.rule_id IS NULL OR new.rule_id = 0
-)
-BEGIN
-	SELECT phpbb_privmsgs_rules_seq.nextval
-	INTO :new.rule_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_privmsgs_to'
-*/
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	author_id number(8) DEFAULT '0' NOT NULL,
-	pm_deleted number(1) DEFAULT '0' NOT NULL,
-	pm_new number(1) DEFAULT '1' NOT NULL,
-	pm_unread number(1) DEFAULT '1' NOT NULL,
-	pm_replied number(1) DEFAULT '0' NOT NULL,
-	pm_marked number(1) DEFAULT '0' NOT NULL,
-	pm_forwarded number(1) DEFAULT '0' NOT NULL,
-	folder_id number(11) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_privmsgs_to_msg_id ON phpbb_privmsgs_to (msg_id)
-/
-CREATE INDEX phpbb_privmsgs_to_author_id ON phpbb_privmsgs_to (author_id)
-/
-CREATE INDEX phpbb_privmsgs_to_usr_flder_id ON phpbb_privmsgs_to (user_id, folder_id)
-/
-
-/*
-	Table: 'phpbb_profile_fields'
-*/
-CREATE TABLE phpbb_profile_fields (
-	field_id number(8) NOT NULL,
-	field_name varchar2(765) DEFAULT '' ,
-	field_type number(4) DEFAULT '0' NOT NULL,
-	field_ident varchar2(20) DEFAULT '' ,
-	field_length varchar2(20) DEFAULT '' ,
-	field_minlen varchar2(255) DEFAULT '' ,
-	field_maxlen varchar2(255) DEFAULT '' ,
-	field_novalue varchar2(765) DEFAULT '' ,
-	field_default_value varchar2(765) DEFAULT '' ,
-	field_validation varchar2(60) DEFAULT '' ,
-	field_required number(1) DEFAULT '0' NOT NULL,
-	field_show_on_reg number(1) DEFAULT '0' NOT NULL,
-	field_show_on_vt number(1) DEFAULT '0' NOT NULL,
-	field_show_profile number(1) DEFAULT '0' NOT NULL,
-	field_hide number(1) DEFAULT '0' NOT NULL,
-	field_no_view number(1) DEFAULT '0' NOT NULL,
-	field_active number(1) DEFAULT '0' NOT NULL,
-	field_order number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_profile_fields PRIMARY KEY (field_id)
-)
-/
-
-CREATE INDEX phpbb_profile_fields_fld_type ON phpbb_profile_fields (field_type)
-/
-CREATE INDEX phpbb_profile_fields_fld_ordr ON phpbb_profile_fields (field_order)
-/
-
-CREATE SEQUENCE phpbb_profile_fields_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_profile_fields
-BEFORE INSERT ON phpbb_profile_fields
-FOR EACH ROW WHEN (
-	new.field_id IS NULL OR new.field_id = 0
-)
-BEGIN
-	SELECT phpbb_profile_fields_seq.nextval
-	INTO :new.field_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_profile_fields_data'
-*/
-CREATE TABLE phpbb_profile_fields_data (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_profile_fields_data PRIMARY KEY (user_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_profile_fields_lang'
-*/
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id number(8) DEFAULT '0' NOT NULL,
-	lang_id number(8) DEFAULT '0' NOT NULL,
-	option_id number(8) DEFAULT '0' NOT NULL,
-	field_type number(4) DEFAULT '0' NOT NULL,
-	lang_value varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_profile_fields_lang PRIMARY KEY (field_id, lang_id, option_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_profile_lang'
-*/
-CREATE TABLE phpbb_profile_lang (
-	field_id number(8) DEFAULT '0' NOT NULL,
-	lang_id number(8) DEFAULT '0' NOT NULL,
-	lang_name varchar2(765) DEFAULT '' ,
-	lang_explain clob DEFAULT '' ,
-	lang_default_value varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_profile_lang PRIMARY KEY (field_id, lang_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_ranks'
-*/
-CREATE TABLE phpbb_ranks (
-	rank_id number(8) NOT NULL,
-	rank_title varchar2(765) DEFAULT '' ,
-	rank_min number(8) DEFAULT '0' NOT NULL,
-	rank_special number(1) DEFAULT '0' NOT NULL,
-	rank_image varchar2(255) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_ranks PRIMARY KEY (rank_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_ranks_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_ranks
-BEFORE INSERT ON phpbb_ranks
-FOR EACH ROW WHEN (
-	new.rank_id IS NULL OR new.rank_id = 0
-)
-BEGIN
-	SELECT phpbb_ranks_seq.nextval
-	INTO :new.rank_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_reports'
-*/
-CREATE TABLE phpbb_reports (
-	report_id number(8) NOT NULL,
-	reason_id number(4) DEFAULT '0' NOT NULL,
-	post_id number(8) DEFAULT '0' NOT NULL,
-	pm_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	user_notify number(1) DEFAULT '0' NOT NULL,
-	report_closed number(1) DEFAULT '0' NOT NULL,
-	report_time number(11) DEFAULT '0' NOT NULL,
-	report_text clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_reports PRIMARY KEY (report_id)
-)
-/
-
-CREATE INDEX phpbb_reports_post_id ON phpbb_reports (post_id)
-/
-CREATE INDEX phpbb_reports_pm_id ON phpbb_reports (pm_id)
-/
-
-CREATE SEQUENCE phpbb_reports_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_reports
-BEFORE INSERT ON phpbb_reports
-FOR EACH ROW WHEN (
-	new.report_id IS NULL OR new.report_id = 0
-)
-BEGIN
-	SELECT phpbb_reports_seq.nextval
-	INTO :new.report_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_reports_reasons'
-*/
-CREATE TABLE phpbb_reports_reasons (
-	reason_id number(4) NOT NULL,
-	reason_title varchar2(765) DEFAULT '' ,
-	reason_description clob DEFAULT '' ,
-	reason_order number(4) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_reports_reasons PRIMARY KEY (reason_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_reports_reasons_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_reports_reasons
-BEFORE INSERT ON phpbb_reports_reasons
-FOR EACH ROW WHEN (
-	new.reason_id IS NULL OR new.reason_id = 0
-)
-BEGIN
-	SELECT phpbb_reports_reasons_seq.nextval
-	INTO :new.reason_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_search_results'
-*/
-CREATE TABLE phpbb_search_results (
-	search_key varchar2(32) DEFAULT '' ,
-	search_time number(11) DEFAULT '0' NOT NULL,
-	search_keywords clob DEFAULT '' ,
-	search_authors clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_search_results PRIMARY KEY (search_key)
-)
-/
-
-
-/*
-	Table: 'phpbb_search_wordlist'
-*/
-CREATE TABLE phpbb_search_wordlist (
-	word_id number(8) NOT NULL,
-	word_text varchar2(765) DEFAULT '' ,
-	word_common number(1) DEFAULT '0' NOT NULL,
-	word_count number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_search_wordlist PRIMARY KEY (word_id),
-	CONSTRAINT u_phpbb_wrd_txt UNIQUE (word_text)
-)
-/
-
-CREATE INDEX phpbb_search_wordlist_wrd_cnt ON phpbb_search_wordlist (word_count)
-/
-
-CREATE SEQUENCE phpbb_search_wordlist_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_search_wordlist
-BEFORE INSERT ON phpbb_search_wordlist
-FOR EACH ROW WHEN (
-	new.word_id IS NULL OR new.word_id = 0
-)
-BEGIN
-	SELECT phpbb_search_wordlist_seq.nextval
-	INTO :new.word_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_search_wordmatch'
-*/
-CREATE TABLE phpbb_search_wordmatch (
-	post_id number(8) DEFAULT '0' NOT NULL,
-	word_id number(8) DEFAULT '0' NOT NULL,
-	title_match number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT u_phpbb_unq_mtch UNIQUE (word_id, post_id, title_match)
-)
-/
-
-CREATE INDEX phpbb_search_wordmatch_word_id ON phpbb_search_wordmatch (word_id)
-/
-CREATE INDEX phpbb_search_wordmatch_post_id ON phpbb_search_wordmatch (post_id)
-/
-
-/*
-	Table: 'phpbb_sessions'
-*/
-CREATE TABLE phpbb_sessions (
-	session_id char(32) DEFAULT '' ,
-	session_user_id number(8) DEFAULT '0' NOT NULL,
-	session_forum_id number(8) DEFAULT '0' NOT NULL,
-	session_last_visit number(11) DEFAULT '0' NOT NULL,
-	session_start number(11) DEFAULT '0' NOT NULL,
-	session_time number(11) DEFAULT '0' NOT NULL,
-	session_ip varchar2(40) DEFAULT '' ,
-	session_browser varchar2(150) DEFAULT '' ,
-	session_forwarded_for varchar2(255) DEFAULT '' ,
-	session_page varchar2(765) DEFAULT '' ,
-	session_viewonline number(1) DEFAULT '1' NOT NULL,
-	session_autologin number(1) DEFAULT '0' NOT NULL,
-	session_admin number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_sessions PRIMARY KEY (session_id)
-)
-/
-
-CREATE INDEX phpbb_sessions_session_time ON phpbb_sessions (session_time)
-/
-CREATE INDEX phpbb_sessions_session_user_id ON phpbb_sessions (session_user_id)
-/
-CREATE INDEX phpbb_sessions_session_fid ON phpbb_sessions (session_forum_id)
-/
-
-/*
-	Table: 'phpbb_sessions_keys'
-*/
-CREATE TABLE phpbb_sessions_keys (
-	key_id char(32) DEFAULT '' ,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	last_ip varchar2(40) DEFAULT '' ,
-	last_login number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_sessions_keys PRIMARY KEY (key_id, user_id)
-)
-/
-
-CREATE INDEX phpbb_sessions_keys_last_login ON phpbb_sessions_keys (last_login)
-/
-
-/*
-	Table: 'phpbb_sitelist'
-*/
-CREATE TABLE phpbb_sitelist (
-	site_id number(8) NOT NULL,
-	site_ip varchar2(40) DEFAULT '' ,
-	site_hostname varchar2(255) DEFAULT '' ,
-	ip_exclude number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_sitelist PRIMARY KEY (site_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_sitelist_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_sitelist
-BEFORE INSERT ON phpbb_sitelist
-FOR EACH ROW WHEN (
-	new.site_id IS NULL OR new.site_id = 0
-)
-BEGIN
-	SELECT phpbb_sitelist_seq.nextval
-	INTO :new.site_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_smilies'
-*/
-CREATE TABLE phpbb_smilies (
-	smiley_id number(8) NOT NULL,
-	code varchar2(150) DEFAULT '' ,
-	emotion varchar2(150) DEFAULT '' ,
-	smiley_url varchar2(50) DEFAULT '' ,
-	smiley_width number(4) DEFAULT '0' NOT NULL,
-	smiley_height number(4) DEFAULT '0' NOT NULL,
-	smiley_order number(8) DEFAULT '0' NOT NULL,
-	display_on_posting number(1) DEFAULT '1' NOT NULL,
-	CONSTRAINT pk_phpbb_smilies PRIMARY KEY (smiley_id)
-)
-/
-
-CREATE INDEX phpbb_smilies_display_on_post ON phpbb_smilies (display_on_posting)
-/
-
-CREATE SEQUENCE phpbb_smilies_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_smilies
-BEFORE INSERT ON phpbb_smilies
-FOR EACH ROW WHEN (
-	new.smiley_id IS NULL OR new.smiley_id = 0
-)
-BEGIN
-	SELECT phpbb_smilies_seq.nextval
-	INTO :new.smiley_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_styles'
-*/
-CREATE TABLE phpbb_styles (
-	style_id number(8) NOT NULL,
-	style_name varchar2(765) DEFAULT '' ,
-	style_copyright varchar2(765) DEFAULT '' ,
-	style_active number(1) DEFAULT '1' NOT NULL,
-	template_id number(8) DEFAULT '0' NOT NULL,
-	theme_id number(8) DEFAULT '0' NOT NULL,
-	imageset_id number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_styles PRIMARY KEY (style_id),
-	CONSTRAINT u_phpbb_style_name UNIQUE (style_name)
-)
-/
-
-CREATE INDEX phpbb_styles_template_id ON phpbb_styles (template_id)
-/
-CREATE INDEX phpbb_styles_theme_id ON phpbb_styles (theme_id)
-/
-CREATE INDEX phpbb_styles_imageset_id ON phpbb_styles (imageset_id)
-/
-
-CREATE SEQUENCE phpbb_styles_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_styles
-BEFORE INSERT ON phpbb_styles
-FOR EACH ROW WHEN (
-	new.style_id IS NULL OR new.style_id = 0
-)
-BEGIN
-	SELECT phpbb_styles_seq.nextval
-	INTO :new.style_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_styles_template'
-*/
-CREATE TABLE phpbb_styles_template (
-	template_id number(8) NOT NULL,
-	template_name varchar2(765) DEFAULT '' ,
-	template_copyright varchar2(765) DEFAULT '' ,
-	template_path varchar2(100) DEFAULT '' ,
-	bbcode_bitfield varchar2(255) DEFAULT 'kNg=' NOT NULL,
-	template_storedb number(1) DEFAULT '0' NOT NULL,
-	template_inherits_id number(4) DEFAULT '0' NOT NULL,
-	template_inherit_path varchar2(255) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_styles_template PRIMARY KEY (template_id),
-	CONSTRAINT u_phpbb_tmplte_nm UNIQUE (template_name)
-)
-/
-
-
-CREATE SEQUENCE phpbb_styles_template_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_styles_template
-BEFORE INSERT ON phpbb_styles_template
-FOR EACH ROW WHEN (
-	new.template_id IS NULL OR new.template_id = 0
-)
-BEGIN
-	SELECT phpbb_styles_template_seq.nextval
-	INTO :new.template_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_styles_template_data'
-*/
-CREATE TABLE phpbb_styles_template_data (
-	template_id number(8) DEFAULT '0' NOT NULL,
-	template_filename varchar2(100) DEFAULT '' ,
-	template_included clob DEFAULT '' ,
-	template_mtime number(11) DEFAULT '0' NOT NULL,
-	template_data clob DEFAULT '' 
-)
-/
-
-CREATE INDEX phpbb_styles_template_data_tid ON phpbb_styles_template_data (template_id)
-/
-CREATE INDEX phpbb_styles_template_data_tfn ON phpbb_styles_template_data (template_filename)
-/
-
-/*
-	Table: 'phpbb_styles_theme'
-*/
-CREATE TABLE phpbb_styles_theme (
-	theme_id number(8) NOT NULL,
-	theme_name varchar2(765) DEFAULT '' ,
-	theme_copyright varchar2(765) DEFAULT '' ,
-	theme_path varchar2(100) DEFAULT '' ,
-	theme_storedb number(1) DEFAULT '0' NOT NULL,
-	theme_mtime number(11) DEFAULT '0' NOT NULL,
-	theme_data clob DEFAULT '' ,
-	CONSTRAINT pk_phpbb_styles_theme PRIMARY KEY (theme_id),
-	CONSTRAINT u_phpbb_theme_name UNIQUE (theme_name)
-)
-/
-
-
-CREATE SEQUENCE phpbb_styles_theme_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_styles_theme
-BEFORE INSERT ON phpbb_styles_theme
-FOR EACH ROW WHEN (
-	new.theme_id IS NULL OR new.theme_id = 0
-)
-BEGIN
-	SELECT phpbb_styles_theme_seq.nextval
-	INTO :new.theme_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_styles_imageset'
-*/
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id number(8) NOT NULL,
-	imageset_name varchar2(765) DEFAULT '' ,
-	imageset_copyright varchar2(765) DEFAULT '' ,
-	imageset_path varchar2(100) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_styles_imageset PRIMARY KEY (imageset_id),
-	CONSTRAINT u_phpbb_imgset_nm UNIQUE (imageset_name)
-)
-/
-
-
-CREATE SEQUENCE phpbb_styles_imageset_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_styles_imageset
-BEFORE INSERT ON phpbb_styles_imageset
-FOR EACH ROW WHEN (
-	new.imageset_id IS NULL OR new.imageset_id = 0
-)
-BEGIN
-	SELECT phpbb_styles_imageset_seq.nextval
-	INTO :new.imageset_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_styles_imageset_data'
-*/
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id number(8) NOT NULL,
-	image_name varchar2(200) DEFAULT '' ,
-	image_filename varchar2(200) DEFAULT '' ,
-	image_lang varchar2(30) DEFAULT '' ,
-	image_height number(4) DEFAULT '0' NOT NULL,
-	image_width number(4) DEFAULT '0' NOT NULL,
-	imageset_id number(8) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_styles_imageset_data PRIMARY KEY (image_id)
-)
-/
-
-CREATE INDEX phpbb_styles_imageset_data_i_d ON phpbb_styles_imageset_data (imageset_id)
-/
-
-CREATE SEQUENCE phpbb_styles_imageset_data_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_styles_imageset_data
-BEFORE INSERT ON phpbb_styles_imageset_data
-FOR EACH ROW WHEN (
-	new.image_id IS NULL OR new.image_id = 0
-)
-BEGIN
-	SELECT phpbb_styles_imageset_data_seq.nextval
-	INTO :new.image_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_topics'
-*/
-CREATE TABLE phpbb_topics (
-	topic_id number(8) NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	icon_id number(8) DEFAULT '0' NOT NULL,
-	topic_attachment number(1) DEFAULT '0' NOT NULL,
-	topic_approved number(1) DEFAULT '1' NOT NULL,
-	topic_reported number(1) DEFAULT '0' NOT NULL,
-	topic_title varchar2(765) DEFAULT '' ,
-	topic_poster number(8) DEFAULT '0' NOT NULL,
-	topic_time number(11) DEFAULT '0' NOT NULL,
-	topic_time_limit number(11) DEFAULT '0' NOT NULL,
-	topic_views number(8) DEFAULT '0' NOT NULL,
-	topic_replies number(8) DEFAULT '0' NOT NULL,
-	topic_replies_real number(8) DEFAULT '0' NOT NULL,
-	topic_status number(3) DEFAULT '0' NOT NULL,
-	topic_type number(3) DEFAULT '0' NOT NULL,
-	topic_first_post_id number(8) DEFAULT '0' NOT NULL,
-	topic_first_poster_name varchar2(765) DEFAULT '' ,
-	topic_first_poster_colour varchar2(6) DEFAULT '' ,
-	topic_last_post_id number(8) DEFAULT '0' NOT NULL,
-	topic_last_poster_id number(8) DEFAULT '0' NOT NULL,
-	topic_last_poster_name varchar2(765) DEFAULT '' ,
-	topic_last_poster_colour varchar2(6) DEFAULT '' ,
-	topic_last_post_subject varchar2(765) DEFAULT '' ,
-	topic_last_post_time number(11) DEFAULT '0' NOT NULL,
-	topic_last_view_time number(11) DEFAULT '0' NOT NULL,
-	topic_moved_id number(8) DEFAULT '0' NOT NULL,
-	topic_bumped number(1) DEFAULT '0' NOT NULL,
-	topic_bumper number(8) DEFAULT '0' NOT NULL,
-	poll_title varchar2(765) DEFAULT '' ,
-	poll_start number(11) DEFAULT '0' NOT NULL,
-	poll_length number(11) DEFAULT '0' NOT NULL,
-	poll_max_options number(4) DEFAULT '1' NOT NULL,
-	poll_last_vote number(11) DEFAULT '0' NOT NULL,
-	poll_vote_change number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_topics PRIMARY KEY (topic_id)
-)
-/
-
-CREATE INDEX phpbb_topics_forum_id ON phpbb_topics (forum_id)
-/
-CREATE INDEX phpbb_topics_forum_id_type ON phpbb_topics (forum_id, topic_type)
-/
-CREATE INDEX phpbb_topics_last_post_time ON phpbb_topics (topic_last_post_time)
-/
-CREATE INDEX phpbb_topics_topic_approved ON phpbb_topics (topic_approved)
-/
-CREATE INDEX phpbb_topics_forum_appr_last ON phpbb_topics (forum_id, topic_approved, topic_last_post_id)
-/
-CREATE INDEX phpbb_topics_fid_time_moved ON phpbb_topics (forum_id, topic_last_post_time, topic_moved_id)
-/
-
-CREATE SEQUENCE phpbb_topics_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_topics
-BEFORE INSERT ON phpbb_topics
-FOR EACH ROW WHEN (
-	new.topic_id IS NULL OR new.topic_id = 0
-)
-BEGIN
-	SELECT phpbb_topics_seq.nextval
-	INTO :new.topic_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_topics_track'
-*/
-CREATE TABLE phpbb_topics_track (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	forum_id number(8) DEFAULT '0' NOT NULL,
-	mark_time number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_topics_track PRIMARY KEY (user_id, topic_id)
-)
-/
-
-CREATE INDEX phpbb_topics_track_topic_id ON phpbb_topics_track (topic_id)
-/
-CREATE INDEX phpbb_topics_track_forum_id ON phpbb_topics_track (forum_id)
-/
-
-/*
-	Table: 'phpbb_topics_posted'
-*/
-CREATE TABLE phpbb_topics_posted (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	topic_posted number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_topics_posted PRIMARY KEY (user_id, topic_id)
-)
-/
-
-
-/*
-	Table: 'phpbb_topics_watch'
-*/
-CREATE TABLE phpbb_topics_watch (
-	topic_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	notify_status number(1) DEFAULT '0' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_topics_watch_topic_id ON phpbb_topics_watch (topic_id)
-/
-CREATE INDEX phpbb_topics_watch_user_id ON phpbb_topics_watch (user_id)
-/
-CREATE INDEX phpbb_topics_watch_notify_stat ON phpbb_topics_watch (notify_status)
-/
-
-/*
-	Table: 'phpbb_user_group'
-*/
-CREATE TABLE phpbb_user_group (
-	group_id number(8) DEFAULT '0' NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	group_leader number(1) DEFAULT '0' NOT NULL,
-	user_pending number(1) DEFAULT '1' NOT NULL
-)
-/
-
-CREATE INDEX phpbb_user_group_group_id ON phpbb_user_group (group_id)
-/
-CREATE INDEX phpbb_user_group_user_id ON phpbb_user_group (user_id)
-/
-CREATE INDEX phpbb_user_group_group_leader ON phpbb_user_group (group_leader)
-/
-
-/*
-	Table: 'phpbb_users'
-*/
-CREATE TABLE phpbb_users (
-	user_id number(8) NOT NULL,
-	user_type number(2) DEFAULT '0' NOT NULL,
-	group_id number(8) DEFAULT '3' NOT NULL,
-	user_permissions clob DEFAULT '' ,
-	user_perm_from number(8) DEFAULT '0' NOT NULL,
-	user_ip varchar2(40) DEFAULT '' ,
-	user_regdate number(11) DEFAULT '0' NOT NULL,
-	username varchar2(255) DEFAULT '' ,
-	username_clean varchar2(255) DEFAULT '' ,
-	user_password varchar2(120) DEFAULT '' ,
-	user_passchg number(11) DEFAULT '0' NOT NULL,
-	user_pass_convert number(1) DEFAULT '0' NOT NULL,
-	user_email varchar2(300) DEFAULT '' ,
-	user_email_hash number(20) DEFAULT '0' NOT NULL,
-	user_birthday varchar2(10) DEFAULT '' ,
-	user_lastvisit number(11) DEFAULT '0' NOT NULL,
-	user_lastmark number(11) DEFAULT '0' NOT NULL,
-	user_lastpost_time number(11) DEFAULT '0' NOT NULL,
-	user_lastpage varchar2(600) DEFAULT '' ,
-	user_last_confirm_key varchar2(10) DEFAULT '' ,
-	user_last_search number(11) DEFAULT '0' NOT NULL,
-	user_warnings number(4) DEFAULT '0' NOT NULL,
-	user_last_warning number(11) DEFAULT '0' NOT NULL,
-	user_login_attempts number(4) DEFAULT '0' NOT NULL,
-	user_inactive_reason number(2) DEFAULT '0' NOT NULL,
-	user_inactive_time number(11) DEFAULT '0' NOT NULL,
-	user_posts number(8) DEFAULT '0' NOT NULL,
-	user_lang varchar2(30) DEFAULT '' ,
-	user_timezone number(5, 2) DEFAULT '0' NOT NULL,
-	user_dst number(1) DEFAULT '0' NOT NULL,
-	user_dateformat varchar2(90) DEFAULT 'd M Y H:i' NOT NULL,
-	user_style number(8) DEFAULT '0' NOT NULL,
-	user_rank number(8) DEFAULT '0' NOT NULL,
-	user_colour varchar2(6) DEFAULT '' ,
-	user_new_privmsg number(4) DEFAULT '0' NOT NULL,
-	user_unread_privmsg number(4) DEFAULT '0' NOT NULL,
-	user_last_privmsg number(11) DEFAULT '0' NOT NULL,
-	user_message_rules number(1) DEFAULT '0' NOT NULL,
-	user_full_folder number(11) DEFAULT '-3' NOT NULL,
-	user_emailtime number(11) DEFAULT '0' NOT NULL,
-	user_topic_show_days number(4) DEFAULT '0' NOT NULL,
-	user_topic_sortby_type varchar2(1) DEFAULT 't' NOT NULL,
-	user_topic_sortby_dir varchar2(1) DEFAULT 'd' NOT NULL,
-	user_post_show_days number(4) DEFAULT '0' NOT NULL,
-	user_post_sortby_type varchar2(1) DEFAULT 't' NOT NULL,
-	user_post_sortby_dir varchar2(1) DEFAULT 'a' NOT NULL,
-	user_notify number(1) DEFAULT '0' NOT NULL,
-	user_notify_pm number(1) DEFAULT '1' NOT NULL,
-	user_notify_type number(4) DEFAULT '0' NOT NULL,
-	user_allow_pm number(1) DEFAULT '1' NOT NULL,
-	user_allow_viewonline number(1) DEFAULT '1' NOT NULL,
-	user_allow_viewemail number(1) DEFAULT '1' NOT NULL,
-	user_allow_massemail number(1) DEFAULT '1' NOT NULL,
-	user_options number(11) DEFAULT '230271' NOT NULL,
-	user_avatar varchar2(255) DEFAULT '' ,
-	user_avatar_type number(2) DEFAULT '0' NOT NULL,
-	user_avatar_width number(4) DEFAULT '0' NOT NULL,
-	user_avatar_height number(4) DEFAULT '0' NOT NULL,
-	user_sig clob DEFAULT '' ,
-	user_sig_bbcode_uid varchar2(8) DEFAULT '' ,
-	user_sig_bbcode_bitfield varchar2(255) DEFAULT '' ,
-	user_from varchar2(300) DEFAULT '' ,
-	user_icq varchar2(15) DEFAULT '' ,
-	user_aim varchar2(765) DEFAULT '' ,
-	user_yim varchar2(765) DEFAULT '' ,
-	user_msnm varchar2(765) DEFAULT '' ,
-	user_jabber varchar2(765) DEFAULT '' ,
-	user_website varchar2(600) DEFAULT '' ,
-	user_occ clob DEFAULT '' ,
-	user_interests clob DEFAULT '' ,
-	user_actkey varchar2(32) DEFAULT '' ,
-	user_newpasswd varchar2(120) DEFAULT '' ,
-	user_form_salt varchar2(96) DEFAULT '' ,
-	user_new number(1) DEFAULT '1' NOT NULL,
-	user_reminded number(4) DEFAULT '0' NOT NULL,
-	user_reminded_time number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_users PRIMARY KEY (user_id),
-	CONSTRAINT u_phpbb_username_clean UNIQUE (username_clean)
-)
-/
-
-CREATE INDEX phpbb_users_user_birthday ON phpbb_users (user_birthday)
-/
-CREATE INDEX phpbb_users_user_email_hash ON phpbb_users (user_email_hash)
-/
-CREATE INDEX phpbb_users_user_type ON phpbb_users (user_type)
-/
-
-CREATE SEQUENCE phpbb_users_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_users
-BEFORE INSERT ON phpbb_users
-FOR EACH ROW WHEN (
-	new.user_id IS NULL OR new.user_id = 0
-)
-BEGIN
-	SELECT phpbb_users_seq.nextval
-	INTO :new.user_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_warnings'
-*/
-CREATE TABLE phpbb_warnings (
-	warning_id number(8) NOT NULL,
-	user_id number(8) DEFAULT '0' NOT NULL,
-	post_id number(8) DEFAULT '0' NOT NULL,
-	log_id number(8) DEFAULT '0' NOT NULL,
-	warning_time number(11) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_warnings PRIMARY KEY (warning_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_warnings_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_warnings
-BEFORE INSERT ON phpbb_warnings
-FOR EACH ROW WHEN (
-	new.warning_id IS NULL OR new.warning_id = 0
-)
-BEGIN
-	SELECT phpbb_warnings_seq.nextval
-	INTO :new.warning_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_words'
-*/
-CREATE TABLE phpbb_words (
-	word_id number(8) NOT NULL,
-	word varchar2(765) DEFAULT '' ,
-	replacement varchar2(765) DEFAULT '' ,
-	CONSTRAINT pk_phpbb_words PRIMARY KEY (word_id)
-)
-/
-
-
-CREATE SEQUENCE phpbb_words_seq
-/
-
-CREATE OR REPLACE TRIGGER t_phpbb_words
-BEFORE INSERT ON phpbb_words
-FOR EACH ROW WHEN (
-	new.word_id IS NULL OR new.word_id = 0
-)
-BEGIN
-	SELECT phpbb_words_seq.nextval
-	INTO :new.word_id
-	FROM dual;
-END;
-/
-
-
-/*
-	Table: 'phpbb_zebra'
-*/
-CREATE TABLE phpbb_zebra (
-	user_id number(8) DEFAULT '0' NOT NULL,
-	zebra_id number(8) DEFAULT '0' NOT NULL,
-	friend number(1) DEFAULT '0' NOT NULL,
-	foe number(1) DEFAULT '0' NOT NULL,
-	CONSTRAINT pk_phpbb_zebra PRIMARY KEY (user_id, zebra_id)
-)
-/
-
-
diff -rNU5 phpBB3-init/install/schemas/postgres_schema.sql phpBB3/install/schemas/postgres_schema.sql
--- phpBB3-init/install/schemas/postgres_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/postgres_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1309 +0,0 @@
-/*
-
- $Id: $
-
-*/
-
-BEGIN;
-
-/*
-	Domain definition
-*/
-CREATE DOMAIN varchar_ci AS varchar(255) NOT NULL DEFAULT ''::character varying;
-
-/*
-	Operation Functions
-*/
-CREATE FUNCTION _varchar_ci_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) = LOWER($2)' LANGUAGE SQL STRICT;
-CREATE FUNCTION _varchar_ci_not_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) != LOWER($2)' LANGUAGE SQL STRICT;
-CREATE FUNCTION _varchar_ci_less_than(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) < LOWER($2)' LANGUAGE SQL STRICT;
-CREATE FUNCTION _varchar_ci_less_equal(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) <= LOWER($2)' LANGUAGE SQL STRICT;
-CREATE FUNCTION _varchar_ci_greater_than(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) > LOWER($2)' LANGUAGE SQL STRICT;
-CREATE FUNCTION _varchar_ci_greater_equals(varchar_ci, varchar_ci) RETURNS boolean AS 'SELECT LOWER($1) >= LOWER($2)' LANGUAGE SQL STRICT;
-
-/*
-	Operators
-*/
-CREATE OPERATOR <(
-  PROCEDURE = _varchar_ci_less_than,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = >,
-  NEGATOR = >=,
-  RESTRICT = scalarltsel,
-  JOIN = scalarltjoinsel);
-
-CREATE OPERATOR <=(
-  PROCEDURE = _varchar_ci_less_equal,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = >=,
-  NEGATOR = >,
-  RESTRICT = scalarltsel,
-  JOIN = scalarltjoinsel);
-
-CREATE OPERATOR >(
-  PROCEDURE = _varchar_ci_greater_than,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = <,
-  NEGATOR = <=,
-  RESTRICT = scalargtsel,
-  JOIN = scalargtjoinsel);
-
-CREATE OPERATOR >=(
-  PROCEDURE = _varchar_ci_greater_equals,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = <=,
-  NEGATOR = <,
-  RESTRICT = scalargtsel,
-  JOIN = scalargtjoinsel);
-
-CREATE OPERATOR <>(
-  PROCEDURE = _varchar_ci_not_equal,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = <>,
-  NEGATOR = =,
-  RESTRICT = neqsel,
-  JOIN = neqjoinsel);
-
-CREATE OPERATOR =(
-  PROCEDURE = _varchar_ci_equal,
-  LEFTARG = varchar_ci,
-  RIGHTARG = varchar_ci,
-  COMMUTATOR = =,
-  NEGATOR = <>,
-  RESTRICT = eqsel,
-  JOIN = eqjoinsel,
-  HASHES,
-  MERGES,
-  SORT1= <);
-
-/*
-	Table: 'phpbb_attachments'
-*/
-CREATE SEQUENCE phpbb_attachments_seq;
-
-CREATE TABLE phpbb_attachments (
-	attach_id INT4 DEFAULT nextval('phpbb_attachments_seq'),
-	post_msg_id INT4 DEFAULT '0' NOT NULL CHECK (post_msg_id >= 0),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	in_message INT2 DEFAULT '0' NOT NULL CHECK (in_message >= 0),
-	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
-	is_orphan INT2 DEFAULT '1' NOT NULL CHECK (is_orphan >= 0),
-	physical_filename varchar(255) DEFAULT '' NOT NULL,
-	real_filename varchar(255) DEFAULT '' NOT NULL,
-	download_count INT4 DEFAULT '0' NOT NULL CHECK (download_count >= 0),
-	attach_comment varchar(4000) DEFAULT '' NOT NULL,
-	extension varchar(100) DEFAULT '' NOT NULL,
-	mimetype varchar(100) DEFAULT '' NOT NULL,
-	filesize INT4 DEFAULT '0' NOT NULL CHECK (filesize >= 0),
-	filetime INT4 DEFAULT '0' NOT NULL CHECK (filetime >= 0),
-	thumbnail INT2 DEFAULT '0' NOT NULL CHECK (thumbnail >= 0),
-	PRIMARY KEY (attach_id)
-);
-
-CREATE INDEX phpbb_attachments_filetime ON phpbb_attachments (filetime);
-CREATE INDEX phpbb_attachments_post_msg_id ON phpbb_attachments (post_msg_id);
-CREATE INDEX phpbb_attachments_topic_id ON phpbb_attachments (topic_id);
-CREATE INDEX phpbb_attachments_poster_id ON phpbb_attachments (poster_id);
-CREATE INDEX phpbb_attachments_is_orphan ON phpbb_attachments (is_orphan);
-
-/*
-	Table: 'phpbb_acl_groups'
-*/
-CREATE TABLE phpbb_acl_groups (
-	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
-	auth_role_id INT4 DEFAULT '0' NOT NULL CHECK (auth_role_id >= 0),
-	auth_setting INT2 DEFAULT '0' NOT NULL
-);
-
-CREATE INDEX phpbb_acl_groups_group_id ON phpbb_acl_groups (group_id);
-CREATE INDEX phpbb_acl_groups_auth_opt_id ON phpbb_acl_groups (auth_option_id);
-CREATE INDEX phpbb_acl_groups_auth_role_id ON phpbb_acl_groups (auth_role_id);
-
-/*
-	Table: 'phpbb_acl_options'
-*/
-CREATE SEQUENCE phpbb_acl_options_seq;
-
-CREATE TABLE phpbb_acl_options (
-	auth_option_id INT4 DEFAULT nextval('phpbb_acl_options_seq'),
-	auth_option varchar(50) DEFAULT '' NOT NULL,
-	is_global INT2 DEFAULT '0' NOT NULL CHECK (is_global >= 0),
-	is_local INT2 DEFAULT '0' NOT NULL CHECK (is_local >= 0),
-	founder_only INT2 DEFAULT '0' NOT NULL CHECK (founder_only >= 0),
-	PRIMARY KEY (auth_option_id)
-);
-
-CREATE UNIQUE INDEX phpbb_acl_options_auth_option ON phpbb_acl_options (auth_option);
-
-/*
-	Table: 'phpbb_acl_roles'
-*/
-CREATE SEQUENCE phpbb_acl_roles_seq;
-
-CREATE TABLE phpbb_acl_roles (
-	role_id INT4 DEFAULT nextval('phpbb_acl_roles_seq'),
-	role_name varchar(255) DEFAULT '' NOT NULL,
-	role_description varchar(4000) DEFAULT '' NOT NULL,
-	role_type varchar(10) DEFAULT '' NOT NULL,
-	role_order INT2 DEFAULT '0' NOT NULL CHECK (role_order >= 0),
-	PRIMARY KEY (role_id)
-);
-
-CREATE INDEX phpbb_acl_roles_role_type ON phpbb_acl_roles (role_type);
-CREATE INDEX phpbb_acl_roles_role_order ON phpbb_acl_roles (role_order);
-
-/*
-	Table: 'phpbb_acl_roles_data'
-*/
-CREATE TABLE phpbb_acl_roles_data (
-	role_id INT4 DEFAULT '0' NOT NULL CHECK (role_id >= 0),
-	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
-	auth_setting INT2 DEFAULT '0' NOT NULL,
-	PRIMARY KEY (role_id, auth_option_id)
-);
-
-CREATE INDEX phpbb_acl_roles_data_ath_op_id ON phpbb_acl_roles_data (auth_option_id);
-
-/*
-	Table: 'phpbb_acl_users'
-*/
-CREATE TABLE phpbb_acl_users (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	auth_option_id INT4 DEFAULT '0' NOT NULL CHECK (auth_option_id >= 0),
-	auth_role_id INT4 DEFAULT '0' NOT NULL CHECK (auth_role_id >= 0),
-	auth_setting INT2 DEFAULT '0' NOT NULL
-);
-
-CREATE INDEX phpbb_acl_users_user_id ON phpbb_acl_users (user_id);
-CREATE INDEX phpbb_acl_users_auth_option_id ON phpbb_acl_users (auth_option_id);
-CREATE INDEX phpbb_acl_users_auth_role_id ON phpbb_acl_users (auth_role_id);
-
-/*
-	Table: 'phpbb_banlist'
-*/
-CREATE SEQUENCE phpbb_banlist_seq;
-
-CREATE TABLE phpbb_banlist (
-	ban_id INT4 DEFAULT nextval('phpbb_banlist_seq'),
-	ban_userid INT4 DEFAULT '0' NOT NULL CHECK (ban_userid >= 0),
-	ban_ip varchar(40) DEFAULT '' NOT NULL,
-	ban_email varchar(100) DEFAULT '' NOT NULL,
-	ban_start INT4 DEFAULT '0' NOT NULL CHECK (ban_start >= 0),
-	ban_end INT4 DEFAULT '0' NOT NULL CHECK (ban_end >= 0),
-	ban_exclude INT2 DEFAULT '0' NOT NULL CHECK (ban_exclude >= 0),
-	ban_reason varchar(255) DEFAULT '' NOT NULL,
-	ban_give_reason varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (ban_id)
-);
-
-CREATE INDEX phpbb_banlist_ban_end ON phpbb_banlist (ban_end);
-CREATE INDEX phpbb_banlist_ban_user ON phpbb_banlist (ban_userid, ban_exclude);
-CREATE INDEX phpbb_banlist_ban_email ON phpbb_banlist (ban_email, ban_exclude);
-CREATE INDEX phpbb_banlist_ban_ip ON phpbb_banlist (ban_ip, ban_exclude);
-
-/*
-	Table: 'phpbb_bbcodes'
-*/
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id INT2 DEFAULT '0' NOT NULL CHECK (bbcode_id >= 0),
-	bbcode_tag varchar(16) DEFAULT '' NOT NULL,
-	bbcode_helpline varchar(255) DEFAULT '' NOT NULL,
-	display_on_posting INT2 DEFAULT '0' NOT NULL CHECK (display_on_posting >= 0),
-	bbcode_match varchar(4000) DEFAULT '' NOT NULL,
-	bbcode_tpl TEXT DEFAULT '' NOT NULL,
-	first_pass_match TEXT DEFAULT '' NOT NULL,
-	first_pass_replace TEXT DEFAULT '' NOT NULL,
-	second_pass_match TEXT DEFAULT '' NOT NULL,
-	second_pass_replace TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (bbcode_id)
-);
-
-CREATE INDEX phpbb_bbcodes_display_on_post ON phpbb_bbcodes (display_on_posting);
-
-/*
-	Table: 'phpbb_bookmarks'
-*/
-CREATE TABLE phpbb_bookmarks (
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	PRIMARY KEY (topic_id, user_id)
-);
-
-
-/*
-	Table: 'phpbb_bots'
-*/
-CREATE SEQUENCE phpbb_bots_seq;
-
-CREATE TABLE phpbb_bots (
-	bot_id INT4 DEFAULT nextval('phpbb_bots_seq'),
-	bot_active INT2 DEFAULT '1' NOT NULL CHECK (bot_active >= 0),
-	bot_name varchar(255) DEFAULT '' NOT NULL,
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	bot_agent varchar(255) DEFAULT '' NOT NULL,
-	bot_ip varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (bot_id)
-);
-
-CREATE INDEX phpbb_bots_bot_active ON phpbb_bots (bot_active);
-
-/*
-	Table: 'phpbb_config'
-*/
-CREATE TABLE phpbb_config (
-	config_name varchar(255) DEFAULT '' NOT NULL,
-	config_value varchar(255) DEFAULT '' NOT NULL,
-	is_dynamic INT2 DEFAULT '0' NOT NULL CHECK (is_dynamic >= 0),
-	PRIMARY KEY (config_name)
-);
-
-CREATE INDEX phpbb_config_is_dynamic ON phpbb_config (is_dynamic);
-
-/*
-	Table: 'phpbb_confirm'
-*/
-CREATE TABLE phpbb_confirm (
-	confirm_id char(32) DEFAULT '' NOT NULL,
-	session_id char(32) DEFAULT '' NOT NULL,
-	confirm_type INT2 DEFAULT '0' NOT NULL,
-	code varchar(8) DEFAULT '' NOT NULL,
-	seed INT4 DEFAULT '0' NOT NULL CHECK (seed >= 0),
-	attempts INT4 DEFAULT '0' NOT NULL CHECK (attempts >= 0),
-	PRIMARY KEY (session_id, confirm_id)
-);
-
-CREATE INDEX phpbb_confirm_confirm_type ON phpbb_confirm (confirm_type);
-
-/*
-	Table: 'phpbb_disallow'
-*/
-CREATE SEQUENCE phpbb_disallow_seq;
-
-CREATE TABLE phpbb_disallow (
-	disallow_id INT4 DEFAULT nextval('phpbb_disallow_seq'),
-	disallow_username varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (disallow_id)
-);
-
-
-/*
-	Table: 'phpbb_drafts'
-*/
-CREATE SEQUENCE phpbb_drafts_seq;
-
-CREATE TABLE phpbb_drafts (
-	draft_id INT4 DEFAULT nextval('phpbb_drafts_seq'),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	save_time INT4 DEFAULT '0' NOT NULL CHECK (save_time >= 0),
-	draft_subject varchar(255) DEFAULT '' NOT NULL,
-	draft_message TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (draft_id)
-);
-
-CREATE INDEX phpbb_drafts_save_time ON phpbb_drafts (save_time);
-
-/*
-	Table: 'phpbb_extensions'
-*/
-CREATE SEQUENCE phpbb_extensions_seq;
-
-CREATE TABLE phpbb_extensions (
-	extension_id INT4 DEFAULT nextval('phpbb_extensions_seq'),
-	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
-	extension varchar(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (extension_id)
-);
-
-
-/*
-	Table: 'phpbb_extension_groups'
-*/
-CREATE SEQUENCE phpbb_extension_groups_seq;
-
-CREATE TABLE phpbb_extension_groups (
-	group_id INT4 DEFAULT nextval('phpbb_extension_groups_seq'),
-	group_name varchar(255) DEFAULT '' NOT NULL,
-	cat_id INT2 DEFAULT '0' NOT NULL,
-	allow_group INT2 DEFAULT '0' NOT NULL CHECK (allow_group >= 0),
-	download_mode INT2 DEFAULT '1' NOT NULL CHECK (download_mode >= 0),
-	upload_icon varchar(255) DEFAULT '' NOT NULL,
-	max_filesize INT4 DEFAULT '0' NOT NULL CHECK (max_filesize >= 0),
-	allowed_forums varchar(8000) DEFAULT '' NOT NULL,
-	allow_in_pm INT2 DEFAULT '0' NOT NULL CHECK (allow_in_pm >= 0),
-	PRIMARY KEY (group_id)
-);
-
-
-/*
-	Table: 'phpbb_forums'
-*/
-CREATE SEQUENCE phpbb_forums_seq;
-
-CREATE TABLE phpbb_forums (
-	forum_id INT4 DEFAULT nextval('phpbb_forums_seq'),
-	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
-	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
-	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
-	forum_parents TEXT DEFAULT '' NOT NULL,
-	forum_name varchar(255) DEFAULT '' NOT NULL,
-	forum_desc varchar(4000) DEFAULT '' NOT NULL,
-	forum_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
-	forum_desc_options INT4 DEFAULT '7' NOT NULL CHECK (forum_desc_options >= 0),
-	forum_desc_uid varchar(8) DEFAULT '' NOT NULL,
-	forum_link varchar(255) DEFAULT '' NOT NULL,
-	forum_password varchar(40) DEFAULT '' NOT NULL,
-	forum_style INT4 DEFAULT '0' NOT NULL CHECK (forum_style >= 0),
-	forum_image varchar(255) DEFAULT '' NOT NULL,
-	forum_rules varchar(4000) DEFAULT '' NOT NULL,
-	forum_rules_link varchar(255) DEFAULT '' NOT NULL,
-	forum_rules_bitfield varchar(255) DEFAULT '' NOT NULL,
-	forum_rules_options INT4 DEFAULT '7' NOT NULL CHECK (forum_rules_options >= 0),
-	forum_rules_uid varchar(8) DEFAULT '' NOT NULL,
-	forum_topics_per_page INT2 DEFAULT '0' NOT NULL,
-	forum_type INT2 DEFAULT '0' NOT NULL,
-	forum_status INT2 DEFAULT '0' NOT NULL,
-	forum_posts INT4 DEFAULT '0' NOT NULL CHECK (forum_posts >= 0),
-	forum_topics INT4 DEFAULT '0' NOT NULL CHECK (forum_topics >= 0),
-	forum_topics_real INT4 DEFAULT '0' NOT NULL CHECK (forum_topics_real >= 0),
-	forum_last_post_id INT4 DEFAULT '0' NOT NULL CHECK (forum_last_post_id >= 0),
-	forum_last_poster_id INT4 DEFAULT '0' NOT NULL CHECK (forum_last_poster_id >= 0),
-	forum_last_post_subject varchar(255) DEFAULT '' NOT NULL,
-	forum_last_post_time INT4 DEFAULT '0' NOT NULL CHECK (forum_last_post_time >= 0),
-	forum_last_poster_name varchar(255) DEFAULT '' NOT NULL,
-	forum_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	forum_flags INT2 DEFAULT '32' NOT NULL,
-	forum_options INT4 DEFAULT '0' NOT NULL CHECK (forum_options >= 0),
-	display_subforum_list INT2 DEFAULT '1' NOT NULL CHECK (display_subforum_list >= 0),
-	display_on_index INT2 DEFAULT '1' NOT NULL CHECK (display_on_index >= 0),
-	enable_indexing INT2 DEFAULT '1' NOT NULL CHECK (enable_indexing >= 0),
-	enable_icons INT2 DEFAULT '1' NOT NULL CHECK (enable_icons >= 0),
-	enable_prune INT2 DEFAULT '0' NOT NULL CHECK (enable_prune >= 0),
-	prune_next INT4 DEFAULT '0' NOT NULL CHECK (prune_next >= 0),
-	prune_days INT4 DEFAULT '0' NOT NULL CHECK (prune_days >= 0),
-	prune_viewed INT4 DEFAULT '0' NOT NULL CHECK (prune_viewed >= 0),
-	prune_freq INT4 DEFAULT '0' NOT NULL CHECK (prune_freq >= 0),
-	PRIMARY KEY (forum_id)
-);
-
-CREATE INDEX phpbb_forums_left_right_id ON phpbb_forums (left_id, right_id);
-CREATE INDEX phpbb_forums_forum_lastpost_id ON phpbb_forums (forum_last_post_id);
-
-/*
-	Table: 'phpbb_forums_access'
-*/
-CREATE TABLE phpbb_forums_access (
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	session_id char(32) DEFAULT '' NOT NULL,
-	PRIMARY KEY (forum_id, user_id, session_id)
-);
-
-
-/*
-	Table: 'phpbb_forums_track'
-*/
-CREATE TABLE phpbb_forums_track (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
-	PRIMARY KEY (user_id, forum_id)
-);
-
-
-/*
-	Table: 'phpbb_forums_watch'
-*/
-CREATE TABLE phpbb_forums_watch (
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	notify_status INT2 DEFAULT '0' NOT NULL CHECK (notify_status >= 0)
-);
-
-CREATE INDEX phpbb_forums_watch_forum_id ON phpbb_forums_watch (forum_id);
-CREATE INDEX phpbb_forums_watch_user_id ON phpbb_forums_watch (user_id);
-CREATE INDEX phpbb_forums_watch_notify_stat ON phpbb_forums_watch (notify_status);
-
-/*
-	Table: 'phpbb_groups'
-*/
-CREATE SEQUENCE phpbb_groups_seq;
-
-CREATE TABLE phpbb_groups (
-	group_id INT4 DEFAULT nextval('phpbb_groups_seq'),
-	group_type INT2 DEFAULT '1' NOT NULL,
-	group_founder_manage INT2 DEFAULT '0' NOT NULL CHECK (group_founder_manage >= 0),
-	group_skip_auth INT2 DEFAULT '0' NOT NULL CHECK (group_skip_auth >= 0),
-	group_name varchar_ci DEFAULT '' NOT NULL,
-	group_desc varchar(4000) DEFAULT '' NOT NULL,
-	group_desc_bitfield varchar(255) DEFAULT '' NOT NULL,
-	group_desc_options INT4 DEFAULT '7' NOT NULL CHECK (group_desc_options >= 0),
-	group_desc_uid varchar(8) DEFAULT '' NOT NULL,
-	group_display INT2 DEFAULT '0' NOT NULL CHECK (group_display >= 0),
-	group_avatar varchar(255) DEFAULT '' NOT NULL,
-	group_avatar_type INT2 DEFAULT '0' NOT NULL,
-	group_avatar_width INT2 DEFAULT '0' NOT NULL CHECK (group_avatar_width >= 0),
-	group_avatar_height INT2 DEFAULT '0' NOT NULL CHECK (group_avatar_height >= 0),
-	group_rank INT4 DEFAULT '0' NOT NULL CHECK (group_rank >= 0),
-	group_colour varchar(6) DEFAULT '' NOT NULL,
-	group_sig_chars INT4 DEFAULT '0' NOT NULL CHECK (group_sig_chars >= 0),
-	group_receive_pm INT2 DEFAULT '0' NOT NULL CHECK (group_receive_pm >= 0),
-	group_message_limit INT4 DEFAULT '0' NOT NULL CHECK (group_message_limit >= 0),
-	group_max_recipients INT4 DEFAULT '0' NOT NULL CHECK (group_max_recipients >= 0),
-	group_legend INT2 DEFAULT '1' NOT NULL CHECK (group_legend >= 0),
-	PRIMARY KEY (group_id)
-);
-
-CREATE INDEX phpbb_groups_group_legend_name ON phpbb_groups (group_legend, group_name);
-
-/*
-	Table: 'phpbb_icons'
-*/
-CREATE SEQUENCE phpbb_icons_seq;
-
-CREATE TABLE phpbb_icons (
-	icons_id INT4 DEFAULT nextval('phpbb_icons_seq'),
-	icons_url varchar(255) DEFAULT '' NOT NULL,
-	icons_width INT2 DEFAULT '0' NOT NULL,
-	icons_height INT2 DEFAULT '0' NOT NULL,
-	icons_order INT4 DEFAULT '0' NOT NULL CHECK (icons_order >= 0),
-	display_on_posting INT2 DEFAULT '1' NOT NULL CHECK (display_on_posting >= 0),
-	PRIMARY KEY (icons_id)
-);
-
-CREATE INDEX phpbb_icons_display_on_posting ON phpbb_icons (display_on_posting);
-
-/*
-	Table: 'phpbb_lang'
-*/
-CREATE SEQUENCE phpbb_lang_seq;
-
-CREATE TABLE phpbb_lang (
-	lang_id INT2 DEFAULT nextval('phpbb_lang_seq'),
-	lang_iso varchar(30) DEFAULT '' NOT NULL,
-	lang_dir varchar(30) DEFAULT '' NOT NULL,
-	lang_english_name varchar(100) DEFAULT '' NOT NULL,
-	lang_local_name varchar(255) DEFAULT '' NOT NULL,
-	lang_author varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (lang_id)
-);
-
-CREATE INDEX phpbb_lang_lang_iso ON phpbb_lang (lang_iso);
-
-/*
-	Table: 'phpbb_log'
-*/
-CREATE SEQUENCE phpbb_log_seq;
-
-CREATE TABLE phpbb_log (
-	log_id INT4 DEFAULT nextval('phpbb_log_seq'),
-	log_type INT2 DEFAULT '0' NOT NULL,
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	reportee_id INT4 DEFAULT '0' NOT NULL CHECK (reportee_id >= 0),
-	log_ip varchar(40) DEFAULT '' NOT NULL,
-	log_time INT4 DEFAULT '0' NOT NULL CHECK (log_time >= 0),
-	log_operation varchar(4000) DEFAULT '' NOT NULL,
-	log_data TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (log_id)
-);
-
-CREATE INDEX phpbb_log_log_type ON phpbb_log (log_type);
-CREATE INDEX phpbb_log_forum_id ON phpbb_log (forum_id);
-CREATE INDEX phpbb_log_topic_id ON phpbb_log (topic_id);
-CREATE INDEX phpbb_log_reportee_id ON phpbb_log (reportee_id);
-CREATE INDEX phpbb_log_user_id ON phpbb_log (user_id);
-
-/*
-	Table: 'phpbb_login_attempts'
-*/
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip varchar(40) DEFAULT '' NOT NULL,
-	attempt_browser varchar(150) DEFAULT '' NOT NULL,
-	attempt_forwarded_for varchar(255) DEFAULT '' NOT NULL,
-	attempt_time INT4 DEFAULT '0' NOT NULL CHECK (attempt_time >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	username varchar(255) DEFAULT '0' NOT NULL,
-	username_clean varchar_ci DEFAULT '0' NOT NULL
-);
-
-CREATE INDEX phpbb_login_attempts_att_ip ON phpbb_login_attempts (attempt_ip, attempt_time);
-CREATE INDEX phpbb_login_attempts_att_for ON phpbb_login_attempts (attempt_forwarded_for, attempt_time);
-CREATE INDEX phpbb_login_attempts_att_time ON phpbb_login_attempts (attempt_time);
-CREATE INDEX phpbb_login_attempts_user_id ON phpbb_login_attempts (user_id);
-
-/*
-	Table: 'phpbb_moderator_cache'
-*/
-CREATE TABLE phpbb_moderator_cache (
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	username varchar(255) DEFAULT '' NOT NULL,
-	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
-	group_name varchar(255) DEFAULT '' NOT NULL,
-	display_on_index INT2 DEFAULT '1' NOT NULL CHECK (display_on_index >= 0)
-);
-
-CREATE INDEX phpbb_moderator_cache_disp_idx ON phpbb_moderator_cache (display_on_index);
-CREATE INDEX phpbb_moderator_cache_forum_id ON phpbb_moderator_cache (forum_id);
-
-/*
-	Table: 'phpbb_modules'
-*/
-CREATE SEQUENCE phpbb_modules_seq;
-
-CREATE TABLE phpbb_modules (
-	module_id INT4 DEFAULT nextval('phpbb_modules_seq'),
-	module_enabled INT2 DEFAULT '1' NOT NULL CHECK (module_enabled >= 0),
-	module_display INT2 DEFAULT '1' NOT NULL CHECK (module_display >= 0),
-	module_basename varchar(255) DEFAULT '' NOT NULL,
-	module_class varchar(10) DEFAULT '' NOT NULL,
-	parent_id INT4 DEFAULT '0' NOT NULL CHECK (parent_id >= 0),
-	left_id INT4 DEFAULT '0' NOT NULL CHECK (left_id >= 0),
-	right_id INT4 DEFAULT '0' NOT NULL CHECK (right_id >= 0),
-	module_langname varchar(255) DEFAULT '' NOT NULL,
-	module_mode varchar(255) DEFAULT '' NOT NULL,
-	module_auth varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (module_id)
-);
-
-CREATE INDEX phpbb_modules_left_right_id ON phpbb_modules (left_id, right_id);
-CREATE INDEX phpbb_modules_module_enabled ON phpbb_modules (module_enabled);
-CREATE INDEX phpbb_modules_class_left_id ON phpbb_modules (module_class, left_id);
-
-/*
-	Table: 'phpbb_poll_options'
-*/
-CREATE TABLE phpbb_poll_options (
-	poll_option_id INT2 DEFAULT '0' NOT NULL,
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	poll_option_text varchar(4000) DEFAULT '' NOT NULL,
-	poll_option_total INT4 DEFAULT '0' NOT NULL CHECK (poll_option_total >= 0)
-);
-
-CREATE INDEX phpbb_poll_options_poll_opt_id ON phpbb_poll_options (poll_option_id);
-CREATE INDEX phpbb_poll_options_topic_id ON phpbb_poll_options (topic_id);
-
-/*
-	Table: 'phpbb_poll_votes'
-*/
-CREATE TABLE phpbb_poll_votes (
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	poll_option_id INT2 DEFAULT '0' NOT NULL,
-	vote_user_id INT4 DEFAULT '0' NOT NULL CHECK (vote_user_id >= 0),
-	vote_user_ip varchar(40) DEFAULT '' NOT NULL
-);
-
-CREATE INDEX phpbb_poll_votes_topic_id ON phpbb_poll_votes (topic_id);
-CREATE INDEX phpbb_poll_votes_vote_user_id ON phpbb_poll_votes (vote_user_id);
-CREATE INDEX phpbb_poll_votes_vote_user_ip ON phpbb_poll_votes (vote_user_ip);
-
-/*
-	Table: 'phpbb_posts'
-*/
-CREATE SEQUENCE phpbb_posts_seq;
-
-CREATE TABLE phpbb_posts (
-	post_id INT4 DEFAULT nextval('phpbb_posts_seq'),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	poster_id INT4 DEFAULT '0' NOT NULL CHECK (poster_id >= 0),
-	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
-	poster_ip varchar(40) DEFAULT '' NOT NULL,
-	post_time INT4 DEFAULT '0' NOT NULL CHECK (post_time >= 0),
-	post_approved INT2 DEFAULT '1' NOT NULL CHECK (post_approved >= 0),
-	post_reported INT2 DEFAULT '0' NOT NULL CHECK (post_reported >= 0),
-	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
-	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
-	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
-	enable_sig INT2 DEFAULT '1' NOT NULL CHECK (enable_sig >= 0),
-	post_username varchar(255) DEFAULT '' NOT NULL,
-	post_subject varchar(255) DEFAULT '' NOT NULL,
-	post_text TEXT DEFAULT '' NOT NULL,
-	post_checksum varchar(32) DEFAULT '' NOT NULL,
-	post_attachment INT2 DEFAULT '0' NOT NULL CHECK (post_attachment >= 0),
-	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	post_postcount INT2 DEFAULT '1' NOT NULL CHECK (post_postcount >= 0),
-	post_edit_time INT4 DEFAULT '0' NOT NULL CHECK (post_edit_time >= 0),
-	post_edit_reason varchar(255) DEFAULT '' NOT NULL,
-	post_edit_user INT4 DEFAULT '0' NOT NULL CHECK (post_edit_user >= 0),
-	post_edit_count INT2 DEFAULT '0' NOT NULL CHECK (post_edit_count >= 0),
-	post_edit_locked INT2 DEFAULT '0' NOT NULL CHECK (post_edit_locked >= 0),
-	PRIMARY KEY (post_id)
-);
-
-CREATE INDEX phpbb_posts_forum_id ON phpbb_posts (forum_id);
-CREATE INDEX phpbb_posts_topic_id ON phpbb_posts (topic_id);
-CREATE INDEX phpbb_posts_poster_ip ON phpbb_posts (poster_ip);
-CREATE INDEX phpbb_posts_poster_id ON phpbb_posts (poster_id);
-CREATE INDEX phpbb_posts_post_approved ON phpbb_posts (post_approved);
-CREATE INDEX phpbb_posts_post_username ON phpbb_posts (post_username);
-CREATE INDEX phpbb_posts_tid_post_time ON phpbb_posts (topic_id, post_time);
-
-/*
-	Table: 'phpbb_privmsgs'
-*/
-CREATE SEQUENCE phpbb_privmsgs_seq;
-
-CREATE TABLE phpbb_privmsgs (
-	msg_id INT4 DEFAULT nextval('phpbb_privmsgs_seq'),
-	root_level INT4 DEFAULT '0' NOT NULL CHECK (root_level >= 0),
-	author_id INT4 DEFAULT '0' NOT NULL CHECK (author_id >= 0),
-	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
-	author_ip varchar(40) DEFAULT '' NOT NULL,
-	message_time INT4 DEFAULT '0' NOT NULL CHECK (message_time >= 0),
-	enable_bbcode INT2 DEFAULT '1' NOT NULL CHECK (enable_bbcode >= 0),
-	enable_smilies INT2 DEFAULT '1' NOT NULL CHECK (enable_smilies >= 0),
-	enable_magic_url INT2 DEFAULT '1' NOT NULL CHECK (enable_magic_url >= 0),
-	enable_sig INT2 DEFAULT '1' NOT NULL CHECK (enable_sig >= 0),
-	message_subject varchar(255) DEFAULT '' NOT NULL,
-	message_text TEXT DEFAULT '' NOT NULL,
-	message_edit_reason varchar(255) DEFAULT '' NOT NULL,
-	message_edit_user INT4 DEFAULT '0' NOT NULL CHECK (message_edit_user >= 0),
-	message_attachment INT2 DEFAULT '0' NOT NULL CHECK (message_attachment >= 0),
-	bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	message_edit_time INT4 DEFAULT '0' NOT NULL CHECK (message_edit_time >= 0),
-	message_edit_count INT2 DEFAULT '0' NOT NULL CHECK (message_edit_count >= 0),
-	to_address varchar(4000) DEFAULT '' NOT NULL,
-	bcc_address varchar(4000) DEFAULT '' NOT NULL,
-	message_reported INT2 DEFAULT '0' NOT NULL CHECK (message_reported >= 0),
-	PRIMARY KEY (msg_id)
-);
-
-CREATE INDEX phpbb_privmsgs_author_ip ON phpbb_privmsgs (author_ip);
-CREATE INDEX phpbb_privmsgs_message_time ON phpbb_privmsgs (message_time);
-CREATE INDEX phpbb_privmsgs_author_id ON phpbb_privmsgs (author_id);
-CREATE INDEX phpbb_privmsgs_root_level ON phpbb_privmsgs (root_level);
-
-/*
-	Table: 'phpbb_privmsgs_folder'
-*/
-CREATE SEQUENCE phpbb_privmsgs_folder_seq;
-
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id INT4 DEFAULT nextval('phpbb_privmsgs_folder_seq'),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	folder_name varchar(255) DEFAULT '' NOT NULL,
-	pm_count INT4 DEFAULT '0' NOT NULL CHECK (pm_count >= 0),
-	PRIMARY KEY (folder_id)
-);
-
-CREATE INDEX phpbb_privmsgs_folder_user_id ON phpbb_privmsgs_folder (user_id);
-
-/*
-	Table: 'phpbb_privmsgs_rules'
-*/
-CREATE SEQUENCE phpbb_privmsgs_rules_seq;
-
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id INT4 DEFAULT nextval('phpbb_privmsgs_rules_seq'),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	rule_check INT4 DEFAULT '0' NOT NULL CHECK (rule_check >= 0),
-	rule_connection INT4 DEFAULT '0' NOT NULL CHECK (rule_connection >= 0),
-	rule_string varchar(255) DEFAULT '' NOT NULL,
-	rule_user_id INT4 DEFAULT '0' NOT NULL CHECK (rule_user_id >= 0),
-	rule_group_id INT4 DEFAULT '0' NOT NULL CHECK (rule_group_id >= 0),
-	rule_action INT4 DEFAULT '0' NOT NULL CHECK (rule_action >= 0),
-	rule_folder_id INT4 DEFAULT '0' NOT NULL,
-	PRIMARY KEY (rule_id)
-);
-
-CREATE INDEX phpbb_privmsgs_rules_user_id ON phpbb_privmsgs_rules (user_id);
-
-/*
-	Table: 'phpbb_privmsgs_to'
-*/
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id INT4 DEFAULT '0' NOT NULL CHECK (msg_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	author_id INT4 DEFAULT '0' NOT NULL CHECK (author_id >= 0),
-	pm_deleted INT2 DEFAULT '0' NOT NULL CHECK (pm_deleted >= 0),
-	pm_new INT2 DEFAULT '1' NOT NULL CHECK (pm_new >= 0),
-	pm_unread INT2 DEFAULT '1' NOT NULL CHECK (pm_unread >= 0),
-	pm_replied INT2 DEFAULT '0' NOT NULL CHECK (pm_replied >= 0),
-	pm_marked INT2 DEFAULT '0' NOT NULL CHECK (pm_marked >= 0),
-	pm_forwarded INT2 DEFAULT '0' NOT NULL CHECK (pm_forwarded >= 0),
-	folder_id INT4 DEFAULT '0' NOT NULL
-);
-
-CREATE INDEX phpbb_privmsgs_to_msg_id ON phpbb_privmsgs_to (msg_id);
-CREATE INDEX phpbb_privmsgs_to_author_id ON phpbb_privmsgs_to (author_id);
-CREATE INDEX phpbb_privmsgs_to_usr_flder_id ON phpbb_privmsgs_to (user_id, folder_id);
-
-/*
-	Table: 'phpbb_profile_fields'
-*/
-CREATE SEQUENCE phpbb_profile_fields_seq;
-
-CREATE TABLE phpbb_profile_fields (
-	field_id INT4 DEFAULT nextval('phpbb_profile_fields_seq'),
-	field_name varchar(255) DEFAULT '' NOT NULL,
-	field_type INT2 DEFAULT '0' NOT NULL,
-	field_ident varchar(20) DEFAULT '' NOT NULL,
-	field_length varchar(20) DEFAULT '' NOT NULL,
-	field_minlen varchar(255) DEFAULT '' NOT NULL,
-	field_maxlen varchar(255) DEFAULT '' NOT NULL,
-	field_novalue varchar(255) DEFAULT '' NOT NULL,
-	field_default_value varchar(255) DEFAULT '' NOT NULL,
-	field_validation varchar(20) DEFAULT '' NOT NULL,
-	field_required INT2 DEFAULT '0' NOT NULL CHECK (field_required >= 0),
-	field_show_on_reg INT2 DEFAULT '0' NOT NULL CHECK (field_show_on_reg >= 0),
-	field_show_on_vt INT2 DEFAULT '0' NOT NULL CHECK (field_show_on_vt >= 0),
-	field_show_profile INT2 DEFAULT '0' NOT NULL CHECK (field_show_profile >= 0),
-	field_hide INT2 DEFAULT '0' NOT NULL CHECK (field_hide >= 0),
-	field_no_view INT2 DEFAULT '0' NOT NULL CHECK (field_no_view >= 0),
-	field_active INT2 DEFAULT '0' NOT NULL CHECK (field_active >= 0),
-	field_order INT4 DEFAULT '0' NOT NULL CHECK (field_order >= 0),
-	PRIMARY KEY (field_id)
-);
-
-CREATE INDEX phpbb_profile_fields_fld_type ON phpbb_profile_fields (field_type);
-CREATE INDEX phpbb_profile_fields_fld_ordr ON phpbb_profile_fields (field_order);
-
-/*
-	Table: 'phpbb_profile_fields_data'
-*/
-CREATE TABLE phpbb_profile_fields_data (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	PRIMARY KEY (user_id)
-);
-
-
-/*
-	Table: 'phpbb_profile_fields_lang'
-*/
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
-	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
-	option_id INT4 DEFAULT '0' NOT NULL CHECK (option_id >= 0),
-	field_type INT2 DEFAULT '0' NOT NULL,
-	lang_value varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (field_id, lang_id, option_id)
-);
-
-
-/*
-	Table: 'phpbb_profile_lang'
-*/
-CREATE TABLE phpbb_profile_lang (
-	field_id INT4 DEFAULT '0' NOT NULL CHECK (field_id >= 0),
-	lang_id INT4 DEFAULT '0' NOT NULL CHECK (lang_id >= 0),
-	lang_name varchar(255) DEFAULT '' NOT NULL,
-	lang_explain varchar(4000) DEFAULT '' NOT NULL,
-	lang_default_value varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (field_id, lang_id)
-);
-
-
-/*
-	Table: 'phpbb_ranks'
-*/
-CREATE SEQUENCE phpbb_ranks_seq;
-
-CREATE TABLE phpbb_ranks (
-	rank_id INT4 DEFAULT nextval('phpbb_ranks_seq'),
-	rank_title varchar(255) DEFAULT '' NOT NULL,
-	rank_min INT4 DEFAULT '0' NOT NULL CHECK (rank_min >= 0),
-	rank_special INT2 DEFAULT '0' NOT NULL CHECK (rank_special >= 0),
-	rank_image varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (rank_id)
-);
-
-
-/*
-	Table: 'phpbb_reports'
-*/
-CREATE SEQUENCE phpbb_reports_seq;
-
-CREATE TABLE phpbb_reports (
-	report_id INT4 DEFAULT nextval('phpbb_reports_seq'),
-	reason_id INT2 DEFAULT '0' NOT NULL CHECK (reason_id >= 0),
-	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
-	pm_id INT4 DEFAULT '0' NOT NULL CHECK (pm_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	user_notify INT2 DEFAULT '0' NOT NULL CHECK (user_notify >= 0),
-	report_closed INT2 DEFAULT '0' NOT NULL CHECK (report_closed >= 0),
-	report_time INT4 DEFAULT '0' NOT NULL CHECK (report_time >= 0),
-	report_text TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (report_id)
-);
-
-CREATE INDEX phpbb_reports_post_id ON phpbb_reports (post_id);
-CREATE INDEX phpbb_reports_pm_id ON phpbb_reports (pm_id);
-
-/*
-	Table: 'phpbb_reports_reasons'
-*/
-CREATE SEQUENCE phpbb_reports_reasons_seq;
-
-CREATE TABLE phpbb_reports_reasons (
-	reason_id INT2 DEFAULT nextval('phpbb_reports_reasons_seq'),
-	reason_title varchar(255) DEFAULT '' NOT NULL,
-	reason_description TEXT DEFAULT '' NOT NULL,
-	reason_order INT2 DEFAULT '0' NOT NULL CHECK (reason_order >= 0),
-	PRIMARY KEY (reason_id)
-);
-
-
-/*
-	Table: 'phpbb_search_results'
-*/
-CREATE TABLE phpbb_search_results (
-	search_key varchar(32) DEFAULT '' NOT NULL,
-	search_time INT4 DEFAULT '0' NOT NULL CHECK (search_time >= 0),
-	search_keywords TEXT DEFAULT '' NOT NULL,
-	search_authors TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (search_key)
-);
-
-
-/*
-	Table: 'phpbb_search_wordlist'
-*/
-CREATE SEQUENCE phpbb_search_wordlist_seq;
-
-CREATE TABLE phpbb_search_wordlist (
-	word_id INT4 DEFAULT nextval('phpbb_search_wordlist_seq'),
-	word_text varchar(255) DEFAULT '' NOT NULL,
-	word_common INT2 DEFAULT '0' NOT NULL CHECK (word_common >= 0),
-	word_count INT4 DEFAULT '0' NOT NULL CHECK (word_count >= 0),
-	PRIMARY KEY (word_id)
-);
-
-CREATE UNIQUE INDEX phpbb_search_wordlist_wrd_txt ON phpbb_search_wordlist (word_text);
-CREATE INDEX phpbb_search_wordlist_wrd_cnt ON phpbb_search_wordlist (word_count);
-
-/*
-	Table: 'phpbb_search_wordmatch'
-*/
-CREATE TABLE phpbb_search_wordmatch (
-	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
-	word_id INT4 DEFAULT '0' NOT NULL CHECK (word_id >= 0),
-	title_match INT2 DEFAULT '0' NOT NULL CHECK (title_match >= 0)
-);
-
-CREATE UNIQUE INDEX phpbb_search_wordmatch_unq_mtch ON phpbb_search_wordmatch (word_id, post_id, title_match);
-CREATE INDEX phpbb_search_wordmatch_word_id ON phpbb_search_wordmatch (word_id);
-CREATE INDEX phpbb_search_wordmatch_post_id ON phpbb_search_wordmatch (post_id);
-
-/*
-	Table: 'phpbb_sessions'
-*/
-CREATE TABLE phpbb_sessions (
-	session_id char(32) DEFAULT '' NOT NULL,
-	session_user_id INT4 DEFAULT '0' NOT NULL CHECK (session_user_id >= 0),
-	session_forum_id INT4 DEFAULT '0' NOT NULL CHECK (session_forum_id >= 0),
-	session_last_visit INT4 DEFAULT '0' NOT NULL CHECK (session_last_visit >= 0),
-	session_start INT4 DEFAULT '0' NOT NULL CHECK (session_start >= 0),
-	session_time INT4 DEFAULT '0' NOT NULL CHECK (session_time >= 0),
-	session_ip varchar(40) DEFAULT '' NOT NULL,
-	session_browser varchar(150) DEFAULT '' NOT NULL,
-	session_forwarded_for varchar(255) DEFAULT '' NOT NULL,
-	session_page varchar(255) DEFAULT '' NOT NULL,
-	session_viewonline INT2 DEFAULT '1' NOT NULL CHECK (session_viewonline >= 0),
-	session_autologin INT2 DEFAULT '0' NOT NULL CHECK (session_autologin >= 0),
-	session_admin INT2 DEFAULT '0' NOT NULL CHECK (session_admin >= 0),
-	PRIMARY KEY (session_id)
-);
-
-CREATE INDEX phpbb_sessions_session_time ON phpbb_sessions (session_time);
-CREATE INDEX phpbb_sessions_session_user_id ON phpbb_sessions (session_user_id);
-CREATE INDEX phpbb_sessions_session_fid ON phpbb_sessions (session_forum_id);
-
-/*
-	Table: 'phpbb_sessions_keys'
-*/
-CREATE TABLE phpbb_sessions_keys (
-	key_id char(32) DEFAULT '' NOT NULL,
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	last_ip varchar(40) DEFAULT '' NOT NULL,
-	last_login INT4 DEFAULT '0' NOT NULL CHECK (last_login >= 0),
-	PRIMARY KEY (key_id, user_id)
-);
-
-CREATE INDEX phpbb_sessions_keys_last_login ON phpbb_sessions_keys (last_login);
-
-/*
-	Table: 'phpbb_sitelist'
-*/
-CREATE SEQUENCE phpbb_sitelist_seq;
-
-CREATE TABLE phpbb_sitelist (
-	site_id INT4 DEFAULT nextval('phpbb_sitelist_seq'),
-	site_ip varchar(40) DEFAULT '' NOT NULL,
-	site_hostname varchar(255) DEFAULT '' NOT NULL,
-	ip_exclude INT2 DEFAULT '0' NOT NULL CHECK (ip_exclude >= 0),
-	PRIMARY KEY (site_id)
-);
-
-
-/*
-	Table: 'phpbb_smilies'
-*/
-CREATE SEQUENCE phpbb_smilies_seq;
-
-CREATE TABLE phpbb_smilies (
-	smiley_id INT4 DEFAULT nextval('phpbb_smilies_seq'),
-	code varchar(50) DEFAULT '' NOT NULL,
-	emotion varchar(50) DEFAULT '' NOT NULL,
-	smiley_url varchar(50) DEFAULT '' NOT NULL,
-	smiley_width INT2 DEFAULT '0' NOT NULL CHECK (smiley_width >= 0),
-	smiley_height INT2 DEFAULT '0' NOT NULL CHECK (smiley_height >= 0),
-	smiley_order INT4 DEFAULT '0' NOT NULL CHECK (smiley_order >= 0),
-	display_on_posting INT2 DEFAULT '1' NOT NULL CHECK (display_on_posting >= 0),
-	PRIMARY KEY (smiley_id)
-);
-
-CREATE INDEX phpbb_smilies_display_on_post ON phpbb_smilies (display_on_posting);
-
-/*
-	Table: 'phpbb_styles'
-*/
-CREATE SEQUENCE phpbb_styles_seq;
-
-CREATE TABLE phpbb_styles (
-	style_id INT4 DEFAULT nextval('phpbb_styles_seq'),
-	style_name varchar(255) DEFAULT '' NOT NULL,
-	style_copyright varchar(255) DEFAULT '' NOT NULL,
-	style_active INT2 DEFAULT '1' NOT NULL CHECK (style_active >= 0),
-	template_id INT4 DEFAULT '0' NOT NULL CHECK (template_id >= 0),
-	theme_id INT4 DEFAULT '0' NOT NULL CHECK (theme_id >= 0),
-	imageset_id INT4 DEFAULT '0' NOT NULL CHECK (imageset_id >= 0),
-	PRIMARY KEY (style_id)
-);
-
-CREATE UNIQUE INDEX phpbb_styles_style_name ON phpbb_styles (style_name);
-CREATE INDEX phpbb_styles_template_id ON phpbb_styles (template_id);
-CREATE INDEX phpbb_styles_theme_id ON phpbb_styles (theme_id);
-CREATE INDEX phpbb_styles_imageset_id ON phpbb_styles (imageset_id);
-
-/*
-	Table: 'phpbb_styles_template'
-*/
-CREATE SEQUENCE phpbb_styles_template_seq;
-
-CREATE TABLE phpbb_styles_template (
-	template_id INT4 DEFAULT nextval('phpbb_styles_template_seq'),
-	template_name varchar(255) DEFAULT '' NOT NULL,
-	template_copyright varchar(255) DEFAULT '' NOT NULL,
-	template_path varchar(100) DEFAULT '' NOT NULL,
-	bbcode_bitfield varchar(255) DEFAULT 'kNg=' NOT NULL,
-	template_storedb INT2 DEFAULT '0' NOT NULL CHECK (template_storedb >= 0),
-	template_inherits_id INT4 DEFAULT '0' NOT NULL CHECK (template_inherits_id >= 0),
-	template_inherit_path varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (template_id)
-);
-
-CREATE UNIQUE INDEX phpbb_styles_template_tmplte_nm ON phpbb_styles_template (template_name);
-
-/*
-	Table: 'phpbb_styles_template_data'
-*/
-CREATE TABLE phpbb_styles_template_data (
-	template_id INT4 DEFAULT '0' NOT NULL CHECK (template_id >= 0),
-	template_filename varchar(100) DEFAULT '' NOT NULL,
-	template_included varchar(8000) DEFAULT '' NOT NULL,
-	template_mtime INT4 DEFAULT '0' NOT NULL CHECK (template_mtime >= 0),
-	template_data TEXT DEFAULT '' NOT NULL
-);
-
-CREATE INDEX phpbb_styles_template_data_tid ON phpbb_styles_template_data (template_id);
-CREATE INDEX phpbb_styles_template_data_tfn ON phpbb_styles_template_data (template_filename);
-
-/*
-	Table: 'phpbb_styles_theme'
-*/
-CREATE SEQUENCE phpbb_styles_theme_seq;
-
-CREATE TABLE phpbb_styles_theme (
-	theme_id INT4 DEFAULT nextval('phpbb_styles_theme_seq'),
-	theme_name varchar(255) DEFAULT '' NOT NULL,
-	theme_copyright varchar(255) DEFAULT '' NOT NULL,
-	theme_path varchar(100) DEFAULT '' NOT NULL,
-	theme_storedb INT2 DEFAULT '0' NOT NULL CHECK (theme_storedb >= 0),
-	theme_mtime INT4 DEFAULT '0' NOT NULL CHECK (theme_mtime >= 0),
-	theme_data TEXT DEFAULT '' NOT NULL,
-	PRIMARY KEY (theme_id)
-);
-
-CREATE UNIQUE INDEX phpbb_styles_theme_theme_name ON phpbb_styles_theme (theme_name);
-
-/*
-	Table: 'phpbb_styles_imageset'
-*/
-CREATE SEQUENCE phpbb_styles_imageset_seq;
-
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id INT4 DEFAULT nextval('phpbb_styles_imageset_seq'),
-	imageset_name varchar(255) DEFAULT '' NOT NULL,
-	imageset_copyright varchar(255) DEFAULT '' NOT NULL,
-	imageset_path varchar(100) DEFAULT '' NOT NULL,
-	PRIMARY KEY (imageset_id)
-);
-
-CREATE UNIQUE INDEX phpbb_styles_imageset_imgset_nm ON phpbb_styles_imageset (imageset_name);
-
-/*
-	Table: 'phpbb_styles_imageset_data'
-*/
-CREATE SEQUENCE phpbb_styles_imageset_data_seq;
-
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id INT4 DEFAULT nextval('phpbb_styles_imageset_data_seq'),
-	image_name varchar(200) DEFAULT '' NOT NULL,
-	image_filename varchar(200) DEFAULT '' NOT NULL,
-	image_lang varchar(30) DEFAULT '' NOT NULL,
-	image_height INT2 DEFAULT '0' NOT NULL CHECK (image_height >= 0),
-	image_width INT2 DEFAULT '0' NOT NULL CHECK (image_width >= 0),
-	imageset_id INT4 DEFAULT '0' NOT NULL CHECK (imageset_id >= 0),
-	PRIMARY KEY (image_id)
-);
-
-CREATE INDEX phpbb_styles_imageset_data_i_d ON phpbb_styles_imageset_data (imageset_id);
-
-/*
-	Table: 'phpbb_topics'
-*/
-CREATE SEQUENCE phpbb_topics_seq;
-
-CREATE TABLE phpbb_topics (
-	topic_id INT4 DEFAULT nextval('phpbb_topics_seq'),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	icon_id INT4 DEFAULT '0' NOT NULL CHECK (icon_id >= 0),
-	topic_attachment INT2 DEFAULT '0' NOT NULL CHECK (topic_attachment >= 0),
-	topic_approved INT2 DEFAULT '1' NOT NULL CHECK (topic_approved >= 0),
-	topic_reported INT2 DEFAULT '0' NOT NULL CHECK (topic_reported >= 0),
-	topic_title varchar(255) DEFAULT '' NOT NULL,
-	topic_poster INT4 DEFAULT '0' NOT NULL CHECK (topic_poster >= 0),
-	topic_time INT4 DEFAULT '0' NOT NULL CHECK (topic_time >= 0),
-	topic_time_limit INT4 DEFAULT '0' NOT NULL CHECK (topic_time_limit >= 0),
-	topic_views INT4 DEFAULT '0' NOT NULL CHECK (topic_views >= 0),
-	topic_replies INT4 DEFAULT '0' NOT NULL CHECK (topic_replies >= 0),
-	topic_replies_real INT4 DEFAULT '0' NOT NULL CHECK (topic_replies_real >= 0),
-	topic_status INT2 DEFAULT '0' NOT NULL,
-	topic_type INT2 DEFAULT '0' NOT NULL,
-	topic_first_post_id INT4 DEFAULT '0' NOT NULL CHECK (topic_first_post_id >= 0),
-	topic_first_poster_name varchar(255) DEFAULT '' NOT NULL,
-	topic_first_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	topic_last_post_id INT4 DEFAULT '0' NOT NULL CHECK (topic_last_post_id >= 0),
-	topic_last_poster_id INT4 DEFAULT '0' NOT NULL CHECK (topic_last_poster_id >= 0),
-	topic_last_poster_name varchar(255) DEFAULT '' NOT NULL,
-	topic_last_poster_colour varchar(6) DEFAULT '' NOT NULL,
-	topic_last_post_subject varchar(255) DEFAULT '' NOT NULL,
-	topic_last_post_time INT4 DEFAULT '0' NOT NULL CHECK (topic_last_post_time >= 0),
-	topic_last_view_time INT4 DEFAULT '0' NOT NULL CHECK (topic_last_view_time >= 0),
-	topic_moved_id INT4 DEFAULT '0' NOT NULL CHECK (topic_moved_id >= 0),
-	topic_bumped INT2 DEFAULT '0' NOT NULL CHECK (topic_bumped >= 0),
-	topic_bumper INT4 DEFAULT '0' NOT NULL CHECK (topic_bumper >= 0),
-	poll_title varchar(255) DEFAULT '' NOT NULL,
-	poll_start INT4 DEFAULT '0' NOT NULL CHECK (poll_start >= 0),
-	poll_length INT4 DEFAULT '0' NOT NULL CHECK (poll_length >= 0),
-	poll_max_options INT2 DEFAULT '1' NOT NULL,
-	poll_last_vote INT4 DEFAULT '0' NOT NULL CHECK (poll_last_vote >= 0),
-	poll_vote_change INT2 DEFAULT '0' NOT NULL CHECK (poll_vote_change >= 0),
-	PRIMARY KEY (topic_id)
-);
-
-CREATE INDEX phpbb_topics_forum_id ON phpbb_topics (forum_id);
-CREATE INDEX phpbb_topics_forum_id_type ON phpbb_topics (forum_id, topic_type);
-CREATE INDEX phpbb_topics_last_post_time ON phpbb_topics (topic_last_post_time);
-CREATE INDEX phpbb_topics_topic_approved ON phpbb_topics (topic_approved);
-CREATE INDEX phpbb_topics_forum_appr_last ON phpbb_topics (forum_id, topic_approved, topic_last_post_id);
-CREATE INDEX phpbb_topics_fid_time_moved ON phpbb_topics (forum_id, topic_last_post_time, topic_moved_id);
-
-/*
-	Table: 'phpbb_topics_track'
-*/
-CREATE TABLE phpbb_topics_track (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	forum_id INT4 DEFAULT '0' NOT NULL CHECK (forum_id >= 0),
-	mark_time INT4 DEFAULT '0' NOT NULL CHECK (mark_time >= 0),
-	PRIMARY KEY (user_id, topic_id)
-);
-
-CREATE INDEX phpbb_topics_track_topic_id ON phpbb_topics_track (topic_id);
-CREATE INDEX phpbb_topics_track_forum_id ON phpbb_topics_track (forum_id);
-
-/*
-	Table: 'phpbb_topics_posted'
-*/
-CREATE TABLE phpbb_topics_posted (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	topic_posted INT2 DEFAULT '0' NOT NULL CHECK (topic_posted >= 0),
-	PRIMARY KEY (user_id, topic_id)
-);
-
-
-/*
-	Table: 'phpbb_topics_watch'
-*/
-CREATE TABLE phpbb_topics_watch (
-	topic_id INT4 DEFAULT '0' NOT NULL CHECK (topic_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	notify_status INT2 DEFAULT '0' NOT NULL CHECK (notify_status >= 0)
-);
-
-CREATE INDEX phpbb_topics_watch_topic_id ON phpbb_topics_watch (topic_id);
-CREATE INDEX phpbb_topics_watch_user_id ON phpbb_topics_watch (user_id);
-CREATE INDEX phpbb_topics_watch_notify_stat ON phpbb_topics_watch (notify_status);
-
-/*
-	Table: 'phpbb_user_group'
-*/
-CREATE TABLE phpbb_user_group (
-	group_id INT4 DEFAULT '0' NOT NULL CHECK (group_id >= 0),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	group_leader INT2 DEFAULT '0' NOT NULL CHECK (group_leader >= 0),
-	user_pending INT2 DEFAULT '1' NOT NULL CHECK (user_pending >= 0)
-);
-
-CREATE INDEX phpbb_user_group_group_id ON phpbb_user_group (group_id);
-CREATE INDEX phpbb_user_group_user_id ON phpbb_user_group (user_id);
-CREATE INDEX phpbb_user_group_group_leader ON phpbb_user_group (group_leader);
-
-/*
-	Table: 'phpbb_users'
-*/
-CREATE SEQUENCE phpbb_users_seq;
-
-CREATE TABLE phpbb_users (
-	user_id INT4 DEFAULT nextval('phpbb_users_seq'),
-	user_type INT2 DEFAULT '0' NOT NULL,
-	group_id INT4 DEFAULT '3' NOT NULL CHECK (group_id >= 0),
-	user_permissions TEXT DEFAULT '' NOT NULL,
-	user_perm_from INT4 DEFAULT '0' NOT NULL CHECK (user_perm_from >= 0),
-	user_ip varchar(40) DEFAULT '' NOT NULL,
-	user_regdate INT4 DEFAULT '0' NOT NULL CHECK (user_regdate >= 0),
-	username varchar_ci DEFAULT '' NOT NULL,
-	username_clean varchar_ci DEFAULT '' NOT NULL,
-	user_password varchar(40) DEFAULT '' NOT NULL,
-	user_passchg INT4 DEFAULT '0' NOT NULL CHECK (user_passchg >= 0),
-	user_pass_convert INT2 DEFAULT '0' NOT NULL CHECK (user_pass_convert >= 0),
-	user_email varchar(100) DEFAULT '' NOT NULL,
-	user_email_hash INT8 DEFAULT '0' NOT NULL,
-	user_birthday varchar(10) DEFAULT '' NOT NULL,
-	user_lastvisit INT4 DEFAULT '0' NOT NULL CHECK (user_lastvisit >= 0),
-	user_lastmark INT4 DEFAULT '0' NOT NULL CHECK (user_lastmark >= 0),
-	user_lastpost_time INT4 DEFAULT '0' NOT NULL CHECK (user_lastpost_time >= 0),
-	user_lastpage varchar(200) DEFAULT '' NOT NULL,
-	user_last_confirm_key varchar(10) DEFAULT '' NOT NULL,
-	user_last_search INT4 DEFAULT '0' NOT NULL CHECK (user_last_search >= 0),
-	user_warnings INT2 DEFAULT '0' NOT NULL,
-	user_last_warning INT4 DEFAULT '0' NOT NULL CHECK (user_last_warning >= 0),
-	user_login_attempts INT2 DEFAULT '0' NOT NULL,
-	user_inactive_reason INT2 DEFAULT '0' NOT NULL,
-	user_inactive_time INT4 DEFAULT '0' NOT NULL CHECK (user_inactive_time >= 0),
-	user_posts INT4 DEFAULT '0' NOT NULL CHECK (user_posts >= 0),
-	user_lang varchar(30) DEFAULT '' NOT NULL,
-	user_timezone decimal(5,2) DEFAULT '0' NOT NULL,
-	user_dst INT2 DEFAULT '0' NOT NULL CHECK (user_dst >= 0),
-	user_dateformat varchar(30) DEFAULT 'd M Y H:i' NOT NULL,
-	user_style INT4 DEFAULT '0' NOT NULL CHECK (user_style >= 0),
-	user_rank INT4 DEFAULT '0' NOT NULL CHECK (user_rank >= 0),
-	user_colour varchar(6) DEFAULT '' NOT NULL,
-	user_new_privmsg INT4 DEFAULT '0' NOT NULL,
-	user_unread_privmsg INT4 DEFAULT '0' NOT NULL,
-	user_last_privmsg INT4 DEFAULT '0' NOT NULL CHECK (user_last_privmsg >= 0),
-	user_message_rules INT2 DEFAULT '0' NOT NULL CHECK (user_message_rules >= 0),
-	user_full_folder INT4 DEFAULT '-3' NOT NULL,
-	user_emailtime INT4 DEFAULT '0' NOT NULL CHECK (user_emailtime >= 0),
-	user_topic_show_days INT2 DEFAULT '0' NOT NULL CHECK (user_topic_show_days >= 0),
-	user_topic_sortby_type varchar(1) DEFAULT 't' NOT NULL,
-	user_topic_sortby_dir varchar(1) DEFAULT 'd' NOT NULL,
-	user_post_show_days INT2 DEFAULT '0' NOT NULL CHECK (user_post_show_days >= 0),
-	user_post_sortby_type varchar(1) DEFAULT 't' NOT NULL,
-	user_post_sortby_dir varchar(1) DEFAULT 'a' NOT NULL,
-	user_notify INT2 DEFAULT '0' NOT NULL CHECK (user_notify >= 0),
-	user_notify_pm INT2 DEFAULT '1' NOT NULL CHECK (user_notify_pm >= 0),
-	user_notify_type INT2 DEFAULT '0' NOT NULL,
-	user_allow_pm INT2 DEFAULT '1' NOT NULL CHECK (user_allow_pm >= 0),
-	user_allow_viewonline INT2 DEFAULT '1' NOT NULL CHECK (user_allow_viewonline >= 0),
-	user_allow_viewemail INT2 DEFAULT '1' NOT NULL CHECK (user_allow_viewemail >= 0),
-	user_allow_massemail INT2 DEFAULT '1' NOT NULL CHECK (user_allow_massemail >= 0),
-	user_options INT4 DEFAULT '230271' NOT NULL CHECK (user_options >= 0),
-	user_avatar varchar(255) DEFAULT '' NOT NULL,
-	user_avatar_type INT2 DEFAULT '0' NOT NULL,
-	user_avatar_width INT2 DEFAULT '0' NOT NULL CHECK (user_avatar_width >= 0),
-	user_avatar_height INT2 DEFAULT '0' NOT NULL CHECK (user_avatar_height >= 0),
-	user_sig TEXT DEFAULT '' NOT NULL,
-	user_sig_bbcode_uid varchar(8) DEFAULT '' NOT NULL,
-	user_sig_bbcode_bitfield varchar(255) DEFAULT '' NOT NULL,
-	user_from varchar(100) DEFAULT '' NOT NULL,
-	user_icq varchar(15) DEFAULT '' NOT NULL,
-	user_aim varchar(255) DEFAULT '' NOT NULL,
-	user_yim varchar(255) DEFAULT '' NOT NULL,
-	user_msnm varchar(255) DEFAULT '' NOT NULL,
-	user_jabber varchar(255) DEFAULT '' NOT NULL,
-	user_website varchar(200) DEFAULT '' NOT NULL,
-	user_occ varchar(4000) DEFAULT '' NOT NULL,
-	user_interests varchar(4000) DEFAULT '' NOT NULL,
-	user_actkey varchar(32) DEFAULT '' NOT NULL,
-	user_newpasswd varchar(40) DEFAULT '' NOT NULL,
-	user_form_salt varchar(32) DEFAULT '' NOT NULL,
-	user_new INT2 DEFAULT '1' NOT NULL CHECK (user_new >= 0),
-	user_reminded INT2 DEFAULT '0' NOT NULL,
-	user_reminded_time INT4 DEFAULT '0' NOT NULL CHECK (user_reminded_time >= 0),
-	PRIMARY KEY (user_id)
-);
-
-CREATE INDEX phpbb_users_user_birthday ON phpbb_users (user_birthday);
-CREATE INDEX phpbb_users_user_email_hash ON phpbb_users (user_email_hash);
-CREATE INDEX phpbb_users_user_type ON phpbb_users (user_type);
-CREATE UNIQUE INDEX phpbb_users_username_clean ON phpbb_users (username_clean);
-
-/*
-	Table: 'phpbb_warnings'
-*/
-CREATE SEQUENCE phpbb_warnings_seq;
-
-CREATE TABLE phpbb_warnings (
-	warning_id INT4 DEFAULT nextval('phpbb_warnings_seq'),
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	post_id INT4 DEFAULT '0' NOT NULL CHECK (post_id >= 0),
-	log_id INT4 DEFAULT '0' NOT NULL CHECK (log_id >= 0),
-	warning_time INT4 DEFAULT '0' NOT NULL CHECK (warning_time >= 0),
-	PRIMARY KEY (warning_id)
-);
-
-
-/*
-	Table: 'phpbb_words'
-*/
-CREATE SEQUENCE phpbb_words_seq;
-
-CREATE TABLE phpbb_words (
-	word_id INT4 DEFAULT nextval('phpbb_words_seq'),
-	word varchar(255) DEFAULT '' NOT NULL,
-	replacement varchar(255) DEFAULT '' NOT NULL,
-	PRIMARY KEY (word_id)
-);
-
-
-/*
-	Table: 'phpbb_zebra'
-*/
-CREATE TABLE phpbb_zebra (
-	user_id INT4 DEFAULT '0' NOT NULL CHECK (user_id >= 0),
-	zebra_id INT4 DEFAULT '0' NOT NULL CHECK (zebra_id >= 0),
-	friend INT2 DEFAULT '0' NOT NULL CHECK (friend >= 0),
-	foe INT2 DEFAULT '0' NOT NULL CHECK (foe >= 0),
-	PRIMARY KEY (user_id, zebra_id)
-);
-
-
-
-COMMIT;
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install/schemas/schema_data.sql phpBB3/install/schemas/schema_data.sql
--- phpBB3-init/install/schemas/schema_data.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/schema_data.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,835 +0,0 @@
-#
-# $Id$
-#
-
-# POSTGRES BEGIN #
-
-# -- Config
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('active_sessions', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_attachments', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_autologin', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_avatar', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_avatar_local', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_avatar_remote', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_avatar_upload', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_avatar_remote_upload', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_bbcode', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_birthdays', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_bookmarks', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_emailreuse', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_forum_notify', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_mass_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_name_chars', 'USERNAME_CHARS_ANY');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_namechange', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_nocensors', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_pm_attach', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_pm_report', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_post_flash', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_post_links', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_privmsg', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_quick_reply', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_bbcode', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_flash', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_img', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_links', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_sig_smilies', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_smilies', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('allow_topic_notify', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('attachment_quota', '52428800');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('auth_bbcode_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('auth_flash_pm', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('auth_img_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('auth_method', 'db');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('auth_smilies_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_filesize', '6144');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_gallery_path', 'images/avatars/gallery');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_max_height', '90');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_max_width', '90');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_min_height', '20');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_min_width', '20');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_path', 'images/avatars/upload');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('avatar_salt', 'phpbb_avatar');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_contact', 'contact@yourdomain.tld');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_disable', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_disable_msg', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_dst', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_email', 'address@yourdomain.tld');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_email_form', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_email_sig', '{L_CONFIG_BOARD_EMAIL_SIG}');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_hide_emails', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('board_timezone', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('browser_check', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('bump_interval', '10');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('bump_type', 'd');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('cache_gc', '7200');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_plugin', 'phpbb_captcha_nogd');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_foreground_noise', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_x_grid', '25');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_y_grid', '25');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_wave', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_3d_noise', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('captcha_gd_fonts', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('confirm_refresh', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('check_attachment_content', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('check_dnsbl', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('chg_passforce', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('cookie_domain', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('cookie_name', 'phpbb3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('cookie_path', '/');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('cookie_secure', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('coppa_enable', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('coppa_fax', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('coppa_mail', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('database_gc', '604800');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('dbms_version', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('default_dateformat', 'D M d, Y g:i a');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('default_style', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('display_last_edited', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('display_order', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('edit_time', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('delete_time', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('email_check_mx', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('email_enable', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('email_function_name', 'mail');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('email_package_size', '20');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('enable_confirm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('enable_pm_icons', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('enable_post_confirm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_enable', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_http_auth', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_limit_post', '15');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_limit_topic', '10');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_overall_forums', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_overall', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_forum', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_topic', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_topics_new', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_topics_active', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('feed_item_statistics', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('flood_interval', '15');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('force_server_vars', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('form_token_lifetime', '7200');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('form_token_mintime', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('form_token_sid_guests', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('forward_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('forwarded_for_check', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('full_folder_action', '2');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_mysql_max_word_len', '254');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_mysql_min_word_len', '4');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_native_common_thres', '5');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_native_load_upd', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_native_max_chars', '14');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('fulltext_native_min_chars', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('gzip_compress', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('hot_threshold', '25');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('icons_path', 'images/icons');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_create_thumbnail', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_display_inlined', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_imagick', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_link_height', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_link_width', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_max_height', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_max_thumb_width', '400');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_max_width', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('img_min_thumb_filesize', '12000');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ip_check', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ip_login_limit_max', '50');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ip_login_limit_time', '21600');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ip_login_limit_use_forwarded', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_enable', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_host', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_password', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_package_size', '20');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_port', '5222');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_use_ssl', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('jab_username', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_base_dn', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_email', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_password', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_port', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_server', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_uid', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_user', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ldap_user_filter', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('limit_load', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('limit_search_load', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_anon_lastread', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_birthdays', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_cpf_memberlist', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_cpf_viewprofile', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_cpf_viewtopic', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_db_lastread', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_db_track', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_jumpbox', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_moderators', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_online', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_online_guests', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_online_time', '5');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_onlinetrack', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_search', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_tplcompile', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_unreads_search', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('load_user_activity', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_attachments', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_attachments_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_autologin_time', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_filesize', '262144');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_filesize_pm', '262144');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_login_attempts', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_name_chars', '20');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_num_search_keywords', '10');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_pass_chars', '100');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_poll_options', '10');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_chars', '60000');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_font_size', '200');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_img_height', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_img_width', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_smilies', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_post_urls', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_quote_depth', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_reg_attempts', '5');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_chars', '255');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_font_size', '200');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_img_height', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_img_width', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_smilies', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('max_sig_urls', '5');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('min_name_chars', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('min_pass_chars', '6');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('min_post_chars', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('min_search_author_chars', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('mime_triggers', 'body|head|html|img|plaintext|a href|pre|script|table|title');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('new_member_post_limit', '3');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('new_member_group_default', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('override_user_style', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('pass_complex', 'PASS_TYPE_ANY');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('pm_edit_time', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('pm_max_boxes', '4');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('pm_max_msgs', '50');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('pm_max_recipients', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('posts_per_page', '10');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('print_pm', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('queue_interval', '60');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('ranks_path', 'images/ranks');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('require_activation', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('referer_validation', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('script_path', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_block_size', '250');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_gc', '7200');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_interval', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_anonymous_interval', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_type', 'fulltext_native');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('search_store_results', '1800');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('secure_allow_deny', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('secure_allow_empty_referer', '1');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('secure_downloads', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('server_name', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('server_port', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('server_protocol', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('session_gc', '3600');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('session_length', '3600');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('site_desc', '{L_CONFIG_SITE_DESC}');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('sitename', '{L_CONFIG_SITENAME}');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smilies_path', 'images/smilies');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smilies_per_page', '50');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_auth_method', 'PLAIN');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_delivery', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_host', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_password', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_port', '25');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('smtp_username', '');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('topics_per_page', '25');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('tpl_allow_php', '0');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('upload_icons_path', 'images/upload_icons');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('upload_path', 'files');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('version', '3.0.9');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('warnings_expire_days', '90');
-INSERT INTO phpbb_config (config_name, config_value) VALUES ('warnings_gc', '14400');
-
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('cache_last_gc', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('cron_lock', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('database_last_gc', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('last_queue_run', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('newest_user_colour', 'AA0000', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('newest_user_id', '2', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('newest_username', '', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('num_files', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('num_posts', '1', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('num_topics', '1', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('num_users', '1', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('rand_seed', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('rand_seed_last_update', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('record_online_date', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('record_online_users', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('search_indexing_state', '', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('search_last_gc', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('session_last_gc', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('upload_dir_size', '0', 1);
-INSERT INTO phpbb_config (config_name, config_value, is_dynamic) VALUES ('warnings_last_gc', '0', 1);
-
-# -- Forum related auth options
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_announce', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_attach', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_bbcode', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_bump', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_delete', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_download', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_edit', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_email', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_flash', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_icons', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_ignoreflood', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_img', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_list', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_noapprove', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_poll', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_post', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_postcount', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_print', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_read', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_reply', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_report', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_search', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_sigs', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_smilies', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_sticky', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_subscribe', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_user_lock', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_vote', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local) VALUES ('f_votechg', 1);
-
-# -- Moderator related auth options
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_approve', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_chgposter', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_delete', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_edit', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_info', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_lock', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_merge', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_move', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_report', 1, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_split', 1, 1);
-
-# -- Global moderator auth option (not a local option)
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_ban', 0, 1);
-INSERT INTO phpbb_acl_options (auth_option, is_local, is_global) VALUES ('m_warn', 0, 1);
-
-# -- Admin related auth options
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_aauth', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_attach', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_authgroups', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_authusers', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_backup', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_ban', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_bbcode', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_board', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_bots', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_clearlogs', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_email', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_fauth', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_forum', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_forumadd', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_forumdel', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_group', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_groupadd', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_groupdel', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_icons', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_jabber', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_language', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_mauth', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_modules', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_names', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_phpinfo', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_profile', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_prune', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_ranks', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_reasons', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_roles', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_search', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_server', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_styles', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_switchperm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_uauth', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_user', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_userdel', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_viewauth', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_viewlogs', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('a_words', 1);
-
-# -- User related auth options
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_attach', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chgavatar', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chgcensors', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chgemail', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chggrp', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chgname', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_chgpasswd', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_download', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_hideonline', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_ignoreflood', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_masspm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_masspm_group', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_attach', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_bbcode', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_delete', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_download', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_edit', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_emailpm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_flash', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_forward', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_img', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_printpm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_pm_smilies', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_readpm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_savedrafts', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_search', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_sendemail', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_sendim', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_sendpm', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_sig', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_viewonline', 1);
-INSERT INTO phpbb_acl_options (auth_option, is_global) VALUES ('u_viewprofile', 1);
-
-
-# -- standard auth roles
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_ADMIN_STANDARD', 'ROLE_DESCRIPTION_ADMIN_STANDARD', 'a_', 1);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_ADMIN_FORUM', 'ROLE_DESCRIPTION_ADMIN_FORUM', 'a_', 3);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_ADMIN_USERGROUP', 'ROLE_DESCRIPTION_ADMIN_USERGROUP', 'a_', 4);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_ADMIN_FULL', 'ROLE_DESCRIPTION_ADMIN_FULL', 'a_', 2);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_FULL', 'ROLE_DESCRIPTION_USER_FULL', 'u_', 3);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_STANDARD', 'ROLE_DESCRIPTION_USER_STANDARD', 'u_', 1);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_LIMITED', 'ROLE_DESCRIPTION_USER_LIMITED', 'u_', 2);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_NOPM', 'ROLE_DESCRIPTION_USER_NOPM', 'u_', 4);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_NOAVATAR', 'ROLE_DESCRIPTION_USER_NOAVATAR', 'u_', 5);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_MOD_FULL', 'ROLE_DESCRIPTION_MOD_FULL', 'm_', 3);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_MOD_STANDARD', 'ROLE_DESCRIPTION_MOD_STANDARD', 'm_', 1);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_MOD_SIMPLE', 'ROLE_DESCRIPTION_MOD_SIMPLE', 'm_', 2);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_MOD_QUEUE', 'ROLE_DESCRIPTION_MOD_QUEUE', 'm_', 4);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_FULL', 'ROLE_DESCRIPTION_FORUM_FULL', 'f_', 7);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_STANDARD', 'ROLE_DESCRIPTION_FORUM_STANDARD', 'f_', 5);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_NOACCESS', 'ROLE_DESCRIPTION_FORUM_NOACCESS', 'f_', 1);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_READONLY', 'ROLE_DESCRIPTION_FORUM_READONLY', 'f_', 2);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_LIMITED', 'ROLE_DESCRIPTION_FORUM_LIMITED', 'f_', 3);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_BOT', 'ROLE_DESCRIPTION_FORUM_BOT', 'f_', 9);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_ONQUEUE', 'ROLE_DESCRIPTION_FORUM_ONQUEUE', 'f_', 8);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_POLLS', 'ROLE_DESCRIPTION_FORUM_POLLS', 'f_', 6);
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_LIMITED_POLLS', 'ROLE_DESCRIPTION_FORUM_LIMITED_POLLS', 'f_', 4);
-
-# 23
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_USER_NEW_MEMBER', 'ROLE_DESCRIPTION_USER_NEW_MEMBER', 'u_', 6);
-
-# 24
-INSERT INTO phpbb_acl_roles (role_name, role_description, role_type, role_order) VALUES ('ROLE_FORUM_NEW_MEMBER', 'ROLE_DESCRIPTION_FORUM_NEW_MEMBER', 'f_', 10);
-
-# -- phpbb_styles
-INSERT INTO phpbb_styles (style_name, style_copyright, style_active, template_id, theme_id, imageset_id) VALUES ('prosilver', '&copy; phpBB Group', 1, 1, 1, 1);
-
-# -- phpbb_styles_imageset
-INSERT INTO phpbb_styles_imageset (imageset_name, imageset_copyright, imageset_path) VALUES ('prosilver', '&copy; phpBB Group', 'prosilver');
-
-# -- phpbb_styles_imageset_data
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('site_logo', 'site_logo.gif', '', 52, 139, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_link', 'forum_link.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_read', 'forum_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_read_locked', 'forum_read_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_read_subforum', 'forum_read_subforum.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_unread', 'forum_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_unread_locked', 'forum_unread_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('forum_unread_subforum', 'forum_unread_subforum.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_moved', 'topic_moved.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read', 'topic_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read_mine', 'topic_read_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read_hot', 'topic_read_hot.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read_hot_mine', 'topic_read_hot_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read_locked', 'topic_read_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_read_locked_mine', 'topic_read_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread', 'topic_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread_mine', 'topic_unread_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread_hot', 'topic_unread_hot.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread_hot_mine', 'topic_unread_hot_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread_locked', 'topic_unread_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('topic_unread_locked_mine', 'topic_unread_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_read', 'sticky_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_read_mine', 'sticky_read_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_read_locked', 'sticky_read_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_read_locked_mine', 'sticky_read_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_unread', 'sticky_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_unread_mine', 'sticky_unread_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_unread_locked', 'sticky_unread_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('sticky_unread_locked_mine', 'sticky_unread_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_read', 'announce_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_read_mine', 'announce_read_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_read_locked', 'announce_read_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_read_locked_mine', 'announce_read_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_unread', 'announce_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_unread_mine', 'announce_unread_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_unread_locked', 'announce_unread_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('announce_unread_locked_mine', 'announce_unread_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_read', 'announce_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_read_mine', 'announce_read_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_read_locked', 'announce_read_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_read_locked_mine', 'announce_read_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_unread', 'announce_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_unread_mine', 'announce_unread_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_unread_locked', 'announce_unread_locked.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('global_unread_locked_mine', 'announce_unread_locked_mine.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('pm_read', 'topic_read.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('pm_unread', 'topic_unread.gif', '', 27, 27, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_back_top', 'icon_back_top.gif', '', 11, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_aim', 'icon_contact_aim.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_email', 'icon_contact_email.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_icq', 'icon_contact_icq.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_jabber', 'icon_contact_jabber.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_msnm', 'icon_contact_msnm.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_www', 'icon_contact_www.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_contact_yahoo', 'icon_contact_yahoo.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_post_delete', 'icon_post_delete.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_post_info', 'icon_post_info.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_post_report', 'icon_post_report.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_post_target', 'icon_post_target.gif', '', 9, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_post_target_unread', 'icon_post_target_unread.gif', '', 9, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_topic_attach', 'icon_topic_attach.gif', '', 10, 7, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_topic_latest', 'icon_topic_latest.gif', '', 9, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_topic_newest', 'icon_topic_newest.gif', '', 9, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_topic_reported', 'icon_topic_reported.gif', '', 14, 16, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_topic_unapproved', 'icon_topic_unapproved.gif', '', 14, 16, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('icon_user_warn', 'icon_user_warn.gif', '', 20, 20, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('subforum_read', 'subforum_read.gif', '', 9, 11, 1);
-INSERT INTO phpbb_styles_imageset_data (image_name, image_filename, image_lang, image_height, image_width, imageset_id) VALUES ('subforum_unread', 'subforum_unread.gif', '', 9, 11, 1);
-
-# -- phpbb_styles_template
-INSERT INTO phpbb_styles_template (template_name, template_copyright, template_path, bbcode_bitfield, template_storedb) VALUES ('prosilver', '&copy; phpBB Group', 'prosilver', 'lNg=', 0);
-
-# -- phpbb_styles_theme
-INSERT INTO phpbb_styles_theme (theme_name, theme_copyright, theme_path, theme_storedb, theme_data) VALUES ('prosilver', '&copy; phpBB Group', 'prosilver', 1, '');
-
-# -- Forums
-INSERT INTO phpbb_forums (forum_name, forum_desc, left_id, right_id, parent_id, forum_type, forum_posts, forum_topics, forum_topics_real, forum_last_post_id, forum_last_poster_id, forum_last_poster_name, forum_last_poster_colour, forum_last_post_time, forum_link, forum_password, forum_image, forum_rules, forum_rules_link, forum_rules_uid, forum_desc_uid, prune_days, prune_viewed, forum_parents) VALUES ('{L_FORUMS_FIRST_CATEGORY}', '', 1, 4, 0, 0, 1, 1, 1, 1, 2, 'Admin', 'AA0000', 972086460, '', '', '', '', '', '', '', 0, 0, '');
-
-INSERT INTO phpbb_forums (forum_name, forum_desc, left_id, right_id, parent_id, forum_type, forum_posts, forum_topics, forum_topics_real, forum_last_post_id, forum_last_poster_id, forum_last_poster_name, forum_last_poster_colour, forum_last_post_subject, forum_last_post_time, forum_link, forum_password, forum_image, forum_rules, forum_rules_link, forum_rules_uid, forum_desc_uid, prune_days, prune_viewed, forum_parents, forum_flags) VALUES ('{L_FORUMS_TEST_FORUM_TITLE}', '{L_FORUMS_TEST_FORUM_DESC}', 2, 3, 1, 1, 1, 1, 1, 1, 2, 'Admin', 'AA0000', '{L_TOPICS_TOPIC_TITLE}', 972086460, '', '', '', '', '', '', '', 0, 0, '', 48);
-
-# -- Users / Anonymous user
-INSERT INTO phpbb_users (user_type, group_id, username, username_clean, user_regdate, user_password, user_email, user_lang, user_style, user_rank, user_colour, user_posts, user_permissions, user_ip, user_birthday, user_lastpage, user_last_confirm_key, user_post_sortby_type, user_post_sortby_dir, user_topic_sortby_type, user_topic_sortby_dir, user_avatar, user_sig, user_sig_bbcode_uid, user_from, user_icq, user_aim, user_yim, user_msnm, user_jabber, user_website, user_occ, user_interests, user_actkey, user_newpasswd, user_allow_massemail) VALUES (2, 1, 'Anonymous', 'anonymous', 0, '', '', 'en', 1, 0, '', 0, '', '', '', '', '', 't', 'a', 't', 'd', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 0);
-
-# -- username: Admin    password: admin (change this or remove it once everything is working!)
-INSERT INTO phpbb_users (user_type, group_id, username, username_clean, user_regdate, user_password, user_email, user_lang, user_style, user_rank, user_colour, user_posts, user_permissions, user_ip, user_birthday, user_lastpage, user_last_confirm_key, user_post_sortby_type, user_post_sortby_dir, user_topic_sortby_type, user_topic_sortby_dir, user_avatar, user_sig, user_sig_bbcode_uid, user_from, user_icq, user_aim, user_yim, user_msnm, user_jabber, user_website, user_occ, user_interests, user_actkey, user_newpasswd) VALUES (3, 5, 'Admin', 'admin', 0, '21232f297a57a5a743894a0e4a801fc3', 'admin@yourdomain.com', 'en', 1, 1, 'AA0000', 1, '', '', '', '', '', 't', 'a', 't', 'd', '', '', '', '', '', '', '', '', '', '', '', '', '', '');
-
-# -- Groups
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('GUESTS', 3, 0, '', 0, '', '', '', 5);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('REGISTERED', 3, 0, '', 0, '', '', '', 5);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('REGISTERED_COPPA', 3, 0, '', 0, '', '', '', 5);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('GLOBAL_MODERATORS', 3, 0, '00AA00', 1, '', '', '', 0);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('ADMINISTRATORS', 3, 1, 'AA0000', 1, '', '', '', 0);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('BOTS', 3, 0, '9E8DA7', 0, '', '', '', 5);
-INSERT INTO phpbb_groups (group_name, group_type, group_founder_manage, group_colour, group_legend, group_avatar, group_desc, group_desc_uid, group_max_recipients) VALUES ('NEWLY_REGISTERED', 3, 0, '', 0, '', '', '', 5);
-
-# -- User -> Group
-INSERT INTO phpbb_user_group (group_id, user_id, user_pending, group_leader) VALUES (1, 1, 0, 0);
-INSERT INTO phpbb_user_group (group_id, user_id, user_pending, group_leader) VALUES (2, 2, 0, 0);
-INSERT INTO phpbb_user_group (group_id, user_id, user_pending, group_leader) VALUES (4, 2, 0, 0);
-INSERT INTO phpbb_user_group (group_id, user_id, user_pending, group_leader) VALUES (5, 2, 0, 1);
-
-# -- Ranks
-INSERT INTO phpbb_ranks (rank_title, rank_min, rank_special, rank_image) VALUES ('{L_RANKS_SITE_ADMIN_TITLE}', 0, 1, '');
-
-# -- Roles data
-
-# Standard Admin (a_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 1, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'a_%' AND auth_option NOT IN ('a_switchperm', 'a_jabber', 'a_phpinfo', 'a_server', 'a_backup', 'a_styles', 'a_clearlogs', 'a_modules', 'a_language', 'a_email', 'a_bots', 'a_search', 'a_aauth', 'a_roles');
-
-# Forum admin (a_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 2, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'a_%' AND auth_option IN ('a_', 'a_authgroups', 'a_authusers', 'a_fauth', 'a_forum', 'a_forumadd', 'a_forumdel', 'a_mauth', 'a_prune', 'a_uauth', 'a_viewauth', 'a_viewlogs');
-
-# User and Groups Admin (a_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 3, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'a_%' AND auth_option IN ('a_', 'a_authgroups', 'a_authusers', 'a_ban', 'a_group', 'a_groupadd', 'a_groupdel', 'a_ranks', 'a_uauth', 'a_user', 'a_viewauth', 'a_viewlogs');
-
-# Full Admin (a_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 4, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'a_%';
-
-# All Features (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 5, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%';
-
-# Standard Features (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 6, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option NOT IN ('u_viewonline', 'u_chggrp', 'u_chgname', 'u_ignoreflood', 'u_pm_flash', 'u_pm_forward');
-
-# Limited Features (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 7, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option NOT IN ('u_attach', 'u_viewonline', 'u_chggrp', 'u_chgname', 'u_ignoreflood', 'u_pm_attach', 'u_pm_emailpm', 'u_pm_flash', 'u_savedrafts', 'u_search', 'u_sendemail', 'u_sendim', 'u_masspm', 'u_masspm_group');
-
-# No Private Messages (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 8, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option IN ('u_', 'u_chgavatar', 'u_chgcensors', 'u_chgemail', 'u_chgpasswd', 'u_download', 'u_hideonline', 'u_sig', 'u_viewprofile');
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 8, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option IN ('u_readpm', 'u_sendpm', 'u_masspm', 'u_masspm_group');
-
-# No Avatar (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 9, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option NOT IN ('u_attach', 'u_chgavatar', 'u_viewonline', 'u_chggrp', 'u_chgname', 'u_ignoreflood', 'u_pm_attach', 'u_pm_emailpm', 'u_pm_flash', 'u_savedrafts', 'u_search', 'u_sendemail', 'u_sendim', 'u_masspm', 'u_masspm_group');
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 9, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option IN ('u_chgavatar');
-
-# Full Moderator (m_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 10, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'm_%';
-
-# Standard Moderator (m_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 11, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'm_%' AND auth_option NOT IN ('m_ban', 'm_chgposter');
-
-# Simple Moderator (m_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 12, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'm_%' AND auth_option IN ('m_', 'm_delete', 'm_edit', 'm_info', 'm_report');
-
-# Queue Moderator (m_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 13, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'm_%' AND auth_option IN ('m_', 'm_approve', 'm_edit');
-
-# Full Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 14, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%';
-
-# Standard Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 15, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option NOT IN ('f_announce', 'f_flash', 'f_ignoreflood', 'f_poll', 'f_sticky', 'f_user_lock');
-
-# No Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 16, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option = 'f_';
-
-# Read Only Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 17, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option IN ('f_', 'f_download', 'f_list', 'f_read', 'f_search', 'f_subscribe', 'f_print');
-
-# Limited Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 18, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option NOT IN ('f_announce', 'f_attach', 'f_bump', 'f_delete', 'f_flash', 'f_icons', 'f_ignoreflood', 'f_poll', 'f_sticky', 'f_user_lock', 'f_votechg');
-
-# Bot Access (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 19, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option IN ('f_', 'f_download', 'f_list', 'f_read', 'f_print');
-
-# On Moderation Queue (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 20, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option NOT IN ('f_announce', 'f_bump', 'f_delete', 'f_flash', 'f_icons', 'f_ignoreflood', 'f_poll', 'f_sticky', 'f_user_lock', 'f_votechg', 'f_noapprove');
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 20, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option IN ('f_noapprove');
-
-# Standard Access + Polls (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 21, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option NOT IN ('f_announce', 'f_flash', 'f_ignoreflood', 'f_sticky', 'f_user_lock');
-
-# Limited Access + Polls (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 22, auth_option_id, 1 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option NOT IN ('f_announce', 'f_attach', 'f_bump', 'f_delete', 'f_flash', 'f_icons', 'f_ignoreflood', 'f_sticky', 'f_user_lock', 'f_votechg');
-
-# New Member (u_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 23, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option LIKE 'u_%' AND auth_option IN ('u_sendpm', 'u_masspm', 'u_masspm_group');
-
-# New Member (f_)
-INSERT INTO phpbb_acl_roles_data (role_id, auth_option_id, auth_setting) SELECT 24, auth_option_id, 0 FROM phpbb_acl_options WHERE auth_option LIKE 'f_%' AND auth_option IN ('f_noapprove');
-
-
-# Permissions
-
-# GUESTS - u_download and u_search ability
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) SELECT 1, 0, auth_option_id, 0, 1 FROM phpbb_acl_options WHERE auth_option IN ('u_', 'u_download', 'u_search');
-
-# Admin user - full user features
-INSERT INTO phpbb_acl_users (user_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (2, 0, 0, 5, 0);
-
-# ADMINISTRATOR Group - full user features
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (5, 0, 0, 5, 0);
-
-# ADMINISTRATOR Group - standard admin
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (5, 0, 0, 1, 0);
-
-# REGISTERED and REGISTERED_COPPA having standard user features
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (2, 0, 0, 6, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (3, 0, 0, 6, 0);
-
-# GLOBAL_MODERATORS having full user features
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (4, 0, 0, 5, 0);
-
-# GLOBAL_MODERATORS having full global moderator access
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (4, 0, 0, 10, 0);
-
-# Giving all groups read only access to the first category
-# since administrators and moderators are already within the registered users group we do not need to set them here
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (1, 1, 0, 17, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (2, 1, 0, 17, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (3, 1, 0, 17, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (6, 1, 0, 17, 0);
-
-# Giving access to the first forum
-
-# guests having read only access
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (1, 2, 0, 17, 0);
-
-# registered and registered_coppa having standard access
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (2, 2, 0, 15, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (3, 2, 0, 15, 0);
-
-# global moderators having standard access + polls
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (4, 2, 0, 21, 0);
-
-# administrators having full forum and full moderator access
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (5, 2, 0, 14, 0);
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (5, 2, 0, 10, 0);
-
-# Bots having bot access
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (6, 2, 0, 19, 0);
-
-# NEW MEMBERS aren't allowed to PM
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (7, 0, 0, 23, 0);
-
-# NEW MEMBERS on the queue
-INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) VALUES (7, 2, 0, 24, 0);
-
-
-# -- Demo Topic
-INSERT INTO phpbb_topics (topic_title, topic_poster, topic_time, topic_views, topic_replies, topic_replies_real, forum_id, topic_status, topic_type, topic_first_post_id, topic_first_poster_name, topic_first_poster_colour, topic_last_post_id, topic_last_poster_id, topic_last_poster_name, topic_last_poster_colour, topic_last_post_subject, topic_last_post_time, topic_last_view_time, poll_title) VALUES ('{L_TOPICS_TOPIC_TITLE}', 2, 972086460, 0, 0, 0, 2, 0, 0, 1, 'Admin', 'AA0000', 1, 2, 'Admin', 'AA0000', '{L_TOPICS_TOPIC_TITLE}', 972086460, 972086460, '');
-
-# -- Demo Post
-INSERT INTO phpbb_posts (topic_id, forum_id, poster_id, icon_id, post_time, post_username, poster_ip, post_subject, post_text, post_checksum, bbcode_uid) VALUES (1, 2, 2, 0, 972086460, '', '127.0.0.1', '{L_TOPICS_TOPIC_TITLE}', '{L_DEFAULT_INSTALL_POST}', '5dd683b17f641daf84c040bfefc58ce9', '');
-
-# -- Admin posted to the demo topic
-INSERT INTO phpbb_topics_posted (user_id, topic_id, topic_posted) VALUES (2, 1, 1);
-
-# -- Smilies
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':D', 'icon_e_biggrin.gif', '{L_SMILIES_VERY_HAPPY}', 15, 17, 1);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-D', 'icon_e_biggrin.gif', '{L_SMILIES_VERY_HAPPY}', 15, 17, 2);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':grin:', 'icon_e_biggrin.gif', '{L_SMILIES_VERY_HAPPY}', 15, 17, 3);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':)', 'icon_e_smile.gif', '{L_SMILIES_SMILE}', 15, 17, 4);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-)', 'icon_e_smile.gif', '{L_SMILIES_SMILE}', 15, 17, 5);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':smile:', 'icon_e_smile.gif', '{L_SMILIES_SMILE}', 15, 17, 6);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (';)', 'icon_e_wink.gif', '{L_SMILIES_WINK}', 15, 17, 7);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (';-)', 'icon_e_wink.gif', '{L_SMILIES_WINK}', 15, 17, 8);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':wink:', 'icon_e_wink.gif', '{L_SMILIES_WINK}', 15, 17, 9);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':(', 'icon_e_sad.gif', '{L_SMILIES_SAD}', 15, 17, 10);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-(', 'icon_e_sad.gif', '{L_SMILIES_SAD}', 15, 17, 11);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':sad:', 'icon_e_sad.gif', '{L_SMILIES_SAD}', 15, 17, 12);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':o', 'icon_e_surprised.gif', '{L_SMILIES_SURPRISED}', 15, 17, 13);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-o', 'icon_e_surprised.gif', '{L_SMILIES_SURPRISED}', 15, 17, 14);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':eek:', 'icon_e_surprised.gif', '{L_SMILIES_SURPRISED}', 15, 17, 15);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':shock:', 'icon_eek.gif', '{L_SMILIES_SHOCKED}', 15, 17, 16);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':?', 'icon_e_confused.gif', '{L_SMILIES_CONFUSED}', 15, 17, 17);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-?', 'icon_e_confused.gif', '{L_SMILIES_CONFUSED}', 15, 17, 18);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':???:', 'icon_e_confused.gif', '{L_SMILIES_CONFUSED}', 15, 17, 19);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES ('8-)', 'icon_cool.gif', '{L_SMILIES_COOL}', 15, 17, 20);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':cool:', 'icon_cool.gif', '{L_SMILIES_COOL}', 15, 17, 21);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':lol:', 'icon_lol.gif', '{L_SMILIES_LAUGHING}', 15, 17, 22);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':x', 'icon_mad.gif', '{L_SMILIES_MAD}', 15, 17, 23);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-x', 'icon_mad.gif', '{L_SMILIES_MAD}', 15, 17, 24);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':mad:', 'icon_mad.gif', '{L_SMILIES_MAD}', 15, 17, 25);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':P', 'icon_razz.gif', '{L_SMILIES_RAZZ}', 15, 17, 26);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-P', 'icon_razz.gif', '{L_SMILIES_RAZZ}', 15, 17, 27);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':razz:', 'icon_razz.gif', '{L_SMILIES_RAZZ}', 15, 17, 28);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':oops:', 'icon_redface.gif', '{L_SMILIES_EMARRASSED}', 15, 17, 29);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':cry:', 'icon_cry.gif', '{L_SMILIES_CRYING}', 15, 17, 30);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':evil:', 'icon_evil.gif', '{L_SMILIES_EVIL}', 15, 17, 31);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':twisted:', 'icon_twisted.gif', '{L_SMILIES_TWISTED_EVIL}', 15, 17, 32);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':roll:', 'icon_rolleyes.gif', '{L_SMILIES_ROLLING_EYES}', 15, 17, 33);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':!:', 'icon_exclaim.gif', '{L_SMILIES_EXCLAMATION}', 15, 17, 34);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':?:', 'icon_question.gif', '{L_SMILIES_QUESTION}', 15, 17, 35);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':idea:', 'icon_idea.gif', '{L_SMILIES_IDEA}', 15, 17, 36);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':arrow:', 'icon_arrow.gif', '{L_SMILIES_ARROW}', 15, 17, 37);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':|', 'icon_neutral.gif', '{L_SMILIES_NEUTRAL}', 15, 17, 38);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':-|', 'icon_neutral.gif', '{L_SMILIES_NEUTRAL}', 15, 17, 39);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':mrgreen:', 'icon_mrgreen.gif', '{L_SMILIES_MR_GREEN}', 15, 17, 40);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':geek:', 'icon_e_geek.gif', '{L_SMILIES_GEEK}', 17, 17, 41);
-INSERT INTO phpbb_smilies (code, smiley_url, emotion, smiley_width, smiley_height, smiley_order) VALUES (':ugeek:', 'icon_e_ugeek.gif', '{L_SMILIES_UBER_GEEK}', 17, 18, 42);
-
-# -- icons
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('misc/fire.gif', 16, 16, 1, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('smile/redface.gif', 16, 16, 9, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('smile/mrgreen.gif', 16, 16, 10, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('misc/heart.gif', 16, 16, 4, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('misc/star.gif', 16, 16, 2, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('misc/radioactive.gif', 16, 16, 3, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('misc/thinking.gif', 16, 16, 5, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('smile/info.gif', 16, 16, 8, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('smile/question.gif', 16, 16, 6, 1);
-INSERT INTO phpbb_icons (icons_url, icons_width, icons_height, icons_order, display_on_posting) VALUES ('smile/alert.gif', 16, 16, 7, 1);
-
-# -- reasons
-INSERT INTO phpbb_reports_reasons (reason_title, reason_description, reason_order) VALUES ('warez', '{L_REPORT_WAREZ}', 1);
-INSERT INTO phpbb_reports_reasons (reason_title, reason_description, reason_order) VALUES ('spam', '{L_REPORT_SPAM}', 2);
-INSERT INTO phpbb_reports_reasons (reason_title, reason_description, reason_order) VALUES ('off_topic', '{L_REPORT_OFF_TOPIC}', 3);
-INSERT INTO phpbb_reports_reasons (reason_title, reason_description, reason_order) VALUES ('other', '{L_REPORT_OTHER}', 4);
-
-# -- extension_groups
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('IMAGES', 1, 1, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('ARCHIVES', 0, 1, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('PLAIN_TEXT', 0, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('DOCUMENTS', 0, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('REAL_MEDIA', 3, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('WINDOWS_MEDIA', 2, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('FLASH_FILES', 5, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('QUICKTIME_MEDIA', 6, 0, 1, '', 0, '');
-INSERT INTO phpbb_extension_groups (group_name, cat_id, allow_group, download_mode, upload_icon, max_filesize, allowed_forums) VALUES ('DOWNLOADABLE_FILES', 0, 0, 1, '', 0, '');
-
-# -- extensions
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'gif');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'png');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'jpeg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'jpg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'tif');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'tiff');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (1, 'tga');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'gtar');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'gz');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'tar');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'zip');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'rar');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'ace');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'torrent');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'tgz');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, 'bz2');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (2, '7z');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'txt');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'c');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'h');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'cpp');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'hpp');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'diz');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'csv');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'ini');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'log');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'js');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (3, 'xml');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'xls');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'xlsx');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'xlsm');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'xlsb');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'doc');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'docx');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'docm');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'dot');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'dotx');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'dotm');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'pdf');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'ai');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'ps');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'ppt');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'pptx');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'pptm');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'odg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'odp');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'ods');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'odt');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (4, 'rtf');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (5, 'rm');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (5, 'ram');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (6, 'wma');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (6, 'wmv');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (7, 'swf');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, 'mov');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, 'm4v');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, 'm4a');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, 'mp4');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, '3gp');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, '3g2');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (8, 'qt');
-
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (9, 'mpeg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (9, 'mpg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (9, 'mp3');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (9, 'ogg');
-INSERT INTO phpbb_extensions (group_id, extension) VALUES (9, 'ogm');
-
-# POSTGRES COMMIT #
diff -rNU5 phpBB3-init/install/schemas/sqlite_schema.sql phpBB3/install/schemas/sqlite_schema.sql
--- phpBB3-init/install/schemas/sqlite_schema.sql	2011-07-10 22:36:17.000000000 +0200
+++ phpBB3/install/schemas/sqlite_schema.sql	1970-01-01 01:00:00.000000000 +0100
@@ -1,1001 +0,0 @@
-#
-# $Id: $
-#
-
-BEGIN TRANSACTION;
-
-# Table: 'phpbb_attachments'
-CREATE TABLE phpbb_attachments (
-	attach_id INTEGER PRIMARY KEY NOT NULL ,
-	post_msg_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	in_message INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poster_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	is_orphan INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	physical_filename varchar(255) NOT NULL DEFAULT '',
-	real_filename varchar(255) NOT NULL DEFAULT '',
-	download_count INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	attach_comment text(65535) NOT NULL DEFAULT '',
-	extension varchar(100) NOT NULL DEFAULT '',
-	mimetype varchar(100) NOT NULL DEFAULT '',
-	filesize INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	filetime INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	thumbnail INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_attachments_filetime ON phpbb_attachments (filetime);
-CREATE INDEX phpbb_attachments_post_msg_id ON phpbb_attachments (post_msg_id);
-CREATE INDEX phpbb_attachments_topic_id ON phpbb_attachments (topic_id);
-CREATE INDEX phpbb_attachments_poster_id ON phpbb_attachments (poster_id);
-CREATE INDEX phpbb_attachments_is_orphan ON phpbb_attachments (is_orphan);
-
-# Table: 'phpbb_acl_groups'
-CREATE TABLE phpbb_acl_groups (
-	group_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_option_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_role_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_setting tinyint(2) NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_acl_groups_group_id ON phpbb_acl_groups (group_id);
-CREATE INDEX phpbb_acl_groups_auth_opt_id ON phpbb_acl_groups (auth_option_id);
-CREATE INDEX phpbb_acl_groups_auth_role_id ON phpbb_acl_groups (auth_role_id);
-
-# Table: 'phpbb_acl_options'
-CREATE TABLE phpbb_acl_options (
-	auth_option_id INTEGER PRIMARY KEY NOT NULL ,
-	auth_option varchar(50) NOT NULL DEFAULT '',
-	is_global INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	is_local INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	founder_only INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE UNIQUE INDEX phpbb_acl_options_auth_option ON phpbb_acl_options (auth_option);
-
-# Table: 'phpbb_acl_roles'
-CREATE TABLE phpbb_acl_roles (
-	role_id INTEGER PRIMARY KEY NOT NULL ,
-	role_name varchar(255) NOT NULL DEFAULT '',
-	role_description text(65535) NOT NULL DEFAULT '',
-	role_type varchar(10) NOT NULL DEFAULT '',
-	role_order INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_acl_roles_role_type ON phpbb_acl_roles (role_type);
-CREATE INDEX phpbb_acl_roles_role_order ON phpbb_acl_roles (role_order);
-
-# Table: 'phpbb_acl_roles_data'
-CREATE TABLE phpbb_acl_roles_data (
-	role_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_option_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_setting tinyint(2) NOT NULL DEFAULT '0',
-	PRIMARY KEY (role_id, auth_option_id)
-);
-
-CREATE INDEX phpbb_acl_roles_data_ath_op_id ON phpbb_acl_roles_data (auth_option_id);
-
-# Table: 'phpbb_acl_users'
-CREATE TABLE phpbb_acl_users (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_option_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_role_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	auth_setting tinyint(2) NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_acl_users_user_id ON phpbb_acl_users (user_id);
-CREATE INDEX phpbb_acl_users_auth_option_id ON phpbb_acl_users (auth_option_id);
-CREATE INDEX phpbb_acl_users_auth_role_id ON phpbb_acl_users (auth_role_id);
-
-# Table: 'phpbb_banlist'
-CREATE TABLE phpbb_banlist (
-	ban_id INTEGER PRIMARY KEY NOT NULL ,
-	ban_userid INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	ban_ip varchar(40) NOT NULL DEFAULT '',
-	ban_email varchar(100) NOT NULL DEFAULT '',
-	ban_start INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	ban_end INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	ban_exclude INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	ban_reason varchar(255) NOT NULL DEFAULT '',
-	ban_give_reason varchar(255) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_banlist_ban_end ON phpbb_banlist (ban_end);
-CREATE INDEX phpbb_banlist_ban_user ON phpbb_banlist (ban_userid, ban_exclude);
-CREATE INDEX phpbb_banlist_ban_email ON phpbb_banlist (ban_email, ban_exclude);
-CREATE INDEX phpbb_banlist_ban_ip ON phpbb_banlist (ban_ip, ban_exclude);
-
-# Table: 'phpbb_bbcodes'
-CREATE TABLE phpbb_bbcodes (
-	bbcode_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	bbcode_tag varchar(16) NOT NULL DEFAULT '',
-	bbcode_helpline varchar(255) NOT NULL DEFAULT '',
-	display_on_posting INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	bbcode_match text(65535) NOT NULL DEFAULT '',
-	bbcode_tpl mediumtext(16777215) NOT NULL DEFAULT '',
-	first_pass_match mediumtext(16777215) NOT NULL DEFAULT '',
-	first_pass_replace mediumtext(16777215) NOT NULL DEFAULT '',
-	second_pass_match mediumtext(16777215) NOT NULL DEFAULT '',
-	second_pass_replace mediumtext(16777215) NOT NULL DEFAULT '',
-	PRIMARY KEY (bbcode_id)
-);
-
-CREATE INDEX phpbb_bbcodes_display_on_post ON phpbb_bbcodes (display_on_posting);
-
-# Table: 'phpbb_bookmarks'
-CREATE TABLE phpbb_bookmarks (
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (topic_id, user_id)
-);
-
-
-# Table: 'phpbb_bots'
-CREATE TABLE phpbb_bots (
-	bot_id INTEGER PRIMARY KEY NOT NULL ,
-	bot_active INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	bot_name text(65535) NOT NULL DEFAULT '',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	bot_agent varchar(255) NOT NULL DEFAULT '',
-	bot_ip varchar(255) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_bots_bot_active ON phpbb_bots (bot_active);
-
-# Table: 'phpbb_config'
-CREATE TABLE phpbb_config (
-	config_name varchar(255) NOT NULL DEFAULT '',
-	config_value varchar(255) NOT NULL DEFAULT '',
-	is_dynamic INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (config_name)
-);
-
-CREATE INDEX phpbb_config_is_dynamic ON phpbb_config (is_dynamic);
-
-# Table: 'phpbb_confirm'
-CREATE TABLE phpbb_confirm (
-	confirm_id char(32) NOT NULL DEFAULT '',
-	session_id char(32) NOT NULL DEFAULT '',
-	confirm_type tinyint(3) NOT NULL DEFAULT '0',
-	code varchar(8) NOT NULL DEFAULT '',
-	seed INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	attempts INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (session_id, confirm_id)
-);
-
-CREATE INDEX phpbb_confirm_confirm_type ON phpbb_confirm (confirm_type);
-
-# Table: 'phpbb_disallow'
-CREATE TABLE phpbb_disallow (
-	disallow_id INTEGER PRIMARY KEY NOT NULL ,
-	disallow_username varchar(255) NOT NULL DEFAULT ''
-);
-
-
-# Table: 'phpbb_drafts'
-CREATE TABLE phpbb_drafts (
-	draft_id INTEGER PRIMARY KEY NOT NULL ,
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	save_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	draft_subject text(65535) NOT NULL DEFAULT '',
-	draft_message mediumtext(16777215) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_drafts_save_time ON phpbb_drafts (save_time);
-
-# Table: 'phpbb_extensions'
-CREATE TABLE phpbb_extensions (
-	extension_id INTEGER PRIMARY KEY NOT NULL ,
-	group_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	extension varchar(100) NOT NULL DEFAULT ''
-);
-
-
-# Table: 'phpbb_extension_groups'
-CREATE TABLE phpbb_extension_groups (
-	group_id INTEGER PRIMARY KEY NOT NULL ,
-	group_name varchar(255) NOT NULL DEFAULT '',
-	cat_id tinyint(2) NOT NULL DEFAULT '0',
-	allow_group INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	download_mode INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	upload_icon varchar(255) NOT NULL DEFAULT '',
-	max_filesize INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	allowed_forums text(65535) NOT NULL DEFAULT '',
-	allow_in_pm INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-
-# Table: 'phpbb_forums'
-CREATE TABLE phpbb_forums (
-	forum_id INTEGER PRIMARY KEY NOT NULL ,
-	parent_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	left_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	right_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_parents mediumtext(16777215) NOT NULL DEFAULT '',
-	forum_name text(65535) NOT NULL DEFAULT '',
-	forum_desc text(65535) NOT NULL DEFAULT '',
-	forum_desc_bitfield varchar(255) NOT NULL DEFAULT '',
-	forum_desc_options INTEGER UNSIGNED NOT NULL DEFAULT '7',
-	forum_desc_uid varchar(8) NOT NULL DEFAULT '',
-	forum_link varchar(255) NOT NULL DEFAULT '',
-	forum_password varchar(40) NOT NULL DEFAULT '',
-	forum_style INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_image varchar(255) NOT NULL DEFAULT '',
-	forum_rules text(65535) NOT NULL DEFAULT '',
-	forum_rules_link varchar(255) NOT NULL DEFAULT '',
-	forum_rules_bitfield varchar(255) NOT NULL DEFAULT '',
-	forum_rules_options INTEGER UNSIGNED NOT NULL DEFAULT '7',
-	forum_rules_uid varchar(8) NOT NULL DEFAULT '',
-	forum_topics_per_page tinyint(4) NOT NULL DEFAULT '0',
-	forum_type tinyint(4) NOT NULL DEFAULT '0',
-	forum_status tinyint(4) NOT NULL DEFAULT '0',
-	forum_posts INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_topics INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_topics_real INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_last_post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_last_poster_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_last_post_subject text(65535) NOT NULL DEFAULT '',
-	forum_last_post_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_last_poster_name varchar(255) NOT NULL DEFAULT '',
-	forum_last_poster_colour varchar(6) NOT NULL DEFAULT '',
-	forum_flags tinyint(4) NOT NULL DEFAULT '32',
-	forum_options INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	display_subforum_list INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	display_on_index INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_indexing INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_icons INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_prune INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	prune_next INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	prune_days INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	prune_viewed INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	prune_freq INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_forums_left_right_id ON phpbb_forums (left_id, right_id);
-CREATE INDEX phpbb_forums_forum_lastpost_id ON phpbb_forums (forum_last_post_id);
-
-# Table: 'phpbb_forums_access'
-CREATE TABLE phpbb_forums_access (
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_id char(32) NOT NULL DEFAULT '',
-	PRIMARY KEY (forum_id, user_id, session_id)
-);
-
-
-# Table: 'phpbb_forums_track'
-CREATE TABLE phpbb_forums_track (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	mark_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (user_id, forum_id)
-);
-
-
-# Table: 'phpbb_forums_watch'
-CREATE TABLE phpbb_forums_watch (
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	notify_status INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_forums_watch_forum_id ON phpbb_forums_watch (forum_id);
-CREATE INDEX phpbb_forums_watch_user_id ON phpbb_forums_watch (user_id);
-CREATE INDEX phpbb_forums_watch_notify_stat ON phpbb_forums_watch (notify_status);
-
-# Table: 'phpbb_groups'
-CREATE TABLE phpbb_groups (
-	group_id INTEGER PRIMARY KEY NOT NULL ,
-	group_type tinyint(4) NOT NULL DEFAULT '1',
-	group_founder_manage INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_skip_auth INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_name varchar(255) NOT NULL DEFAULT '',
-	group_desc text(65535) NOT NULL DEFAULT '',
-	group_desc_bitfield varchar(255) NOT NULL DEFAULT '',
-	group_desc_options INTEGER UNSIGNED NOT NULL DEFAULT '7',
-	group_desc_uid varchar(8) NOT NULL DEFAULT '',
-	group_display INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_avatar varchar(255) NOT NULL DEFAULT '',
-	group_avatar_type tinyint(2) NOT NULL DEFAULT '0',
-	group_avatar_width INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_avatar_height INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_rank INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_colour varchar(6) NOT NULL DEFAULT '',
-	group_sig_chars INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_receive_pm INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_message_limit INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_max_recipients INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_legend INTEGER UNSIGNED NOT NULL DEFAULT '1'
-);
-
-CREATE INDEX phpbb_groups_group_legend_name ON phpbb_groups (group_legend, group_name);
-
-# Table: 'phpbb_icons'
-CREATE TABLE phpbb_icons (
-	icons_id INTEGER PRIMARY KEY NOT NULL ,
-	icons_url varchar(255) NOT NULL DEFAULT '',
-	icons_width tinyint(4) NOT NULL DEFAULT '0',
-	icons_height tinyint(4) NOT NULL DEFAULT '0',
-	icons_order INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	display_on_posting INTEGER UNSIGNED NOT NULL DEFAULT '1'
-);
-
-CREATE INDEX phpbb_icons_display_on_posting ON phpbb_icons (display_on_posting);
-
-# Table: 'phpbb_lang'
-CREATE TABLE phpbb_lang (
-	lang_id INTEGER PRIMARY KEY NOT NULL ,
-	lang_iso varchar(30) NOT NULL DEFAULT '',
-	lang_dir varchar(30) NOT NULL DEFAULT '',
-	lang_english_name varchar(100) NOT NULL DEFAULT '',
-	lang_local_name varchar(255) NOT NULL DEFAULT '',
-	lang_author varchar(255) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_lang_lang_iso ON phpbb_lang (lang_iso);
-
-# Table: 'phpbb_log'
-CREATE TABLE phpbb_log (
-	log_id INTEGER PRIMARY KEY NOT NULL ,
-	log_type tinyint(4) NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	reportee_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	log_ip varchar(40) NOT NULL DEFAULT '',
-	log_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	log_operation text(65535) NOT NULL DEFAULT '',
-	log_data mediumtext(16777215) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_log_log_type ON phpbb_log (log_type);
-CREATE INDEX phpbb_log_forum_id ON phpbb_log (forum_id);
-CREATE INDEX phpbb_log_topic_id ON phpbb_log (topic_id);
-CREATE INDEX phpbb_log_reportee_id ON phpbb_log (reportee_id);
-CREATE INDEX phpbb_log_user_id ON phpbb_log (user_id);
-
-# Table: 'phpbb_login_attempts'
-CREATE TABLE phpbb_login_attempts (
-	attempt_ip varchar(40) NOT NULL DEFAULT '',
-	attempt_browser varchar(150) NOT NULL DEFAULT '',
-	attempt_forwarded_for varchar(255) NOT NULL DEFAULT '',
-	attempt_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	username varchar(255) NOT NULL DEFAULT '0',
-	username_clean varchar(255) NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_login_attempts_att_ip ON phpbb_login_attempts (attempt_ip, attempt_time);
-CREATE INDEX phpbb_login_attempts_att_for ON phpbb_login_attempts (attempt_forwarded_for, attempt_time);
-CREATE INDEX phpbb_login_attempts_att_time ON phpbb_login_attempts (attempt_time);
-CREATE INDEX phpbb_login_attempts_user_id ON phpbb_login_attempts (user_id);
-
-# Table: 'phpbb_moderator_cache'
-CREATE TABLE phpbb_moderator_cache (
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	username varchar(255) NOT NULL DEFAULT '',
-	group_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_name varchar(255) NOT NULL DEFAULT '',
-	display_on_index INTEGER UNSIGNED NOT NULL DEFAULT '1'
-);
-
-CREATE INDEX phpbb_moderator_cache_disp_idx ON phpbb_moderator_cache (display_on_index);
-CREATE INDEX phpbb_moderator_cache_forum_id ON phpbb_moderator_cache (forum_id);
-
-# Table: 'phpbb_modules'
-CREATE TABLE phpbb_modules (
-	module_id INTEGER PRIMARY KEY NOT NULL ,
-	module_enabled INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	module_display INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	module_basename varchar(255) NOT NULL DEFAULT '',
-	module_class varchar(10) NOT NULL DEFAULT '',
-	parent_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	left_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	right_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	module_langname varchar(255) NOT NULL DEFAULT '',
-	module_mode varchar(255) NOT NULL DEFAULT '',
-	module_auth varchar(255) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_modules_left_right_id ON phpbb_modules (left_id, right_id);
-CREATE INDEX phpbb_modules_module_enabled ON phpbb_modules (module_enabled);
-CREATE INDEX phpbb_modules_class_left_id ON phpbb_modules (module_class, left_id);
-
-# Table: 'phpbb_poll_options'
-CREATE TABLE phpbb_poll_options (
-	poll_option_id tinyint(4) NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_option_text text(65535) NOT NULL DEFAULT '',
-	poll_option_total INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_poll_options_poll_opt_id ON phpbb_poll_options (poll_option_id);
-CREATE INDEX phpbb_poll_options_topic_id ON phpbb_poll_options (topic_id);
-
-# Table: 'phpbb_poll_votes'
-CREATE TABLE phpbb_poll_votes (
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_option_id tinyint(4) NOT NULL DEFAULT '0',
-	vote_user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	vote_user_ip varchar(40) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_poll_votes_topic_id ON phpbb_poll_votes (topic_id);
-CREATE INDEX phpbb_poll_votes_vote_user_id ON phpbb_poll_votes (vote_user_id);
-CREATE INDEX phpbb_poll_votes_vote_user_ip ON phpbb_poll_votes (vote_user_ip);
-
-# Table: 'phpbb_posts'
-CREATE TABLE phpbb_posts (
-	post_id INTEGER PRIMARY KEY NOT NULL ,
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poster_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	icon_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poster_ip varchar(40) NOT NULL DEFAULT '',
-	post_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_approved INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	post_reported INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	enable_bbcode INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_smilies INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_magic_url INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_sig INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	post_username varchar(255) NOT NULL DEFAULT '',
-	post_subject text(65535) NOT NULL DEFAULT '',
-	post_text mediumtext(16777215) NOT NULL DEFAULT '',
-	post_checksum varchar(32) NOT NULL DEFAULT '',
-	post_attachment INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	bbcode_bitfield varchar(255) NOT NULL DEFAULT '',
-	bbcode_uid varchar(8) NOT NULL DEFAULT '',
-	post_postcount INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	post_edit_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_edit_reason text(65535) NOT NULL DEFAULT '',
-	post_edit_user INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_edit_count INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_edit_locked INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_posts_forum_id ON phpbb_posts (forum_id);
-CREATE INDEX phpbb_posts_topic_id ON phpbb_posts (topic_id);
-CREATE INDEX phpbb_posts_poster_ip ON phpbb_posts (poster_ip);
-CREATE INDEX phpbb_posts_poster_id ON phpbb_posts (poster_id);
-CREATE INDEX phpbb_posts_post_approved ON phpbb_posts (post_approved);
-CREATE INDEX phpbb_posts_post_username ON phpbb_posts (post_username);
-CREATE INDEX phpbb_posts_tid_post_time ON phpbb_posts (topic_id, post_time);
-
-# Table: 'phpbb_privmsgs'
-CREATE TABLE phpbb_privmsgs (
-	msg_id INTEGER PRIMARY KEY NOT NULL ,
-	root_level INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	author_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	icon_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	author_ip varchar(40) NOT NULL DEFAULT '',
-	message_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	enable_bbcode INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_smilies INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_magic_url INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	enable_sig INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	message_subject text(65535) NOT NULL DEFAULT '',
-	message_text mediumtext(16777215) NOT NULL DEFAULT '',
-	message_edit_reason text(65535) NOT NULL DEFAULT '',
-	message_edit_user INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	message_attachment INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	bbcode_bitfield varchar(255) NOT NULL DEFAULT '',
-	bbcode_uid varchar(8) NOT NULL DEFAULT '',
-	message_edit_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	message_edit_count INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	to_address text(65535) NOT NULL DEFAULT '',
-	bcc_address text(65535) NOT NULL DEFAULT '',
-	message_reported INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_privmsgs_author_ip ON phpbb_privmsgs (author_ip);
-CREATE INDEX phpbb_privmsgs_message_time ON phpbb_privmsgs (message_time);
-CREATE INDEX phpbb_privmsgs_author_id ON phpbb_privmsgs (author_id);
-CREATE INDEX phpbb_privmsgs_root_level ON phpbb_privmsgs (root_level);
-
-# Table: 'phpbb_privmsgs_folder'
-CREATE TABLE phpbb_privmsgs_folder (
-	folder_id INTEGER PRIMARY KEY NOT NULL ,
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	folder_name varchar(255) NOT NULL DEFAULT '',
-	pm_count INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_privmsgs_folder_user_id ON phpbb_privmsgs_folder (user_id);
-
-# Table: 'phpbb_privmsgs_rules'
-CREATE TABLE phpbb_privmsgs_rules (
-	rule_id INTEGER PRIMARY KEY NOT NULL ,
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_check INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_connection INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_string varchar(255) NOT NULL DEFAULT '',
-	rule_user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_group_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_action INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rule_folder_id int(11) NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_privmsgs_rules_user_id ON phpbb_privmsgs_rules (user_id);
-
-# Table: 'phpbb_privmsgs_to'
-CREATE TABLE phpbb_privmsgs_to (
-	msg_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	author_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	pm_deleted INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	pm_new INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	pm_unread INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	pm_replied INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	pm_marked INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	pm_forwarded INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	folder_id int(11) NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_privmsgs_to_msg_id ON phpbb_privmsgs_to (msg_id);
-CREATE INDEX phpbb_privmsgs_to_author_id ON phpbb_privmsgs_to (author_id);
-CREATE INDEX phpbb_privmsgs_to_usr_flder_id ON phpbb_privmsgs_to (user_id, folder_id);
-
-# Table: 'phpbb_profile_fields'
-CREATE TABLE phpbb_profile_fields (
-	field_id INTEGER PRIMARY KEY NOT NULL ,
-	field_name varchar(255) NOT NULL DEFAULT '',
-	field_type tinyint(4) NOT NULL DEFAULT '0',
-	field_ident varchar(20) NOT NULL DEFAULT '',
-	field_length varchar(20) NOT NULL DEFAULT '',
-	field_minlen varchar(255) NOT NULL DEFAULT '',
-	field_maxlen varchar(255) NOT NULL DEFAULT '',
-	field_novalue varchar(255) NOT NULL DEFAULT '',
-	field_default_value varchar(255) NOT NULL DEFAULT '',
-	field_validation varchar(20) NOT NULL DEFAULT '',
-	field_required INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_show_on_reg INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_show_on_vt INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_show_profile INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_hide INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_no_view INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_active INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_order INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_profile_fields_fld_type ON phpbb_profile_fields (field_type);
-CREATE INDEX phpbb_profile_fields_fld_ordr ON phpbb_profile_fields (field_order);
-
-# Table: 'phpbb_profile_fields_data'
-CREATE TABLE phpbb_profile_fields_data (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (user_id)
-);
-
-
-# Table: 'phpbb_profile_fields_lang'
-CREATE TABLE phpbb_profile_fields_lang (
-	field_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	lang_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	option_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	field_type tinyint(4) NOT NULL DEFAULT '0',
-	lang_value varchar(255) NOT NULL DEFAULT '',
-	PRIMARY KEY (field_id, lang_id, option_id)
-);
-
-
-# Table: 'phpbb_profile_lang'
-CREATE TABLE phpbb_profile_lang (
-	field_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	lang_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	lang_name varchar(255) NOT NULL DEFAULT '',
-	lang_explain text(65535) NOT NULL DEFAULT '',
-	lang_default_value varchar(255) NOT NULL DEFAULT '',
-	PRIMARY KEY (field_id, lang_id)
-);
-
-
-# Table: 'phpbb_ranks'
-CREATE TABLE phpbb_ranks (
-	rank_id INTEGER PRIMARY KEY NOT NULL ,
-	rank_title varchar(255) NOT NULL DEFAULT '',
-	rank_min INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rank_special INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	rank_image varchar(255) NOT NULL DEFAULT ''
-);
-
-
-# Table: 'phpbb_reports'
-CREATE TABLE phpbb_reports (
-	report_id INTEGER PRIMARY KEY NOT NULL ,
-	reason_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	pm_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_notify INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	report_closed INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	report_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	report_text mediumtext(16777215) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_reports_post_id ON phpbb_reports (post_id);
-CREATE INDEX phpbb_reports_pm_id ON phpbb_reports (pm_id);
-
-# Table: 'phpbb_reports_reasons'
-CREATE TABLE phpbb_reports_reasons (
-	reason_id INTEGER PRIMARY KEY NOT NULL ,
-	reason_title varchar(255) NOT NULL DEFAULT '',
-	reason_description mediumtext(16777215) NOT NULL DEFAULT '',
-	reason_order INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-
-# Table: 'phpbb_search_results'
-CREATE TABLE phpbb_search_results (
-	search_key varchar(32) NOT NULL DEFAULT '',
-	search_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	search_keywords mediumtext(16777215) NOT NULL DEFAULT '',
-	search_authors mediumtext(16777215) NOT NULL DEFAULT '',
-	PRIMARY KEY (search_key)
-);
-
-
-# Table: 'phpbb_search_wordlist'
-CREATE TABLE phpbb_search_wordlist (
-	word_id INTEGER PRIMARY KEY NOT NULL ,
-	word_text varchar(255) NOT NULL DEFAULT '',
-	word_common INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	word_count INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE UNIQUE INDEX phpbb_search_wordlist_wrd_txt ON phpbb_search_wordlist (word_text);
-CREATE INDEX phpbb_search_wordlist_wrd_cnt ON phpbb_search_wordlist (word_count);
-
-# Table: 'phpbb_search_wordmatch'
-CREATE TABLE phpbb_search_wordmatch (
-	post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	word_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	title_match INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE UNIQUE INDEX phpbb_search_wordmatch_unq_mtch ON phpbb_search_wordmatch (word_id, post_id, title_match);
-CREATE INDEX phpbb_search_wordmatch_word_id ON phpbb_search_wordmatch (word_id);
-CREATE INDEX phpbb_search_wordmatch_post_id ON phpbb_search_wordmatch (post_id);
-
-# Table: 'phpbb_sessions'
-CREATE TABLE phpbb_sessions (
-	session_id char(32) NOT NULL DEFAULT '',
-	session_user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_last_visit INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_start INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_ip varchar(40) NOT NULL DEFAULT '',
-	session_browser varchar(150) NOT NULL DEFAULT '',
-	session_forwarded_for varchar(255) NOT NULL DEFAULT '',
-	session_page varchar(255) NOT NULL DEFAULT '',
-	session_viewonline INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	session_autologin INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	session_admin INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (session_id)
-);
-
-CREATE INDEX phpbb_sessions_session_time ON phpbb_sessions (session_time);
-CREATE INDEX phpbb_sessions_session_user_id ON phpbb_sessions (session_user_id);
-CREATE INDEX phpbb_sessions_session_fid ON phpbb_sessions (session_forum_id);
-
-# Table: 'phpbb_sessions_keys'
-CREATE TABLE phpbb_sessions_keys (
-	key_id char(32) NOT NULL DEFAULT '',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	last_ip varchar(40) NOT NULL DEFAULT '',
-	last_login INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (key_id, user_id)
-);
-
-CREATE INDEX phpbb_sessions_keys_last_login ON phpbb_sessions_keys (last_login);
-
-# Table: 'phpbb_sitelist'
-CREATE TABLE phpbb_sitelist (
-	site_id INTEGER PRIMARY KEY NOT NULL ,
-	site_ip varchar(40) NOT NULL DEFAULT '',
-	site_hostname varchar(255) NOT NULL DEFAULT '',
-	ip_exclude INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-
-# Table: 'phpbb_smilies'
-CREATE TABLE phpbb_smilies (
-	smiley_id INTEGER PRIMARY KEY NOT NULL ,
-	code varchar(50) NOT NULL DEFAULT '',
-	emotion varchar(50) NOT NULL DEFAULT '',
-	smiley_url varchar(50) NOT NULL DEFAULT '',
-	smiley_width INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	smiley_height INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	smiley_order INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	display_on_posting INTEGER UNSIGNED NOT NULL DEFAULT '1'
-);
-
-CREATE INDEX phpbb_smilies_display_on_post ON phpbb_smilies (display_on_posting);
-
-# Table: 'phpbb_styles'
-CREATE TABLE phpbb_styles (
-	style_id INTEGER PRIMARY KEY NOT NULL ,
-	style_name varchar(255) NOT NULL DEFAULT '',
-	style_copyright varchar(255) NOT NULL DEFAULT '',
-	style_active INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	template_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	theme_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	imageset_id INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE UNIQUE INDEX phpbb_styles_style_name ON phpbb_styles (style_name);
-CREATE INDEX phpbb_styles_template_id ON phpbb_styles (template_id);
-CREATE INDEX phpbb_styles_theme_id ON phpbb_styles (theme_id);
-CREATE INDEX phpbb_styles_imageset_id ON phpbb_styles (imageset_id);
-
-# Table: 'phpbb_styles_template'
-CREATE TABLE phpbb_styles_template (
-	template_id INTEGER PRIMARY KEY NOT NULL ,
-	template_name varchar(255) NOT NULL DEFAULT '',
-	template_copyright varchar(255) NOT NULL DEFAULT '',
-	template_path varchar(100) NOT NULL DEFAULT '',
-	bbcode_bitfield varchar(255) NOT NULL DEFAULT 'kNg=',
-	template_storedb INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	template_inherits_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	template_inherit_path varchar(255) NOT NULL DEFAULT ''
-);
-
-CREATE UNIQUE INDEX phpbb_styles_template_tmplte_nm ON phpbb_styles_template (template_name);
-
-# Table: 'phpbb_styles_template_data'
-CREATE TABLE phpbb_styles_template_data (
-	template_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	template_filename varchar(100) NOT NULL DEFAULT '',
-	template_included text(65535) NOT NULL DEFAULT '',
-	template_mtime INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	template_data mediumtext(16777215) NOT NULL DEFAULT ''
-);
-
-CREATE INDEX phpbb_styles_template_data_tid ON phpbb_styles_template_data (template_id);
-CREATE INDEX phpbb_styles_template_data_tfn ON phpbb_styles_template_data (template_filename);
-
-# Table: 'phpbb_styles_theme'
-CREATE TABLE phpbb_styles_theme (
-	theme_id INTEGER PRIMARY KEY NOT NULL ,
-	theme_name varchar(255) NOT NULL DEFAULT '',
-	theme_copyright varchar(255) NOT NULL DEFAULT '',
-	theme_path varchar(100) NOT NULL DEFAULT '',
-	theme_storedb INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	theme_mtime INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	theme_data mediumtext(16777215) NOT NULL DEFAULT ''
-);
-
-CREATE UNIQUE INDEX phpbb_styles_theme_theme_name ON phpbb_styles_theme (theme_name);
-
-# Table: 'phpbb_styles_imageset'
-CREATE TABLE phpbb_styles_imageset (
-	imageset_id INTEGER PRIMARY KEY NOT NULL ,
-	imageset_name varchar(255) NOT NULL DEFAULT '',
-	imageset_copyright varchar(255) NOT NULL DEFAULT '',
-	imageset_path varchar(100) NOT NULL DEFAULT ''
-);
-
-CREATE UNIQUE INDEX phpbb_styles_imageset_imgset_nm ON phpbb_styles_imageset (imageset_name);
-
-# Table: 'phpbb_styles_imageset_data'
-CREATE TABLE phpbb_styles_imageset_data (
-	image_id INTEGER PRIMARY KEY NOT NULL ,
-	image_name varchar(200) NOT NULL DEFAULT '',
-	image_filename varchar(200) NOT NULL DEFAULT '',
-	image_lang varchar(30) NOT NULL DEFAULT '',
-	image_height INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	image_width INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	imageset_id INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_styles_imageset_data_i_d ON phpbb_styles_imageset_data (imageset_id);
-
-# Table: 'phpbb_topics'
-CREATE TABLE phpbb_topics (
-	topic_id INTEGER PRIMARY KEY NOT NULL ,
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	icon_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_attachment INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_approved INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	topic_reported INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_title text(65535) NOT NULL DEFAULT '',
-	topic_poster INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_time_limit INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_views INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_replies INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_replies_real INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_status tinyint(3) NOT NULL DEFAULT '0',
-	topic_type tinyint(3) NOT NULL DEFAULT '0',
-	topic_first_post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_first_poster_name varchar(255) NOT NULL DEFAULT '',
-	topic_first_poster_colour varchar(6) NOT NULL DEFAULT '',
-	topic_last_post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_last_poster_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_last_poster_name varchar(255) NOT NULL DEFAULT '',
-	topic_last_poster_colour varchar(6) NOT NULL DEFAULT '',
-	topic_last_post_subject text(65535) NOT NULL DEFAULT '',
-	topic_last_post_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_last_view_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_moved_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_bumped INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_bumper INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_title text(65535) NOT NULL DEFAULT '',
-	poll_start INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_length INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_max_options tinyint(4) NOT NULL DEFAULT '1',
-	poll_last_vote INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	poll_vote_change INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_topics_forum_id ON phpbb_topics (forum_id);
-CREATE INDEX phpbb_topics_forum_id_type ON phpbb_topics (forum_id, topic_type);
-CREATE INDEX phpbb_topics_last_post_time ON phpbb_topics (topic_last_post_time);
-CREATE INDEX phpbb_topics_topic_approved ON phpbb_topics (topic_approved);
-CREATE INDEX phpbb_topics_forum_appr_last ON phpbb_topics (forum_id, topic_approved, topic_last_post_id);
-CREATE INDEX phpbb_topics_fid_time_moved ON phpbb_topics (forum_id, topic_last_post_time, topic_moved_id);
-
-# Table: 'phpbb_topics_track'
-CREATE TABLE phpbb_topics_track (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	forum_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	mark_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (user_id, topic_id)
-);
-
-CREATE INDEX phpbb_topics_track_topic_id ON phpbb_topics_track (topic_id);
-CREATE INDEX phpbb_topics_track_forum_id ON phpbb_topics_track (forum_id);
-
-# Table: 'phpbb_topics_posted'
-CREATE TABLE phpbb_topics_posted (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	topic_posted INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (user_id, topic_id)
-);
-
-
-# Table: 'phpbb_topics_watch'
-CREATE TABLE phpbb_topics_watch (
-	topic_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	notify_status INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_topics_watch_topic_id ON phpbb_topics_watch (topic_id);
-CREATE INDEX phpbb_topics_watch_user_id ON phpbb_topics_watch (user_id);
-CREATE INDEX phpbb_topics_watch_notify_stat ON phpbb_topics_watch (notify_status);
-
-# Table: 'phpbb_user_group'
-CREATE TABLE phpbb_user_group (
-	group_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	group_leader INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_pending INTEGER UNSIGNED NOT NULL DEFAULT '1'
-);
-
-CREATE INDEX phpbb_user_group_group_id ON phpbb_user_group (group_id);
-CREATE INDEX phpbb_user_group_user_id ON phpbb_user_group (user_id);
-CREATE INDEX phpbb_user_group_group_leader ON phpbb_user_group (group_leader);
-
-# Table: 'phpbb_users'
-CREATE TABLE phpbb_users (
-	user_id INTEGER PRIMARY KEY NOT NULL ,
-	user_type tinyint(2) NOT NULL DEFAULT '0',
-	group_id INTEGER UNSIGNED NOT NULL DEFAULT '3',
-	user_permissions mediumtext(16777215) NOT NULL DEFAULT '',
-	user_perm_from INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_ip varchar(40) NOT NULL DEFAULT '',
-	user_regdate INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	username varchar(255) NOT NULL DEFAULT '',
-	username_clean varchar(255) NOT NULL DEFAULT '',
-	user_password varchar(40) NOT NULL DEFAULT '',
-	user_passchg INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_pass_convert INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_email varchar(100) NOT NULL DEFAULT '',
-	user_email_hash bigint(20) NOT NULL DEFAULT '0',
-	user_birthday varchar(10) NOT NULL DEFAULT '',
-	user_lastvisit INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_lastmark INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_lastpost_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_lastpage varchar(200) NOT NULL DEFAULT '',
-	user_last_confirm_key varchar(10) NOT NULL DEFAULT '',
-	user_last_search INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_warnings tinyint(4) NOT NULL DEFAULT '0',
-	user_last_warning INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_login_attempts tinyint(4) NOT NULL DEFAULT '0',
-	user_inactive_reason tinyint(2) NOT NULL DEFAULT '0',
-	user_inactive_time INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_posts INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_lang varchar(30) NOT NULL DEFAULT '',
-	user_timezone decimal(5,2) NOT NULL DEFAULT '0',
-	user_dst INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_dateformat varchar(30) NOT NULL DEFAULT 'd M Y H:i',
-	user_style INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_rank INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_colour varchar(6) NOT NULL DEFAULT '',
-	user_new_privmsg int(4) NOT NULL DEFAULT '0',
-	user_unread_privmsg int(4) NOT NULL DEFAULT '0',
-	user_last_privmsg INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_message_rules INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_full_folder int(11) NOT NULL DEFAULT '-3',
-	user_emailtime INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_topic_show_days INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_topic_sortby_type varchar(1) NOT NULL DEFAULT 't',
-	user_topic_sortby_dir varchar(1) NOT NULL DEFAULT 'd',
-	user_post_show_days INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_post_sortby_type varchar(1) NOT NULL DEFAULT 't',
-	user_post_sortby_dir varchar(1) NOT NULL DEFAULT 'a',
-	user_notify INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_notify_pm INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_notify_type tinyint(4) NOT NULL DEFAULT '0',
-	user_allow_pm INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_allow_viewonline INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_allow_viewemail INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_allow_massemail INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_options INTEGER UNSIGNED NOT NULL DEFAULT '230271',
-	user_avatar varchar(255) NOT NULL DEFAULT '',
-	user_avatar_type tinyint(2) NOT NULL DEFAULT '0',
-	user_avatar_width INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_avatar_height INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	user_sig mediumtext(16777215) NOT NULL DEFAULT '',
-	user_sig_bbcode_uid varchar(8) NOT NULL DEFAULT '',
-	user_sig_bbcode_bitfield varchar(255) NOT NULL DEFAULT '',
-	user_from varchar(100) NOT NULL DEFAULT '',
-	user_icq varchar(15) NOT NULL DEFAULT '',
-	user_aim varchar(255) NOT NULL DEFAULT '',
-	user_yim varchar(255) NOT NULL DEFAULT '',
-	user_msnm varchar(255) NOT NULL DEFAULT '',
-	user_jabber varchar(255) NOT NULL DEFAULT '',
-	user_website varchar(200) NOT NULL DEFAULT '',
-	user_occ text(65535) NOT NULL DEFAULT '',
-	user_interests text(65535) NOT NULL DEFAULT '',
-	user_actkey varchar(32) NOT NULL DEFAULT '',
-	user_newpasswd varchar(40) NOT NULL DEFAULT '',
-	user_form_salt varchar(32) NOT NULL DEFAULT '',
-	user_new INTEGER UNSIGNED NOT NULL DEFAULT '1',
-	user_reminded tinyint(4) NOT NULL DEFAULT '0',
-	user_reminded_time INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-CREATE INDEX phpbb_users_user_birthday ON phpbb_users (user_birthday);
-CREATE INDEX phpbb_users_user_email_hash ON phpbb_users (user_email_hash);
-CREATE INDEX phpbb_users_user_type ON phpbb_users (user_type);
-CREATE UNIQUE INDEX phpbb_users_username_clean ON phpbb_users (username_clean);
-
-# Table: 'phpbb_warnings'
-CREATE TABLE phpbb_warnings (
-	warning_id INTEGER PRIMARY KEY NOT NULL ,
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	post_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	log_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	warning_time INTEGER UNSIGNED NOT NULL DEFAULT '0'
-);
-
-
-# Table: 'phpbb_words'
-CREATE TABLE phpbb_words (
-	word_id INTEGER PRIMARY KEY NOT NULL ,
-	word varchar(255) NOT NULL DEFAULT '',
-	replacement varchar(255) NOT NULL DEFAULT ''
-);
-
-
-# Table: 'phpbb_zebra'
-CREATE TABLE phpbb_zebra (
-	user_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	zebra_id INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	friend INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	foe INTEGER UNSIGNED NOT NULL DEFAULT '0',
-	PRIMARY KEY (user_id, zebra_id)
-);
-
-
-
-COMMIT;
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/install_cas.xml phpBB3/install_cas.xml
--- phpBB3-init/install_cas.xml	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/install_cas.xml	2013-01-28 17:31:47.688708649 +0100
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
+<?xml-stylesheet type="text/xsl" href="modx.prosilver.en.xsl"?>
+<!--NOTICE: Please open this file in your web browser. If presented with a security warning, you may safely tell it to allow the blocked content.-->
+<!--For security purposes, please check: http://www.phpbb.com/mods/ for the latest version of this MOD.\nAlthough MODs are checked before being allowed in the MODs Database there is no guarantee that there are no security problems within the MOD.\nNo support will be given for MODs not found within the MODs Database which can be found at http://www.phpbb.com/mods/-->
+<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.2.5.xsd">
+	<header>
+		<meta name="generator" content="MODX file generated with PP MODX Creator by tumba25 (online version)"/>
+		<license><![CDATA[http://opensource.org/licenses/LGPL-2.1 GNU Lesser General Public License v2.1]]></license>
+		<title lang="en"><![CDATA[CAS Authentication plugin]]></title>
+		<title lang="fr"><![CDATA[Plugin d'authentification via CAS]]></title>
+		<description lang="en"><![CDATA[Enable (auto)login using Yale's CAS protocol.]]></description>
+		<description lang="fr"><![CDATA[Permet de s'(auto)identifier sur le forum phpBB grce au protocole CAS.]]></description>
+		<author-group>
+			<author>
+				<realname><![CDATA[Grgoire Astruc]]></realname>
+				<username><![CDATA[gregoire.astruc]]></username>
+				<email><![CDATA[gregoire.astruc@anelis.isima.fr]]></email>
+			</author>
+		</author-group>
+		<mod-version>0.0.2</mod-version>
+		<installation>
+			<level>easy</level>
+			<time>120</time>
+			<target-version>3.0.9</target-version>
+		</installation>
+		<history>
+			<entry>
+				<date>2012-01-06</date>
+				<rev-version>0.0.3</rev-version>
+				<changelog lang="en">
+					<change><![CDATA[Updated english translation]]></change>
+					<change><![CDATA[Added ability to view the board as guest user]]></change>
+					<change><![CDATA[Automatic redirect to avoid phpbb login page]]></change>
+				</changelog>
+				<changelog lang="fr">
+					<change><![CDATA[Mise  jour de la traduction]]></change>
+					<change><![CDATA[Possibilit de voir le forum en tant qu'invit]]></change>
+					<change><![CDATA[Redirection automatique permettant d'viter la page de login phpBB]]></change>
+				</changelog>
+			</entry>
+			<entry>
+				<date>2011-12-30</date>
+				<rev-version>0.0.2</rev-version>
+				<changelog lang="en">
+					<change><![CDATA[Added french translation]]></change>
+				</changelog>
+				<changelog lang="fr">
+					<change><![CDATA[Ajout de la traduction franaise]]></change>
+				</changelog>
+			</entry>
+		</history>
+	</header>
+	<action-group>
+		<copy>
+			<file from="includes/auth/auth_cas.php" to="includes/auth/auth_cas.php"/>
+			<file from="language/en/mods/auth_cas.php" to="language/en/mods/auth_cas.php"/>
+			<file from="language/fr/mods/auth_cas.php" to="language/fr/mods/auth_cas.php"/>
+		</copy>
+	</action-group>
+</mod>
diff -rNU5 phpBB3-init/language/en/mods/auth_cas.php phpBB3/language/en/mods/auth_cas.php
--- phpBB3-init/language/en/mods/auth_cas.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/en/mods/auth_cas.php	2013-01-28 17:31:47.692708648 +0100
@@ -0,0 +1,44 @@
+<?php
+/** 
+* phpBB CAS Authentication plugin.
+*
+* @package language
+* @version $Id$
+* @copyright (c) 2012 Anelis
+* @author Gregoire Astruc <gregoire.astruc@anelis.isima.fr>
+* @license http://opensource.org/licenses/LGPL-2.1 LGPL v2.1
+*
+*/
+                    
+/**
+* DO NOT CHANGE
+*/
+if (empty($lang) || !is_array($lang))
+{
+    $lang = array();
+}
+                        
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+                        
+$lang = array_merge($lang, array(
+    'CAS_SERVER'    => 'CAS server name',
+        'CAS_SERVER_EXPLAIN' => 'CAS server name, such as: cas.foo.biz',
+    'CAS_PORT'      => 'CAS server port',
+        'CAS_PORT_EXPLAIN' => 'Port on which the CAS server is listening to.',
+    'CAS_URI'       => 'CAS URI',
+        'CAS_URI_EXPLAIN' => 'Base URI of the cas server. Such as: /login, /cas...',
+    'CAS_VALIDATE'       => 'Validate CAS server',
+        'CAS_VALIDATE_EXPLAIN' => 'Enable/Disable the validation of the CAS server SSL certificate',
+));
+            
+?>
diff -rNU5 phpBB3-init/language/fr/acp/attachments.php phpBB3/language/fr/acp/attachments.php
--- phpBB3-init/language/fr/acp/attachments.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/attachments.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,176 @@
+<?php
+/**
+*
+* acp_attachments [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_ATTACHMENT_SETTINGS_EXPLAIN'	=> 'Vous pouvez configurer ici les rglages principaux relatifs aux pices jointes et les catgories spciales associes.',
+	'ACP_EXTENSION_GROUPS_EXPLAIN'		=> 'Vous pouvez ajouter, supprimer, modifier ou dsactiver ici vos groupes dextensions. Vous pouvez galement leur attribuer des catgories spciales, modifier le mcanisme de tlchargement et dfinir une icne de transfert qui sera affiche devant la pice jointe appartenant au groupe.',
+	'ACP_MANAGE_EXTENSIONS_EXPLAIN'		=> 'Vous pouvez grer ici les extensions autorises. Pour activer vos extensions, veuillez vous rendre sur le panneau de gestion des groupes dextensions. Nous vous recommandons fortement de ne pas autoriser les extensions de langages de programmation (tels que <code>php</code>, <code>php3</code>, <code>php4</code>, <code>phtml</code>, <code>pl</code>, <code>cgi</code>, <code>py</code>, <code>rb</code>, <code>asp</code>, <code>aspx</code>, etc.).',
+	'ACP_ORPHAN_ATTACHMENTS_EXPLAIN'	=> 'Vous pouvez consulter ici les fichiers orphelins. Ces fichiers se produisent la plupart du temps lorsque des utilisateurs insrent des pices jointes mais nenvoient pas le message. Vous pouvez supprimer ces fichiers ou les insrer  un des messages existants en spcifiant le numro didentification dun message. La pice jointe sera alors insre au message que vous avez spcifi.',
+	'ADD_EXTENSION'						=> 'Ajouter une extension',
+	'ADD_EXTENSION_GROUP'				=> 'Ajouter un groupe dextensions',
+	'ADMIN_UPLOAD_ERROR'				=> 'Des erreurs sont survenues lors de linsertion du fichier :  %s .',
+	'ALLOWED_FORUMS'					=> 'Forums autoriss ',
+	'ALLOWED_FORUMS_EXPLAIN'			=> 'Permet dinsrer les extensions assignes dans les forums que vous avez slectionns.',
+	'ALLOWED_IN_PM_POST'				=> 'Autoris',
+	'ALLOW_ATTACHMENTS'					=> 'Autoriser les pices jointes ',
+	'ALLOW_ALL_FORUMS'					=> 'Autoriser dans tous les forums',
+	'ALLOW_IN_PM'						=> 'Autoris dans la messagerie prive ',
+	'ALLOW_PM_ATTACHMENTS'				=> 'Autoriser les pices jointes dans les messages privs ',
+	'ALLOW_SELECTED_FORUMS'				=> 'Uniquement dans les forums slectionns ci-dessous',
+	'ASSIGNED_EXTENSIONS'				=> 'Extensions assignes ',
+	'ASSIGNED_GROUP'					=> 'Groupe dextensions assignes',
+	'ATTACH_EXTENSIONS_URL'				=> 'Extensions',
+	'ATTACH_EXT_GROUPS_URL'				=> 'Groupes dextensions',
+	'ATTACH_ID'							=> 'Identification ',
+	'ATTACH_MAX_FILESIZE'				=> 'Taille maximale des fichiers ',
+	'ATTACH_MAX_FILESIZE_EXPLAIN'		=> 'Taille maximale de chaque fichier. Rglez cette valeur sur 0 afin de ne pas limiter la taille.',
+	'ATTACH_MAX_PM_FILESIZE'			=> 'Taille maximale des fichiers dans les messages privs ',
+	'ATTACH_MAX_PM_FILESIZE_EXPLAIN'	=> 'Taille maximale de chaque fichier insr  un message priv. Rglez cette valeur sur 0 afin de ne pas limiter la taille.',
+	'ATTACH_ORPHAN_URL'					=> 'Pices jointes orphelines',
+	'ATTACH_POST_ID'					=> 'Identification du message',
+	'ATTACH_QUOTA'						=> 'Quota maximum des pices jointes ',
+	'ATTACH_QUOTA_EXPLAIN'				=> 'Espace de stockage maximum rendu disponible pour les pices jointes dans la totalit du forum. Rglez cette valeur sur 0 afin de ne pas limiter lespace de stockage.',
+	'ATTACH_TO_POST'					=> 'Insrer une pice jointe au message',
+
+	'CAT_FLASH_FILES'			=> 'Fichiers Flash',
+	'CAT_IMAGES'				=> 'Images',
+	'CAT_QUICKTIME_FILES'		=> 'Fichiers QuickTime',
+	'CAT_RM_FILES'				=> 'Fichiers RealMedia',
+	'CAT_WM_FILES'				=> 'Fichiers Windows Media',
+	'CHECK_CONTENT'				=> 'Vrifier les pices jointes ',
+	'CHECK_CONTENT_EXPLAIN'		=> 'Certains navigateurs peuvent faire erreur en attribuant un type MIME incorrect aux fichiers transfrs. Cette option permet de rejeter les fichiers qui prsentent un risque de provoquer cette erreur.',
+	'CREATE_GROUP'				=> 'Crer un nouveau groupe',
+	'CREATE_THUMBNAIL'			=> 'Gnrer des miniatures ',
+	'CREATE_THUMBNAIL_EXPLAIN'	=> 'Gnre des miniatures dans toutes les situations possibles.',
+
+	'DEFINE_ALLOWED_IPS'			=> 'Dfinir les IP ou noms dhtes autoriss',
+	'DEFINE_DISALLOWED_IPS'			=> 'Dfinir les IP ou noms dhtes interdits',
+	'DOWNLOAD_ADD_IPS_EXPLAIN'		=> 'Pour spcifier plusieurs adresses IP ou noms dhtes, saisissez chacun deux sur une nouvelle ligne. Pour spcifier une plage dadresses IP, sparez le dbut et la fin par un tiret (-) et utilisez  *  comme joker.',
+	'DOWNLOAD_REMOVE_IPS_EXPLAIN'	=> 'Vous pouvez supprimer ou ne plus exclure plusieurs adresses IP en une seule fois en utilisant la combinaison approprie de la souris et du clavier de votre ordinateur et de votre navigateur. Les adresses IP exclues apparaissent sur fond bleu.',
+	'DISPLAY_INLINED'				=> 'Afficher les images dans le message ',
+	'DISPLAY_INLINED_EXPLAIN'		=> 'Si cette option est dsactive, les images insres en pices jointes safficheront sous forme de lien.',
+	'DISPLAY_ORDER'					=> 'Ordre daffichage des pices jointes ',
+	'DISPLAY_ORDER_EXPLAIN'			=> 'Affiche les pices jointes tries par date croissante ou dcroissante.',
+
+	'EDIT_EXTENSION_GROUP'			=> 'diter le groupe dextensions',
+	'EXCLUDE_ENTERED_IP'			=> 'Activez cette option afin dexclure ladresse IP ou le nom dhte que vous avez slectionn.',
+	'EXCLUDE_FROM_ALLOWED_IP'		=> 'Exclure ladresse IP des IP ou des noms dhtes autoriss ',
+	'EXCLUDE_FROM_DISALLOWED_IP'	=> 'Exclure ladresse IP des IP ou des noms dhtes interdits ',
+	'EXTENSIONS_UPDATED'			=> 'Les extensions ont t mises  jour avec succs.',
+	'EXTENSION_EXIST'				=> 'Lextension %s existe dj.',
+	'EXTENSION_GROUP'				=> 'Groupe dextensions',
+	'EXTENSION_GROUPS'				=> 'Groupes dextensions',
+	'EXTENSION_GROUP_DELETED'		=> 'Le groupe dextensions a t supprim avec succs.',
+	'EXTENSION_GROUP_EXIST'			=> 'Le groupe dextensions %s existe dj.',
+
+	'EXT_GROUP_ARCHIVES'			=> 'Archives',
+	'EXT_GROUP_DOCUMENTS'			=> 'Documents',
+	'EXT_GROUP_DOWNLOADABLE_FILES'	=> 'Fichiers tlchargeables',
+	'EXT_GROUP_FLASH_FILES'			=> 'Fichiers Flash',
+	'EXT_GROUP_IMAGES'				=> 'Images',
+	'EXT_GROUP_PLAIN_TEXT'			=> 'Texte brut',
+	'EXT_GROUP_QUICKTIME_MEDIA'		=> 'QuickTime Media',
+	'EXT_GROUP_REAL_MEDIA'			=> 'RealMedia',
+	'EXT_GROUP_WINDOWS_MEDIA'		=> 'Windows Media',
+
+	'GO_TO_EXTENSIONS'		=> 'Aller  lcran de gestion des extensions',
+	'GROUP_NAME'			=> 'Nom du groupe ',
+
+	'IMAGE_LINK_SIZE'			=> 'Dimensions de limage avant mise en lien ',
+	'IMAGE_LINK_SIZE_EXPLAIN'	=> 'Affiche les images insres en pices jointes sous forme de lien si elles dpassent les valeurs saisies ici. Rglez les valeurs sur 0 px par 0 px afin de dsactiver ce comportement.',
+	'IMAGICK_PATH'				=> 'Chemin dImagemagick ',
+	'IMAGICK_PATH_EXPLAIN'		=> 'Le chemin complet vers lapplication de conversion Imagemagick, tel que <samp>/usr/bin/</samp>.',
+
+	'MAX_ATTACHMENTS'				=> 'Nombre maximum de pices jointes par message ',
+	'MAX_ATTACHMENTS_PM'			=> 'Nombre maximum de pices jointes par message priv ',
+	'MAX_EXTGROUP_FILESIZE'			=> 'Taille maximale des fichiers ',
+	'MAX_IMAGE_SIZE'				=> 'Dimensions maximales des images ',
+	'MAX_IMAGE_SIZE_EXPLAIN'		=> 'La taille maximale des images insres en pices jointes. Rglez ces deux valeurs sur 0 px par 0 px afin de dsactiver la vrification des dimensions des images.',
+	'MAX_THUMB_WIDTH'				=> 'Largeur maximale des miniatures ',
+	'MAX_THUMB_WIDTH_EXPLAIN'		=> 'Une miniature gnre ne dpassera pas la largeur de la valeur spcifie ici.',
+	'MIN_THUMB_FILESIZE'			=> 'Taille minimale des miniatures ',
+	'MIN_THUMB_FILESIZE_EXPLAIN'	=> 'Ne gnrera pas de miniature si les images sont plus petites que la valeur spcifie ici.',
+	'MODE_INLINE'					=> 'Dans la ligne',
+	'MODE_PHYSICAL'					=> 'Physique',
+
+	'NOT_ALLOWED_IN_PM'			=> 'Uniquement autoris dans les messages',
+	'NOT_ALLOWED_IN_PM_POST'	=> 'Interdit',
+	'NOT_ASSIGNED'				=> 'Non assign',
+	'NO_EXT_GROUP'				=> 'Aucun',
+	'NO_EXT_GROUP_NAME'			=> 'Aucun nom de groupe na t saisi',
+	'NO_EXT_GROUP_SPECIFIED'	=> 'Aucun groupe dextensions na t spcifi.',
+	'NO_FILE_CAT'				=> 'Aucune',
+	'NO_IMAGE'					=> 'Aucune image',
+	'NO_THUMBNAIL_SUPPORT'		=> 'Le support des miniatures a t dsactiv. Pour que cette fonctionnalit fonctionne correctement, lextension GD doit tre disponible ou Imagemagick doit tre install. Les deux sont introuvables.',
+	'NO_UPLOAD_DIR'				=> 'Le rpertoire de transfert que vous avez spcifi nexiste pas.',
+	'NO_WRITE_UPLOAD'			=> 'Le rpertoire de transfert que vous avez spcifi nest pas inscriptible. Veuillez modifier les permissions afin que le serveur internet puisse y crire.',
+
+	'ONLY_ALLOWED_IN_PM'	=> 'Uniquement autoris dans les messages privs',
+	'ORDER_ALLOW_DENY'		=> 'Autoriser',
+	'ORDER_DENY_ALLOW'		=> 'Interdire',
+
+	'REMOVE_ALLOWED_IPS'		=> 'Supprimer ou ne plus exclure des IP ou des noms dhtes <em>autoriss</em>',
+	'REMOVE_DISALLOWED_IPS'		=> 'Supprimer ou ne plus exclure des IP ou des noms dhtes <em>interdits</em>',
+
+	'SEARCH_IMAGICK'				=> 'Rechercher Imagemagick',
+	'SECURE_ALLOW_DENY'				=> 'Mettre en place une liste dautorisations ou dinterdictions ',
+	'SECURE_ALLOW_DENY_EXPLAIN'		=> 'Modifie le comportement par dfaut lorsque les tlchargements scuriss sont activs par la mise en place dune liste dautorisations ou la mise en place dune liste dinterdictions sous forme de <strong>liste blanche</strong> ou de <strong>liste noire</strong>.',
+	'SECURE_DOWNLOADS'				=> 'Activer les tlchargements scuriss ',
+	'SECURE_DOWNLOADS_EXPLAIN'		=> 'Si cette option est active, les tlchargements ne seront limits quaux adresses IP et aux noms dhtes que vous spcifiez.',
+	'SECURE_DOWNLOAD_NOTICE'		=> 'Les tlchargements scuriss ne sont pas activs. Les rglages ci-dessous ne seront appliqus quaprs avoir activ les tlchargements scuriss.',
+	'SECURE_DOWNLOAD_UPDATE_SUCCESS'=> 'La liste des adresses IP a t mise  jour avec succs.',
+	'SECURE_EMPTY_REFERRER'			=> 'Autoriser les rfrants vides ',
+	'SECURE_EMPTY_REFERRER_EXPLAIN'	=> 'Les tlchargements scuriss sont bass sur les rfrants. Souhaitez-vous autoriser les tlchargements  ceux qui omettent le rfrant ?',
+	'SETTINGS_CAT_IMAGES'			=> 'Rglages des catgories dimages',
+	'SPECIAL_CATEGORY'				=> 'Catgorie spciale ',
+	'SPECIAL_CATEGORY_EXPLAIN'		=> 'Les catgories spciales modifient la prsentation des messages.',
+	'SUCCESSFULLY_UPLOADED'			=> 'Transfr avec succs.',
+	'SUCCESS_EXTENSION_GROUP_ADD'	=> 'Le groupe dextensions a t ajout avec succs.',
+	'SUCCESS_EXTENSION_GROUP_EDIT'	=> 'Les groupes dextensions ont t mis  jour avec succs.',
+
+	'UPLOADING_FILES'				=> 'Transfert de fichiers',
+	'UPLOADING_FILE_TO'				=> 'Transfert du fichier  %1$s  au message numro %2$d',
+	'UPLOAD_DENIED_FORUM'			=> 'Vous ntes pas autoris  transfrer des fichiers vers le forum  %s .',
+	'UPLOAD_DIR'					=> 'Rpertoire de transfert ',
+	'UPLOAD_DIR_EXPLAIN'			=> 'Chemin de stockage des pices jointes. Veuillez noter que si vous modifiez ce rpertoire, vous devrez copier manuellement toutes les pices jointes existantes vers ce nouvel emplacement.',
+	'UPLOAD_ICON'					=> 'Icne de transfert ',
+	'UPLOAD_NOT_DIR'				=> 'Le rpertoire de transfert que vous avez spcifi est incorrect.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/ban.php phpBB3/language/fr/acp/ban.php
--- phpBB3-init/language/fr/acp/ban.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/ban.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,84 @@
+<?php
+/**
+*
+* acp_ban [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Banning
+$lang = array_merge($lang, array(
+	'1_HOUR'		=> '1 heure',
+	'30_MINS'		=> '30 minutes',
+	'6_HOURS'		=> '6 heures',
+
+	'ACP_BAN_EXPLAIN'	=> 'Vous pouvez contrler ici le bannissement dutilisateurs par nom, adresse IP ou adresse de courrier lectronique. Ces diffrentes mthodes empchent quun utilisateur indsirable puisse participer  lensemble des discussions de votre forum. Si vous le souhaitez, vous pouvez fournir une raison dun maximum de 3000 caractres qui sera affiche  lutilisateur banni. Cela sera affich dans lhistorique des administrateurs. La dure du bannissement peut galement tre spcifie. Si vous souhaitez que le bannissement expire  une date spcifique plutt quaprs avoir pass un certain dlai, slectionnez <span style="text-decoration: underline;">Jusqu -&gt;</span> concernant la dure du bannissement, puis saisissez une date au format <kbd>AAAA-MM-JJ</kbd>.',
+
+	'BAN_EXCLUDE'			=> 'Exclure du bannissement ',
+	'BAN_LENGTH'			=> 'Dure du bannissement ',
+	'BAN_REASON'			=> 'Raison du bannissement ',
+	'BAN_GIVE_REASON'		=> 'Raison affiche  lutilisateur banni ',
+	'BAN_UPDATE_SUCCESSFUL'	=> 'La liste des bannissements a t mise  jour avec succs.',
+	'BANNED_UNTIL_DATE'		=> 'jusquau %s', // Example: "until Mon 13.Jul.2009, 14:44"
+	'BANNED_UNTIL_DURATION'	=> '%1$s (jusquau %2$s)', // Example: "7 days (until Tue 14.Jul.2009, 14:44)"
+
+	'EMAIL_BAN'					=> 'Bannir une ou plusieurs adresses de courrier lectronique',
+	'EMAIL_BAN_EXCLUDE_EXPLAIN'	=> 'Activez ceci afin dexclure de tous les bannissements actuels les adresses de courrier lectronique que vous avez spcifies.',
+	'EMAIL_BAN_EXPLAIN'			=> 'Vous pouvez bannir plusieurs adresses de courrier lectronique en saisissant chacun delles sur une nouvelle ligne. Pour utiliser partiellement des adresses, utilisez * comme joker, comme par exemple <samp>*@hotmail.com</samp>, <samp>*@*.domaine.tld</samp>, etc.',
+	'EMAIL_NO_BANNED'			=> 'Aucune adresse de courrier lectronique na t bannie',
+	'EMAIL_UNBAN'				=> 'Exclure du bannissement les adresses de courrier lectronique ',
+	'EMAIL_UNBAN_EXPLAIN'		=> 'Vous pouvez exclure du bannissement plusieurs adresses de courrier lectronique en une seule fois en utilisant la combinaison approprie de la souris et du clavier de votre ordinateur et de votre navigateur. Les adresses de courrier lectronique exclues apparaissent soulignes.',
+
+	'IP_BAN'					=> 'Bannir une ou plusieurs adresses IP',
+	'IP_BAN_EXCLUDE_EXPLAIN'	=> 'Activez ceci afin dexclure de tous les bannissements actuels les adresses IP spcifies.',
+	'IP_BAN_EXPLAIN'			=> 'Vous pouvez bannir plusieurs adresses IP ou noms dhtes en saisissant chacun deux sur une nouvelle ligne. Pour spcifier une plage dadresses IP, sparez le dbut et la fin par un tiret (-) et pour spcifier un joker, utilisez  * .',
+	'IP_HOSTNAME'				=> 'Adresse(s) IP ou nom(s) dhte(s) ',
+	'IP_NO_BANNED'				=> 'Aucune adresse IP na t bannie',
+	'IP_UNBAN'					=> 'Exclure du bannissement les adresses IP ',
+	'IP_UNBAN_EXPLAIN'			=> 'Vous pouvez exclure du bannissement plusieurs adresses IP en une seule fois en utilisant la combinaison approprie de la souris et du clavier de votre ordinateur et de votre navigateur. Les adresses IP exclues apparaissent soulignes.',
+
+	'LENGTH_BAN_INVALID'		=> 'La date doit tre au format <kbd>AAAA-MM-JJ</kbd>.',
+
+	'PERMANENT'		=> 'Permanent',
+
+	'UNTIL'						=> 'Jusqu',
+	'USER_BAN'					=> 'Bannir un ou plusieurs noms dutilisateurs',
+	'USER_BAN_EXCLUDE_EXPLAIN'	=> 'Activez ceci afin dexclure de tous les bannissements actuels les utilisateurs spcifis.',
+	'USER_BAN_EXPLAIN'			=> 'Vous pouvez bannir plusieurs noms dutilisateurs en saisissant chacun deux sur une nouvelle ligne. Utilisez la fonctionnalit <span style="text-decoration: underline;">Trouver un membre</span> afin de rechercher et dajouter automatiquement un ou plusieurs utilisateurs.',
+	'USER_NO_BANNED'			=> 'Aucun nom dutilisateur na t banni',
+	'USER_UNBAN'				=> 'Exclure du bannissement les noms dutilisateurs',
+	'USER_UNBAN_EXPLAIN'		=> 'Vous pouvez exclure du bannissement plusieurs noms dutilisateurs en une seule fois en utilisant la combinaison approprie de la souris et du clavier de votre ordinateur et de votre navigateur. Les utilisateurs exclus apparaissent souligns.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/board.php phpBB3/language/fr/acp/board.php
--- phpBB3-init/language/fr/acp/board.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/board.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,552 @@
+<?php
+/**
+*
+* acp_board [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Board Settings
+$lang = array_merge($lang, array(
+	'ACP_BOARD_SETTINGS_EXPLAIN'	=> 'Vous pouvez effectuer ici les oprations basiques de votre forum, comme lui attribuer un nom et une description, rgler son fuseau horaire ou encore dfinir sa langue par dfaut.',
+	'CUSTOM_DATEFORMAT'				=> 'Personnaliser',
+	'DEFAULT_DATE_FORMAT'			=> 'Format de la date ',
+	'DEFAULT_DATE_FORMAT_EXPLAIN'	=> 'Le format de la date est similaire  celui de la fonction PHP <code>date</code>.',
+	'DEFAULT_LANGUAGE'				=> 'Langue par dfaut ',
+	'DEFAULT_STYLE'					=> 'Style par dfaut ',
+	'DISABLE_BOARD'					=> 'Dsactiver le forum ',
+	'DISABLE_BOARD_EXPLAIN'			=> 'Cela rendra le forum indisponible aux utilisateurs. Si vous le souhaitez, vous pouvez galement fournir une brve explication (de 255 caractres maximum) qui sera affiche aux utilisateurs.',
+	'OVERRIDE_STYLE'				=> 'craser le style des utilisateurs ',
+	'OVERRIDE_STYLE_EXPLAIN'		=> 'Remplace le style que utilisateurs ont slectionn par le style par dfaut.',
+	'SITE_DESC'						=> 'Description du forum ',
+	'SITE_NAME'						=> 'Nom du forum ',
+	'SYSTEM_DST'					=> 'Activer lheure dt ',
+	'SYSTEM_TIMEZONE'				=> 'Fuseau horaire des invits ',
+	'SYSTEM_TIMEZONE_EXPLAIN'			=> 'Fuseau horaire utilis afin dafficher les heures aux utilisateurs qui ne sont pas connects (comme les invits et les robots). Les utilisateurs connects rglent eux-mmes leur fuseau horaire durant leur inscription ou modifient ce rglage par lintermdiaire du panneau de contrle de lutilisateur.',
+	'WARNINGS_EXPIRE'				=> 'Dure des avertissements ',
+	'WARNINGS_EXPIRE_EXPLAIN'		=> 'Nombre de jours qui scoulera avant quun avertissement nexpire automatiquement. Rglez cette valeur sur 0 afin de ne pas limiter les avertissements.',
+));
+
+// Board Features
+$lang = array_merge($lang, array(
+	'ACP_BOARD_FEATURES_EXPLAIN'	=> 'Vous pouvez activer ou dsactiver ici plusieurs fonctionnalits du forum.',
+
+	'ALLOW_ATTACHMENTS'			=> 'Autoriser les pices jointes ',
+	'ALLOW_BIRTHDAYS'			=> 'Autoriser les anniversaires ',
+	'ALLOW_BIRTHDAYS_EXPLAIN'	=> 'Autorise la saisie des dates danniversaires et laffichage de lge dans les profils. Veuillez noter que la liste des anniversaires qui est affiche sur lindex du forum ne dpend pas de ce rglage.',
+	'ALLOW_BOOKMARKS'			=> 'Autoriser le signetage des sujets ',
+	'ALLOW_BOOKMARKS_EXPLAIN'	=> 'Autorise les utilisateurs  enregistrer des signets personnels.',
+	'ALLOW_BBCODE'				=> 'Autoriser le BBCode ',
+	'ALLOW_FORUM_NOTIFY'		=> 'Autoriser labonnement aux forums ',
+	'ALLOW_NAME_CHANGE'			=> 'Autoriser la modification des noms dutilisateurs ',
+	'ALLOW_NO_CENSORS'			=> 'Autoriser la dsactivation de la censure de mots ',
+	'ALLOW_NO_CENSORS_EXPLAIN'	=> 'Les utilisateurs pourront dsactiver la censure de mots automatique dans les messages et les messages privs.',
+	'ALLOW_PM_ATTACHMENTS'		=> 'Autoriser les pices jointes dans les messages privs ',
+	'ALLOW_PM_REPORT'			=> 'Autoriser les utilisateurs  rapporter des messages privs ',
+	'ALLOW_PM_REPORT_EXPLAIN'	=> 'Si cette option est active, les utilisateurs pourront rapporter aux modrateurs du forum les messages privs quils ont reus ou quils ont envoys. Ces messages privs seront alors visibles depuis le panneau de contrle du modrateur.',
+	'ALLOW_QUICK_REPLY'			=> 'Autoriser la rponse rapide ',
+	'ALLOW_QUICK_REPLY_EXPLAIN'	=> 'Autorise lutilisation de la rponse rapide sur le forum. Lorsque cette option est active, les rglages spcifiques aux forums seront utiliss afin de dterminer si la rponse rapide doit tre dsactive ou non sur chaque forum individuel.',
+	'ALLOW_QUICK_REPLY_BUTTON'	=> 'Envoyer et activer la rponse rapide dans tous les forums',
+	'ALLOW_SIG'					=> 'Autoriser les signatures ',
+	'ALLOW_SIG_BBCODE'			=> 'Autoriser le BBCode dans la signature des utilisateurs ',
+	'ALLOW_SIG_FLASH'			=> 'Autoriser lutilisation de la balise BBCode <code>[FLASH]</code> dans la signature des utilisateurs ',
+	'ALLOW_SIG_IMG'				=> 'Autoriser lutilisation de la balise BBCode <code>[IMG]</code> dans la signature des utilisateurs ',
+	'ALLOW_SIG_LINKS'			=> 'Autoriser linsertion de liens dans la signature des utilisateurs ',
+	'ALLOW_SIG_LINKS_EXPLAIN'	=> 'Si cette option est dsactive, la balise BBCode <code>[URL]</code> et la transformation automatique de texte en lien sera dsactive.',
+	'ALLOW_SIG_SMILIES'			=> 'Autoriser linsertion dmoticnes dans la signature des utilisateurs ',
+	'ALLOW_SMILIES'				=> 'Autoriser les moticnes ',
+	'ALLOW_TOPIC_NOTIFY'		=> 'Autoriser labonnement aux sujets ',
+	'BOARD_PM'					=> 'Messagerie prive ',
+	'BOARD_PM_EXPLAIN'			=> 'Activer la messagerie prive  tous les utilisateurs.',
+));
+
+// Avatar Settings
+$lang = array_merge($lang, array(
+	'ACP_AVATAR_SETTINGS_EXPLAIN'	=> 'Les avatars sont gnralement de petites images uniques quun utilisateur peut associer  sa personnalit. Selon le style utilis, ils sont habituellement affichs sous le nom dutilisateur lors de la consultation de sujets. Vous pouvez dterminer ici quels sont les utilisateurs qui peuvent utiliser des avatars. Veuillez noter que pour transfrer des avatars, vous devez avoir pralablement cr le rpertoire que vous indiquerez ci-dessous et vous assurer quil soit inscriptible par le serveur internet. Veuillez galement noter que les limitations de taille ne sont imposes quaux avatars transfrs, elles ne sappliquent pas aux images  distance.',
+
+	'ALLOW_AVATARS'					=> 'Activer les avatars ',
+	'ALLOW_AVATARS_EXPLAIN'			=> 'Autorise lutilisation gnrale des avatars ;<br />Si vous dsactivez lutilisation gnrale ou particulire des avatars, les avatars dsactivs ne safficheront plus sur le forum mais les utilisateurs seront toujours capables de tlcharger leurs propres avatars depuis le panneau de contrle de lutilisateur.',
+	'ALLOW_LOCAL'					=> 'Activer la galerie davatars ',
+	'ALLOW_REMOTE'					=> 'Activer les avatars  distance ',
+	'ALLOW_REMOTE_EXPLAIN'			=> 'Les avatars situs sur un site internet externe.',
+	'ALLOW_REMOTE_UPLOAD'			=> 'Activer le transfert davatars  distance ',
+	'ALLOW_REMOTE_UPLOAD_EXPLAIN'	=> 'Autorise le tranfert davatars  partir de sites internet externes.',
+	'ALLOW_UPLOAD'					=> 'Activer le transfert davatars ',
+	'AVATAR_GALLERY_PATH'			=> 'Chemin vers la galerie davatars ',
+	'AVATAR_GALLERY_PATH_EXPLAIN'	=> 'Chemin depuis la racine de votre rpertoire de phpBB vers les images, tel que <samp>images/avatars/gallery</samp>.',
+	'AVATAR_STORAGE_PATH'			=> 'Chemin vers le rpertoire de stockage des avatars ',
+	'AVATAR_STORAGE_PATH_EXPLAIN'	=> 'Chemin depuis la racine de votre rpertoire de phpBB, tel que <samp>images/avatars/upload</samp>.',
+	'MAX_AVATAR_SIZE'				=> 'Dimensions maximales des avatars ',
+	'MAX_AVATAR_SIZE_EXPLAIN'		=> 'Largeur x hauteur en pixels.',
+	'MAX_FILESIZE'					=> 'Taille maximale des avatars ',
+	'MAX_FILESIZE_EXPLAIN'			=> 'Cette option ne concerne que les avatars transfrs.',
+	'MIN_AVATAR_SIZE'				=> 'Dimensions minimales des avatars ',
+	'MIN_AVATAR_SIZE_EXPLAIN'		=> 'Largeur x hauteur en pixels.',
+));
+
+// Message Settings
+$lang = array_merge($lang, array(
+	'ACP_MESSAGE_SETTINGS_EXPLAIN'		=> 'Vous pouvez effectuer ici tous les rglages par dfaut concernant la messagerie prive.',
+
+	'ALLOW_BBCODE_PM'			=> 'Autoriser le BBCode dans les messages privs ',
+	'ALLOW_FLASH_PM'			=> 'Autoriser lutilisation de la balise BBCode <code>[FLASH]</code> ',
+	'ALLOW_FLASH_PM_EXPLAIN'	=> 'Notez que lutilisation de Flash dans les messages privs dpend galement des permissions.',
+	'ALLOW_FORWARD_PM'			=> 'Autoriser le transfert de messages privs ',
+	'ALLOW_IMG_PM'				=> 'Autoriser lutilisation de la balise BBCode <code>[IMG]</code> ',
+	'ALLOW_MASS_PM'				=> 'Autoriser lenvoi de messages privs  plusieurs utilisateurs et groupes ',
+	'ALLOW_MASS_PM_EXPLAIN'		=> 'Lenvoi de messages destins aux groupes peut tre ajust de manire individuelle depuis la page des rglages relatifs aux groupes.',
+	'ALLOW_PRINT_PM'			=> 'Autoriser laccs  laperu avant impression dans les messages privs ',
+	'ALLOW_QUOTE_PM'			=> 'Autoriser les citations dans les messages privs ',
+	'ALLOW_SIG_PM'				=> 'Autoriser les signatures dans les messages privs ',
+	'ALLOW_SMILIES_PM'			=> 'Autoriser les moticnes dans les messages privs ',
+	'BOXES_LIMIT'				=> 'Nombre maximum de messages privs par bote ',
+	'BOXES_LIMIT_EXPLAIN'		=> 'Si leur bote est pleine, les utilisateurs ne pourront pas recevoir davantage de messages privs que la valeur qui est insre ici. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de messages privs par bote.',
+	'BOXES_MAX'					=> 'Nombre maximum de dossiers de messages privs ',
+	'BOXES_MAX_EXPLAIN'			=> 'Par dfaut, les utilisateurs peuvent crer un certain nombre de dossiers qui leur permettent de stocker des messages privs.',
+	'ENABLE_PM_ICONS'			=> 'Activer lutilisation des icnes de sujets dans les messages privs ',
+	'FULL_FOLDER_ACTION'		=> 'Action par dfaut lorsque un dossier est plein ',
+	'FULL_FOLDER_ACTION_EXPLAIN'=> 'Laction par dfaut  raliser lorsque le dossier dun utilisateur est plein dans le cas o laction spcifie par lutilisateur nest pas applicable. La seule exception sapplique au dossier des  Messages envoys , o laction par dfaut est dautomatiquement supprimer les messages les plus anciens.',
+	'HOLD_NEW_MESSAGES'			=> 'Mettre en attente les nouveaux messages',
+	'PM_EDIT_TIME'				=> 'Limite de la dure ddition ',
+	'PM_EDIT_TIME_EXPLAIN'		=> 'Limite la dure ddition possible concernant les messages privs qui nont pas encore t dlivrs. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'PM_MAX_RECIPIENTS'			=> 'Nombre maximum de destinataires autoriss ',
+	'PM_MAX_RECIPIENTS_EXPLAIN'	=> 'Le nombre maximum de destinataires autoriss dans un message priv. Rglez cette valeur sur 0 si vous ne souhaitez pas limiter ce nombre. Ce rglage peut tre ajust pour chaque groupe depuis la page des rglages relatifs aux groupes.',
+));
+
+// Post Settings
+$lang = array_merge($lang, array(
+	'ACP_POST_SETTINGS_EXPLAIN'			=> 'Vous pouvez effectuer ici tous les rglages concernant la publication.',
+	'ALLOW_POST_LINKS'					=> 'Autoriser les liens dans les messages et les messages privs ',
+	'ALLOW_POST_LINKS_EXPLAIN'			=> 'Si vous nautorisez pas cette fonctionnalit, la balise BBCode <code>[URL]</code> et la transformation automatique de texte en lien sera dsactive.',
+	'ALLOW_POST_FLASH'					=> 'Autoriser lutilisation de la balise BBCode <code>[FLASH]</code> dans les messages ',
+	'ALLOW_POST_FLASH_EXPLAIN'			=> 'Si vous nautorisez pas cette fonctionnalit, la balise BBCode <code>[FLASH]</code> sera dsactive dans tous les messages. Dans le cas contraire, vous pourrez dterminer depuis le systme de permissions quels seront les utilisateurs qui pourront, ou non, utiliser la balise BBCode <code>[FLASH]</code>.',
+
+	'BUMP_INTERVAL'					=> 'Intervalle de remonte des sujets ',
+	'BUMP_INTERVAL_EXPLAIN'			=> 'Nombre de minutes, dheures ou de jours entre le dernier message dun sujet et la possibilit de remonter ce mme sujet. Rglez cette valeur sur 0 afin de dsactiver la possibilit de remonter des sujets.',
+	'CHAR_LIMIT'					=> 'Nombre maximum de caractre(s) par message et message priv ',
+	'CHAR_LIMIT_EXPLAIN'			=> 'Le nombre maximum de caractre(s) que les utilisateurs peuvent saisir dans un message et dans un message priv. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de caractre.',
+	'DELETE_TIME'					=> 'Limite de la dure de suppression ',
+	'DELETE_TIME_EXPLAIN'			=> 'Limite la dure de suppression possible concernant les nouveaux messages. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'DISPLAY_LAST_EDITED'			=> 'Afficher linformation concernant la date de la dernire dition ',
+	'DISPLAY_LAST_EDITED_EXPLAIN'	=> 'Affiche sur les messages linformation concernant la date de la dernire dition.',
+	'EDIT_TIME'						=> 'Limite de la dure ddition ',
+	'EDIT_TIME_EXPLAIN'				=> 'Limite la dure ddition possible concernant les nouveaux messages. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'FLOOD_INTERVAL'				=> 'Intervalle daffluence ',
+	'FLOOD_INTERVAL_EXPLAIN'		=> 'Nombre de secondes quun utilisateur doit attendre avant davoir la possibilit de publier de nouveaux messages. Si vous souhaitez autoriser les utilisateurs  ignorer cet intervalle, vous devrez modifier leurs permissions.',
+	'HOT_THRESHOLD'					=> 'Seuil de popularit des sujets ',
+	'HOT_THRESHOLD_EXPLAIN'			=> 'Le nombre de messages par sujet  atteindre afin quun sujet soit considr comme populaire. Rglez cette valeur sur 0 afin de dsactiver cette fonctionnalit.',
+	'MAX_POLL_OPTIONS'				=> 'Nombre maximum doption(s) par sondage ',
+	'MAX_POST_FONT_SIZE'			=> 'Taille maximale de la police de caractres dans les messages et messages privs ',
+	'MAX_POST_FONT_SIZE_EXPLAIN'	=> 'La taille maximale de la police de caractres autorise dans un message et dans un message priv. Rglez cette valeur sur 0 afin de ne pas limiter la taille de la police de caractres.',
+	'MAX_POST_IMG_HEIGHT'			=> 'Hauteur maximale des images dans les messages et messages privs ',
+	'MAX_POST_IMG_HEIGHT_EXPLAIN'	=> 'La hauteur maximale des images ou des fichiers Flash dans les messages et dans les messages privs. Rglez cette valeur sur 0 afin de ne pas limiter la hauteur.',
+	'MAX_POST_IMG_WIDTH'			=> 'Largeur maximale des images dans les messages et messages privs ',
+	'MAX_POST_IMG_WIDTH_EXPLAIN'	=> 'La largeur maximale des images ou des fichiers Flash dans les messages et dans les messages privs. Rglez cette valeur sur 0 afin de ne limiter la largeur.',
+	'MAX_POST_URLS'					=> 'Nombre maximum de lien(s) par message et message priv ',
+	'MAX_POST_URLS_EXPLAIN'			=> 'Le nombre maximum de lien(s) que les utilisateurs peuvent insrer dans un message et dans un message priv. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de lien.',
+	'MIN_CHAR_LIMIT'				=> 'Nombre minimum de caractre(s) par message et message priv ',
+	'MIN_CHAR_LIMIT_EXPLAIN'		=> 'Le nombre minimum de caractre(s) que les utilisateurs doivent saisir afin dtre en mesure de publier un message ou un message priv.',
+	'POSTING'						=> 'Publication',
+	'POSTS_PER_PAGE'				=> 'Nombre de message(s) par page ',
+	'QUOTE_DEPTH_LIMIT'				=> 'Profondeur maximale dimbrication de citations ',
+	'QUOTE_DEPTH_LIMIT_EXPLAIN'		=> 'La profondeur maximale dimbrication de citations dans un message et dans un message priv. Rglez cette valeur sur 0 afin de ne pas limiter la profondeur.',
+	'SMILIES_LIMIT'					=> 'Nombre maximum dmoticne(s) par message et message priv ',
+	'SMILIES_LIMIT_EXPLAIN'			=> 'Le nombre maximum dmoticne(s) que les utilisateurs peuvent insrer dans un message et dans un message priv. Rglez cette valeur sur 0 afin de ne pas limiter le nombre dmoticne.',
+	'SMILIES_PER_PAGE'				=> 'Nombre dmoticne(s) par page ',
+	'TOPICS_PER_PAGE'				=> 'Nombre de sujet(s) par page ',
+));
+
+// Signature Settings
+$lang = array_merge($lang, array(
+	'ACP_SIGNATURE_SETTINGS_EXPLAIN'	=> 'Vous pouvez effectuer ici tous les rglages concernant les signatures.',
+
+	'MAX_SIG_FONT_SIZE'				=> 'Taille maximale de la police de caractres dans la signature des utilisateurs ',
+	'MAX_SIG_FONT_SIZE_EXPLAIN'		=> 'La taille maximale de la police de caractres autorise dans la signature des utilisateurs. Rglez cette valeur sur 0 afin de ne pas limiter la taille de la police de caractres.',
+	'MAX_SIG_IMG_HEIGHT'			=> 'Hauteur maximale des images dans la signature des utilisateurs ',
+	'MAX_SIG_IMG_HEIGHT_EXPLAIN'	=> 'La hauteur maximale des images et des fichiers Flash dans la signature des utilisateurs. Rglez cette valeur sur 0 afin de ne pas limiter la hauteur.',
+	'MAX_SIG_IMG_WIDTH'				=> 'Largeur maximale des images dans la signature des utilisateurs ',
+	'MAX_SIG_IMG_WIDTH_EXPLAIN'		=> 'La largeur maximale des images et des fichiers Flash dans la signature des utilisateurs. Rglez cette valeur sur 0 afin de ne pas limiter la largeur.',
+	'MAX_SIG_LENGTH'				=> 'Longueur maximale de la signature des utilisateurs ',
+	'MAX_SIG_LENGTH_EXPLAIN'		=> 'Le nombre maximum de caractre(s) autoris(s) dans la signature des utilisateurs.',
+	'MAX_SIG_SMILIES'				=> 'Nombre maximum dmoticne(s) dans la signature des utilisateurs ',
+	'MAX_SIG_SMILIES_EXPLAIN'		=> 'Le nombre maximum dmoticne(s) autorise(s) dans la signature des utilisateurs. Rglez cette valeur sur 0 afin de ne pas limiter le nombre dmoticne.',
+	'MAX_SIG_URLS'					=> 'Nombre maximum de lien(s) dans la signature des utilisateurs ',
+	'MAX_SIG_URLS_EXPLAIN'			=> 'Le nombre maximum de lien(s) autoris(s) dans la signature des utilisateurs. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de lien.',
+));
+
+// Registration Settings
+$lang = array_merge($lang, array(
+	'ACP_REGISTER_SETTINGS_EXPLAIN'		=> 'Vous pouvez effectuer ici les rglages relatifs aux inscriptions et aux profils des utilisateurs.',
+
+	'ACC_ACTIVATION'				=> 'Activation du compte ',
+	'ACC_ACTIVATION_EXPLAIN'		=> 'Dtermine quels sont les utilisateurs qui bnficieront dun accs immdiat au forum ou si une confirmation leur sera demande. Vous pouvez galement dsactiver entirement les nouvelles inscriptions.  Lenvoi de courriels par lintermdiaire du forum  doit tre activ afin dtre en mesure de pouvoir utiliser lactivation par un administrateur ou par lutilisateur lui-mme.',
+	'NEW_MEMBER_POST_LIMIT'			=> 'Limite de message(s) des nouveaux membres ',
+	'NEW_MEMBER_POST_LIMIT_EXPLAIN'	=> 'Les nouveaux membres sont membres du groupe des <em>Utilisateurs inscrits rcemment</em> jusqu ce quils atteignent ce nombre de message(s). Vous pouvez utiliser ce groupe afin dempcher ses membres  utiliser les fonctionnalits de la messagerie prive ou contrler leur(s) message(s). <strong>Rglez cette valeur sur 0 afin de dsactiver cette fonctionnalit.</strong>',
+	'NEW_MEMBER_GROUP_DEFAULT'		=> 'Rgler le groupe des utilisateurs inscrits rcemment en tant que groupe par dfaut ',
+	'NEW_MEMBER_GROUP_DEFAULT_EXPLAIN'	=> 'Si cette option est active et quune nouvelle limite de message(s) des nouveaux membres est spcifie, les nouveux utilisateurs inscrits rcemment ne seront pas uniquement membres du groupe des <em>Utilisateurs inscrits rcemment</em> mais ce groupe sera galement leur groupe par dfaut. Cela peut tre utile si vous souhaitez attribuer un rang ou un avatar par dfaut afin que tous les utilisateurs en bnficient.',
+
+	'ACC_ADMIN'					=> 'Par un administrateur',
+	'ACC_DISABLE'				=> 'Dsactiver les inscriptions',
+	'ACC_NONE'					=> 'Aucune activation (accs immdiat)',
+	'ACC_USER'					=> 'Par lutilisateur (vrification par courriel)',
+//	'ACC_USER_ADMIN'			=> 'Par lutilisateur et un administrateur',
+	'ALLOW_EMAIL_REUSE'			=> 'Autoriser les utilisations multiples dadresses de courrier lectronique ',
+	'ALLOW_EMAIL_REUSE_EXPLAIN'	=> 'Diffrents utilisateurs pourront sinscrire en spcifiant la mme adresse de courrier lectronique.',
+	'COPPA'						=> 'COPPA',
+	'COPPA_FAX'					=> 'Numro de fax de la COPPA ',
+	'COPPA_MAIL'				=> 'Adresse de courrier lectronique de la COPPA ',
+	'COPPA_MAIL_EXPLAIN'		=> 'Ladresse de courrier lectronique  laquelle les parents devront envoyer les formulaires dinscription de la COPPA.',
+	'ENABLE_COPPA'				=> 'Activer la COPPA ',
+	'ENABLE_COPPA_EXPLAIN'		=> 'Demande aux utilisateurs de dclarer quils ont 13 ans ou plus afin de se conformer  la <em><strong>C</strong>hildrens <strong>O</strong>nline <strong>P</strong>rivacy <strong>P</strong>rotection <strong>A</strong>ct</em>, loi des tats-Unis dAmrique visant  protger la vie prive des enfants sur Internet. Si cette option est dsactive, les groupes spcifiques  la COPPA ne seront plus affichs.',
+	'MAX_CHARS'					=> 'Max',
+	'MIN_CHARS'					=> 'Min',
+	'NO_AUTH_PLUGIN'			=> 'Aucun plugin dauthentification na t trouv.',
+	'PASSWORD_LENGTH'			=> 'Longueur du mot de passe ',
+	'PASSWORD_LENGTH_EXPLAIN'	=> 'Le nombre de caractre(s) minimum(s) et maximum(s) obligatoire(s) dans les mots de passe.',
+	'REG_LIMIT'					=> 'Nombre de tentative(s) dinscription ',
+	'REG_LIMIT_EXPLAIN'			=> 'Le nombre de tentative(s) dinscription possible(s) avant que la session dun utilisateur nexpire et quune mesure de lutte contre les robots indsirables ne soit dclenche.',
+	'USERNAME_ALPHA_ONLY'		=> 'Alphanumriques uniquement',
+	'USERNAME_ALPHA_SPACERS'	=> 'Alphanumriques et espaces',
+	'USERNAME_ASCII'			=> 'ASCII (aucun caractre international)',
+	'USERNAME_LETTER_NUM'		=> 'Lettres et nombres',
+	'USERNAME_LETTER_NUM_SPACERS'	=> 'Lettres, nombres et espaces',
+	'USERNAME_CHARS'			=> 'Limite de caractre(s) des noms dutilisateurs ',
+	'USERNAME_CHARS_ANY'		=> 'Caractres',
+	'USERNAME_CHARS_EXPLAIN'	=> 'Limite le type de caractres pouvant tre utilis dans les noms dutilisateurs. Les espaces comprennent : espace, -, +, _, [ et ].',
+	'USERNAME_LENGTH'			=> 'Longueur des noms dutilisateurs ',
+	'USERNAME_LENGTH_EXPLAIN'	=> 'Le nombre de caractre(s) minimum(s) et maximum(s) obligatoire(s) dans les noms dutilisateurs.',
+));
+
+// Feeds
+$lang = array_merge($lang, array(
+	'ACP_FEED_MANAGEMENT'				=> 'Rglages gnraux des flux de syndication',
+	'ACP_FEED_MANAGEMENT_EXPLAIN'		=> 'Ce module met  disponibilit de multiples flux ATOM en dcomposant les balises BBCode contenues dans les messages afin de les rendre lisibles dans les flux externes.',
+
+	'ACP_FEED_GENERAL'					=> 'Rglages gnraux du flux',
+	'ACP_FEED_POST_BASED'				=> 'Rglages du flux relatif aux messages',
+	'ACP_FEED_TOPIC_BASED'				=> 'Rglages du flux relatif aux sujets',
+	'ACP_FEED_SETTINGS_OTHER'			=> 'Autres rglages et flux',
+
+	'ACP_FEED_ENABLE'					=> 'Activer les flux ',
+	'ACP_FEED_ENABLE_EXPLAIN'			=> 'Active ou dsactive les flux ATOM dans la totalit du forum.<br />Si cette option est dsactive, tous les flux seront dsactivs, sans prendre en compte les rglages spcifis dans les options ci-dessous.',
+	'ACP_FEED_LIMIT'					=> 'Nombre dobjet(s) ',
+	'ACP_FEED_LIMIT_EXPLAIN'			=> 'Le nombre maximum dobjet(s)  afficher dans les flux.',
+
+	'ACP_FEED_OVERALL'					=> 'Activer le flux des messages de lensemble du forum ',
+	'ACP_FEED_OVERALL_EXPLAIN'			=> 'Permet de consulter les nouveaux messages de lensemble du forum par lintermdiaire dun flux spcifique.',
+	'ACP_FEED_FORUM'					=> 'Activer les flux par forum ',
+	'ACP_FEED_FORUM_EXPLAIN'			=> 'Permet de consulter les nouveaux messages dun forum et de ses sous-forums par lintermdiaire dun flux spcifique.',
+	'ACP_FEED_TOPIC'					=> 'Activer les flux par sujet ',
+	'ACP_FEED_TOPIC_EXPLAIN'			=> 'Permet de consulter les nouveaux messages dun sujet par lintermdiaire dun flux spcifique.',
+
+	'ACP_FEED_TOPICS_NEW'				=> 'Activer le flux des nouveaux sujets ',
+	'ACP_FEED_TOPICS_NEW_EXPLAIN'		=> 'Active le flux des  nouveaux sujets , qui affiche les derniers sujets crs, en incluant leur premier message.',
+	'ACP_FEED_TOPICS_ACTIVE'			=> 'Activer le flux des sujets actifs ',
+	'ACP_FEED_TOPICS_ACTIVE_EXPLAIN'	=> 'Active le flux des  sujet actifs , qui affiche les derniers sujets actifs, en incluant leur premier message.',
+	'ACP_FEED_NEWS'						=> 'Flux des nouveauts ',
+	'ACP_FEED_NEWS_EXPLAIN'				=> 'Extrait le premier message  partir de ces forums. Si vous ne souhaitez pas activer le flux des nouveauts, ne slectionnez aucun forum.<br />Vous pouvez slectionner ou dslectionner plusieurs forums en maintenant appuy la touche <samp>CTRL</samp> du clavier de votre ordinateur et en cliquant.',
+
+	'ACP_FEED_OVERALL_FORUMS'			=> 'Activer le flux des forums ',
+	'ACP_FEED_OVERALL_FORUMS_EXPLAIN'	=> 'Active le flux de  tous les forums , qui affiche une liste des forums.',
+
+	'ACP_FEED_HTTP_AUTH'				=> 'Autoriser lauthentification HTTP ',
+	'ACP_FEED_HTTP_AUTH_EXPLAIN'		=> 'Autorise lauthentification HTTP, qui permet aux utilisateurs de recevoir un contenu cach aux invits en ajoutant le paramtre <samp>auth=http</samp>  ladresse du flux. Veuillez noter que pour fonctionner correctement, certaines installations de PHP peuvent ncessiter des modifications additionnelles sur le fichier .htaccess. Les instructions sont accessibles  partir de ce fichier.',
+	'ACP_FEED_ITEM_STATISTICS'			=> 'Statistiques des objets ',
+	'ACP_FEED_ITEM_STATISTICS_EXPLAIN'	=> 'Affiche les statistiques individuelles sous les articles du flux.<br />Exemples : auteur de la publication, date et heure de la publication, nombre de rponses, nombre de consultations, etc.',
+	'ACP_FEED_EXCLUDE_ID'				=> 'Exclure ces forums ',
+	'ACP_FEED_EXCLUDE_ID_EXPLAIN'		=> 'Le contenu de ces forums ne sera <strong>pas affich dans ces flux</strong>. Si vous souhaitez extraire les donnes de la totalit des forums, ne slectionnez aucun forum.<br />Vous pouvez slectionner ou dslectionner plusieurs forums en maintenant appuy la touche <samp>CTRL</samp> du clavier de votre ordinateur et en cliquant.',
+));
+
+// Visual Confirmation Settings
+$lang = array_merge($lang, array(
+	'ACP_VC_SETTINGS_EXPLAIN'				=> 'Vous pouvez slectionner et configurer ici les plugins qui permettent de lutter contre lenvoi de formulaires par des robots indsirables. Ces plugins fonctionnent en gnral en demandant aux utilisateur de rsoudre un <em>CAPTCHA</em>, qui est un outil permettant de diffrencier les humains aux robots.',
+	'AVAILABLE_CAPTCHAS'					=> 'Plugins disponibles',
+	'CAPTCHA_UNAVAILABLE'					=> 'Le plugin ne peut pas tre slectionn tant que ses obligations ne sont pas remplies.',
+	'CAPTCHA_GD'							=> 'Bruit GD de limage',
+	'CAPTCHA_GD_3D'							=> 'Bruit GD en 3D de limage',
+	'CAPTCHA_GD_FOREGROUND_NOISE'			=> 'Bruit de premier plan',
+	'CAPTCHA_GD_EXPLAIN'					=> 'Utilise lextension GD afin de rendre limage permettant de lutter contre les robots indsirables plus difficilement dchiffrable.',
+	'CAPTCHA_GD_FOREGROUND_NOISE_EXPLAIN'	=> 'Utilise un bruit de premier plan afin de rendre limage plus difficilement dchiffrable.',
+	'CAPTCHA_GD_X_GRID'						=> 'Bruit de fond sur laxe des abscisses',
+	'CAPTCHA_GD_X_GRID_EXPLAIN'				=> 'Utilisez ici des valeurs faibles afin de rendre limage plus difficilement dchiffrable. Rglez cette valeur sur <samp>0</samp> afin de dsactiver le bruit de fond sur laxe des abscisses.',
+	'CAPTCHA_GD_Y_GRID'						=> 'Bruit de fond sur laxe des ordonnes',
+	'CAPTCHA_GD_Y_GRID_EXPLAIN'				=> 'Utilisez ici des valeurs faibles afin de rendre limage plus difficilement dchiffrable. Rglez cette valeur sur <samp>0</samp> afin de dsactiver le bruit de fond sur laxe des ordonnes.',
+	'CAPTCHA_GD_WAVE'						=> 'Distorsion en forme de vagues',
+	'CAPTCHA_GD_WAVE_EXPLAIN'				=> 'Cela appliquera sur limage une distorsion en forme de vagues.',
+	'CAPTCHA_GD_3D_NOISE'					=> 'Ajouter des objets de bruit en 3D',
+	'CAPTCHA_GD_3D_NOISE_EXPLAIN'			=> 'Cela ajoutera sur limage des objets supplmentaires, par-dessus les lettres.',
+	'CAPTCHA_GD_FONTS'						=> 'Utiliser des polices de caractres diffrentes',
+	'CAPTCHA_GD_FONTS_EXPLAIN'				=> 'Ce rglage contrle le nombre de diffrentes formes de lettres qui seront utilises. Vous pouvez seulement utiliser les formes prsentes par dfaut ou introduire de nouvelles lettres. Il est galement possible dajouter des lettres en minuscule.',
+	'CAPTCHA_FONT_DEFAULT'					=> 'Par dfaut',
+	'CAPTCHA_FONT_NEW'						=> 'Nouvelles formes',
+	'CAPTCHA_FONT_LOWER'					=> 'Utiliser galement des lettres en minuscule',
+	'CAPTCHA_NO_GD'							=> 'Image simple',
+	'CAPTCHA_PREVIEW_MSG'					=> 'Vos modifications nont pas t enregistres, ceci nest quune prvisualisation.',
+	'CAPTCHA_PREVIEW_EXPLAIN'				=> 'Le plugin tel quil ressemblera lors de lutilisation de la slection actuelle.',
+
+	'CAPTCHA_SELECT'						=> 'Plugins installs ',
+	'CAPTCHA_SELECT_EXPLAIN'				=> 'La liste droulante contient les plugins reconnus par le forum. Les entres grises correspondent aux plugins qui ne sont pas encore disponibles et qui peuvent avoir besoin dtre configurs avant de pouvoir tre utiliss.',
+	'CAPTCHA_CONFIGURE'						=> 'Configurer les plugins ',
+	'CAPTCHA_CONFIGURE_EXPLAIN'				=> 'Permet de configurer le plugin que vous slectionnez.',
+	'CONFIGURE'								=> 'Configurer',
+	'CAPTCHA_NO_OPTIONS'					=> 'Ce plugin na aucune option de configuration.',
+
+	'VISUAL_CONFIRM_POST'					=> 'Activer les mesures de lutte contre les robots indsirables lors de la publication dinvits ',
+	'VISUAL_CONFIRM_POST_EXPLAIN'			=> 'Oblige les invits  complter des mesures de lutte contre les robots indsirables afin dempcher la publication de messages automatiss.',
+	'VISUAL_CONFIRM_REG'					=> 'Activer les mesures de lutte contre les robots indsirables lors des inscriptions ',
+	'VISUAL_CONFIRM_REG_EXPLAIN'			=> 'Oblige les nouveaux utilisateurs  complter des mesures de lutte contre les robots indsirables afin dempcher les inscriptions automatises.',
+	'VISUAL_CONFIRM_REFRESH'				=> 'Autoriser les utilisateurs  rafrachir les mesures de lutte contre les robots indsirables ',
+	'VISUAL_CONFIRM_REFRESH_EXPLAIN'		=> 'Autorise les utilisateurs  demander une nouvelle mesure de lutte contre les robots indsirables sils sont incapables de dchiffrer la mesure actuelle. Il se peut que certains plugins ne supportent pas cette option.',
+));
+
+// Cookie Settings
+$lang = array_merge($lang, array(
+	'ACP_COOKIE_SETTINGS_EXPLAIN'		=> 'Ces informations dfinissent les donnes utilises permettant denvoyer des cookies au navigateur de vos utilisateurs. Dans la plupart des cas, les valeurs par dfaut devraient tre suffisantes. Si vous avez besoin de les modifier, faites-le avec prcaution, des rglages incorrects peuvent empcher les utilisateurs  se connecter correctement.',
+
+	'COOKIE_DOMAIN'				=> 'Domaine du cookie ',
+	'COOKIE_NAME'				=> 'Nom du cookie ',
+	'COOKIE_PATH'				=> 'Chemin du cookie ',
+	'COOKIE_SECURE'				=> 'Cookie scuris ',
+	'COOKIE_SECURE_EXPLAIN'		=> 'Si votre serveur fonctionne avec SSL, vous devez activer cette option. Si vous activez cette option alors que votre serveur fonctionne avec SSL, il est probable que des erreurs surviennent lors des redirections.',
+	'ONLINE_LENGTH'				=> 'Dure dapparition dans la liste des utilisateurs en ligne ',
+	'ONLINE_LENGTH_EXPLAIN'		=> 'Nombre de minute(s) avant que les utilisateurs inactifs napparaissent plus dans la liste des utilisateurs en ligne. Plus la valeur est leve, plus le temps de gnration de la liste sera long.',
+	'SESSION_LENGTH'			=> 'Dure de la session ',
+	'SESSION_LENGTH_EXPLAIN'	=> 'Les sessions expireront une fois que cette dure, en seconde(s), sera dpasse.',
+));
+
+// Load Settings
+$lang = array_merge($lang, array(
+	'ACP_LOAD_SETTINGS_EXPLAIN'	=> 'Vous pouvez activer et dsactiver ici certaines fonctionnalits du forum afin de rduire la quantit de processus actifs. Sur la plupart des serveurs, il nest pas ncessaire de dsactiver ces fonctionnalits. Cependant, sur certains systmes ou hbergements mutualiss, il est prfrable de dsactiver certaines fonctionnalits dont vous navez pas rellement besoin. Vous pouvez galement spcifier des limitations concernant la charge du systme et les sessions actives au del desquelles le forum apparatra hors-ligne.',
+
+	'CUSTOM_PROFILE_FIELDS'			=> 'Champs de profil personnaliss',
+	'LIMIT_LOAD'					=> 'Limite de la charge du systme ',
+	'LIMIT_LOAD_EXPLAIN'			=> 'Si la charge du systme dpasse cette valeur durant une minute, le forum sera automatiquement dsactiv. Une valeur de 1.0 quivaut  environ 100 % de lutilisation dun processeur. Cela ne fonctionne que sur les serveurs bass sous UNIX et dans lesquels cette information est accessible. Cette valeur se rinitialise sur 0 si phpBB narrive pas  charger la limite de la charge du systme.',
+	'LIMIT_SESSIONS'				=> 'Limiter les sessions ',
+	'LIMIT_SESSIONS_EXPLAIN'		=> 'Si le nombre de sessions dpasse cette valeur durant une minute, le forum apparatra hors-ligne. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de sessions.',
+	'LOAD_CPF_MEMBERLIST'			=> 'Autoriser les styles  afficher des champs de profil personnaliss dans la liste des membres ',
+	'LOAD_CPF_VIEWPROFILE'			=> 'Afficher les champs de profil personnaliss dans le profil des utilisateurs ',
+	'LOAD_CPF_VIEWTOPIC'			=> 'Afficher les champs de profil personnaliss dans les pages de sujets ',
+	'LOAD_USER_ACTIVITY'			=> 'Afficher lactivit des utilisateurs ',
+	'LOAD_USER_ACTIVITY_EXPLAIN'	=> 'Affiche la liste des sujets et des forums actifs dans le profil et le panneau de contrle de lutilisateur. Il est recommand de dsactiver cette fonctionnalit sur les forums comportant plus dun million de messages.',
+	'RECOMPILE_STYLES'				=> 'Recompiler les composants obsoltes des styles ',
+	'RECOMPILE_STYLES_EXPLAIN'		=> 'Vrifie les mises  jour des composants expirs des styles installs sur le systme, puis les recompile.',
+	'YES_ANON_READ_MARKING'			=> 'Activer lindicateur de lecture des sujets pour les invits ',
+	'YES_ANON_READ_MARKING_EXPLAIN'	=> 'Enregistre lindicateur de lecture des sujets (sils sont lus ou non lus) pour les invits. Si cette option est dsactive, les messages seront toujours marqus comme lus pour les invits.',
+	'YES_BIRTHDAYS'					=> 'Activer la liste des anniversaires ',
+	'YES_BIRTHDAYS_EXPLAIN'			=> 'Si cette option est dsactive, la liste des anniversaires ne sera plus affiche. Pour que ce rglage prenne effet, la fonctionnalit des anniversaires doit galement tre active.',
+	'YES_JUMPBOX'					=> 'Activer laffichage de laccs rapide aux forums ',
+	'YES_MODERATORS'				=> 'Activer laffichage des modrateurs ',
+	'YES_ONLINE'					=> 'Activer laffichage de la liste des utilisateurs en ligne ',
+	'YES_ONLINE_EXPLAIN'			=> 'Affiche la liste des utilisateurs en ligne parcourant lindex, les forums et les pages des sujets du forum.',
+	'YES_ONLINE_GUESTS'				=> 'Activer laffichage des invits dans la liste des utilisateurs en ligne ',
+	'YES_ONLINE_GUESTS_EXPLAIN'		=> 'Affiche laffichage des invits dans la liste des utilisateurs en ligne parcourant le forum.',
+	'YES_ONLINE_TRACK'				=> 'Activer laffichage de la vrification du statut des utilisateurs ',
+	'YES_ONLINE_TRACK_EXPLAIN'		=> 'Affiche le statut (en ligne ou hors-ligne) des utilisateurs dans les profils et les pages des sujets.',
+	'YES_POST_MARKING'				=> 'Activer les sujets points ',
+	'YES_POST_MARKING_EXPLAIN'		=> 'Indique  lutilisateur sil est lauteur dun des messages dun sujet.',
+	'YES_READ_MARKING'				=> 'Activer lindicateur de lecture par le serveur ',
+	'YES_READ_MARKING_EXPLAIN'		=> 'Enregistre lindicateur de lecture des sujets (sils sont lus ou non lus) dans la base de donnes au lieu dutiliser un cookie.',
+	'YES_UNREAD_SEARCH'				=> 'Activer la recherche des messages non lus ',
+));
+
+// Auth settings
+$lang = array_merge($lang, array(
+	'ACP_AUTH_SETTINGS_EXPLAIN'	=> 'phpBB supporte les plugins dauthentification, galement connus sous le nom de modules. Ceux-ci vous permettent de dterminer la manire dont les utilisateurs sauthentifient lors de leur connexion au forum. Trois modules sont fournis par dfaut : la base de donnes, LDAP et Apache. Toutes les mthodes ne ncessitent pas dinformation supplmentaire, ne remplissez que les champs qui sont utiles pour la mthode que vous avez slectionne.',
+
+	'AUTH_METHOD'				=> 'Slectionner une mthode dauthentification ',
+
+	'APACHE_SETUP_BEFORE_USE'	=> 'Vous devez configurer lauthentification par Apache avant de pouvoir faire fonctionner phpBB sous cette mthode dauthentification. Le nom dutilisateur que vous utilisez afin de vous authentifier par Apache doit tre identique  votre nom dutilisateur sur le forum. Lauthentification par Apache ne peut tre utilis que si mod_php (qui ne doit pas tre avec une version CGI) et safe_mode sont dsactivs.',
+
+	'LDAP_DN'						=> 'Base LDAP vers <var>dn</var> ',
+	'LDAP_DN_EXPLAIN'				=> 'Correspond au nom absolu situant toutes les informations des utilisateurs, telles que <samp>o=MaCompagnie,c=FR</samp>.',
+	'LDAP_EMAIL'					=> 'Attribut LDAP des adresses de courrier lectronique ',
+	'LDAP_EMAIL_EXPLAIN'			=> 'Correspond au nom de lattribut de ladresse de courrier lectronique de vos utilisateurs, sil existe, qui permet de complter automatiquement ladresse de courrier lectronique de tous vos nouveaux utilisateurs. Ne remplissez pas cette case si vous souhaitez que le champ correspondant  ladresse de courrier lectronique soit vide pour les utilisateurs qui se connectent pour la premire fois.',
+	'LDAP_INCORRECT_USER_PASSWORD'	=> 'La connexion au serveur LDAP a chou car le nom dutilisateur ou le mot de passe est incorrect.',
+	'LDAP_NO_EMAIL'					=> 'Lattribut de ladresse de courrier lectronique que vous avez spcifi nexiste pas.',
+	'LDAP_NO_IDENTITY'				=> 'Lidentifiant de connexion concernant %s est introuvable.',
+	'LDAP_PASSWORD'					=> 'Mot de passe LDAP ',
+	'LDAP_PASSWORD_EXPLAIN'			=> 'Laissez vide si vous souhaitez utiliser une connexion anonyme. Dans le cas contraire, indiquez le mot de passe concernant lutilisateur que vous avez spcifi ci-dessus. Cette manipulation est obligatoire concernant les serveurs aux rpertoires dits actifs.<br /><em><strong>Attention :</strong> ce mot de passe sera archiv en texte brut dans la base de donnes et sera donc visible  tous ceux qui ont accs  votre base de donnes ou  la page de configuration.</em>',
+	'LDAP_PORT'						=> 'Port du serveur LDAP ',
+	'LDAP_PORT_EXPLAIN'				=> 'Si vous le souhaitez, vous pouvez spcifier un port LDAP diffrent au port 389 qui est utilis par dfaut.',
+	'LDAP_SERVER'					=> 'Nom du serveur LDAP ',
+	'LDAP_SERVER_EXPLAIN'			=> 'Si vous utilisez LDAP, cela correspond au nom dhte ou  ladresse IP du serveur LDAP. Vous pouvez galement spcifier un lien, tel que ldap://nomhote:port/.',
+	'LDAP_UID'						=> 'Cl <var>uid</var> de LDAP ',
+	'LDAP_UID_EXPLAIN'				=> 'Correspond  la cl avec laquelle vous pouvez rechercher un identifiant de connexion, tel que <var>uid</var>, <var>sn</var>, etc.',
+	'LDAP_USER'						=> 'Utilisateur <var>dn</var> LDAP ',
+	'LDAP_USER_EXPLAIN'				=> 'Laissez vide afin dutiliser une connexion anonyme. Si cela a t renseign dans phpBB, utilisez le nom absolu que vous avez spcifi lors des tentatives de connexion afin de trouver lutilisateur correct, tel que <samp>uid=Nom,ou=MonUnit,o=MaCompagnie,c=FR</samp>. Ceci est obligatoire pour les serveurs aux rpertoires dits actifs.',
+	'LDAP_USER_FILTER'				=> 'Filtre de lutilisateur LDAP ',
+	'LDAP_USER_FILTER_EXPLAIN'		=> 'Si vous le souhaitez, vous pouvez limiter les objets recherchs grce  des filtres additionnels. Par exemple, <samp>objectClass=posixGroup</samp> sera utilis en tant que <samp>(&(uid=$username)(objectClass=posixGroup))</samp>',
+));
+
+// Server Settings
+$lang = array_merge($lang, array(
+	'ACP_SERVER_SETTINGS_EXPLAIN'	=> 'Vous pouvez effectuer ici les rglages relatifs au serveur et au domaine. Veuillez vous assurer de la validit des donnes saisies car vos courriels pourraient contenir des informations errones dans le cas contraire. Lorsque vous saisissez le nom de domaine, noubliez pas dy inclure un protocole, tel que <samp>http://</samp>. Ne modifiez le numro de port que si votre serveur en utilise un diffrent et que vous en avez connaissance, mais sachez nanmoins que le port 80 est correct dans la plupart des cas.',
+
+	'ENABLE_GZIP'				=> 'Activer la compression GZip ',
+	'ENABLE_GZIP_EXPLAIN'		=> 'Le contenu gnr sera compress avant dtre envoy aux utilisateurs. Cela peut rduire le trafic du rseau mais augmentera en contrepartie lutilisation du processeur de votre serveur et de vos utilisateurs. Lextension zlib de PHP doit tre charge afin que la compression soit effective.',
+	'FORCE_SERVER_VARS'			=> 'Forcer les rglages des liens du serveur ',
+	'FORCE_SERVER_VARS_EXPLAIN'	=> 'Si cette option est active, les rglages du serveur que vous spcifierez ici seront utiliss  la place des valeurs dtermines automatiquement.',
+	'ICONS_PATH'				=> 'Chemin vers le rpertoire de stockage des icnes de messages ',
+	'ICONS_PATH_EXPLAIN'		=> 'Chemin depuis la racine de votre rpertoire de phpBB, tel que <samp>images/icons</samp>.',
+	'PATH_SETTINGS'				=> 'Rglages du chemin',
+	'RANKS_PATH'				=> 'Chemin vers le rpertoire de stockage des images de rangs ',
+	'RANKS_PATH_EXPLAIN'		=> 'Chemin depuis la racine de votre rpertoire de phpBB, tel que <samp>images/ranks</samp>.',
+	'SCRIPT_PATH'				=> 'Chemin du script ',
+	'SCRIPT_PATH_EXPLAIN'		=> 'Le chemin o phpBB est install par rapport au nom de domaine, tel que <samp>/phpBB3</samp>.',
+	'SERVER_NAME'				=> 'Nom de domaine ',
+	'SERVER_NAME_EXPLAIN'		=> 'Le nom de domaine sur lequel votre serveur fonctionne, tel que <samp>www.exemple.com</samp>.',
+	'SERVER_PORT'				=> 'Port du serveur ',
+	'SERVER_PORT_EXPLAIN'		=> 'Le port sur lequel votre serveur fonctionne, qui est habituellement le 80.',
+	'SERVER_PROTOCOL'			=> 'Protocole du serveur ',
+	'SERVER_PROTOCOL_EXPLAIN'	=> 'Ceci est utilis comme protocole du serveur si ces rglages sont forcs. Si celui-ci est vide ou quil nest pas forc, le protocole  utiliser sera dtermin par le rglage des cookies scuriss (<samp>http://</samp> ou <samp>https://</samp>).',
+	'SERVER_URL_SETTINGS'		=> 'Rglages des liens du serveur',
+	'SMILIES_PATH'				=> 'Chemin vers le rpertoire de stockage des moticnes ',
+	'SMILIES_PATH_EXPLAIN'		=> 'Chemin depuis la racine de votre rpertoire de phpBB, tel que <samp>images/smilies</samp>.',
+	'UPLOAD_ICONS_PATH'			=> 'Chemin vers le rpertoire de stockage des icnes des groupes dextensions ',
+	'UPLOAD_ICONS_PATH_EXPLAIN'	=> 'Chemin depuis la racine de votre rpertoire de phpBB, tel que <samp>images/upload_icons</samp>.',
+));
+
+// Security Settings
+$lang = array_merge($lang, array(
+	'ACP_SECURITY_SETTINGS_EXPLAIN'		=> 'Vous pouvez effectuer ici les rglages relatifs aux sessions et aux connexions.',
+
+	'ALL'							=> 'Tous',
+	'ALLOW_AUTOLOGIN'				=> 'Autoriser les connexions persistantes ',
+	'ALLOW_AUTOLOGIN_EXPLAIN'		=> 'Autorise les utilisateurs  se connecter automatiquement lors de leurs visites sur le forum.',
+	'AUTOLOGIN_LENGTH'				=> 'Dure (en jours) dexpiration des cls de connexions persistantes ',
+	'AUTOLOGIN_LENGTH_EXPLAIN'		=> 'Une fois que ce nombre de jours est expir, les cls de connexions persistantes seront supprimes. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'BROWSER_VALID'					=> 'Valider les navigateurs ',
+	'BROWSER_VALID_EXPLAIN'			=> 'Active la validation des navigateurs sur chaque session, ce qui amliore la scurit.',
+	'CHECK_DNSBL'					=> 'Vrifier ladresse IP contre la liste des systme dadressage DNS ',
+	'CHECK_DNSBL_EXPLAIN'			=> 'Si cette option est active, les adresses IP des utilisateurs seront vrifies par les services DNSBL suivants lors de linscription et la publication de messages : <a href="http://spamcop.net">spamcop.net</a> et <a href="http://www.spamhaus.org">www.spamhaus.org</a>. Cette vrification peut durer un certain temps, selon la configuration du serveur slectionn. Si vous constatez des ralentissements ou des erreurs dapprciation, il est conseill de dsactiver cette vrification.',
+	'CLASS_B'						=> 'A.B',
+	'CLASS_C'						=> 'A.B.C',
+	'EMAIL_CHECK_MX'				=> 'Vrifier lenregistrement MX des adresses de courrier lectronique ',
+	'EMAIL_CHECK_MX_EXPLAIN'		=> 'Si cette option est active, le domaine de ladresse de courrier lectronique spcifi lors de linscription et des modifications du profil sera vrifi afin de sassurer quil possde un enregistrement MX valide.',
+	'FORCE_PASS_CHANGE'				=> 'Forcer la modification du mot de passe ',
+	'FORCE_PASS_CHANGE_EXPLAIN'		=> 'Oblige les utilisateurs  modifier leur mot de passe aprs quun certain nombre de jours ne soit expir. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'FORM_TIME_MAX'					=> 'Dure maximale de lenvoi des formulaires ',
+	'FORM_TIME_MAX_EXPLAIN'			=> 'Dtermine la dure maximale quun utilisateur ne doit pas dpasser afin denvoyer un formulaire. Rglez cette valeur sur -1 afin de dsactiver ce comportement. Veuillez noter quun formulaire peut devenir incorrect si la session dun utilisateur expire, mais ce comportement ne dpend pas de ce rglage.',
+	'FORM_SID_GUESTS'				=> 'Lier les formulaires aux sessions des invits ',
+	'FORM_SID_GUESTS_EXPLAIN'		=> 'Si cette option est active, les formulaires mis aux invits seront exclusifs  leur session. Cela peut cependant entraner quelques problmes avec certains fournisseurs daccs  internet.',
+	'FORWARDED_FOR_VALID'			=> 'Valider len-tte <var>X_FORWARDED_FOR</var> ',
+	'FORWARDED_FOR_VALID_EXPLAIN'	=> 'Les sessions ne continueront que si len-tte <var>X_FORWARDED_FOR</var> envoy quivaut  celui qui avait t envoy lors de la requte prcdente. Len-tte <var>X_FORWARDED_FOR</var> vrifiera galement que les adresses IP nont pas t bannies.',
+	'IP_VALID'						=> 'Valider la session IP ',
+	'IP_VALID_EXPLAIN'				=> 'Dtermine quelles parties de ladresse IP des utilisateurs sera utilise afin de valider une session ; <samp>Tous</samp> compare ladresse complte, <samp>A.B.C</samp> les premiers x.x.x, <samp>A.B</samp> les premiers x.x et <samp>Aucune</samp> dsactive cette vrification. Concernant les adresses IPv6, <samp>A.B.C</samp> compare les 4 premiers blocs et <samp>A.B</samp> les 3 premiers blocs.',
+	'IP_LOGIN_LIMIT_MAX'			=> 'Nombre maximum de tentatives de connexion par adresse IP ',
+	'IP_LOGIN_LIMIT_MAX_EXPLAIN'	=> 'Le nombre de tentatives de connexion autorises  partir dune adresse IP unique avant que la saisie dun code de confirmation de lutte contre les robots indsirables ne soit requise. Rglez cette valeur sur 0 afin de ne pas demander la saisie de ce code.',
+	'IP_LOGIN_LIMIT_TIME'			=> 'Dlai dexpiration des tentatives de connexion par adresse IP ',
+	'IP_LOGIN_LIMIT_TIME_EXPLAIN'	=> 'Les tentatives de connexion expirent aprs que ce dlai soit dpass.',
+	'IP_LOGIN_LIMIT_USE_FORWARDED'	=> 'Limite des tentatives de connexion par en-tte <var>X_FORWARDED_FOR</var> ',
+	'IP_LOGIN_LIMIT_USE_FORWARDED_EXPLAIN'	=> 'Limite les tentatives de connexion par les valeurs de <var>X_FORWARDED_FOR</var> au lieu de les limiter par adresse IP. <br /><em><strong>Attention :</strong> nactivez cette option que si vous utilisez un serveur proxy qui rgle correctement les valeurs de <var>X_FORWARDED_FOR</var>.</em>',
+	'MAX_LOGIN_ATTEMPTS'			=> 'Nombre maximum de tentatives de connexion par nom dutilisateur ',
+	'MAX_LOGIN_ATTEMPTS_EXPLAIN'	=> 'Le nombre de tentatives de connexion autorises  partir dun nom dutilisateur unique avant que la saisie dun code issu dune mesure de lutte contre les robots indsirables ne soit demande. Rglez cette valeur sur 0 afin de dsactiver ce comportement.',
+	'NO_IP_VALIDATION'				=> 'Aucune',
+	'NO_REF_VALIDATION'				=> 'Aucune',
+	'PASSWORD_TYPE'					=> 'Complexit du mot de passe ',
+	'PASSWORD_TYPE_EXPLAIN'			=> 'Dtermine la complexit des mots de passe qui sont saisis ou modifis. Chaque option inclut les options prcdentes.',
+	'PASS_TYPE_ALPHA'				=> 'Doit contenir des lettres et des nombres',
+	'PASS_TYPE_ANY'					=> 'Aucune obligation',
+	'PASS_TYPE_CASE'				=> 'Doit contenir des majuscules et des minuscules',
+	'PASS_TYPE_SYMBOL'				=> 'Doit contenir des symboles',
+	'REF_HOST'						=> 'Valider uniquement lhte',
+	'REF_PATH'						=> 'Valider galement le chemin',
+	'REFERER_VALID'					=> 'Valider le rfrant ',
+	'REFERER_VALID_EXPLAIN'			=> 'Si cette option est active, le rfrant des requtes <code>POST</code> sera vrifi  la place des rglages effectus sur le chemin de lhte ou sur le script. Cela peut savrer problmatique concernant les forums utilisant plusieurs domaines ou connexions externes.',
+	'TPL_ALLOW_PHP'					=> 'Autoriser le code PHP dans les templates ',
+	'TPL_ALLOW_PHP_EXPLAIN'			=> 'Si cette option est active, les instructions <code>PHP</code> et <code>INCLUDEPHP</code> seront reconnues et analyses dans les templates.',
+));
+
+// Email Settings
+$lang = array_merge($lang, array(
+	'ACP_EMAIL_SETTINGS_EXPLAIN'	=> 'Ces informations sont utilises lors de lenvoi de courriels  vos utilisateurs. Veuillez vous assurer que ladresse de courrier lectronique spcifie est valide car les messages refuss ou chous seront probablement retourns  cette adresse. Si votre hbergeur ne fournit aucun service denvoi de courriels en PHP par dfaut, vous pouvez envoyer directement des messages en utilisant le protocole SMTP. Cela demande ladresse dun serveur appropri (si besoin, demandez cela  votre hbergeur). Si le serveur exige une authentification (et seulement dans ce cas), saisissez le nom dutilisateur, le mot de passe et la mthode dauthentification ncessaire.',
+
+	'ADMIN_EMAIL'					=> 'Adresse de courrier lectronique de retour ',
+	'ADMIN_EMAIL_EXPLAIN'			=> 'Cette adresse sera utilise comme ladresse de retour dans tous les courriels. Cela correspond  ladresse de courrier lectronique du contact technique. Elle sera toujours utilise comme ladresse du chemin de retour et considre comme celle de lexpditeur dans les courriels.',
+	'BOARD_EMAIL_FORM'				=> 'Envoi de courriels par lintermdiaire du forum ',
+	'BOARD_EMAIL_FORM_EXPLAIN'		=> 'Si cette option est active, les utilisateurs pourront, au lieu dafficher les adresses de courrier lectronique, envoyer des courriels par lintermdiaire du forum.',
+	'BOARD_HIDE_EMAILS'				=> 'Masquer les adresses de courrier lectronique ',
+	'BOARD_HIDE_EMAILS_EXPLAIN'		=> 'Masque les adresses de courrier lectronique afin quelles restent entirement confidentielles.',
+	'CONTACT_EMAIL'					=> 'Adresse de courrier lectronique de contact ',
+	'CONTACT_EMAIL_EXPLAIN'			=> 'Cette adresse sera utilise lorsquun contact particulier est ncessaire, comme en cas de pourriel, derreur survenue, etc. Elle sera toujours utilise comme ladresse du chemin de lenvoi et considre comme celle du destinataire dans les courriels.',
+	'EMAIL_FUNCTION_NAME'			=> 'Nom de la fonction de la messagerie lectronique ',
+	'EMAIL_FUNCTION_NAME_EXPLAIN'	=> 'Correspond  la fonction de la messagerie lectronique qui est utilise afin denvoyer des courriels par lintermdiaire de PHP.',
+	'EMAIL_PACKAGE_SIZE'			=> 'Nombre de courriels envoys en une seule fois ',
+	'EMAIL_PACKAGE_SIZE_EXPLAIN'	=> 'Correspond au nombre de courriels envoys en une seule fois. Ce rglage est appliqu  la file dattente de la messagerie lectronique interne. Si vous rencontrez des problmes lors de lenvoi de courriels alors que cette option est active, nous vous conseillons de rgler cette valeur sur 0.',
+	'EMAIL_SIG'						=> 'Signature des courriels ',
+	'EMAIL_SIG_EXPLAIN'				=> 'Ce texte sera insr en bas de tous les courriels envoys  partir du forum.',
+	'ENABLE_EMAIL'					=> 'Activer lenvoi de courriels par lintermdiaire du forum ',
+	'ENABLE_EMAIL_EXPLAIN'			=> 'Si cette option est dsactive, aucun courriel ne pourra tre envoy  partir du forum. <em>Notez que ce rglage doit tre activ afin que lactivation par lutilisateur ou par ladministrateur soit fonctionnelle. Si vous utilisez actuellement lactivation  par lutilisateur  ou  par ladministrateur  et que vous nactivez pas ce rglage, aucune activation ne sera ncessaire afin que les nouveaux comptes soient oprationnels.</em>',
+	'SMTP_AUTH_METHOD'				=> 'Mthode dauthentification de SMTP ',
+	'SMTP_AUTH_METHOD_EXPLAIN'		=> 'est utilis que si un nom dutilisateur et un mot de passe ont t renseigns. Veuillez demander cette information  votre hbergeur si vous ntes pas certain de la mthode  utiliser.',
+	'SMTP_CRAM_MD5'					=> 'CRAM-MD5',
+	'SMTP_DIGEST_MD5'				=> 'DIGEST-MD5',
+	'SMTP_LOGIN'					=> 'LOGIN',
+	'SMTP_PASSWORD'					=> 'Mot de passe SMTP ',
+	'SMTP_PASSWORD_EXPLAIN'			=> 'Ne saisissez un mot de passe que dans le cas o votre serveur SMTP le demande.<br /><em><strong>Attention :</strong> ce mot de passe sera stock en texte brut dans la base de donnes et sera visible  tous ceux qui ont accs  votre base de donnes et  cette page de configuration.</em>',
+	'SMTP_PLAIN'					=> 'PLAIN',
+	'SMTP_POP_BEFORE_SMTP'			=> 'POP-BEFORE-SMTP',
+	'SMTP_PORT'						=> 'Port du serveur SMTP ',
+	'SMTP_PORT_EXPLAIN'				=> 'Ne modifiez celui-ci que dans le cas o votre serveur SMTP utilise un port diffrent et que vous en avez connaissance.',
+	'SMTP_SERVER'					=> 'Adresse du serveur SMTP ',
+	'SMTP_SETTINGS'					=> 'Rglages SMTP',
+	'SMTP_USERNAME'					=> 'Nom dutilisateur SMTP ',
+	'SMTP_USERNAME_EXPLAIN'			=> 'Ne saisissez un nom dutilisateur que dans le cas o votre serveur SMTP le demande.',
+	'USE_SMTP'						=> 'Utiliser un serveur SMTP pour les courriels ',
+	'USE_SMTP_EXPLAIN'				=> 'Activez cette option si vous souhaitez envoyer les courriels par lintermdiaire dun serveur SMTP  la place de la fonction de courriel locale.',
+));
+
+// Jabber settings
+$lang = array_merge($lang, array(
+	'ACP_JABBER_SETTINGS_EXPLAIN'	=> 'Vous pouvez activer et contrler ici lutilisation de Jabber afin denvoyer des messages instantans et des avertissements sur le forum. Jabber est un protocole libre et gratuit utilisable par tous. Certains serveurs Jabber incluent des passerelles qui vous permettent de contacter les utilisateurs des autres rseaux, mais tous les serveurs noffrent pas cette possibilit. Veuillez vous assurer davoir saisi les informations du compte que vous avez inscrit, ces informations seront utilises telles quelles.',
+
+	'JAB_ENABLE'				=> 'Activer Jabber ',
+	'JAB_ENABLE_EXPLAIN'		=> 'Active lutilisation de la messagerie et des notifications de Jabber.',
+	'JAB_GTALK_NOTE'			=> 'Veuillez noter que GTalk ne fonctionnera pas car la fonction <samp>dns_get_record</samp> est introuvable. Cette fonction nest pas implmente dans PHP4, sur les plates-formes Windows et sur les systmes bass sous BSD, incluant Mac OS.',
+	'JAB_PACKAGE_SIZE'			=> 'Nombre de messages Jabber envoys en une fois ',
+	'JAB_PACKAGE_SIZE_EXPLAIN'	=> 'Correspond au nombre de messages envoys en une seule fois. Si cette valeur est rgle sur 0, les messages seront envoys immdiatement et ne seront pas placs en file dattente.',
+	'JAB_PASSWORD'				=> 'Mot de passe Jabber ',
+	'JAB_PASSWORD_EXPLAIN'		=> '<em><strong>Attention :</strong> ce mot de passe sera archiv en texte brut dans la base de donnes et sera visible  tous ceux qui ont accs  votre base de donnes et  cette page de configuration.</em>',
+	'JAB_PORT'					=> 'Port de Jabber ',
+	'JAB_PORT_EXPLAIN'			=> 'Laissez cela vide sauf dans le cas o le port utilis nest pas le 5222 et que vous en avez connaissance.',
+	'JAB_SERVER'				=> 'Serveur Jabber ',
+	'JAB_SERVER_EXPLAIN'		=> 'Rendez-vous sur %sjabber.org%s afin de consulter la liste des serveurs.',
+	'JAB_SETTINGS_CHANGED'		=> 'Les rglages de Jabber ont t modifis avec succs.',
+	'JAB_USE_SSL'				=> 'Utiliser une connexion SSL ',
+	'JAB_USE_SSL_EXPLAIN'		=> 'Si cette option est active, une connexion scurise essaiera dtre tablie. Le port de Jabber sera modifi en 5223 si le port 5222 est spcifi.',
+	'JAB_USERNAME'				=> 'Nom dutilisateur Jabber ou JID ',
+	'JAB_USERNAME_EXPLAIN'		=> 'Spcifiez un nom dutilisateur inscrit ou un JID valide. La validit de ce nom dutilisateur ne sera cependant pas vrifie. Si vous ne spcifiez quun nom dutilisateur, votre JID correspondra  votre nom dutilisateur et au serveur spcifi ci-dessous. Dans le cas contraire, veuillez spcifier un JID valide, tel que utilisateur@jabber.org.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/bots.php phpBB3/language/fr/acp/bots.php
--- phpBB3-init/language/fr/acp/bots.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/bots.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,75 @@
+<?php
+/**
+*
+* acp_bots [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Bot settings
+$lang = array_merge($lang, array(
+	'BOTS'				=> 'Grer les robots',
+	'BOTS_EXPLAIN'		=> 'Les  robots  sont des agents automatiss qui sont, dans la plupart des cas, utiliss par les moteurs de recherches afin dalimenter leurs bases de donnes. tant donn quils nutilisent que trs rarement les sessions de manire correcte, il est frquent quils augmentent la charge des serveurs et quils nindexent pas correctement certaines pages. Vous pouvez dfinir ici un type spcial dutilisateurs qui vous permettra de rsoudre ces problmes.',
+	'BOT_ACTIVATE'		=> 'Activer',
+	'BOT_ACTIVE'		=> 'Activer le robot ',
+	'BOT_ADD'			=> 'Ajouter le robot',
+	'BOT_ADDED'			=> 'Le nouveau robot a t ajout avec succs.',
+	'BOT_AGENT'			=> 'Agent correspondant ',
+	'BOT_AGENT_EXPLAIN'	=> 'Une chane correspondante  lagent du robot. Les correspondances partielles sont autorises.',
+	'BOT_DEACTIVATE'	=> 'Dsactiver',
+	'BOT_DELETED'		=> 'Le robot a t supprim avec succs.',
+	'BOT_EDIT'			=> 'diter les robots',
+	'BOT_EDIT_EXPLAIN'	=> 'Vous pouvez ajouter ou diter ici les robots. Vous devrez dfinir une chane correspondante  lagent et/ou une ou plusieurs adresses IP correspondantes au robot. Remplissez ces rglages avec prcaution. Vous pouvez galement spcifier le style et la langue que le robot utilisera lors de sa navigation sur le forum. Cela vous permet dindiquer un style lger qui aura pour consquence de rduire de faon significative la bande passante consomme. Noubliez pas dgalement configurer les permissions correspondantes au groupe dutilisateurs que sont les robots.',
+	'BOT_LANG'			=> 'Langue du robot ',
+	'BOT_LANG_EXPLAIN'	=> 'La langue qui sera utilise par le robot lors de sa navigation sur le forum.',
+	'BOT_LAST_VISIT'	=> 'Dernire visite',
+	'BOT_IP'			=> 'Adresse IP du robot ',
+	'BOT_IP_EXPLAIN'	=> 'Les saisies partielles sont autorises. Vous devez sparer chaque adresse par une virgule.',
+	'BOT_NAME'			=> 'Nom du robot ',
+	'BOT_NAME_EXPLAIN'	=> 'Nest utilis qu titre informatif.',
+	'BOT_NAME_TAKEN'	=> 'Le nom du robot que vous avez saisi existe dj. Veuillez en spcifier un autre.',
+	'BOT_NEVER'			=> 'Jamais',
+	'BOT_STYLE'			=> 'Style du robot ',
+	'BOT_STYLE_EXPLAIN'	=> 'Le style qui sera utilis par le robot lors de sa navigation sur le forum.',
+	'BOT_UPDATED'		=> 'Le robot a t mis  jour avec succs.',
+
+	'ERR_BOT_AGENT_MATCHES_UA'	=> 'Lagent que vous avez spcifi concernant ce robot est identique  celui que vous utilisez actuellement. Veuillez en spcifier un autre.',
+	'ERR_BOT_NO_IP'				=> 'Les adresses IP que vous avez spcifies sont incorrectes ou le nom dhte est indisponible.',
+	'ERR_BOT_NO_MATCHES'		=> 'Vous devez spcifier un agent ou une adresse IP concernant la correspondance de ce robot.',
+
+	'NO_BOT'		=> 'Aucun robot correspondant  lidentification spcifie na t trouv.',
+	'NO_BOT_GROUP'	=> 'Le groupe dutilisateurs des robots est introuvable.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/common.php phpBB3/language/fr/acp/common.php
--- phpBB3-init/language/fr/acp/common.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/common.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,744 @@
+<?php
+/**
+*
+* acp_common [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Common
+$lang = array_merge($lang, array(
+	'ACP_ADMINISTRATORS'		=> 'Administrateurs',
+	'ACP_ADMIN_LOGS'			=> 'Historique des administrateurs',
+	'ACP_ADMIN_ROLES'			=> 'Rles des administrateurs',
+	'ACP_ATTACHMENTS'			=> 'Pices jointes',
+	'ACP_ATTACHMENT_SETTINGS'	=> 'Rglages des pices jointes',
+	'ACP_AUTH_SETTINGS'			=> 'Authentification',
+	'ACP_AUTOMATION'			=> 'Automatisation',
+	'ACP_AVATAR_SETTINGS'		=> 'Rglages des avatars',
+
+	'ACP_BACKUP'				=> 'Sauvegarder',
+	'ACP_BAN'					=> 'Bannissement',
+	'ACP_BAN_EMAILS'			=> 'Bannir des adresses de courrier lectronique',
+	'ACP_BAN_IPS'				=> 'Bannir des adresses IP',
+	'ACP_BAN_USERNAMES'			=> 'Bannir des noms dutilisateurs',
+	'ACP_BBCODES'				=> 'BBCode',
+	'ACP_BOARD_CONFIGURATION'	=> 'Configuration du forum',
+	'ACP_BOARD_FEATURES'		=> 'Fonctionnalits du forum',
+	'ACP_BOARD_MANAGEMENT'		=> 'Gestion du forum',
+	'ACP_BOARD_SETTINGS'		=> 'Rglages du forum',
+	'ACP_BOTS'					=> 'Robots',
+
+	'ACP_CAPTCHA'				=> 'CAPTCHA',
+
+	'ACP_CAT_DATABASE'			=> 'Base de donnes',
+	'ACP_CAT_DOT_MODS'			=> '.MODs',
+	'ACP_CAT_FORUMS'			=> 'Forums',
+	'ACP_CAT_GENERAL'			=> 'Gnral',
+	'ACP_CAT_MAINTENANCE'		=> 'Maintenance',
+	'ACP_CAT_PERMISSIONS'		=> 'Permissions',
+	'ACP_CAT_POSTING'			=> 'Publication',
+	'ACP_CAT_STYLES'			=> 'Styles',
+	'ACP_CAT_SYSTEM'			=> 'Systme',
+	'ACP_CAT_USERGROUP'			=> 'Utilisateurs et groupes',
+	'ACP_CAT_USERS'				=> 'Utilisateurs',
+	'ACP_CLIENT_COMMUNICATION'	=> 'Communication',
+	'ACP_COOKIE_SETTINGS'		=> 'Rglages des cookies',
+	'ACP_CRITICAL_LOGS'			=> 'Historique des erreurs',
+	'ACP_CUSTOM_PROFILE_FIELDS'	=> 'Champs de profil personnaliss',
+
+	'ACP_DATABASE'				=> 'Gestion de la base de donnes',
+	'ACP_DISALLOW'				=> 'Interdire',
+	'ACP_DISALLOW_USERNAMES'	=> 'Interdire des noms dutilisateurs',
+
+	'ACP_EMAIL_SETTINGS'		=> 'Rglages de la messagerie lectronique',
+	'ACP_EXTENSION_GROUPS'		=> 'Grer les groupes dextensions',
+
+	'ACP_FORUM_BASED_PERMISSIONS'	=> 'Permissions lies aux forums',
+	'ACP_FORUM_LOGS'				=> 'Historiques du forum',
+	'ACP_FORUM_MANAGEMENT'			=> 'Gestion des forums',
+	'ACP_FORUM_MODERATORS'			=> 'Modrateurs des forums',
+	'ACP_FORUM_PERMISSIONS'			=> 'Permissions des forums',
+	'ACP_FORUM_PERMISSIONS_COPY'	=> 'Copier les permissions des forums',
+	'ACP_FORUM_ROLES'				=> 'Rles des forums',
+
+	'ACP_GENERAL_CONFIGURATION'		=> 'Configuration gnrale',
+	'ACP_GENERAL_TASKS'				=> 'Tches gnrales',
+	'ACP_GLOBAL_MODERATORS'			=> 'Modrateurs globaux',
+	'ACP_GLOBAL_PERMISSIONS'		=> 'Permissions globales',
+	'ACP_GROUPS'					=> 'Groupes',
+	'ACP_GROUPS_FORUM_PERMISSIONS'	=> 'Permissions des forums aux groupes',
+	'ACP_GROUPS_MANAGE'				=> 'Grer les groupes',
+	'ACP_GROUPS_MANAGEMENT'			=> 'Gestion des groupes',
+	'ACP_GROUPS_PERMISSIONS'		=> 'Permissions des groupes',
+
+	'ACP_ICONS'					=> 'Icnes des sujets',
+	'ACP_ICONS_SMILIES'			=> 'Icnes et moticnes des sujets',
+	'ACP_IMAGESETS'				=> 'Ensembles dimages',
+	'ACP_INACTIVE_USERS'		=> 'Utilisateurs inactifs',
+	'ACP_INDEX'					=> 'Index du PCA',
+
+	'ACP_JABBER_SETTINGS'		=> 'Rglages de Jabber',
+
+	'ACP_LANGUAGE'				=> 'Gestion des langues',
+	'ACP_LANGUAGE_PACKS'		=> 'Archives de langue',
+	'ACP_LOAD_SETTINGS'			=> 'Rglages de la charge',
+	'ACP_LOGGING'				=> 'Connexion',
+
+	'ACP_MAIN'					=> 'Index du PCA',
+	'ACP_MANAGE_EXTENSIONS'		=> 'Grer les extensions',
+	'ACP_MANAGE_FORUMS'			=> 'Grer les forums',
+	'ACP_MANAGE_RANKS'			=> 'Grer les rangs',
+	'ACP_MANAGE_REASONS'		=> 'Grer les rapports et les raisons',
+	'ACP_MANAGE_USERS'			=> 'Grer les utilisateurs',
+	'ACP_MASS_EMAIL'			=> 'Courriel de masse',
+	'ACP_MESSAGES'				=> 'Messages',
+	'ACP_MESSAGE_SETTINGS'		=> 'Rglages des messages privs',
+	'ACP_MODULE_MANAGEMENT'		=> 'Gestion des modules',
+	'ACP_MOD_LOGS'				=> 'Historique des modrateurs',
+	'ACP_MOD_ROLES'				=> 'Rles des modrateurs',
+
+	'ACP_NO_ITEMS'				=> 'Il ny a actuellement aucun objet.',
+
+	'ACP_ORPHAN_ATTACHMENTS'	=> 'Pices jointes orphelines',
+
+	'ACP_PERMISSIONS'			=> 'Permissions',
+	'ACP_PERMISSION_MASKS'		=> 'Permissions des masques',
+	'ACP_PERMISSION_ROLES'		=> 'Permissions des rles',
+	'ACP_PERMISSION_TRACE'		=> 'Trace de permission',
+	'ACP_PHP_INFO'				=> 'Informations sur PHP',
+	'ACP_POST_SETTINGS'			=> 'Rglages des messages',
+	'ACP_PRUNE_FORUMS'			=> 'Dlester des forums',
+	'ACP_PRUNE_USERS'			=> 'Dlester des utilisateurs ',
+	'ACP_PRUNING'				=> 'Dlestage',
+
+	'ACP_QUICK_ACCESS'			=> 'Accs rapide',
+
+	'ACP_RANKS'					=> 'Rangs',
+	'ACP_REASONS'				=> 'Raisons des rapports',
+	'ACP_REGISTER_SETTINGS'		=> 'Rglages des inscriptions',
+
+	'ACP_RESTORE'				=> 'Restaurer',
+
+  'ACP_FEED'					=> 'Gestion des flux',
+	'ACP_FEED_SETTINGS'			=> 'Rglages des flux',
+
+	'ACP_SEARCH'				=> 'Configuration de la recherche',
+	'ACP_SEARCH_INDEX'			=> 'Indexation de la recherche',
+	'ACP_SEARCH_SETTINGS'		=> 'Rglages de la recherche',
+
+	'ACP_SECURITY_SETTINGS'		=> 'Rglages de la scurit',
+	'ACP_SEND_STATISTICS'		=> 'Envoyer les informations statistiques',
+	'ACP_SERVER_CONFIGURATION'	=> 'Configuration du serveur',
+	'ACP_SERVER_SETTINGS'		=> 'Rglages du serveur',
+	'ACP_SIGNATURE_SETTINGS'	=> 'Rglages des signatures',
+	'ACP_SMILIES'				=> 'moticnes',
+	'ACP_STYLE_COMPONENTS'		=> 'Composants des styles',
+	'ACP_STYLE_MANAGEMENT'		=> 'Gestion des styles',
+	'ACP_STYLES'				=> 'Styles',
+
+  'ACP_SUBMIT_CHANGES'		=> 'Envoyer les modifications',
+
+	'ACP_TEMPLATES'				=> 'Templates',
+	'ACP_THEMES'				=> 'Thmes',
+
+	'ACP_UPDATE'					=> 'Mise  jour',
+	'ACP_USERS_FORUM_PERMISSIONS'	=> 'Permissions des forums aux utilisateurs',
+	'ACP_USERS_LOGS'				=> 'Historique des utilisateurs',
+	'ACP_USERS_PERMISSIONS'			=> 'Permissions des utilisateurs',
+	'ACP_USER_ATTACH'				=> 'Pices jointes',
+	'ACP_USER_AVATAR'				=> 'Avatars',
+	'ACP_USER_FEEDBACK'				=> 'Remarques',
+	'ACP_USER_GROUPS'				=> 'Groupes',
+	'ACP_USER_MANAGEMENT'			=> 'Gestion des utilisateurs',
+	'ACP_USER_OVERVIEW'				=> 'Vue densemble',
+	'ACP_USER_PERM'					=> 'Permissions',
+	'ACP_USER_PREFS'				=> 'Prfrences',
+	'ACP_USER_PROFILE'				=> 'Profils',
+	'ACP_USER_RANK'					=> 'Rangs',
+	'ACP_USER_ROLES'				=> 'Rles des utilisateurs',
+	'ACP_USER_SECURITY'				=> 'Scurit des utilisateurs',
+	'ACP_USER_SIG'					=> 'Signatures',
+	'ACP_USER_WARNINGS'				=> 'Avertissements',
+
+	'ACP_VC_SETTINGS'					=> 'Mesures de lutte contre les robots indsirables',
+	'ACP_VC_CAPTCHA_DISPLAY'			=> 'Aperu de limage du CAPTCHA',
+	'ACP_VERSION_CHECK'					=> 'Vrifier les mises  jour',
+	'ACP_VIEW_ADMIN_PERMISSIONS'		=> 'Voir les permissions des administrateurs',
+	'ACP_VIEW_FORUM_MOD_PERMISSIONS'	=> 'Voir les permissions des modrateurs',
+	'ACP_VIEW_FORUM_PERMISSIONS'		=> 'Voir les permissions des forums',
+	'ACP_VIEW_GLOBAL_MOD_PERMISSIONS'	=> 'Voir les permissions des modrateurs globaux',
+	'ACP_VIEW_USER_PERMISSIONS'			=> 'Voir les permissions des utilisateurs',
+
+	'ACP_WORDS'					=> 'Censure de mots',
+
+	'ACTION'				=> 'Action ',
+	'ACTIONS'				=> 'Actions',
+	'ACTIVATE'				=> 'Activer',
+	'ADD'					=> 'Ajouter',
+	'ADMIN'					=> 'Administration',
+	'ADMIN_INDEX'			=> 'Index de ladministration',
+	'ADMIN_PANEL'			=> 'Panneau de contrle dadministration',
+
+  'ADM_LOGOUT'			=> 'Dconnexion&nbsp;du&nbsp;PCA',
+	'ADM_LOGGED_OUT'		=> 'Vous avez t dconnect du panneau de contrle dadministration avec succs',
+
+	'BACK'					=> 'Retour',
+
+	'COLOUR_SWATCH'			=> 'Palette de couleurs internet',
+	'CONFIG_UPDATED'		=> 'La configuration a t mise  jour avec succs.',
+
+	'DEACTIVATE'				=> 'Dsactiver',
+	'DIRECTORY_DOES_NOT_EXIST'	=> 'Le chemin  %s  que vous avez spcifi nexiste pas.',
+	'DIRECTORY_NOT_DIR'			=> 'Le chemin  %s  que vous avez spcifi nest pas un rpertoire.',
+	'DIRECTORY_NOT_WRITABLE'	=> 'Le chemin  %s  que vous avez spcifi ne peut pas tre crit.',
+	'DISABLE'					=> 'Dsactiver',
+	'DOWNLOAD'					=> 'Tlcharger',
+	'DOWNLOAD_AS'				=> 'Tlcharger sous',
+	'DOWNLOAD_STORE'			=> 'Tlcharger ou stocker le fichier ',
+	'DOWNLOAD_STORE_EXPLAIN'	=> 'Vous devez tlcharger directement le fichier ou le sauvegarder dans votre rpertoire <samp>store/</samp>.',
+
+	'EDIT'					=> 'diter',
+	'ENABLE'				=> 'Activer',
+	'EXPORT_DOWNLOAD'		=> 'Tlcharger',
+	'EXPORT_STORE'			=> 'Stocker',
+
+	'GENERAL_OPTIONS'		=> 'Options gnrales',
+	'GENERAL_SETTINGS'		=> 'Rglages gnraux',
+	'GLOBAL_MASK'			=> 'Masque de permission globale',
+
+	'INSTALL'				=> 'Installer',
+	'IP'					=> 'IP de lutilisateur',
+	'IP_HOSTNAME'			=> 'Adresse(s) IP ou nom(s) dhte(s) ',
+
+	'LOGGED_IN_AS'			=> 'Vous tes connect en tant que :',
+	'LOGIN_ADMIN'			=> 'Vous devez vous authentifier afin dadministrer le forum.',
+	'LOGIN_ADMIN_CONFIRM'	=> 'Vous devez vous authentifier  nouveau afin dadministrer le forum.',
+	'LOGIN_ADMIN_SUCCESS'	=> 'Vous vous tes authentifi avec succs et allez  prsent tre redirig vers le panneau de contrle dadministration.',
+	'LOOK_UP_FORUM'			=> 'Slectionner un forum ',
+	'LOOK_UP_FORUMS_EXPLAIN'=> 'Vous pouvez slectionner plusieurs forums.',
+
+	'MANAGE'				=> 'Grer',
+	'MENU_TOGGLE'			=> 'Masquer ou afficher le menu latral',
+	'MORE'					=> 'Plus',			// Not used at the moment
+	'MORE_INFORMATION'		=> 'Plus dinformations ',
+	'MOVE_DOWN'				=> 'Descendre',
+	'MOVE_UP'				=> 'Monter',
+
+	'NOTIFY'				=> 'Avertissement',
+	'NO_ADMIN'				=> 'Vous ntes pas autoris  administrer ce forum.',
+	'NO_EMAILS_DEFINED'		=> 'Aucune adresse de courrier lectronique valide na t trouve.',
+	'NO_PASSWORD_SUPPLIED'	=> 'Vous devez saisir votre mot de passe afin daccder au panneau de contrle dadministration.',
+
+	'OFF'					=> 'Dsactiv',
+	'ON'					=> 'Activ',
+
+	'PARSE_BBCODE'						=> 'Autoriser le BBCode',
+	'PARSE_SMILIES'						=> 'Autoriser les moticnes',
+	'PARSE_URLS'						=> 'Autoriser les liens',
+	'PERMISSIONS_TRANSFERRED'			=> 'Les permissions ont t transfres',
+	'PERMISSIONS_TRANSFERRED_EXPLAIN'	=> 'Vous utilisez actuellement les permissions de %1$s. Vous pouvez parcourir le forum avec ses permissions mais vous ne pouvez plus accder au panneau de contrle dadministration car les permissions des administrateurs nont pas t transfres. Vous pouvez <a href="%2$s"><strong>retourner aux rglages de vos permissions</strong></a>  tout moment.',
+	'PROCEED_TO_ACP'					=> '%sAller au PCA%s',
+
+	'REMIND'							=> 'Rappeler',
+	'RESYNC'							=> 'Resynchroniser',
+	'RETURN_TO'							=> 'Retour vers',
+
+	'SELECT_ANONYMOUS'		=> 'Slectionner un utilisateur anonyme',
+	'SELECT_OPTION'			=> 'Slectionner une option',
+
+	'SETTING_TOO_LOW'		=> 'La valeur que vous avez fournie concernant le rglage  %1$s  est trop faible. La valeur minimale accepte est de %2$d.',
+	'SETTING_TOO_BIG'		=> 'La valeur que vous avez fournie concernant le rglage  %1$s  est trop leve. La valeur maximale accepte est de %2$d.',	
+	'SETTING_TOO_LONG'		=> 'La valeur que vous avez fournie concernant le rglage  %1$s  est trop longue. La longueur maximale accepte est de %2$d.',
+	'SETTING_TOO_SHORT'		=> 'La valeur que vous avez fournie concernant le rglage  %1$s  est trop courte. La longueur minimale accepte est de %2$d.',
+
+	'SHOW_ALL_OPERATIONS'	=> 'Afficher toutes les oprations',
+
+	'UCP'					=> 'Panneau de contrle de lutilisateur',
+	'USERNAMES_EXPLAIN'		=> 'Placez chaque nom dutilisateur sur une ligne spare.',
+	'USER_CONTROL_PANEL'	=> 'Panneau de contrle de lutilisateur',
+
+	'WARNING'				=> 'Avertissement',
+));
+
+// PHP info
+$lang = array_merge($lang, array(
+	'ACP_PHP_INFO_EXPLAIN'	=> 'Cette page liste toutes les informations disponibles sur la version de PHP qui est installe sur ce serveur. Cela comprend lensemble des informations sur les modules chargs, les variables disponibles et les rglages par dfaut. Ces informations peuvent tre utiles afin de diagnostiquer des problmes. Veuillez noter que certains hbergeurs peuvent limiter laffichage de ces informations pour des raisons de scurit. Il est dconseill de divulguer les informations disponibles sur cette page, sauf si elles sont demandes par un des <a href="http://www.phpbb.com/about/team/">membres de lquipe officielle</a> sur les forums de support de phpBB.',
+
+	'NO_PHPINFO_AVAILABLE'	=> 'Il est impossible dafficher les informations concernant votre configuration de PHP. La fonction <var>phpinfo()</var> a t dsactive pour des raisons de scurit.',
+));
+
+// Logs
+$lang = array_merge($lang, array(
+	'ACP_ADMIN_LOGS_EXPLAIN'	=> 'Ceci liste toutes les actions qui ont t effectues par les administrateurs du forum. Vous pouvez les classer par nom dutilisateur, date, IP ou action. Si vous avez les permissions appropries, vous pouvez galement effacer les oprations une  une ou effacer entirement lhistorique.',
+	'ACP_CRITICAL_LOGS_EXPLAIN'	=> 'Ceci liste toutes les actions qui ont t effectues par le forum lui-mme. Cet historique vous informe des problmes qui se sont produits, comme des courriels qui nont pas t correctement transfrs. Vous pouvez les classer par nom dutilisateur, date, IP ou action. Si vous avez les permissions appropries, vous pouvez galement effacer les oprations une  une ou effacer entirement lhistorique.',
+	'ACP_MOD_LOGS_EXPLAIN'		=> 'Ceci liste toutes les actions qui ont t effectues sur les forums, les sujets et les messages, ainsi que les actions effectues par les modrateurs sur des utilisateurs, comme les bannissements. Vous pouvez les classer par nom dutilisateur, date, IP ou action. Si vous avez les permissions appropries, vous pouvez galement effacer les oprations une  une ou effacer entirement lhistorique.',
+	'ACP_USERS_LOGS_EXPLAIN'	=> 'Ceci liste toutes les actions qui ont t effectues par les utilisateurs ou sur les utilisateurs (les rapports, les avertissements et les notes des utilisateurs).',
+	'ALL_ENTRIES'				=> 'Toutes les entres',
+
+	'DISPLAY_LOG'	=> 'Afficher les entres prcdentes ',
+
+	'NO_ENTRIES'	=> 'Aucune opration na t effectue lors de la priode spcifie.',
+
+	'SORT_IP'		=> 'Adresse IP',
+	'SORT_DATE'		=> 'Date',
+	'SORT_ACTION'	=> 'Action',
+));
+
+// Index page
+$lang = array_merge($lang, array(
+	'ADMIN_INTRO'				=> 'Nous vous remercions davoir choisi phpBB comme solution pour votre forum. Cet cran vous donne un aperu rapide des diverses statistiques de votre forum. Les liens situs sur le volet  gauche de cet cran vous permettent de contrler tous les aspects de votre forum. Chaque page contient des informations intressantes afin de comprendre lutilisation des outils disponibles.',
+	'ADMIN_LOG'					=> 'Dernires actions des administrateurs',
+	'ADMIN_LOG_INDEX_EXPLAIN'	=> 'Ceci vous donne un aperu des cinq dernires actions effectues par les administrateurs de ce forum. Une copie complte de cet historique est disponible sur le menu appropri ou en cliquant sur le lien ci-dessous.',
+	'AVATAR_DIR_SIZE'			=> 'Taille du rpertoire des avatars ',
+
+	'BOARD_STARTED'		=> 'Date douverture du forum ',
+	'BOARD_VERSION'		=> 'Version du forum ',
+
+	'DATABASE_SERVER_INFO'	=> 'Serveur de la base de donnes ',
+	'DATABASE_SIZE'			=> 'Taille de la base de donnes ',
+
+	'FILES_PER_DAY'		=> 'Moyenne de pice(s) jointe(s) par jour ',
+	'FORUM_STATS'		=> 'Statistiques du forum',
+
+	'GZIP_COMPRESSION'	=> 'Compression GZip ',
+
+	'NOT_AVAILABLE'		=> 'Indisponible',
+	'NUMBER_FILES'		=> 'Nombre de pice(s) jointe(s) ',
+	'NUMBER_POSTS'		=> 'Nombre de message(s) ',
+	'NUMBER_TOPICS'		=> 'Nombre de sujet(s) ',
+	'NUMBER_USERS'		=> 'Nombre dutilisateur(s) ',
+	'NUMBER_ORPHAN'		=> 'Nombre de pice(s) jointe(s) orpheline(s) ',
+
+	'PHP_VERSION_OLD'	=> 'La version de PHP utilise sur ce serveur ne sera pas compatible avec les futures versions de phpBB. %sPlus dinformations%s',
+
+	'POSTS_PER_DAY'		=> 'Moyenne de message(s) par jour ',
+
+	'PURGE_CACHE'			=> 'Vider le cache',
+	'PURGE_CACHE_CONFIRM'	=> 'tes-vous sr de vouloir vider le cache ?',
+	'PURGE_CACHE_EXPLAIN'	=> 'Vide le cache de tous les fichiers et requtes de templates stocks.',
+
+	'PURGE_SESSIONS'			=> 'Vider toutes les sessions',
+	'PURGE_SESSIONS_CONFIRM'	=> 'tes-vous sr de vouloir vider toutes les sessions ? Cela dconnectera tous les utilisateurs.',
+	'PURGE_SESSIONS_EXPLAIN'	=> 'Vide toutes les sessions. Cela dconnectera tous les utilisateurs en tronquant la table des sessions.',
+
+	'RESET_DATE'					=> 'Rinitialiser la date douverture du forum',
+	'RESET_DATE_CONFIRM'			=> 'tes-vous sr de vouloir rinitialiser la date douverture du forum ?',
+	'RESET_ONLINE'					=> 'Rinitialiser le record dutilisateurs en ligne',
+	'RESET_ONLINE_CONFIRM'			=> 'tes-vous sr de vouloir rinitialiser le compteur du nombre maximum dutilisateurs en ligne simultanment ?',
+	'RESYNC_POSTCOUNTS'				=> 'Resynchroniser les compteurs de messages',
+	'RESYNC_POSTCOUNTS_EXPLAIN'		=> 'Seuls les messages actuels seront pris en compte. Les messages dlests ne seront pas comptabiliss.',
+	'RESYNC_POSTCOUNTS_CONFIRM'		=> 'tes-vous sr de vouloir resynchroniser les compteurs de messages ?',
+	'RESYNC_POST_MARKING'			=> 'Resynchroniser les sujets points',
+	'RESYNC_POST_MARKING_CONFIRM'	=> 'tes-vous sr de vouloir resynchroniser les sujets points ?',
+	'RESYNC_POST_MARKING_EXPLAIN'	=> 'Dcochez tous les sujets et ne cochez que les sujets actifs durant les six derniers mois.',
+	'RESYNC_STATS'					=> 'Resynchroniser les statistiques',
+	'RESYNC_STATS_CONFIRM'			=> 'tes-vous sr de vouloir resynchroniser les statistiques ?',
+	'RESYNC_STATS_EXPLAIN'			=> 'Recalcule le nombre total de messages, de sujets, dutilisateurs et de fichiers.',
+	'RUN'							=> 'Dmarrer maintenant',
+
+	'STATISTIC'					=> 'Statistiques',
+	'STATISTIC_RESYNC_OPTIONS'	=> 'Resynchroniser ou rinitialiser les statistiques',
+
+	'TOPICS_PER_DAY'	=> 'Moyenne de sujet(s) par jour ',
+
+	'UPLOAD_DIR_SIZE'	=> 'Taille des pices jointes publies ',
+	'USERS_PER_DAY'		=> 'Moyenne dutilisateur(s) par jour ',
+
+	'VALUE'					=> 'Valeur',
+	'VERSIONCHECK_FAIL'			=> 'chec de lobtention de linformation concernant la dernire version.',
+	'VERSIONCHECK_FORCE_UPDATE'	=> 'Vrifier de nouveau la version',
+	'VIEW_ADMIN_LOG'		=> 'Voir lhistorique des administrateurs',
+	'VIEW_INACTIVE_USERS'	=> 'Voir les utilisateurs inactifs',
+
+	'WELCOME_PHPBB'			=> 'Bienvenue sur phpBB',
+	'WRITABLE_CONFIG'      => 'Votre fichier de configuration (config.php) peut tre actuellement crit par tout le monde. Nous vous encourageons fortement  modifier les permissions en 640 ou au moins en 644 (par exemple : <a href="http://fr.wikipedia.org/wiki/Chmod" rel="external">chmod</a> 640 config.php).',
+));
+
+// Inactive Users
+$lang = array_merge($lang, array(
+	'INACTIVE_DATE'					=> 'Date dinactivit',
+	'INACTIVE_REASON'				=> 'Raison',
+	'INACTIVE_REASON_MANUAL'		=> 'Le compte a t dsactiv par un administrateur',
+	'INACTIVE_REASON_PROFILE'		=> 'Les informations du profil ont t modifies',
+	'INACTIVE_REASON_REGISTER'		=> 'Le compte a t inscrit rcemment',
+	'INACTIVE_REASON_REMIND'		=> 'Le compte doit tre ractiv',
+	'INACTIVE_REASON_UNKNOWN'		=> 'Inconnue',
+	'INACTIVE_USERS'				=> 'Utilisateurs inactifs',
+	'INACTIVE_USERS_EXPLAIN'		=> 'Ceci est la liste des utilisateurs qui se sont inscrits mais dont le compte est actuellement inactif. Si vous le souhaitez, vous pouvez activer, supprimer ou rappeler (en envoyant un courriel) ces utilisateurs.',
+	'INACTIVE_USERS_EXPLAIN_INDEX'	=> 'Ceci est la liste des 10 derniers utilisateurs inscrits mais dont le compte est actuellement inactif. Une liste complte est disponible depuis le menu appropri ou en cliquant sur le lien ci-dessous do vous pourrez activer, supprimer ou rappeler ces utilisateurs en leur envoyant un courriel.',
+
+	'NO_INACTIVE_USERS'	=> 'Aucun utilisateur inactif',
+
+	'SORT_INACTIVE'		=> 'Date dinactivit',
+	'SORT_LAST_VISIT'	=> 'Dernire visite',
+	'SORT_REASON'		=> 'Raison',
+	'SORT_REG_DATE'		=> 'Date dinscription',
+	'SORT_LAST_REMINDER'=> 'Dernier rappel',
+	'SORT_REMINDER'		=> 'Rappel envoy',
+
+	'USER_IS_INACTIVE'		=> 'Lutilisateur est inactif ',
+));
+
+// Send statistics page
+$lang = array_merge($lang, array(
+	'EXPLAIN_SEND_STATISTICS'	=> 'Veuillez envoyer les informations concernant votre serveur et la configuration de votre forum  phpBB pour des analyses statistiques. Toutes les informations pouvant vous identifier ou identifier votre site internet ont t supprimes - les donnes sont entirement <strong>anonymes</strong>. Nous nous servons de ces informations comme base afin dadapter nos dcisions pour les futures versions de phpBB. Les statistiques sont mises  disposition du public. Nous partageons galement ces donnes avec le projet PHP, le langage de programmation utilis afin de raliser phpBB.',
+	'EXPLAIN_SHOW_STATISTICS'	=> 'En utilisant le bouton ci-dessous, vous pouvez prvisualiser toutes les variables qui seront transmises.',
+	'DONT_SEND_STATISTICS'		=> 'Revenir au PCA si vous ne souhaitez pas envoyer les informations statistiques  phpBB.',
+	'GO_ACP_MAIN'				=> 'Aller  la page de dmarrage du PCA',
+	'HIDE_STATISTICS'			=> 'Masquer les informations',
+	'SEND_STATISTICS'			=> 'Envoyer les informations statistiques',
+	'SHOW_STATISTICS'			=> 'Afficher les informations',
+	'THANKS_SEND_STATISTICS'	=> 'Nous vous remercions de lenvoi de vos informations.',
+));
+
+// Log Entries
+$lang = array_merge($lang, array(
+	'LOG_ACL_ADD_USER_GLOBAL_U_'		=> '<strong>Ajout ou dition de permissions des utilisateurs</strong><br /> %s',
+	'LOG_ACL_ADD_GROUP_GLOBAL_U_'		=> '<strong>Ajout ou dition de permissions des groupes dutilisateurs</strong><br /> %s',
+	'LOG_ACL_ADD_USER_GLOBAL_M_'		=> '<strong>Ajout ou dition de permissions des modrateurs globaux</strong><br /> %s',
+	'LOG_ACL_ADD_GROUP_GLOBAL_M_'		=> '<strong>Ajout ou dition de permissions des groupes de modrateurs globaux</strong><br /> %s',
+	'LOG_ACL_ADD_USER_GLOBAL_A_'		=> '<strong>Ajout ou dition de permissions des administrateurs</strong><br /> %s',
+	'LOG_ACL_ADD_GROUP_GLOBAL_A_'		=> '<strong>Ajout ou dition de permissions des groupes dadministrateurs</strong><br /> %s',
+
+	'LOG_ACL_ADD_ADMIN_GLOBAL_A_'		=> '<strong>Ajout ou dition dadministrateurs</strong><br /> %s',
+	'LOG_ACL_ADD_MOD_GLOBAL_M_'			=> '<strong>Ajout ou dition de modrateurs globaux</strong><br /> %s',
+
+	'LOG_ACL_ADD_USER_LOCAL_F_'			=> '<strong>Ajout ou dition de laccs des utilisateurs au forum</strong> de %1$s<br /> %2$s',
+	'LOG_ACL_ADD_USER_LOCAL_M_'			=> '<strong>Ajout ou dition de laccs des modrateurs au forum</strong> de %1$s<br /> %2$s',
+	'LOG_ACL_ADD_GROUP_LOCAL_F_'		=> '<strong>Ajout ou dition de laccs des groupes dutilisateurs au forum</strong> de %1$s<br /> %2$s',
+	'LOG_ACL_ADD_GROUP_LOCAL_M_'		=> '<strong>Ajout ou dition de laccs des groupes de modrateurs au forum</strong> de %1$s<br /> %2$s',
+
+	'LOG_ACL_ADD_MOD_LOCAL_M_'			=> '<strong>Ajout ou dition de modrateurs</strong> de %1$s<br /> %2$s',
+	'LOG_ACL_ADD_FORUM_LOCAL_F_'		=> '<strong>Ajout ou dition de permissions des forums</strong> de %1$s<br /> %2$s',
+
+	'LOG_ACL_DEL_ADMIN_GLOBAL_A_'		=> '<strong>Suppression dadministrateurs</strong><br /> %s',
+	'LOG_ACL_DEL_MOD_GLOBAL_M_'			=> '<strong>Suppression de modrateurs globaux</strong><br /> %s',
+	'LOG_ACL_DEL_MOD_LOCAL_M_'			=> '<strong>Suppression de modrateurs</strong> de %1$s<br /> %2$s',
+	'LOG_ACL_DEL_FORUM_LOCAL_F_'		=> '<strong>Suppression de permissions des forums des groupes ou utilisateurs</strong> de %1$s<br /> %2$s',
+
+	'LOG_ACL_TRANSFER_PERMISSIONS'		=> '<strong>Transfert des permissions de</strong><br /> %s',
+	'LOG_ACL_RESTORE_PERMISSIONS'		=> '<strong>Restauration de vos permissions aprs lutilisation des permissions de</strong><br /> %s',
+	
+	'LOG_ADMIN_AUTH_FAIL'		=> '<strong>Tentative de connexion au panneau de contrle dadministration</strong>',
+	'LOG_ADMIN_AUTH_SUCCESS'	=> '<strong>Connexion au panneau de contrle dadministration</strong>',
+
+	'LOG_ATTACHMENTS_DELETED'	=> '<strong>Suppression de pices jointes dun utilisateur</strong><br /> %s',
+
+	'LOG_ATTACH_EXT_ADD'		=> '<strong>Ajout ou dition dune extension de pice jointe</strong><br /> %s',
+	'LOG_ATTACH_EXT_DEL'		=> '<strong>Suppression dune extension de pice jointe</strong><br /> %s',
+	'LOG_ATTACH_EXT_UPDATE'		=> '<strong>Mise  jour dune extension de pice jointe</strong><br /> %s',
+	'LOG_ATTACH_EXTGROUP_ADD'	=> '<strong>Ajout dun groupe dextensions</strong><br /> %s',
+	'LOG_ATTACH_EXTGROUP_EDIT'	=> '<strong>dition dun groupe dextensions</strong><br /> %s',
+	'LOG_ATTACH_EXTGROUP_DEL'	=> '<strong>Suppression dun groupe dextensions</strong><br /> %s',
+	'LOG_ATTACH_FILEUPLOAD'		=> '<strong>Transfert dune pice jointe orpheline vers le message</strong><br /> ID %1$d - %2$s',
+	'LOG_ATTACH_ORPHAN_DEL'		=> '<strong>Suppression dune pice jointe orpheline</strong><br /> %s',
+
+	'LOG_BAN_EXCLUDE_USER'	=> '<strong>Exclusion dun nom dutilisateur du bannissement</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_BAN_EXCLUDE_IP'	=> '<strong>Exclusion dune adresse IP du bannissement</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_BAN_EXCLUDE_EMAIL' => '<strong>Exclusion dune adresse de courrier lectronique du bannissement</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_BAN_USER'			=> '<strong>Bannissement dun nom dutilisateur</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_BAN_IP'			=> '<strong>Bannissement dune adresse IP</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_BAN_EMAIL'			=> '<strong>Bannissement dune adresse de courrier lectronique</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_UNBAN_USER'		=> '<strong>Suppression dun nom dutilisateur du bannissement</strong><br /> %s',
+	'LOG_UNBAN_IP'			=> '<strong>Suppression dune adresse IP du bannissement</strong><br /> %s',
+	'LOG_UNBAN_EMAIL'		=> '<strong>Suppression dune adresse de courrier lectronique du bannissement</strong><br /> %s',
+
+	'LOG_BBCODE_ADD'		=> '<strong>Ajout dun nouveau BBCode</strong><br /> %s',
+	'LOG_BBCODE_EDIT'		=> '<strong>dition dun BBCode</strong><br /> %s',
+	'LOG_BBCODE_DELETE'		=> '<strong>Suppression dun BBCode</strong><br /> %s',
+
+	'LOG_BOT_ADDED'		=> '<strong>Ajout dun nouveau robot</strong><br /> %s',
+	'LOG_BOT_DELETE'	=> '<strong>Suppression dun robot</strong><br /> %s',
+	'LOG_BOT_UPDATED'	=> '<strong>Mise  jour dun robot existant</strong><br /> %s',
+
+	'LOG_CLEAR_ADMIN'		=> '<strong>Effacement de lhistorique des administrateurs</strong>',
+	'LOG_CLEAR_CRITICAL'	=> '<strong>Effacement de lhistorique des erreurs</strong>',
+	'LOG_CLEAR_MOD'			=> '<strong>Effacement de lhistorique des modrateurs</strong>',
+	'LOG_CLEAR_USER'		=> '<strong>Effacement de lhistorique dun utilisateur</strong><br /> %s',
+	'LOG_CLEAR_USERS'		=> '<strong>Effacement de lhistorique des utilisateurs</strong>',
+
+	'LOG_CONFIG_ATTACH'			=> '<strong>Modification des rglages des pices jointes</strong>',
+	'LOG_CONFIG_AUTH'			=> '<strong>Modification des rglages de lauthentification</strong>',
+	'LOG_CONFIG_AVATAR'			=> '<strong>Modification des rglages des avatars</strong>',
+	'LOG_CONFIG_COOKIE'			=> '<strong>Modification des rglages des cookies</strong>',
+	'LOG_CONFIG_EMAIL'			=> '<strong>Modification des rglages de la messagerie lectronique</strong>',
+	'LOG_CONFIG_FEATURES'		=> '<strong>Modification des fonctionnalits du forum</strong>',
+	'LOG_CONFIG_LOAD'			=> '<strong>Modification des rglages de la charge du systme</strong>',
+	'LOG_CONFIG_MESSAGE'		=> '<strong>Modification des rglages des messages privs</strong>',
+	'LOG_CONFIG_POST'			=> '<strong>Modification des rglages des messages</strong>',
+	'LOG_CONFIG_REGISTRATION'	=> '<strong>Modification des rglages des inscriptions</strong>',
+	'LOG_CONFIG_FEED'			=> '<strong>Modification des rglages des flux de syndication</strong>',
+	'LOG_CONFIG_SEARCH'			=> '<strong>Modification des rglages de la recherche</strong>',
+	'LOG_CONFIG_SECURITY'		=> '<strong>Modification des rglages de la scurit</strong>',
+	'LOG_CONFIG_SERVER'			=> '<strong>Modification des rglages du serveur</strong>',
+	'LOG_CONFIG_SETTINGS'		=> '<strong>Modification des rglages du forum</strong>',
+	'LOG_CONFIG_SIGNATURE'		=> '<strong>Modification des rglages des signatures</strong>',
+	'LOG_CONFIG_VISUAL'			=> '<strong>Modification des mesures de lutte contre les robots indsirables</strong>',
+
+	'LOG_APPROVE_TOPIC'			=> '<strong>Approbation dun sujet</strong><br /> %s',
+	'LOG_BUMP_TOPIC'			=> '<strong>Sujet remont par un utilisateur</strong><br /> %s',
+	'LOG_DELETE_POST'			=> '<strong>Suppression du message  %1$s  crit par</strong><br /> %2$s',
+	'LOG_DELETE_SHADOW_TOPIC'	=> '<strong>Suppression dune redirection de sujet</strong><br /> %s',
+	'LOG_DELETE_TOPIC'			=> '<strong>Suppression du sujet  %1$s  crit par</strong><br /> %2$s',
+	'LOG_FORK'					=> '<strong>Copie dun sujet</strong><br /> de %s',
+	'LOG_LOCK'					=> '<strong>Verrouillage dun sujet</strong><br /> %s',
+	'LOG_LOCK_POST'				=> '<strong>Verrouillage dun message</strong><br /> %s',
+	'LOG_MERGE'					=> '<strong>Fusion de messages</strong> dans le sujet<br /> %s',
+	'LOG_MOVE'					=> '<strong>Dplacement dun sujet</strong><br /> de %1$s vers %2$s',
+	'LOG_PM_REPORT_CLOSED'		=> '<strong>Fermeture dun rapport de MP</strong><br /> %s',
+	'LOG_PM_REPORT_DELETED'		=> '<strong>Suppression dun rapport de MP</strong><br /> %s',
+	'LOG_POST_APPROVED'			=> '<strong>Approbation dun message</strong><br /> %s',
+	'LOG_POST_DISAPPROVED'		=> '<strong>Dsapprobation du message  %1$s  avec la raison suivante</strong><br /> %2$s',
+	'LOG_POST_EDITED'			=> '<strong>dition du message  %1$s  crit par</strong><br /> %2$s',
+	'LOG_REPORT_CLOSED'			=> '<strong>Fermeture dun rapport</strong><br /> %s',
+	'LOG_REPORT_DELETED'		=> '<strong>Suppression dun rapport</strong><br /> %s',
+	'LOG_SPLIT_DESTINATION'		=> '<strong>Dplacement de messages diviss</strong><br /> vers %s',
+	'LOG_SPLIT_SOURCE'			=> '<strong>Division de messages</strong><br /> de %s',
+
+	'LOG_TOPIC_APPROVED'		=> '<strong>Approbation dun sujet</strong><br /> %s',
+	'LOG_TOPIC_DISAPPROVED'		=> '<strong>Dsapprobation du sujet  %1$s  avec la raison suivante</strong><br />%2$s',
+	'LOG_TOPIC_RESYNC'			=> '<strong>Resynchronisation du compteur des sujets</strong><br /> %s',
+	'LOG_TOPIC_TYPE_CHANGED'	=> '<strong>Modification du type dun sujet</strong><br /> %s',
+	'LOG_UNLOCK'				=> '<strong>Dverrouillage dun sujet</strong><br /> %s',
+	'LOG_UNLOCK_POST'			=> '<strong>Dverrouillage dun message</strong><br /> %s',
+
+	'LOG_DISALLOW_ADD'		=> '<strong>Ajout dun nom dutilisateur interdit</strong><br /> %s',
+	'LOG_DISALLOW_DELETE'	=> '<strong>Suppression dun nom dutilisateur interdit</strong>',
+
+	'LOG_DB_BACKUP'			=> '<strong>Sauvegarde de la base de donnes</strong>',
+	'LOG_DB_DELETE'			=> '<strong>Suppression de la sauvegarde de la base de donnes</strong>',
+	'LOG_DB_RESTORE'		=> '<strong>Restauration de la sauvegarde de la base de donnes</strong>',
+
+	'LOG_DOWNLOAD_EXCLUDE_IP'	=> '<strong>Exclusion dun nom dhte ou dune adresse IP de la liste des tlchargements</strong><br /> %s',
+	'LOG_DOWNLOAD_IP'			=> '<strong>Ajout dun nom dhte ou dune adresse IP dans la liste des tlchargements</strong><br /> %s',
+	'LOG_DOWNLOAD_REMOVE_IP'	=> '<strong>Suppression dun nom dhte ou dune adresse IP de la liste des tlchargements</strong><br /> %s',
+
+	'LOG_ERROR_JABBER'		=> '<strong>Erreur Jabber</strong><br /> %s',
+	'LOG_ERROR_EMAIL'		=> '<strong>Erreur de courriel</strong><br /> %s',
+	
+	'LOG_FORUM_ADD'							=> '<strong>Cration dun nouveau forum</strong><br /> %s',
+	'LOG_FORUM_COPIED_PERMISSIONS'			=> '<strong>Copie des permissions des forums</strong> de %1$s<br /> %2$s',
+	'LOG_FORUM_DEL_FORUM'					=> '<strong>Suppression dun forum</strong><br /> %s',
+	'LOG_FORUM_DEL_FORUMS'					=> '<strong>Suppression dun forum et de ses sous-forums</strong><br /> %s',
+	'LOG_FORUM_DEL_MOVE_FORUMS'				=> '<strong>Suppression dun forum et dplacement de ses sous-forums</strong> vers %1$s<br /> %2$s',
+	'LOG_FORUM_DEL_MOVE_POSTS'				=> '<strong>Suppression dun forum et dplacement de ses messages</strong> vers %1$s<br /> %2$s',
+	'LOG_FORUM_DEL_MOVE_POSTS_FORUMS'		=> '<strong>Suppression dun forum et de ses sous-forums, dplacement des messages</strong> vers %1$s<br /> %2$s',
+	'LOG_FORUM_DEL_MOVE_POSTS_MOVE_FORUMS'	=> '<strong>Suppression dun forum, dplacement des messages</strong> vers %1$s <strong>et des sous-forums</strong> vers %2$s<br /> %3$s',
+	'LOG_FORUM_DEL_POSTS'					=> '<strong>Suppression dun forum et de ses messages</strong><br /> %s',
+	'LOG_FORUM_DEL_POSTS_FORUMS'			=> '<strong>Suppression dun forum, de ses messages et de ses sous-forums</strong><br /> %s',
+	'LOG_FORUM_DEL_POSTS_MOVE_FORUMS'		=> '<strong>Suppression dun forum et de ses messages, dplacement des sous-forums</strong> vers %1$s<br /> %2$s',
+	'LOG_FORUM_EDIT'						=> '<strong>dition des informations dun forum</strong><br /> %s',
+	'LOG_FORUM_MOVE_DOWN'					=> '<strong>Dplacement du forum</strong> %1$s <strong>en dessous de</strong> %2$s',
+	'LOG_FORUM_MOVE_UP'						=> '<strong>Dplacement du forum</strong> %1$s <strong>au-dessus de</strong> %2$s',
+	'LOG_FORUM_SYNC'						=> '<strong>Resynchronisation dun forum</strong><br /> %s',
+
+	'LOG_GENERAL_ERROR'	=> '<strong>Une erreur gnrale est survenue</strong> : %1$s <br /> %2$s',
+
+	'LOG_GROUP_CREATED'		=> '<strong>Cration dun nouveau groupe dutilisateurs</strong><br /> %s',
+	'LOG_GROUP_DEFAULTS'	=> '<strong>Groupe  %1$s  dfini par dfaut pour les membres</strong><br /> %2$s',
+	'LOG_GROUP_DELETE'		=> '<strong>Suppression dun groupe dutilisateurs</strong><br /> %s',
+	'LOG_GROUP_DEMOTED'		=> '<strong>Rtrogradation du responsable du groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_GROUP_PROMOTED'	=> '<strong>Promotion dun membre en tant que responsable du groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_GROUP_REMOVE'		=> '<strong>Suppression de membres du groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_GROUP_UPDATED'		=> '<strong>Mise  jour des informations dun groupe dutilisateurs</strong><br /> %s',
+	'LOG_MODS_ADDED'		=> '<strong>Ajout dun nouveau responsable dans le groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_USERS_ADDED'		=> '<strong>Ajout de nouveaux membres dans le groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_USERS_APPROVED'	=> '<strong>Approbation dutilisateurs dans le groupe dutilisateurs</strong> %1$s<br /> %2$s',
+	'LOG_USERS_PENDING'		=> '<strong>Des utilisateurs ont demands  rejoindre le groupe  %1$s  et attendent dtre approuvs</strong><br /> %2$s',
+
+	'LOG_IMAGE_GENERATION_ERROR'	=> '<strong>Une erreur est survenue lors de la cration dune image</strong><br /> Erreur dans %1$s sur la ligne %2$s : %3$s',
+
+	'LOG_IMAGESET_ADD_DB'		=> '<strong>Ajout dun nouvel ensemble dimages dans la base de donnes</strong><br /> %s',
+	'LOG_IMAGESET_ADD_FS'		=> '<strong>Ajout dun nouvel ensemble dimages dans le systme de fichiers</strong><br /> %s',
+	'LOG_IMAGESET_DELETE'		=> '<strong>Suppression dun ensemble dimages</strong><br /> %s',
+	'LOG_IMAGESET_EDIT_DETAILS'	=> '<strong>dition des informations dun ensemble dimages</strong><br /> %s',
+	'LOG_IMAGESET_EDIT'			=> '<strong>dition dun ensemble dimages</strong><br /> %s',
+	'LOG_IMAGESET_EXPORT'		=> '<strong>Exportation dun ensemble dimages</strong><br /> %s',
+	'LOG_IMAGESET_LANG_MISSING'		=> '<strong>Traduction  %2$s  manquante dun ensemble dimages</strong><br /> %1$s',
+	'LOG_IMAGESET_LANG_REFRESHED'	=> '<strong>Rafrachissement de la traduction  %2$s  dun ensemble dimages</strong><br /> %1$s',
+	'LOG_IMAGESET_REFRESHED'	=> '<strong>Rafrachissement dun ensemble dimages</strong><br /> %s',
+
+	'LOG_INACTIVE_ACTIVATE'	=> '<strong>Activation dutilisateurs inactifs</strong><br /> %s',
+	'LOG_INACTIVE_DELETE'	=> '<strong>Suppression dutilisateurs inactifs</strong><br /> %s',
+	'LOG_INACTIVE_REMIND'	=> '<strong>Envoi de courriels de rappel aux utilisateurs inactifs</strong><br /> %s',
+	'LOG_INSTALL_CONVERTED'	=> '<strong>Convertion de phpBB %1$s vers phpBB %2$s</strong>',
+	'LOG_INSTALL_INSTALLED'	=> '<strong>Installation de phpBB %s</strong>',
+
+	'LOG_IP_BROWSER_FORWARDED_CHECK'	=> '<strong>La vrification de la session IP, du navigateur ou de X_FORWARDED_FOR a choue</strong><br />LIP de lutilisateur  <em>%1$s</em>  a t compare avec la session IP  <em>%2$s</em> , la chane du navigateur de lutilisateur  <em>%3$s</em>  a t compare avec la chane de la session du navigateur  <em>%4$s</em>  et la chane X_FORWARDED_FOR de lutilisateur  <em>%5$s</em>  a t compare avec la chane X_FORWARDED_FOR de la session  <em>%6$s</em> .',
+
+	'LOG_JAB_CHANGED'			=> '<strong>Modification du compte Jabber</strong>',
+	'LOG_JAB_PASSCHG'			=> '<strong>Modification du mot de passe de Jabber</strong>',
+	'LOG_JAB_REGISTER'			=> '<strong>Inscription du compte Jabber</strong>',
+	'LOG_JAB_SETTINGS_CHANGED'	=> '<strong>Modification des rglages de Jabber</strong>',
+
+	'LOG_LANGUAGE_PACK_DELETED'		=> '<strong>Suppression dune archive de langue</strong><br /> %s',
+	'LOG_LANGUAGE_PACK_INSTALLED'	=> '<strong>Installation dune archive de langue</strong><br /> %s',
+	'LOG_LANGUAGE_PACK_UPDATED'		=> '<strong>Mise  jour des informations dune archive de langue</strong><br /> %s',
+	'LOG_LANGUAGE_FILE_REPLACED'	=> '<strong>Remplacement dun fichier de langue</strong><br /> %s',
+	'LOG_LANGUAGE_FILE_SUBMITTED'	=> '<strong>Envoi et dplacement dans le dossier de stockage dun fichier de langue</strong><br /> %s',
+
+	'LOG_MASS_EMAIL'		=> '<strong>Envoi dun courriel de masse</strong><br /> %s',
+
+	'LOG_MCP_CHANGE_POSTER'	=> '<strong>Modification de lauteur du sujet  %1$s </strong><br /> de %2$s  %3$s',
+
+	'LOG_MODULE_DISABLE'	=> '<strong>Dsactivation dun module</strong><br /> %s',
+	'LOG_MODULE_ENABLE'		=> '<strong>Activation dun module</strong><br /> %s',
+	'LOG_MODULE_MOVE_DOWN'	=> '<strong>Abaissement dun module</strong><br /> %1$s en dessous de %2$s',
+	'LOG_MODULE_MOVE_UP'	=> '<strong>Rehaussement dun module</strong><br /> %1$s au-dessus de %2$s',
+	'LOG_MODULE_REMOVED'	=> '<strong>Suppression dun module</strong><br /> %s',
+	'LOG_MODULE_ADD'		=> '<strong>Ajout dun module</strong><br /> %s',
+	'LOG_MODULE_EDIT'		=> '<strong>dition dun module</strong><br /> %s',
+
+	'LOG_A_ROLE_ADD'		=> '<strong>Ajout dun rle dadministrateur</strong><br /> %s',
+	'LOG_A_ROLE_EDIT'		=> '<strong>dition dun rle dadministrateur</strong><br /> %s',
+	'LOG_A_ROLE_REMOVED'	=> '<strong>Suppression dun rle dadministrateur</strong><br /> %s',
+	'LOG_F_ROLE_ADD'		=> '<strong>Ajout dun rle dun forum</strong><br /> %s',
+	'LOG_F_ROLE_EDIT'		=> '<strong>dition dun rle dun forum</strong><br /> %s',
+	'LOG_F_ROLE_REMOVED'	=> '<strong>Suppression dun rle dun forum</strong><br /> %s',
+	'LOG_M_ROLE_ADD'		=> '<strong>Ajout dun rle de modrateur</strong><br /> %s',
+	'LOG_M_ROLE_EDIT'		=> '<strong>dition dun rle de modrateur</strong><br /> %s',
+	'LOG_M_ROLE_REMOVED'	=> '<strong>Suppression dun rle de modrateur</strong><br /> %s',
+	'LOG_U_ROLE_ADD'		=> '<strong>Ajout dun rle dutilisateur</strong><br /> %s',
+	'LOG_U_ROLE_EDIT'		=> '<strong>dition dun rle dutilisateur</strong><br /> %s',
+	'LOG_U_ROLE_REMOVED'	=> '<strong>Suppression dun rle dutilisateur</strong><br /> %s',
+
+	'LOG_PROFILE_FIELD_ACTIVATE'	=> '<strong>Activation dun champ de profil</strong><br /> %s',
+	'LOG_PROFILE_FIELD_CREATE'		=> '<strong>Ajout dun champ de profil</strong><br /> %s',
+	'LOG_PROFILE_FIELD_DEACTIVATE'	=> '<strong>Dsactivation dun champ de profil</strong><br /> %s',
+	'LOG_PROFILE_FIELD_EDIT'		=> '<strong>Modification dun champ de profil</strong><br /> %s',
+	'LOG_PROFILE_FIELD_REMOVED'		=> '<strong>Suppression dun champ de profil</strong><br /> %s',
+
+	'LOG_PRUNE'					=> '<strong>Dlestage du forum</strong><br /> %s',
+	'LOG_AUTO_PRUNE'			=> '<strong>Dlestage automatique du forum</strong><br /> %s',
+	'LOG_PRUNE_USER_DEAC'		=> '<strong>Dsactivation dutilisateurs</strong><br /> %s',
+	'LOG_PRUNE_USER_DEL_DEL'	=> '<strong>Dlestage dutilisateurs et suppression des messages</strong><br /> %s',
+	'LOG_PRUNE_USER_DEL_ANON'	=> '<strong>Dlestage dutilisateurs et prservation des messages</strong><br /> %s',
+
+	'LOG_PURGE_CACHE'			=> '<strong>Vidage du cache</strong>',
+	'LOG_PURGE_SESSIONS'		=> '<strong>Vidage des sessions</strong>',
+
+
+	'LOG_RANK_ADDED'		=> '<strong>Ajout dun nouveau rang</strong><br /> %s',
+	'LOG_RANK_REMOVED'		=> '<strong>Suppression dun rang</strong><br /> %s',
+	'LOG_RANK_UPDATED'		=> '<strong>Mise  jour dun rang</strong><br /> %s',
+
+	'LOG_REASON_ADDED'		=> '<strong>Ajout dun rapport ou dune raison</strong><br /> %s',
+	'LOG_REASON_REMOVED'	=> '<strong>Suppression dun rapport ou dune raison</strong><br /> %s',
+	'LOG_REASON_UPDATED'	=> '<strong>Mise  jour dun rapport ou dune raison</strong><br /> %s',
+
+	'LOG_REFERER_INVALID'		=> '<strong>chec de la validation du rfrant</strong><br />Le rfrant tait  <em>%1$s</em> . La requte a t rejete et la session a t coupe.',
+	'LOG_RESET_DATE'			=> '<strong>Rinitialisation de la date douverture du forum</strong>',
+	'LOG_RESET_ONLINE'			=> '<strong>Rinitialisation du nombre maximum dutilisateurs en ligne</strong>',
+	'LOG_RESYNC_POSTCOUNTS'		=> '<strong>Rinitialisation du compteur des messages des utilisateurs</strong>',
+	'LOG_RESYNC_POST_MARKING'	=> '<strong>Resynchronisation des sujets points</strong>',
+	'LOG_RESYNC_STATS'			=> '<strong>Resynchronisation des statistiques des messages, des sujets et des utilisateurs</strong>',
+
+	'LOG_SEARCH_INDEX_CREATED'	=> '<strong>Cration dun index de recherche pour</strong><br /> %s',
+	'LOG_SEARCH_INDEX_REMOVED'	=> '<strong>Suppression dun index de recherche pour</strong><br /> %s',
+	'LOG_STYLE_ADD'				=> '<strong>Ajout dun nouveau style</strong><br /> %s',
+	'LOG_STYLE_DELETE'			=> '<strong>Suppression dun style</strong><br /> %s',
+	'LOG_STYLE_EDIT_DETAILS'	=> '<strong>dition dun style</strong><br /> %s',
+	'LOG_STYLE_EXPORT'			=> '<strong>Exportation dun style</strong><br /> %s',
+
+	'LOG_TEMPLATE_ADD_DB'			=> '<strong>Ajout dun nouvel ensemble de templates dans la base de donnes</strong><br /> %s',
+	'LOG_TEMPLATE_ADD_FS'			=> '<strong>Ajout dun nouvel ensemble de templates dans le systme de fichiers</strong><br /> %s',
+	'LOG_TEMPLATE_CACHE_CLEARED'	=> '<strong>Rafrachissement de lensemble de templates de <em>%1$s</em></strong><br /> %2$s',
+	'LOG_TEMPLATE_DELETE'			=> '<strong>Suppression dun ensemble de templates</strong><br /> %s',
+	'LOG_TEMPLATE_EDIT'				=> '<strong>dition de lensemble de templates <em>%1$s</em></strong><br /> %2$s',
+	'LOG_TEMPLATE_EDIT_DETAILS'		=> '<strong>dition des informations dun template</strong><br /> %s',
+	'LOG_TEMPLATE_EXPORT'			=> '<strong>Exportation dun ensemble de templates</strong><br /> %s',
+	'LOG_TEMPLATE_REFRESHED'		=> '<strong>Rafrachissement dun ensemble de templates</strong><br /> %s',
+
+	'LOG_THEME_ADD_DB'			=> '<strong>Ajout dun nouveau thme dans la base de donnes</strong><br /> %s',
+	'LOG_THEME_ADD_FS'			=> '<strong>Ajout dun nouveau thme dans le systme de fichiers</strong><br /> %s',
+	'LOG_THEME_DELETE'			=> '<strong>Suppression dun thme</strong><br /> %s',
+	'LOG_THEME_EDIT_DETAILS'	=> '<strong>dition des informations dun thme</strong><br /> %s',
+	'LOG_THEME_EDIT'			=> '<strong>dition du thme <em>%1$s</em></strong>',
+	'LOG_THEME_EDIT_FILE'		=> '<strong>dition du thme <em>%1$s</em></strong><br /> Fichier modifi <em>%2$s</em>',
+	'LOG_THEME_EXPORT'			=> '<strong>Exportation dun thme</strong><br /> %s',
+	'LOG_THEME_REFRESHED'		=> '<strong>Rafrachissement dun thme</strong><br /> %s',
+
+	'LOG_UPDATE_DATABASE'	=> '<strong>Mise  jour de la version %1$s de la base de donnes vers la version %2$s</strong>',
+	'LOG_UPDATE_PHPBB'		=> '<strong>Mise  jour de la version %1$s de phpBB vers la version %2$s</strong>',
+
+	'LOG_USER_ACTIVE'		=> '<strong>Activation du compte dun utilisateur</strong><br /> %s',
+	'LOG_USER_BAN_USER'		=> '<strong>Bannissement dun utilisateur via la gestion des utilisateurs</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_USER_BAN_IP'		=> '<strong>Bannissement dune adresse IP via la gestion des utilisateurs</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_USER_BAN_EMAIL'	=> '<strong>Bannissement dune adresse de courrier lectronique via la gestion des utilisateurs</strong> avec la raison  <em>%1$s</em> <br /> %2$s',
+	'LOG_USER_DELETED'		=> '<strong>Suppression dun utilisateur</strong><br /> %s',
+	'LOG_USER_DEL_ATTACH'	=> '<strong>Suppression de toutes les pices jointes dun utilisateur</strong><br /> %s',
+	'LOG_USER_DEL_AVATAR'	=> '<strong>Suppression de lavatar dun utilisateur</strong><br /> %s',
+	'LOG_USER_DEL_OUTBOX'	=> '<strong>Vidage de la bote denvoi dun utilisateur</strong><br /> %s',
+	'LOG_USER_DEL_POSTS'	=> '<strong>Suppression de tous les messages dun utilisateur</strong><br /> %s',
+	'LOG_USER_DEL_SIG'		=> '<strong>Suppression de la signature dun utilisateur</strong><br /> %s',
+	'LOG_USER_INACTIVE'		=> '<strong>Dsactivation du compte dun utilisateur</strong><br /> %s',
+	'LOG_USER_MOVE_POSTS'	=> '<strong>Dplacement des messages dun utilisateur</strong><br /> messages de  %1$s  vers le forum  %2$s ',
+	'LOG_USER_NEW_PASSWORD'	=> '<strong>Modification du mot de passe dun utilisateur</strong><br /> %s',
+	'LOG_USER_REACTIVATE'	=> '<strong>Ractivation force du compte dun utilisateur</strong><br /> %s',
+	'LOG_USER_REMOVED_NR'	=> '<strong>Suppression du statut dutilisateur rcent en utilisateur</strong><br /> %s',
+
+	'LOG_USER_UPDATE_EMAIL'	=> '<strong>Modification de ladresse de courrier lectronique de lutilisateur  %1$s </strong><br /> de  %2$s  vers  %3$s ',
+	'LOG_USER_UPDATE_NAME'	=> '<strong>Modification dun nom dutilisateur</strong><br /> de  %1$s  vers  %2$s ',
+	'LOG_USER_USER_UPDATE'	=> '<strong>Mise  jour des informations dun utilisateur</strong><br /> %s',
+
+	'LOG_USER_ACTIVE_USER'		=> '<strong>Activation du compte dun utilisateur</strong>',
+	'LOG_USER_DEL_AVATAR_USER'	=> '<strong>Suppression de lavatar dun utilisateur</strong>',
+	'LOG_USER_DEL_SIG_USER'		=> '<strong>Suppression de la signature dun utilisateur</strong>',
+	'LOG_USER_FEEDBACK'			=> '<strong>Ajout dune remarque sur un utilisateur</strong><br /> %s',
+	'LOG_USER_GENERAL'			=> '<strong>Ajout dune entre :</strong><br /> %s',
+	'LOG_USER_INACTIVE_USER'	=> '<strong>Dsactivation du compte dun utilisateur</strong>',
+	'LOG_USER_LOCK'				=> '<strong>Verrouillage des propres sujets dun utilisateur</strong><br /> %s',
+	'LOG_USER_MOVE_POSTS_USER'	=> '<strong>Dplacement de tous les messages vers un forum</strong> %s',
+	'LOG_USER_REACTIVATE_USER'	=> '<strong>Ractivation force du compte dun utilisateur</strong>',
+	'LOG_USER_UNLOCK'			=> '<strong>Dverrouillage des propres sujets dun utilisateur</strong><br /> %s',
+	'LOG_USER_WARNING'			=> '<strong>>Ajout dun avertissement sur un utilisateur</strong><br /> %s',
+	'LOG_USER_WARNING_BODY'		=> '<strong>Lavertissement suivant a t envoy  cet utilisateur</strong><br /> %s',
+
+	'LOG_USER_GROUP_CHANGE'			=> '<strong>Changement du groupe par dfaut par un utilisateur</strong><br /> %s',
+	'LOG_USER_GROUP_DEMOTE'			=> '<strong>Rtrogradation du responsable dun groupe dutilisateurs</strong><br /> %s',
+	'LOG_USER_GROUP_JOIN'			=> '<strong>Adhsion  un groupe dun utilisateur</strong><br /> %s',
+	'LOG_USER_GROUP_JOIN_PENDING'	=> '<strong>Adhsion  un groupe dun utilisateur et demande dapprobation</strong><br /> %s',
+	'LOG_USER_GROUP_RESIGN'			=> '<strong>Dsinscription  un groupe dun utilisateur</strong><br /> %s',
+
+	'LOG_WARNING_DELETED'		=> '<strong>Suppression dun avertissement sur un utilisateur</strong><br /> %s',
+	'LOG_WARNINGS_DELETED'		=> '<strong>Suppression de %2$s avertissements sur un utilisateur</strong><br /> %1$s', // Example: '<strong>Deleted 2 user warnings</strong><br /> username'
+	'LOG_WARNINGS_DELETED_ALL'	=> '<strong>Suppression de tous les avertissements sur un utilisateur</strong><br /> %s',
+
+	'LOG_WORD_ADD'			=> '<strong>Ajout dun mot censur</strong><br /> %s',
+	'LOG_WORD_DELETE'		=> '<strong>Suppression dun mot censur</strong><br /> %s',
+	'LOG_WORD_EDIT'			=> '<strong>dition dun mot censur</strong><br /> %s',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/database.php phpBB3/language/fr/acp/database.php
--- phpBB3-init/language/fr/acp/database.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/database.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,78 @@
+<?php
+/**
+*
+* acp_database [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Database Backup/Restore
+$lang = array_merge($lang, array(
+	'ACP_BACKUP_EXPLAIN'	=> 'Vous pouvez sauvegarder ici toutes les donnes relatives  votre forum. Vous pouvez stocker larchive de sauvegarde dans votre rpertoire <samp>store/</samp> ou la tlcharger directement. Selon la configuration de votre serveur, vous pourrez compresser cette archive dans un certain nombre de formats.',
+	'ACP_RESTORE_EXPLAIN'	=> 'Cela excutera une restauration complte de toutes les tables de phpBB  partir dun fichier de sauvegarde. Si cette fonctionnalit est compatible avec votre serveur, vous pouvez utiliser un fichier texte compress en GZip ou BZip2 qui sera automatiquement dcompress. <strong>ATTENTION :</strong> cela crasera toutes les donnes existantes. La restauration est un processus qui peut durer un certain temps, veillez  rester sur cette page tant que lopration nest pas termine. Les sauvegardes sont stockes dans le rpertoire <samp>store/</samp> et sont supposes tre ralises par lintermdiaire de loutil de restauration qui est intgr  phpBB. Il est possible que la restauration des bases de donnes qui nont pas t sauvegardes avec cet outil ne fonctionnent pas.',
+
+	'BACKUP_DELETE'		=> 'Le fichier de sauvegarde a t supprim avec succs.',
+	'BACKUP_INVALID'	=> 'Le fichier de sauvegarde que vous avez slectionn nest pas valide.',
+	'BACKUP_OPTIONS'	=> 'Options de sauvegarde',
+	'BACKUP_SUCCESS'	=> 'Le fichier de sauvegarde a t cr avec succs.',
+	'BACKUP_TYPE'		=> 'Type de sauvegarde ',
+
+	'DATABASE'			=> 'Utilitaires de la base de donnes',
+	'DATA_ONLY'			=> 'Uniquement les donnes',
+	'DELETE_BACKUP'		=> 'Supprimer la sauvegarde',
+	'DELETE_SELECTED_BACKUP'	=> 'tes-vous sr de vouloir supprimer la sauvegarde que vous avez slectionne ?',
+	'DESELECT_ALL'		=> 'Tout dslectionner',
+	'DOWNLOAD_BACKUP'	=> 'Tlcharger la sauvegarde',
+
+	'FILE_TYPE'			=> 'Type de fichier ',
+	'FILE_WRITE_FAIL'	=> 'Impossible dcrire le fichier dans le rpertoire de stockage.',
+	'FULL_BACKUP'		=> 'Complte',
+
+	'RESTORE_FAILURE'		=> 'Le fichier de sauvegarde semble corrompu.',
+	'RESTORE_OPTIONS'		=> 'Options de restauration',
+	'RESTORE_SUCCESS'		=> 'La base de donnes a t restaure avec succs.<br /><br />Votre forum devrait tre tel quil tait lors de la dernire sauvegarde.',
+
+	'SELECT_ALL'			=> 'Tout slectionner',
+	'SELECT_FILE'			=> 'Slectionner un fichier',
+	'START_BACKUP'			=> 'Dmarrer la sauvegarde',
+	'START_RESTORE'			=> 'Dmarrer la restauration',
+	'STORE_AND_DOWNLOAD'	=> 'Stocker et tlcharger',
+	'STORE_LOCAL'			=> 'Stocker le fichier localement',
+	'STRUCTURE_ONLY'		=> 'Uniquement la structure',
+
+	'TABLE_SELECT'		=> 'Slectionner la table ',
+	'TABLE_SELECT_ERROR'=> 'Vous devez slectionner au moins une table.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/email.php phpBB3/language/fr/acp/email.php
--- phpBB3-init/language/fr/acp/email.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/email.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,71 @@
+<?php
+/**
+*
+* acp_email [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Email settings
+$lang = array_merge($lang, array(
+	'ACP_MASS_EMAIL_EXPLAIN'		=> 'Vous pouvez envoyer ici un courriel  tous les utilisateurs ou groupes dutilisateurs <strong>qui ont accept la rception des courriels de masse</strong>. Pour ce faire, un courriel sera envoy  ladresse de courrier lectronique fournie par ladministrateur et une copie sera adresse  tous les destinataires. Le rglage par dfaut est limit  50 destinataires par courriel. Plus les destinataires sont nombreux, plus le temps dattente est important. Il est normal que lenvoi dun courriel de masse prenne du temps, vous serez averti lorsque lopration sera termine.',
+	'ALL_USERS'						=> 'Tous les utilisateurs',
+
+	'COMPOSE'				=> 'Composer',
+
+	'EMAIL_SEND_ERROR'		=> 'Une ou plusieurs erreurs sont survenues lors de lenvoi du courriel. Pour plus dinformations, veuillez consulter l%shistorique des erreurs%s.',
+	'EMAIL_SENT'			=> 'Ce message a t envoy.',
+	'EMAIL_SENT_QUEUE'		=> 'Ce message a t plac en file dattente afin dtre envoy ultrieurement.',
+
+	'LOG_SESSION'			=> 'Historique de la session de la messagerie lectronique vers lhistorique des erreurs critiques',
+
+	'SEND_IMMEDIATELY'		=> 'Envoyer immdiatement ',
+	'SEND_TO_GROUP'			=> 'Envoyer au groupe dutilisateurs ',
+	'SEND_TO_USERS'			=> 'Envoyer aux utilisateurs ',
+	'SEND_TO_USERS_EXPLAIN'	=> 'Si vous saisissez ici des noms dutilisateurs, ils craseront tous les groupes dutilisateurs prcdemment slectionns. Saisissez chaque nom dutilisateur sur une nouvelle ligne.',
+
+	'MAIL_BANNED'			=> 'Envoyer aux utilisateurs bannis',
+	'MAIL_BANNED_EXPLAIN'	=> 'Lorsque vous envoyez un courriel de masse  un groupe dutilisateurs, vous pouvez slectionner ici les utilisateurs bannis qui recevront galement ce courriel.',
+	'MAIL_HIGH_PRIORITY'	=> 'leve',
+	'MAIL_LOW_PRIORITY'		=> 'Faible',
+	'MAIL_NORMAL_PRIORITY'	=> 'Normale',
+	'MAIL_PRIORITY'			=> 'Priorit du courriel ',
+	'MASS_MESSAGE'			=> 'Message ',
+	'MASS_MESSAGE_EXPLAIN'	=> 'Veuillez noter que vous ne devez saisir que du texte brut. Toutes les balises seront automatiquement supprimes lors de lenvoi.',
+
+	'NO_EMAIL_MESSAGE'		=> 'Vous devez saisir un message.',
+	'NO_EMAIL_SUBJECT'		=> 'Vous devez spcifier le sujet de votre message.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/forums.php phpBB3/language/fr/acp/forums.php
--- phpBB3-init/language/fr/acp/forums.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/forums.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,162 @@
+<?php
+/**
+*
+* acp_forums [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Forum Admin
+$lang = array_merge($lang, array(
+	'AUTO_PRUNE_DAYS'			=> 'Dure du dlestage automatique ',
+	'AUTO_PRUNE_DAYS_EXPLAIN'	=> 'Nombre de jours entre la publication du dernier message dun sujet et la suppression du sujet.',
+	'AUTO_PRUNE_FREQ'			=> 'Frquence du dlestage automatique ',
+	'AUTO_PRUNE_FREQ_EXPLAIN'	=> 'Nombre de jours entre les dlestages automatiques.',
+	'AUTO_PRUNE_VIEWED'			=> 'Dure du dlestage automatique des messages consults ',
+	'AUTO_PRUNE_VIEWED_EXPLAIN'	=> 'Nombre de jours entre la dernire consultation dun sujet et sa suppression.',
+
+	'CONTINUE'						=> 'Continuer',
+  'COPY_PERMISSIONS'				=> 'Copier les permissions de ',
+  'COPY_PERMISSIONS_EXPLAIN'		=> 'Pour faciliter la configuration des permissions de votre nouveau forum, vous pouvez copier les permissions dun forum dj existant.',
+	'COPY_PERMISSIONS_ADD_EXPLAIN'	=> 'Une fois cr, le forum dtiendra les mmes permissions que celles que vous avez slectionnes ici. Si aucun forum nest slectionn, le forum cr ne sera pas visible car il ne dtiendra aucune permission.',
+	'COPY_PERMISSIONS_EDIT_EXPLAIN'	=> 'Si vous copiez des permissions, le forum dtiendra les mmes permissions que celles du forum que vous avez slectionn ici. Cela crasera toutes les permissions antrieurement dfinies pour ce forum. Si aucun forum nest slectionn, les permissions actuelles sont conserves.',
+	'COPY_TO_ACL'					=> 'Vous pouvez galement %sconfigurer les nouvelles permissions%s de ce forum.',
+	'CREATE_FORUM'					=> 'Crer un nouveau forum',
+
+	'DECIDE_MOVE_DELETE_CONTENT'		=> 'Supprimer le contenu ou le dplacer vers le forum',
+	'DECIDE_MOVE_DELETE_SUBFORUMS'		=> 'Supprimer les sous-forums ou les dplacer vers le forum',
+	'DEFAULT_STYLE'						=> 'Style par dfaut',
+	'DELETE_ALL_POSTS'					=> 'Supprimer les messages',
+	'DELETE_SUBFORUMS'					=> 'Supprimer les sous-forums et les messages',
+	'DISPLAY_ACTIVE_TOPICS'				=> 'Activer les sujets actifs ',
+	'DISPLAY_ACTIVE_TOPICS_EXPLAIN'		=> 'Si cette option est active, les sujets actifs du sous-forum que vous avez slectionn seront affichs dans cette catgorie.',
+
+	'EDIT_FORUM'					=> 'diter le forum',
+	'ENABLE_INDEXING'				=> 'Activer lindexation de la recherche ',
+	'ENABLE_INDEXING_EXPLAIN'		=> 'Si cette option est active, les messages publis dans ce forum seront indexs afin quils puissent tre recherchs.',
+	'ENABLE_POST_REVIEW'			=> 'Activer la revue des messages ',
+	'ENABLE_POST_REVIEW_EXPLAIN'	=> 'Si cette option est active, les utilisateurs pourront revoir leur message en ditant celui-ci mme si des rponses ont t publies. Il est conseill de ne pas activer cela sur des forums de discussions.',
+	'ENABLE_QUICK_REPLY'			=> 'Activer la rponse rapide ',
+	'ENABLE_QUICK_REPLY_EXPLAIN'	=> 'Active la rponse rapide dans ce forum. Ce rglage nest pas pris en compte si la rponse rapide a t dsactive sur tout le forum. La rponse rapide ne sera affiche quaux utilisateurs autoriss  publier dans ce forum.',
+	'ENABLE_RECENT'					=> 'Afficher les sujets actifs ',
+	'ENABLE_RECENT_EXPLAIN'			=> 'Si cette option est active, les sujets actifs de ce forum seront affichs dans la liste des sujets actifs.',
+	'ENABLE_TOPIC_ICONS'			=> 'Activer les icnes de sujets ',
+
+	'FORUM_ADMIN'						=> 'Administration des forums',
+	'FORUM_ADMIN_EXPLAIN'				=> 'Dans phpBB3, les catgories nexistent plus, tout est bas sur la notion de forums. Chaque forum peut contenir un nombre illimit de sous-forums et vous pouvez dterminer sils peuvent contenir ou non des messages, comme ctait le cas grce aux anciennes catgories. Vous pouvez ajouter, diter, supprimer, verrouiller ou dverrouiller ici des forums de manire individuelle et galement rgler certains contrles additionnels. Si vos messages et vos sujets se dsynchronisent, vous pouvez galement resynchroniser un forum. <strong>Vous devez copier ou rgler les permissions appropries sur chaque nouveau forum cr afin quils soient visibles de manire publique.</strong>',
+	'FORUM_AUTO_PRUNE'					=> 'Activer le dlestage automatique ',
+	'FORUM_AUTO_PRUNE_EXPLAIN'			=> 'Les sujets de ce forum seront automatiquement supprims par rapport aux rglages de la frquence et de la dure qui sont spcifis ci-dessous.',
+	'FORUM_CREATED'						=> 'Le forum a t cr avec succs.',
+	'FORUM_DATA_NEGATIVE'				=> 'Les paramtres de dlestage ne peuvent pas tre ngatifs.',
+	'FORUM_DESC_TOO_LONG'				=> 'La description du forum est trop longue. Elle ne doit pas dpasser 4000 caractres.',
+	'FORUM_DELETE'						=> 'Supprimer le forum',
+	'FORUM_DELETE_EXPLAIN'				=> 'Le formulaire ci-dessous vous permet de supprimer un forum. Si le forum contient des sous-forums, des sujets et des messages, vous pouvez slectionner lemplacement o vous souhaitez les dplacer.',
+	'FORUM_DELETED'						=> 'Le forum a t supprim avec succs.',
+	'FORUM_DESC'						=> 'Description ',
+	'FORUM_DESC_EXPLAIN'				=> 'Tout code HTML saisi ici sera affich comme tel.',
+	'FORUM_EDIT_EXPLAIN'				=> 'Le formulaire ci-dessous vous permet de personnaliser ce forum. La modration et les paramtres de contrle du compteur de messages sont rgls par lintermdiaire des permissions du forum concernant chaque utilisateur ou groupe dutilisateurs.',
+	'FORUM_IMAGE'						=> 'Image du forum ',
+	'FORUM_IMAGE_EXPLAIN'				=> 'Image additionnelle  associer  ce forum dont lemplacement est relatif  la racine du rpertoire de phpBB.',
+	'FORUM_IMAGE_NO_EXIST'				=> 'Limage du forum que vous avez spcifie nexiste pas',
+	'FORUM_LINK_EXPLAIN'				=> 'Lien complet, incluant le protocole <samp>http://</samp>, qui redirigera les utilisateurs vers la destination spcifie, tel que <samp>http://www.phpbb.fr/</samp>.',
+	'FORUM_LINK_TRACK'					=> 'Afficher le nombre de redirections ',
+	'FORUM_LINK_TRACK_EXPLAIN'			=> 'Enregistre et affiche le nombre de visites effectus sur le lien.',
+	'FORUM_NAME'						=> 'Nom du forum ',
+	'FORUM_NAME_EMPTY'					=> 'Veuillez saisir le nom du forum.',
+	'FORUM_PARENT'						=> 'Forum parent ',
+	'FORUM_PASSWORD'					=> 'Mot de passe du forum ',
+	'FORUM_PASSWORD_CONFIRM'			=> 'Confirmer le mot de passe du forum ',
+	'FORUM_PASSWORD_CONFIRM_EXPLAIN'	=> 'Ne compltez cela que si le mot de passe du forum a t spcifi.',
+	'FORUM_PASSWORD_EXPLAIN'			=> 'Met en place un mot de passe sur ce forum. Utilisez de prfrence le systme de permissions.',
+	'FORUM_PASSWORD_UNSET'				=> 'Supprimer le mot de passe du forum',
+	'FORUM_PASSWORD_UNSET_EXPLAIN'		=> 'Ne cochez cette case que si vous souhaitez supprimer le mot de passe du forum.',
+	'FORUM_PASSWORD_OLD'				=> 'Le mot de passe du forum utilise une mthode de hachage obsolte. Vous devriez la modifier.',
+	'FORUM_PASSWORD_MISMATCH'			=> 'Les mots de passe que vous avez saisis ne concordent pas.',
+	'FORUM_PRUNE_SETTINGS'				=> 'Rglages du dlestage du forum',
+	'FORUM_RESYNCED'					=> 'Le forum <strong>%s</strong> a t resynchronis avec succs',
+	'FORUM_RULES_EXPLAIN'				=> 'Les rgles du forum sont affiches sur toutes les pages du forum.',
+	'FORUM_RULES_LINK'					=> 'Lien vers les rgles du forum ',
+	'FORUM_RULES_LINK_EXPLAIN'			=> 'Vous pouvez saisir ici le lien de la page ou du message contenant les rgles de votre forum. Ce rglage crasera les rgles du forum existantes si elles ont t spcifies.',
+	'FORUM_RULES_PREVIEW'				=> 'Aperu des rgles du forum',
+	'FORUM_RULES_TOO_LONG'				=> 'Les rgles du forum ne doivent pas dpasser 4000 caractres.',
+	'FORUM_SETTINGS'					=> 'Rglages du forum',
+	'FORUM_STATUS'						=> 'Statut du forum ',
+	'FORUM_STYLE'						=> 'Style du forum ',
+	'FORUM_TOPICS_PAGE'					=> 'Nombre de sujets par page ',
+	'FORUM_TOPICS_PAGE_EXPLAIN'			=> 'Si cette valeur est autre que 0, elle remplacera le rglage par dfaut du nombre de sujets par page.',
+	'FORUM_TYPE'						=> 'Type de forum ',
+	'FORUM_UPDATED'						=> 'Les informations du forum ont t mises  jour avec succs.',
+
+	'FORUM_WITH_SUBFORUMS_NOT_TO_LINK'		=> 'Vous souhaitez modifier un forum qui contient des sous-forums dans lesquels vous pouvez rdiger des messages en un forum-lien. Avant de procder  cette opration, veuillez dplacer tous les sous-forums hors de ce forum, car une fois le forum modifi en forum-lien, vous ne pourrez plus consulter les sous-forums quil contient.',
+
+	'GENERAL_FORUM_SETTINGS'	=> 'Rglages gnraux du forum',
+
+	'LINK'						=> 'Lien',
+	'LIST_INDEX'				=> 'Lister les sous-forum dans la lgende du forum parent ',
+	'LIST_INDEX_EXPLAIN'		=> 'Affiche les sous-forums de ce forum sur lindex et sur quelques autres endroits comme lien dans la lgende de son forum parent si loption  Lister les sous-forums dans la lgende  est active.',
+	'LIST_SUBFORUMS'			=> 'Lister les sous-forums dans la lgende ',
+	'LIST_SUBFORUMS_EXPLAIN'	=> 'Affiche les sous-forums de ce forum sur lindex et sur quelques autres endroits comme lien dans la lgende de son forum parent si loption  Lister les sous-forum dans la lgende du forum parent  est active.',
+	'LOCKED'					=> 'Verrouill',
+
+	'MOVE_POSTS_NO_POSTABLE_FORUM'	=> 'Le forum que vous avez slectionn afin de dplacer le contenu nest pas appropri. Veuillez slectionner un forum dans lequel il est possible daccueillir des messages.',
+	'MOVE_POSTS_TO'					=> 'Dplacer les messages vers',
+	'MOVE_SUBFORUMS_TO'				=> 'Dplacer les sous-forums vers',
+
+	'NO_DESTINATION_FORUM'			=> 'Vous navez spcifi aucun forum afin de dplacer le contenu.',
+	'NO_FORUM_ACTION'				=> 'Aucune action na t dfinie afin de connatre ce qui se produit avec le contenu du forum.',
+	'NO_PARENT'						=> 'Aucun parent',
+	'NO_PERMISSIONS'				=> 'Ne pas copier les permissions',
+	'NO_PERMISSION_FORUM_ADD'		=> 'Vous navez pas les permissions appropries afin dajouter des forums.',
+	'NO_PERMISSION_FORUM_DELETE'	=> 'Vous navez pas les permissions appropries afin de supprimer des forums.',
+
+	'PARENT_IS_LINK_FORUM'		=> 'Le forum parent que vous avez slectionn est un forum-lien. Veuillez spcifier une catgorie ou un forum comme forum parent car les forums-liens ne peuvent pas contenir dautres forums.',
+	'PARENT_NOT_EXIST'			=> 'Le parent nexiste pas.',
+	'PRUNE_ANNOUNCEMENTS'		=> 'Dlester les annonces ',
+	'PRUNE_STICKY'				=> 'Dlester les notes ',
+	'PRUNE_OLD_POLLS'			=> 'Dlester les sondages inactifs ',
+	'PRUNE_OLD_POLLS_EXPLAIN'	=> 'Supprime les sujets contenant des sondages nayant obtenu aucun vote durant ce nombre de jours.',
+	
+	'REDIRECT_ACL'	=> 'Vous pouvez  prsent %srgler les permissions%s de ce forum.',
+
+	'SYNC_IN_PROGRESS'			=> 'Synchronisation du forum',
+	'SYNC_IN_PROGRESS_EXPLAIN'	=> 'Resynchronisation des sujets %1$d/%2$d en cours.',
+
+	'TYPE_CAT'			=> 'Catgorie',
+	'TYPE_FORUM'		=> 'Forum',
+	'TYPE_LINK'			=> 'Lien',
+
+	'UNLOCKED'			=> 'Dverrouill',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/groups.php phpBB3/language/fr/acp/groups.php
--- phpBB3-init/language/fr/acp/groups.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/groups.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,134 @@
+<?php
+/**
+*
+* acp_groups [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_GROUPS_MANAGE_EXPLAIN'		=> 'Depuis ce panneau, vous pouvez administrer tous vos groupes dutilisateurs. Vous pouvez galement supprimer, crer et diter les groupes dj existants. De plus, vous pouvez choisir les responsables des groupes, ouvrir, fermer et masquer les statuts des groupes et rgler le nom et la description dun groupe.',
+	'ADD_USERS'						=> 'Ajouter des utilisateurs',
+	'ADD_USERS_EXPLAIN'				=> 'Vous pouvez ajouter ici de nouveaux utilisateurs au groupe. Vous pouvez galement slectionner ce groupe afin quil devienne le nouveau groupe par dfaut des utilisateurs slectionns. De plus, vous pouvez les nommer en tant que responsables du groupe. Veuillez saisir chaque nom dutilisateur sur une ligne spare.',
+
+	'COPY_PERMISSIONS'				=> 'Copier les permissions de',
+	'COPY_PERMISSIONS_EXPLAIN'		=> 'Une fois cr, ce groupe aura les mmes permissions que le groupe que vous avez slectionn ici.',
+	'CREATE_GROUP'					=> 'Crer un nouveau groupe',
+
+	'GROUPS_NO_MEMBERS'				=> 'Ce groupe na aucun membre',
+	'GROUPS_NO_MODS'				=> 'Aucun responsable de groupe na t spcifi',
+
+	'GROUP_APPROVE'					=> 'Approuver le membre',
+	'GROUP_APPROVED'				=> 'Approuver les membres',
+	'GROUP_AVATAR'					=> 'Avatar du groupe',
+	'GROUP_AVATAR_EXPLAIN'			=> 'Cette image sera affiche dans le panneau de contrle des groupes.',
+	'GROUP_CLOSED'					=> 'Ferm',
+	'GROUP_COLOR'					=> 'Couleur du groupe ',
+	'GROUP_COLOR_EXPLAIN'			=> 'La couleur dans laquelle les noms dutilisateurs des membres apparatront. Laissez cela vide afin de conserver la couleur des membres par dfaut.',
+	'GROUP_CONFIRM_ADD_USER'		=> 'tes-vous sr de vouloir ajouter lutilisateur %1$s au groupe ?',
+	'GROUP_CONFIRM_ADD_USERS'		=> 'tes-vous sr de vouloir ajouter les utilisateurs %1$s au groupe ?',
+	'GROUP_CREATED'					=> 'Le groupe a t cr avec succs.',
+	'GROUP_DEFAULT'					=> 'Dfinir comme groupe par dfaut pour les membres',
+	'GROUP_DEFS_UPDATED'			=> 'Le groupe par dfaut a t rgl pour tous les membres slectionns.',
+	'GROUP_DELETE'					=> 'Supprimer le membre du groupe',
+	'GROUP_DELETED'					=> 'Le groupe a t supprim et tous ses membres ont t transfrs dans le groupe par dfaut avec succs.',
+	'GROUP_DEMOTE'					=> 'Rtrograder le responsable du groupe',
+	'GROUP_DESC'					=> 'Description du groupe ',
+	'GROUP_DETAILS'					=> 'Informations sur le groupe',
+	'GROUP_EDIT_EXPLAIN'			=> 'Vous pouvez diter ici un groupe existant. Vous pouvez modifier son nom, sa description et son type (ouvert, ferm, etc.). Vous pouvez galement rgler certaines options du groupe comme sa couleur, son rang, etc. Les modifications effectues ici craseront les rglages des utilisateurs. Veuillez noter que si les permissions des utilisateurs le permettent, les membres dun groupe pourront craser lavatar du groupe.',
+	'GROUP_ERR_USERS_EXIST'			=> 'Les utilisateurs spcifis sont dj membres de ce groupe.',
+	'GROUP_FOUNDER_MANAGE'			=> 'Limiter la gestion aux fondateurs uniquement ',
+	'GROUP_FOUNDER_MANAGE_EXPLAIN'	=> 'Limite la gestion de ce groupe aux fondateurs uniquement. Les membres du groupe et les utilisateurs dtenant les permissions de ce groupe peuvent voir ce groupe.',
+	'GROUP_HIDDEN'					=> 'Invisible',
+	'GROUP_LANG'					=> 'Langue du groupe',
+	'GROUP_LEAD'					=> 'Responsable(s) du groupe',
+	'GROUP_LEADERS_ADDED'			=> 'Les nouveaux responsables du groupe ont t ajouts avec succs.',
+	'GROUP_LEGEND'					=> 'Afficher le groupe dans la lgende ',
+	'GROUP_LIST'					=> 'Membre(s) actuel(s)',
+	'GROUP_LIST_EXPLAIN'			=> 'Ceci est la liste complte de tous les membres actuels de ce groupe. Vous pouvez supprimer ses membres (except dans certains groupes spciaux) ou en ajouter de nouveaux.',
+	'GROUP_MEMBERS'					=> 'Membre(s) du groupe',
+	'GROUP_MEMBERS_EXPLAIN'			=> 'Ceci est la liste complte de tous les membres de ce groupe dutilisateurs. Ils sont classs par responsables, membres en attente et membres existants. Vous pouvez grer ici tous les membres de ce groupe ainsi que leurs rles. Pour supprimer un responsable tout en le conservant dans le groupe, utilisez plutt la rtrogradation au lieu de la suppression. De mme, pour promouvoir un membre existant en responsable, utilisez la promotion.',
+	'GROUP_MESSAGE_LIMIT'			=> 'Limite des messages privs par dossier des membres du groupe ',
+	'GROUP_MESSAGE_LIMIT_EXPLAIN'	=> 'Ce rglage crasera la limite des messages privs par dossier des utilisateurs. Rglez cette valeur sur 0 afin dutiliser la limite des messages privs par dossier des utilisateurs.',
+	'GROUP_MODS_ADDED'				=> 'Les nouveaux responsables du groupe ont t ajouts avec succs.',
+	'GROUP_MODS_DEMOTED'			=> 'Les responsables du groupe ont t rtrograds avec succs.',
+	'GROUP_MODS_PROMOTED'			=> 'Les membres du groupe ont t promus avec succs.',
+	'GROUP_NAME'					=> 'Nom du groupe ',
+	'GROUP_NAME_TAKEN'				=> 'Le nom du groupe que vous avez saisi est dj utilis, veuillez en slectionner un autre.',
+	'GROUP_OPEN'					=> 'Ouvert',
+	'GROUP_PENDING'					=> 'Membre(s) en attente',
+	'GROUP_MAX_RECIPIENTS'         => 'Nombre maximum de destinataires autoriss dans un message priv ',
+  'GROUP_MAX_RECIPIENTS_EXPLAIN'   => 'Le nombre maximum de destinataires autoriss dans un message priv. Rglez cette valeur sur 0 afin dutiliser le rglage de la largeur du forum.',
+  'GROUP_OPTIONS_SAVE'			=> 'Options larges de groupe',
+	'GROUP_PROMOTE'					=> 'Promouvoir en responsable du groupe',
+	'GROUP_RANK'					=> 'Rang du groupe ',
+	'GROUP_RECEIVE_PM'				=> 'Autoriser le groupe  recevoir des messages privs ',
+	'GROUP_RECEIVE_PM_EXPLAIN'		=> 'Veuillez noter que les groupes invisibles ne sont pas autoriss  recevoir des messages privs.',
+	'GROUP_REQUEST'					=> 'Restreint',
+	'GROUP_SETTINGS_SAVE'			=> 'Rglages du groupe',
+	'GROUP_SKIP_AUTH'				=> 'Exempter le responsable du groupe de ses permissions ',
+	'GROUP_SKIP_AUTH_EXPLAIN'		=> 'Si cette option est active, le responsable de ce groupe nhritera plus de ses permissions.',
+	'GROUP_TYPE'					=> 'Type de groupe ',
+	'GROUP_TYPE_EXPLAIN'			=> 'Dtermine quels sont les utilisateurs qui peuvent rejoindre ou voir ce groupe.',
+	'GROUP_UPDATED'					=> 'Les prfrences du groupe ont t mises  jour avec succs.',
+	
+	'GROUP_USERS_ADDED'				=> 'Les nouveaux utilisateurs ont t ajouts au groupe avec succs.',
+	'GROUP_USERS_EXIST'				=> 'Les utilisateurs que vous avez slectionns sont dj membres de ce groupe.',
+	'GROUP_USERS_REMOVE'			=> 'Les utilisateurs ont t supprims de ce groupe et transfrs dans le groupe par dfaut avec succs.',
+
+	'MAKE_DEFAULT_FOR_ALL'	=> 'Dfinir comme groupe par dfaut pour tous les membres',
+	'MEMBERS'				=> 'Membre(s)',
+
+	'NO_GROUP'					=> 'Aucun groupe na t spcifi.',
+	'NO_GROUPS_CREATED'			=> 'Aucun groupe na t cre.',
+	'NO_PERMISSIONS'			=> 'Ne pas copier les permissions',
+	'NO_USERS'					=> 'Vous navez spcifi aucun utilisateur.',
+	'NO_USERS_ADDED'			=> 'Aucun utilisateur na t ajout au groupe.',
+	'NO_VALID_USERS'			=> 'Vous navez spcifi aucun utilisateur ligible pour cette action.',
+
+	'SPECIAL_GROUPS'			=> 'Groupes prdfinis',
+	'SPECIAL_GROUPS_EXPLAIN'	=> 'Les groupes prdfinis sont des groupes spciaux, ils ne peuvent ni tre supprims, ni tre directement modifis. Cependant, vous pouvez y ajouter des utilisateurs et y modifier les rglages de base.',
+
+	'TOTAL_MEMBERS'				=> 'Membre(s)',
+
+	'USERS_APPROVED'				=> 'Les utilisateurs ont t approuvs avec succs.',
+	'USER_DEFAULT'					=> 'Utilisateur par dfaut',
+	'USER_DEF_GROUPS'				=> 'Groupes dfinis concernant lutilisateur',
+	'USER_DEF_GROUPS_EXPLAIN'		=> 'Reprsentent les groupes crs par vous-mme ou par un autre administrateur du forum. Vous pouvez y grer ses membres, diter ses proprits ou mme le supprimer.',
+	'USER_GROUP_DEFAULT'			=> 'Dfinir comme groupe par dfaut',
+	'USER_GROUP_DEFAULT_EXPLAIN'	=> 'Si vous slectionnez <samp>Oui</samp> ici, ce groupe sera le groupe par dfaut de tous les utilisateurs.',
+	'USER_GROUP_LEADER'				=> 'Dfinir comme responsable du groupe',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/index.htm phpBB3/language/fr/acp/index.htm
--- phpBB3-init/language/fr/acp/index.htm	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/index.htm	2011-08-23 19:32:52.000000000 +0200
@@ -0,0 +1,10 @@
+<html>
+<head>
+<title></title>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
+</head>
+
+<body bgcolor="#FFFFFF" text="#000000">
+
+</body>
+</html>
diff -rNU5 phpBB3-init/language/fr/acp/language.php phpBB3/language/fr/acp/language.php
--- phpBB3-init/language/fr/acp/language.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/language.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,104 @@
+<?php
+/**
+*
+* acp_language [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_FILES'						=> 'Fichiers de langue de ladministration',
+	'ACP_LANGUAGE_PACKS_EXPLAIN'	=> 'Vous pouvez installer, modifier et supprimer ici des archives de langue. Larchive de langue par dfaut est marque par un astrisque (*).',
+
+	'EMAIL_FILES'			=> 'Modles de courriels',
+
+	'FILE_CONTENTS'				=> 'Contenu du fichier',
+	'FILE_FROM_STORAGE'			=> 'Fichier du rpertoire de stockage',
+
+	'HELP_FILES'				=> 'Fichiers daide',
+
+	'INSTALLED_LANGUAGE_PACKS'	=> 'Archives de langue installes',
+	'INVALID_LANGUAGE_PACK'		=> 'Larchive de langue que vous avez slectionne semble incorrecte. Veuillez la vrifier et la transfrer de nouveau si ncessaire.',
+	'INVALID_UPLOAD_METHOD'		=> 'La mthode de transfert que vous avez slectionne est incorrecte. Veuillez essayer avec une mthode diffrente.',
+
+	'LANGUAGE_DETAILS_UPDATED'			=> 'Les informations concernant la langue ont t mises  jour avec succs.',
+	'LANGUAGE_ENTRIES'					=> 'Entres de langue',
+	'LANGUAGE_ENTRIES_EXPLAIN'			=> 'Vous pouvez modifier ici les cls de langue qui sont dj existantes ou qui ne sont pas traduites.<br /><strong>Note :</strong> une fois que vous avez modifi un fichier de langue, le fichier modifi sera stock dans un rpertoire spar afin que vous puissiez le tlcharger. Les modifications ne seront visibles aux utilisateurs quaprs avoir remplac les fichiers de langue originaux par les fichiers de langue modifis en les transfrant sur votre espace internet.',
+	'LANGUAGE_FILES'					=> 'Fichiers de langue',
+	'LANGUAGE_KEY'						=> 'Cl de langue',
+	'LANGUAGE_PACK_ALREADY_INSTALLED'	=> 'Cette archive de langue est dj installe.',
+	'LANGUAGE_PACK_DELETED'				=> 'Larchive de langue <strong>%s</strong> a t supprime avec succs. Tous les utilisateurs qui utilisaient cette langue utilisent  prsent la langue par dfaut du forum.',
+	'LANGUAGE_PACK_DETAILS'				=> 'Informations sur larchive de langue',
+	'LANGUAGE_PACK_INSTALLED'			=> 'Larchive de langue <strong>%s</strong> a t installe avec succs.',
+	'LANGUAGE_PACK_ISO'					=> 'ISO',
+	'LANGUAGE_PACK_LOCALNAME'			=> 'Nom national',
+	'LANGUAGE_PACK_NAME'				=> 'Nom',
+	'LANGUAGE_PACK_NOT_EXIST'			=> 'Larchive de langue que vous avez slectionne nexiste pas.',
+	'LANGUAGE_PACK_USED_BY'				=> 'Utilise par (incluant les robots)',
+	'LANGUAGE_VARIABLE'					=> 'Variable de langue',
+	'LANG_AUTHOR'						=> 'Auteur de larchive de langue ',
+	'LANG_ENGLISH_NAME'					=> 'Nom anglais ',
+	'LANG_ISO_CODE'						=> 'Code ISO ',
+	'LANG_LOCAL_NAME'					=> 'Nom national ',
+
+	'MISSING_LANGUAGE_FILE'		=> 'Fichier de langue manquant : <strong style="color:red">%s</strong>',
+	'MISSING_LANG_VARIABLES'	=> 'Variables de langue manquantes',
+	'MODS_FILES'				=> 'Fichiers de langue des MODs',
+
+	'NO_FILE_SELECTED'				=> 'Vous navez spcifi aucun fichier de langue.',
+	'NO_LANG_ID'					=> 'Vous navez spcifi aucune archive de langue.',
+	'NO_REMOVE_DEFAULT_LANG'		=> 'Vous ne pouvez pas supprimer larchive de langue par dfaut.<br />Si vous souhaitez supprimer cette archive de langue, veuillez avant tout modifier la langue par dfaut de votre forum.',
+	'NO_UNINSTALLED_LANGUAGE_PACKS'	=> 'Aucune archive de langue nest pas installe',
+
+	'REMOVE_FROM_STORAGE_FOLDER'		=> 'Supprimer du rpertoire de stockage',
+
+	'SELECT_DOWNLOAD_FORMAT'	=> 'Slectionner le format de tlchargement',
+	'SUBMIT_AND_DOWNLOAD'		=> 'Envoyer et tlcharger le fichier',
+	'SUBMIT_AND_UPLOAD'			=> 'Envoyer et transfrer le fichier',
+
+	'THOSE_MISSING_LANG_FILES'			=> 'Les fichiers de langue suivants sont absents du rpertoire de langue %s',
+	'THOSE_MISSING_LANG_VARIABLES'		=> 'Les variables de langue suivantes sont absentes de larchive de langue <strong>%s</strong>',
+
+	'UNINSTALLED_LANGUAGE_PACKS'	=> 'Archives de langue ntant pas installes',
+
+	'UNABLE_TO_WRITE_FILE'		=> 'Le fichier na pas pu tre crit sur %s.',
+	'UPLOAD_COMPLETED'			=> 'Le transfert a t ralis avec succs.',
+	'UPLOAD_FAILED'				=> 'Le transfert a chou pour une raison inconnue. Veuillez remplacer manuellement le fichier appropri.',
+	'UPLOAD_METHOD'				=> 'Mthode de transfert ',
+	'UPLOAD_SETTINGS'			=> 'Rglages du transfert',
+
+	'WRONG_LANGUAGE_FILE'		=> 'Le fichier de langue que vous avez slectionn est incorrect.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/modules.php phpBB3/language/fr/acp/modules.php
--- phpBB3-init/language/fr/acp/modules.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/modules.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,86 @@
+<?php
+/**
+*
+* acp_modules [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_MODULE_MANAGEMENT_EXPLAIN'	=> 'Vous pouvez grer ici lensemble des modules. Veuillez noter que le PCA dtient une structure  trois niveaux de menu (Catgorie -> Catgorie -> Module) alors que les autres dtiennent une structure  deux niveaux de menu (Catgorie -> Module), ce qui doit tre conserv. Veuillez galement prendre conscience que vous pouvez vous bloquer si vous dsactivez ou supprimez les modules responsables de la gestion des modules.',
+	'ADD_MODULE'					=> 'Ajouter un module',
+	'ADD_MODULE_CONFIRM'			=> 'tes-vous sr de vouloir ajouter ce module avec le mode slectionn ?',
+	'ADD_MODULE_TITLE'				=> 'Ajouter un module',
+
+	'CANNOT_REMOVE_MODULE'	=> 'Impossible de supprimer le module, il possde des sous-modules. Veuillez supprimer ou dplacer tous les sous-modules avant deffectuer cette opration.',
+	'CATEGORY'				=> 'Catgorie',
+	'CHOOSE_MODE'			=> 'Slectionner le mode du module ',
+	'CHOOSE_MODE_EXPLAIN'	=> 'Slectionner les modes du module qui seront utiliss.',
+	'CHOOSE_MODULE'			=> 'Slectionner un module ',
+	'CHOOSE_MODULE_EXPLAIN'	=> 'Slectionner le fichier qui sera utilis par ce module.',
+	'CREATE_MODULE'			=> 'Crer un nouveau module',
+
+	'DEACTIVATED_MODULE'	=> 'Module dsactiv',
+	'DELETE_MODULE'			=> 'Supprimer le module',
+	'DELETE_MODULE_CONFIRM'	=> 'tes-vous sr de vouloir supprimer ce module ?',
+
+	'EDIT_MODULE'			=> 'diter le module',
+	'EDIT_MODULE_EXPLAIN'	=> 'Vous pouvez saisir ici les rglages spcifiques au module.',
+
+	'HIDDEN_MODULE'			=> 'Module invisible',
+
+	'MODULE'					=> 'Module',
+	'MODULE_ADDED'				=> 'Le module a t ajout avec succs.',
+	'MODULE_DELETED'			=> 'Le module a t supprim avec succs.',
+	'MODULE_DISPLAYED'			=> 'Module affich ',
+	'MODULE_DISPLAYED_EXPLAIN'	=> 'Si vous ne souhaitez pas afficher ce module mais que vous souhaitez lutiliser, rglez ceci sur <samp>Non</samp>.',
+	'MODULE_EDITED'				=> 'Le module a t dit avec succs.',
+	'MODULE_ENABLED'			=> 'Module activ ',
+	'MODULE_LANGNAME'			=> 'Nom de la langue du module ',
+	'MODULE_LANGNAME_EXPLAIN'	=> 'Saisissez le nom du module qui sera affich. Utilisez une variable de langue si le nom est utilis par le fichier de langue.',
+	'MODULE_TYPE'				=> 'Type de module ',
+
+	'NO_CATEGORY_TO_MODULE'	=> 'Impossible de modifier la catgorie en module. Veuillez supprimer ou dplacer tous les sous-modules avant deffectuer cette opration.',
+	'NO_MODULE'				=> 'Aucun module na t trouv.',
+	'NO_MODULE_ID'			=> 'Aucune identification du module na t spcifie.',
+	'NO_MODULE_LANGNAME'	=> 'Aucun nom de la langue du module na t spcifi.',
+	'NO_PARENT'				=> 'Aucun parent',
+
+	'PARENT'				=> 'Parent ',
+	'PARENT_NO_EXIST'		=> 'Le parent nexiste pas.',
+
+	'SELECT_MODULE'			=> 'Slectionner un module ',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/permissions.php phpBB3/language/fr/acp/permissions.php
--- phpBB3-init/language/fr/acp/permissions.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/permissions.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,295 @@
+<?php
+/**
+*
+* acp_permissions [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_PERMISSIONS_EXPLAIN'	=> '
+		<p>Les permissions sont trs nombreuses et regroupes en quatre grandes sections qui sont les :</p>
+
+		<h2>Permissions globales</h2>
+		<p>Elles sont utilises afin de contrler laccs de faon globale et sont appliques  lensemble du forum. Elles sont divises en permissions des utilisateurs, des groupes, des administrateurs et des modrateurs globaux.</p>
+
+		<h2>Permissions basiques des forums</h2>
+		<p>Elles sont utilises afin de contrler laccs basique aux forums. Elles sont divises en permissions des forums, des modrateurs aux forums, des utilisateurs aux forums et des groupes aux forums.</p>
+
+		<h2>Rles des permissions</h2>
+		<p>Elles sont utilises afin de crer diffrents jeux de permissions pour les diffrents types de permissions qui peuvent tre assigns ultrieurement  une base de rles basiques. Les rles par dfaut devraient couvrir ladministration des forums, quils soient petits ou grands. Cependant, dans chacune des quatre divisions, vous pouvez ajouter, diter et supprimer des rles selon lajustement que vous souhaitez apporter.</p>
+
+		<h2>Masques des permissions</h2>
+		<p>Ils sont utiliss afin de voir les permissions effectives assignes aux utilisateurs, aux modrateurs (locaux et globaux), aux administrateurs ou aux forums.</p>
+	
+		<br />
+
+		<p>Pour plus dinformations concernant le rglage et la gestion des permissions de votre forum phpBB3, veuillez consulter le <a href="http://www.phpbb.com/support/documentation/3.0/quickstart/quick_permissions.html">chapitre 1.5 de notre guide de dmarrage rapide</a>.</p>
+	',
+
+	'ACL_NEVER'				=> 'Jamais',
+	'ACL_SET'				=> 'Rglage des permissions',
+	'ACL_SET_EXPLAIN'		=> 'Les permissions sont bases sur un systme de <samp>OUI</samp>/<samp>NON</samp>. Rglez une option sur <samp>JAMAIS</samp> afin quun utilisateur ou un groupe dutilisateurs crase toute autre valeur qui lui est assigne. Si vous ne souhaitez pas assigner une valeur  une option concernant cet utilisateur ou ce groupe, slectionnez <samp>NON</samp>. Si des valeurs sont assignes ailleurs que cette autre option, elles seront utilises de prfrence, autrement <samp>JAMAIS</samp> est appliqu. Tous les objets cochs avec la bote de slection situe devant eux copieront le rglage de la permission que vous avez dfini.',
+	'ACL_SETTING'			=> 'Rglage',
+
+	'ACL_TYPE_A_'			=> 'Permissions des administrateurs',
+	'ACL_TYPE_F_'			=> 'Permissions des forums',
+	'ACL_TYPE_M_'			=> 'Permissions des modrateurs',
+	'ACL_TYPE_U_'			=> 'Permissions des utilisateurs',
+
+	'ACL_TYPE_GLOBAL_A_'	=> 'Permissions des administrateurs',
+	'ACL_TYPE_GLOBAL_U_'	=> 'Permissions des utilisateurs',
+	'ACL_TYPE_GLOBAL_M_'	=> 'Permissions des modrateurs globaux',
+	'ACL_TYPE_LOCAL_M_'		=> 'Permissions des modrateurs du forum',
+	'ACL_TYPE_LOCAL_F_'		=> 'Permissions des forums',
+	
+	'ACL_NO'				=> 'Non',
+	'ACL_VIEW'				=> 'Aperu des permissions',
+	'ACL_VIEW_EXPLAIN'		=> 'Vous pouvez consulter ici toutes les permissions effectives de lutilisateur ou du groupe. Un rectangle rouge indique que lutilisateur ou le groupe ne dtient aucune permission, un rectangle vert indique que lutilisateur ou le groupe dtient des permissions.',
+	'ACL_YES'				=> 'Oui',
+
+	'ACP_ADMINISTRATORS_EXPLAIN'				=> 'Vous pouvez attribuer ici des permissions dadministrateurs  des utilisateurs ou des groupes. Tous les utilisateurs ayant des permissions dadministrateurs peuvent accder au panneau de contrle dadministration.',
+	'ACP_FORUM_MODERATORS_EXPLAIN'				=> 'Vous pouvez promouvoir ici des utilisateurs et des groupes en modrateurs du forum. Veuillez vous rendre sur la page approprie afin dattribuer laccs des utilisateurs aux forums et afin de dfinir des droits de modration globale ou dadministration.',
+	'ACP_FORUM_PERMISSIONS_EXPLAIN'				=> 'Vous pouvez modifier ici le nombre dutilisateurs et de groupes pouvant accder  certains forums. Veuillez vous rendre sur la page approprie afin dattribuer des modrateurs ou dfinir des administrateurs.',
+	'ACP_FORUM_PERMISSIONS_COPY_EXPLAIN'		=> 'Vous pouvez copier ici les permissions dun forum  un ou plusieurs autres forums.',
+	'ACP_GLOBAL_MODERATORS_EXPLAIN'				=> 'Vous pouvez attribuer ici les permissions de modrateurs globaux aux utilisateurs ou aux groupes. Ces modrateurs sont des modrateurs ordinaires mise  part quils ont accs  tous les forums.',
+	'ACP_GROUPS_FORUM_PERMISSIONS_EXPLAIN'		=> 'Vous pouvez attribuer ici les permissions des forums aux groupes.',
+	'ACP_GROUPS_PERMISSIONS_EXPLAIN'			=> 'Vous pouvez attribuer ici des permissions globales  des groupes, comme les permissions des utilisateurs, des modrateurs globaux et des administrateurs. Les permissions des utilisateurs incluent des fonctionnalits comme lutilisation davatars, lenvoi de messages privs, etc. Les permissions des modrateurs globaux incluent des fonctionnalits comme lapprobation de messages, la gestion de sujets, la gestion des bannissements, etc. Enfin, les permissions des administrateurs incluent des fonctionnalits comme la modification des permissions, la gestion des BBCodes personnaliss, la gestion des forums, etc. Les permissions individuelles des utilisateurs ne doivent tre modifies que dans de rares occasions, il est prfrable de les intgrer  un groupe et de rgler les permissions de ce groupe.',
+	'ACP_ADMIN_ROLES_EXPLAIN'					=> 'Vous pouvez grer ici les rles des permissions des administrateurs. Les rles sont des permissions effectives. Si vous modifiez un rle, les lments auxquels ce rle tait assign verront galement leurs permissions modifies.',
+	'ACP_FORUM_ROLES_EXPLAIN'					=> 'Vous pouvez grer ici les rles des permissions des forums. Les rles sont des permissions effectives. Si vous modifiez un rle, les lments auxquels ce rle tait assign verront galement leurs permissions modifies.',
+	'ACP_MOD_ROLES_EXPLAIN'						=> 'Vous pouvez grer ici les rles des permissions des modrateurs. Les rles sont des permissions effectives. Si vous modifiez un rle, les lments auxquels ce rle tait assign verront galement leurs permissions modifies.',
+	'ACP_USER_ROLES_EXPLAIN'					=> 'Vous pouvez grer ici les rles des permissions des utilisateurs. Les rles sont des permissions effectives. Si vous modifiez un rle, les lments auxquels ce rle tait assign verront galement leurs permissions modifies.',
+	'ACP_USERS_FORUM_PERMISSIONS_EXPLAIN'		=> 'Vous pouvez attribuer ici les permissions des forums aux utilisateurs.',
+	'ACP_USERS_PERMISSIONS_EXPLAIN'				=> 'Vous pouvez attribuer ici les permissions globales aux utilisateurs, comme les permissions des utilisateurs, des modrateurs globaux et des administrateurs. Les permissions des utilisateurs incluent des fonctionnalits comme lutilisation davatars, lenvoi de messages privs, etc. Les permissions des modrateurs globaux incluent des fonctionnalits comme lapprobation de messages, la gestion des sujets, la gestion des bannissements, etc. Enfin, les permissions des administrateurs incluent des fonctionnalits comme la modification des permissions, la gestion des BBCodes personnaliss, la gestion des forums, etc. Pour modifier de manire massive ces rglages, il est prfrable dutiliser le systme des permissions des groupes. Les permissions individuelles des utilisateurs ne doivent tre modifies que dans de rares occasions, il est prfrable de les intgrer  un groupe et de rgler les permissions de ce groupe.',
+	'ACP_VIEW_ADMIN_PERMISSIONS_EXPLAIN'		=> 'Vous pouvez consulter ici les permissions effectives des administrateurs assignes aux utilisateurs ou aux groupes slectionns',
+	'ACP_VIEW_GLOBAL_MOD_PERMISSIONS_EXPLAIN'	=> 'Vous pouvez consulter ici les permissions effectives des modrateurs globaux assignes aux utilisateurs ou aux groupes slectionns',
+	'ACP_VIEW_FORUM_PERMISSIONS_EXPLAIN'		=> 'Vous pouvez consulter ici les permissions effectives des forums assignes aux utilisateurs ou aux groupes slectionns',
+	'ACP_VIEW_FORUM_MOD_PERMISSIONS_EXPLAIN'	=> 'Vous pouvez consulter ici les permissions effectives des modrateurs du forum assignes aux utilisateurs ou aux groupes slectionns',
+	'ACP_VIEW_USER_PERMISSIONS_EXPLAIN'			=> 'Vous pouvez consulter ici les permissions effectives des utilisateurs assignes aux utilisateurs ou aux groupes slectionns',
+
+	'ADD_GROUPS'				=> 'Ajouter des groupes',
+	'ADD_PERMISSIONS'			=> 'Ajouter des permissions',
+	'ADD_USERS'					=> 'Ajouter des utilisateurs',
+	'ADVANCED_PERMISSIONS'		=> 'Permissions avances',
+	'ALL_GROUPS'				=> 'Slectionner tous les groupes',
+	'ALL_NEVER'					=> 'Tous sur <samp>JAMAIS</samp>',
+	'ALL_NO'					=> 'Tous sur <samp>NON</samp>',
+	'ALL_USERS'					=> 'Slectionner tous les utilisateurs',
+	'ALL_YES'					=> 'Tous sur <samp>OUI</samp>',
+	'APPLY_ALL_PERMISSIONS'		=> 'Appliquer toutes les permissions',
+	'APPLY_PERMISSIONS'			=> 'Appliquer les permissions',
+	'APPLY_PERMISSIONS_EXPLAIN'	=> 'Les permissions et les rles dfinis concernant cet lment ne seront appliqus quaux lments cochs et  llment en question.',
+	'AUTH_UPDATED'				=> 'Les permissions ont t mises  jour avec succs.',
+
+	'COPY_PERMISSIONS_CONFIRM'				=> 'tes-vous sr de vouloir raliser cette opration ? Attention, cela crasera toutes les permissions existantes sur les forums slectionns.',
+	'COPY_PERMISSIONS_FORUM_FROM_EXPLAIN'	=> 'Le forum source  partir duquel vous souhaitez copier les permissions.',
+	'COPY_PERMISSIONS_FORUM_TO_EXPLAIN'		=> 'Les forums de destination sur lesquels vous souhaitez copier puis appliquer les permissions.',
+	'COPY_PERMISSIONS_FROM'					=> 'Copier les permissions de ',
+	'COPY_PERMISSIONS_TO'					=> 'Appliquer les permissions sur ',
+
+	'CREATE_ROLE'				=> 'Crer un rle',
+	'CREATE_ROLE_FROM'			=> 'Utiliser les rglages de',
+	'CUSTOM'					=> 'Personnaliser',
+
+	'DEFAULT'					=> 'Dfaut',
+	'DELETE_ROLE'				=> 'Supprimer le rle',
+	'DELETE_ROLE_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ce rle ? Les lments utilisant ce rle ne perdront <strong>pas</strong> les rglages des permissions qui leurs sont assigns.',
+	'DISPLAY_ROLE_ITEMS'		=> 'Voir les lments utilisant ce rle',
+
+	'EDIT_PERMISSIONS'			=> 'diter les permissions',
+	'EDIT_ROLE'					=> 'diter le rle',
+
+	'GROUPS_NOT_ASSIGNED'		=> 'Aucun groupe nest assign  ce rle',
+
+	'LOOK_UP_GROUP'				=> 'Rechercher le groupe dutilisateurs ',
+	'LOOK_UP_USER'				=> 'Rechercher lutilisateur',
+
+	'MANAGE_GROUPS'		=> 'Grer les groupes',
+	'MANAGE_USERS'		=> 'Grer les utilisateurs',
+
+	'NO_AUTH_SETTING_FOUND'		=> 'Les rglages des permissions ne sont pas dfinis.',
+	'NO_ROLE_ASSIGNED'			=> 'Aucun rle nest assign',
+	'NO_ROLE_ASSIGNED_EXPLAIN'	=> 'Le rglage de ce rle ne modifie pas les permissions de droite. Si vous souhaitez supprimer toutes les permissions, vous devez utiliser le lien  Tous sur <samp>NON</samp> .',
+	'NO_ROLE_AVAILABLE'			=> 'Aucun rle nest disponible',
+	'NO_ROLE_NAME_SPECIFIED'	=> 'Veuillez saisir le nom de ce rle.',
+	'NO_ROLE_SELECTED'			=> 'Le rle est introuvable.',
+	'NO_USER_GROUP_SELECTED'	=> 'Vous navez slectionn aucun utilisateur ou groupe dutilisateurs.',
+
+	'ONLY_FORUM_DEFINED'	=> 'Vous navez slectionn que des forums. Veuillez galement slectionner au moins un utilisateur ou un groupe dutilisateurs.',
+
+	'PERMISSION_APPLIED_TO_ALL'		=> 'Les permissions et les rles seront galement appliqus  tous les lments cochs',
+	'PLUS_SUBFORUMS'				=> '+Sous-forums',
+
+	'REMOVE_PERMISSIONS'			=> 'Supprimer des permissions',
+	'REMOVE_ROLE'					=> 'Supprimer un rle',
+	'RESULTING_PERMISSION'			=> 'Permission rsultante',
+	'ROLE'							=> 'Rle ',
+	'ROLE_ADD_SUCCESS'				=> 'Le rle a t ajout avec succs.',
+	'ROLE_ASSIGNED_TO'				=> 'Utilisateurs et groupes dutilisateurs assigns  %s',
+	'ROLE_DELETED'					=> 'Le rle a t supprim avec succs.',
+	'ROLE_DESCRIPTION'				=> 'Description du rle ',
+
+	'ROLE_ADMIN_FORUM'			=> 'Administrateur du forum',
+	'ROLE_ADMIN_FULL'			=> 'Administrateur aux pleins pouvoirs',
+	'ROLE_ADMIN_STANDARD'		=> 'Administrateur standard',
+	'ROLE_ADMIN_USERGROUP'		=> 'Utilisateurs et groupes dadministrateurs',
+	'ROLE_FORUM_BOT'			=> 'Accs des robots',
+	'ROLE_FORUM_FULL'			=> 'Accs entier',
+	'ROLE_FORUM_LIMITED'		=> 'Accs limit',
+	'ROLE_FORUM_LIMITED_POLLS'	=> 'Accs limit + sondages',
+	'ROLE_FORUM_NOACCESS'		=> 'Aucun accs',
+	'ROLE_FORUM_ONQUEUE'		=> 'Mise en attente de modration',
+	'ROLE_FORUM_POLLS'			=> 'Accs standard + sondages',
+	'ROLE_FORUM_READONLY'		=> 'Accs de lecture seulement',
+	'ROLE_FORUM_STANDARD'		=> 'Accs standard',
+	'ROLE_FORUM_NEW_MEMBER'		=> 'Utilisateur inscrit rcemment',
+	'ROLE_MOD_FULL'				=> 'Modrateur aux pleins pouvoirs',
+	'ROLE_MOD_QUEUE'			=> 'Modrateur supplant',
+	'ROLE_MOD_SIMPLE'			=> 'Modrateur simple',
+	'ROLE_MOD_STANDARD'			=> 'Modrateur standard',
+	'ROLE_USER_FULL'			=> 'Pleins pouvoirs',
+	'ROLE_USER_LIMITED'			=> 'Pouvoirs limits',
+	'ROLE_USER_NOAVATAR'		=> 'Priv davatar',
+	'ROLE_USER_NOPM'			=> 'Priv de messagerie prive',
+	'ROLE_USER_STANDARD'		=> 'Pouvoirs standards',
+	'ROLE_USER_NEW_MEMBER'		=> 'Utilisateur inscrit rcemment',
+
+
+	'ROLE_DESCRIPTION_ADMIN_FORUM'			=> 'Peut accder  la gestion et aux rglages des permissions du forum.',
+	'ROLE_DESCRIPTION_ADMIN_FULL'			=> 'Peut accder  toutes les fonctionnalits des administrateurs de ce forum.<br />Ceci nest pas recommand.',
+	'ROLE_DESCRIPTION_ADMIN_STANDARD'		=> 'Peut accder  la plupart des fonctionnalits des administrateurs mais nest pas autoris  utiliser les outils relatifs au systme et au serveur.',
+	'ROLE_DESCRIPTION_ADMIN_USERGROUP'		=> 'Peut grer les groupes, les utilisateurs, les permissions, les rglages, les bannissements et les rangs.',
+	'ROLE_DESCRIPTION_FORUM_BOT'			=> 'Ce rle est recommand aux robots des moteurs de recherche afin de garantir une meilleure indexation.',
+	'ROLE_DESCRIPTION_FORUM_FULL'			=> 'Peut utiliser toutes les fonctionnalits du forum, y compris les annonces et les notes. Peut galement ignorer la limitation de flood.<br />Ceci nest pas recommand aux utilisateurs normaux.',
+	'ROLE_DESCRIPTION_FORUM_LIMITED'		=> 'Peut utiliser plusieurs fonctionnalits du forum mais ne peut pas insrer de pices jointes ou dicnes de messages.',
+	'ROLE_DESCRIPTION_FORUM_LIMITED_POLLS'	=> 'Comme laccs limit mais peut galement crer des sondages.',
+	'ROLE_DESCRIPTION_FORUM_NOACCESS'		=> 'Ne peut ni consulter ni accder au forum.',
+	'ROLE_DESCRIPTION_FORUM_ONQUEUE'		=> 'Peut utiliser la plupart des fonctionnalits du forum y compris linsertion de pices jointes mais les messages et les sujets doivent tre approuvs par un modrateur.',
+	'ROLE_DESCRIPTION_FORUM_POLLS'			=> 'Comme laccs standard mais peut galement crer des sondages.',
+	'ROLE_DESCRIPTION_FORUM_READONLY'		=> 'Peut consulter le forum mais ne peut pas crer de nouveaux sujets ou rpondre aux messages.',
+	'ROLE_DESCRIPTION_FORUM_STANDARD'		=> 'Peut utiliser la plupart des fonctionnalits du forum y compris linsertion de pices jointes et la suppression de ses propres sujets mais ne peut pas verrouiller ses propres sujets et ne peut pas crer de sondages.',
+	'ROLE_DESCRIPTION_FORUM_NEW_MEMBER'		=> 'Un rle pour les membres du groupe spcial des utilisateurs inscrits rcemment ; il contient des permissions <samp>JAMAIS</samp> afin de priver les nouveaux membres de certaines fonctionnalits.',
+	'ROLE_DESCRIPTION_MOD_FULL'				=> 'Peut utiliser toutes les fonctionnalits lies  la modration, y compris le bannissement dutilisateurs.',
+	'ROLE_DESCRIPTION_MOD_QUEUE'			=> 'Ne peut utiliser que la mise en attente de modration afin de valider ou diter des messages.',
+	'ROLE_DESCRIPTION_MOD_SIMPLE'			=> 'Ne peut utiliser que les actions basiques lies aux sujets mais ne peut pas envoyer davertissements ou utiliser la mise en attente de modration.',
+	'ROLE_DESCRIPTION_MOD_STANDARD'			=> 'Peut utiliser la plupart des outils lies  la modration mais ne peut pas bannir les utilisateurs ou modifier lauteur dun message.',
+	'ROLE_DESCRIPTION_USER_FULL'			=> 'Peut utiliser toutes les fonctionnalits du forum qui sont disponibles aux utilisateurs, y compris de modifier le nom dutilisateur ou dignorer la limitation de flood.<br />Ceci nest pas recommand.',
+	'ROLE_DESCRIPTION_USER_LIMITED'			=> 'Peut accder  la plupart des fonctionnalits des utilisateurs mais les pices jointes, les courriels et les messages instantans ne sont pas autoriss.',
+	'ROLE_DESCRIPTION_USER_NOAVATAR'		=> 'Ne peut accder qu un ensemble de fonctionnalits limit et nest pas autoris  utiliser la fonctionnalit des avatars.',
+	'ROLE_DESCRIPTION_USER_NOPM'			=> 'Ne peut accder qu un ensemble de fonctionnalits limit et na pas accs  la messagerie prive.',
+	'ROLE_DESCRIPTION_USER_STANDARD'		=> 'Peut accder  la plupart des fonctionnalits des utilisateurs mais ne peut pas modifier son nom dutilisateur ou ignorer la limitation de flood.',
+	'ROLE_DESCRIPTION_USER_NEW_MEMBER'		=> 'Un rle pour les membres du groupe spcial des utilisateurs inscrits rcemment ; il contient des permissions <samp>JAMAIS</samp> afin de priver les nouveaux membres de certaines fonctionnalits.',
+	
+	'ROLE_DESCRIPTION_EXPLAIN'		=> 'Vous pouvez saisir une brve explication de ce que fait le rle ou de ce quil veut signifier. Le texte que vous saisissez sera galement affich sur la page des permissions.',
+	'ROLE_DESCRIPTION_LONG'			=> 'La description du rle est trop longue. Veuillez ne pas dpasser 4000 caractres.',
+	'ROLE_DETAILS'					=> 'Informations sur le rle',
+	'ROLE_EDIT_SUCCESS'				=> 'Le rle a t dit avec succs.',
+	'ROLE_NAME'						=> 'Nom du rle ',
+	'ROLE_NAME_ALREADY_EXIST'		=> 'Un rle nomm <strong>%s</strong> existe dj. Veuillez slectionner un autre nom.',
+	'ROLE_NOT_ASSIGNED'				=> 'Le rle na pas encore t attribu.',
+
+	'SELECTED_FORUM_NOT_EXIST'		=> 'Le(s) forum(s) slectionn(s) nexiste(nt) pas.',
+	'SELECTED_GROUP_NOT_EXIST'		=> 'Le(s) groupe(s) slectionn(s) nexiste(nt) pas.',
+	'SELECTED_USER_NOT_EXIST'		=> 'Lutilisateur(s) slectionn(s) nexiste(nt) pas.',
+	'SELECT_FORUM_SUBFORUM_EXPLAIN'	=> 'Le forum que vous avez slectionn ici incluera tous ses sous-forums.',
+	'SELECT_ROLE'					=> 'Slectionner un rle',
+	'SELECT_TYPE'					=> 'Slectionner un type ',
+	'SET_PERMISSIONS'				=> 'Rgler les permissions',
+	'SET_ROLE_PERMISSIONS'			=> 'Rgler les permissions du rle',
+	'SET_USERS_PERMISSIONS'			=> 'Rgler les permissions des utilisateurs',
+	'SET_USERS_FORUM_PERMISSIONS'	=> 'Rgler les permissions des utilisateurs du forum',
+
+	'TRACE_DEFAULT'					=> 'Par dfaut, chaque permission est rgle sur <samp>NON</samp>. La permission peut alors tre crase par dautres rglages.',
+	'TRACE_FOR'						=> 'Tracer pour',
+	'TRACE_GLOBAL_SETTING'			=> '%s (global)',
+	'TRACE_GROUP_NEVER_TOTAL_NEVER'	=> 'Cette permission de groupe est rgle sur <samp>JAMAIS</samp>, tout comme le rsultat total, lancien rsultat est donc conserv.',
+	'TRACE_GROUP_NEVER_TOTAL_NEVER_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>JAMAIS</samp>, tout comme le rsultat total, lancien rsultat est donc conserv.',
+	'TRACE_GROUP_NEVER_TOTAL_NO'	=> 'Cette permission de groupe est rgle sur <samp>JAMAIS</samp>, ce qui devient la nouvelle valeur totale car elle ntait pas encore rgle (rgle sur <samp>NON</samp>).',
+	'TRACE_GROUP_NEVER_TOTAL_NO_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>JAMAIS</samp>, ce qui devient la nouvelle valeur totale car elle ntait pas encore rgle (rgle sur <samp>NON</samp>).',
+	'TRACE_GROUP_NEVER_TOTAL_YES'	=> 'Cette permission de groupe est rgle sur <samp>JAMAIS</samp>, ce qui crase le total de <samp>OUI</samp> afin dappliquer <samp>JAMAIS</samp>  cet utilisateur.',
+	'TRACE_GROUP_NEVER_TOTAL_YES_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>JAMAIS</samp>, ce qui crase le total de <samp>OUI</samp> afin dappliquer <samp>JAMAIS</samp>  cet utilisateur.',
+	'TRACE_GROUP_NO'				=> 'Cette permission de groupe est rgle sur <samp>NON</samp>, le total de lancienne valeur est donc conserv.',
+	'TRACE_GROUP_NO_LOCAL'			=> 'Cette permission de groupe pour ce forum est rgle sur <samp>NON</samp>, le total de lancienne valeur est donc conserv.',
+	'TRACE_GROUP_YES_TOTAL_NEVER'	=> 'Cette permission de groupe est rgle sur <samp>OUI</samp> mais le total de <samp>JAMAIS</samp> ne peut pas tre cras.',
+	'TRACE_GROUP_YES_TOTAL_NEVER_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>OUI</samp> mais le total de <samp>JAMAIS</samp> ne peut pas tre cras.',
+	'TRACE_GROUP_YES_TOTAL_NO'		=> 'Cette permission de groupe est rgle sur <samp>OUI</samp>, ce qui devient la nouvelle valeur totale car elle ntait pas encore rgle (rgle sur <samp>NON</samp>).',
+	'TRACE_GROUP_YES_TOTAL_NO_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>OUI</samp>, ce qui devient la nouvelle valeur totale car elle ntait pas encore rgle (rgle sur <samp>NON</samp>).',
+	'TRACE_GROUP_YES_TOTAL_YES'		=> 'Cette permission de groupe est rgle sur <samp>OUI</samp> et la permission totale est dj rgle sur <samp>OUI</samp>, le rsultat total est donc conserv.',
+	'TRACE_GROUP_YES_TOTAL_YES_LOCAL'	=> 'Cette permission de groupe pour ce forum est rgle sur <samp>OUI</samp> et la permission totale est dj rgle sur <samp>OUI</samp>, le rsultat total est donc conserv.',
+	'TRACE_PERMISSION'				=> 'Tracer la permission - %s',
+	'TRACE_RESULT'					=> 'Tracer le rsultat',
+	'TRACE_SETTING'					=> 'Tracer le rglage',
+
+	'TRACE_USER_GLOBAL_YES_TOTAL_YES'		=> 'La permission indpendante de lutilisateur sur le forum est rgle sur <samp>OUI</samp> mais la permission totale est dj rgle sur <samp>OUI</samp>, le rsultat total est donc conserv. %sTracer la permission globale%s.',
+	'TRACE_USER_GLOBAL_YES_TOTAL_NEVER'		=> 'La permission indpendante de lutilisateur sur le forum est rgle sur <samp>OUI</samp>, ce qui crase lactuel rsultat local <samp>JAMAIS</samp>. %sTracer la permission globale%s.',
+	'TRACE_USER_GLOBAL_NEVER_TOTAL_KEPT'	=> 'La permission indpendante de lutilisateur sur le forum est rgle sur <samp>JAMAIS</samp>, ce qui ninfluence pas la permission locale. %sTracer la permission globale%s.',
+
+	'TRACE_USER_FOUNDER'					=> 'Lutilisateur est un fondateur, ce qui explique pourquoi ses permissions sont toujours rgles sur <samp>OUI</samp>.',
+	'TRACE_USER_KEPT'						=> 'La permission de lutilisateur est rgle sur <samp>NON</samp>, lancienne valeur totale est donc conserve.',
+	'TRACE_USER_KEPT_LOCAL'					=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>NON</samp>, lancienne valeur totale est donc conserve.',
+	'TRACE_USER_NEVER_TOTAL_NEVER'			=> 'La permission de lutilisateur est rgle sur <samp>JAMAIS</samp> et la valeur totale est rgle sur <samp>JAMAIS</samp>, rien a t modifi.',
+	'TRACE_USER_NEVER_TOTAL_NEVER_LOCAL'	=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>JAMAIS</samp> et la valeur totale est rgle sur <samp>JAMAIS</samp>, rien a t modifi.',
+	'TRACE_USER_NEVER_TOTAL_NO'				=> 'La permission de lutilisateur est rgle sur <samp>JAMAIS</samp>, ce qui devient la valeur totale car elle tait rgle sur <samp>NON</samp>.',
+	'TRACE_USER_NEVER_TOTAL_NO_LOCAL'		=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>JAMAIS</samp>, ce qui devient la valeur totale car elle tait rgle sur <samp>NON</samp>.',
+	'TRACE_USER_NEVER_TOTAL_YES'			=> 'La permission de lutilisateur est rgle sur <samp>JAMAIS</samp> et crase la prcdente permission <samp>OUI</samp>.',
+	'TRACE_USER_NEVER_TOTAL_YES_LOCAL'		=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>JAMAIS</samp> et crase la prcdente permission <samp>OUI</samp>.',
+	'TRACE_USER_NO_TOTAL_NO'				=> 'La permission de lutilisateur est rgle sur <samp>NON</samp> et la valeur totale tait rgle sur NON, donc sur <samp>JAMAIS</samp> par dfaut.',
+	'TRACE_USER_YES_TOTAL_NEVER'			=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp> mais le total de <samp>JAMAIS</samp> ne peut pas tre cras.',
+	'TRACE_USER_YES_TOTAL_NO'				=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp>, ce qui devient la valeur totale car elle tait rgle sur <samp>NON</samp>.',
+	'TRACE_USER_YES_TOTAL_YES'				=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp> et la valeur totale est rgle sur <samp>OUI</samp>, rien a t modifi.',
+	'TRACE_USER_NO_TOTAL_NO'				=> 'La permission de lutilisateur est rgle sur <samp>NON</samp> et la valeur totale tait rgle sur <samp>NON</samp>, donc sur <samp>JAMAIS</samp> par dfaut.',
+	'TRACE_USER_NO_TOTAL_NO_LOCAL'			=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>NON</samp> et la valeur totale tait rgle sur <samp>NON</samp>, donc sur <samp>JAMAIS</samp> par dfaut.',
+	'TRACE_USER_YES_TOTAL_NEVER'			=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp> mais le total de <samp>JAMAIS</samp> ne peut pas tre cras.',
+	'TRACE_USER_YES_TOTAL_NEVER_LOCAL'		=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>OUI</samp> mais le total de <samp>JAMAIS</samp> ne peut pas tre cras.',
+	'TRACE_USER_YES_TOTAL_NO'				=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp>, ce qui devient la valeur totale car elle tait rgle sur <samp>NON</samp>.',
+	'TRACE_USER_YES_TOTAL_NO_LOCAL'			=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>OUI</samp>, ce qui devient la valeur totale car elle tait rgle sur <samp>NON</samp>.',
+	'TRACE_USER_YES_TOTAL_YES'				=> 'La permission de lutilisateur est rgle sur <samp>OUI</samp> et la valeur totale est rgle sur <samp>OUI</samp>, rien a t modifi.',
+	'TRACE_USER_YES_TOTAL_YES_LOCAL'		=> 'La permission de lutilisateur pour ce forum est rgle sur <samp>OUI</samp> et la valeur totale est rgle sur <samp>OUI</samp>, rien a t modifi.',
+	'TRACE_WHO'								=> 'Qui',
+	'TRACE_TOTAL'							=> 'Total',
+
+	'USERS_NOT_ASSIGNED'			=> 'Aucun utilisateur nest assign  ce rle.',
+	'USER_IS_MEMBER_OF_DEFAULT'		=> 'est membre des groupes prdfinis suivants',
+	'USER_IS_MEMBER_OF_CUSTOM'		=> 'est membre des groupes normaux suivants',
+
+	'VIEW_ASSIGNED_ITEMS'	=> 'Voir les lments assigns',
+	'VIEW_LOCAL_PERMS'		=> 'Permissions locales',
+	'VIEW_GLOBAL_PERMS'		=> 'Permissions globales',
+	'VIEW_PERMISSIONS'		=> 'Voir les permissions',
+
+	'WRONG_PERMISSION_TYPE'	=> 'Le type de permission slectionn est incorrect.',
+	'WRONG_PERMISSION_SETTING_FORMAT'	=> 'Les rglages des permissions sont enregistres dans un mauvais format, phpBB est incapable de les traiter correctement.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/permissions_phpbb.php phpBB3/language/fr/acp/permissions_phpbb.php
--- phpBB3-init/language/fr/acp/permissions_phpbb.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/permissions_phpbb.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,243 @@
+<?php
+/**
+* acp_permissions_phpbb (phpBB Permission Set) [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+/**
+*	MODDERS PLEASE NOTE
+*
+*	You are able to put your permission sets into a separate file too by
+*	prefixing the new file with permissions_ and putting it into the acp
+*	language folder.
+*
+*	An example of how the file could look like:
+*
+*	<code>
+*
+*	if (empty($lang) || !is_array($lang))
+*	{
+*		$lang = array();
+*	}
+*
+*	// Adding new category
+*	$lang['permission_cat']['bugs'] = 'Bugs';
+*
+*	// Adding new permission set
+*	$lang['permission_type']['bug_'] = 'Bug Permissions';
+*
+*	// Adding the permissions
+*	$lang = array_merge($lang, array(
+*		'acl_bug_view'		=> array('lang' => 'Can view bug reports', 'cat' => 'bugs'),
+*		'acl_bug_post'		=> array('lang' => 'Can post bugs', 'cat' => 'post'), // Using a phpBB category here
+*	));
+*
+*	</code>
+*/
+
+// Define categories and permission types
+$lang = array_merge($lang, array(
+	'permission_cat'	=> array(
+		'actions'		=> 'Actions',
+		'content'		=> 'Contenu',
+		'forums'		=> 'Forums',
+		'misc'			=> 'Divers',
+		'permissions'	=> 'Permissions',
+		'pm'			=> 'Messages privs',
+		'polls'			=> 'Sondages',
+		'post'			=> 'Message',
+		'post_actions'	=> 'Actions sur les messages',
+		'posting'		=> 'Publication',
+		'profile'		=> 'Profil',
+		'settings'		=> 'Rglages',
+		'topic_actions'	=> 'Actions sur les sujets',
+		'user_group'	=> 'Utilisateurs &amp; groupes',
+	),
+
+	// With defining 'global' here we are able to specify what is printed out if the permission is within the global scope.
+	'permission_type'	=> array(
+		'u_'			=> 'Permissions des utilisateurs',
+		'a_'			=> 'Permissions des administrateurs',
+		'm_'			=> 'Permissions des modrateurs',
+		'f_'			=> 'Permissions des forums',
+		'global'		=> array(
+			'm_'			=> 'Permissions des modrateurs globaux',
+		),
+	),
+));
+
+// User Permissions
+$lang = array_merge($lang, array(
+	'acl_u_viewprofile'	=> array('lang' => 'Peut voir les profils, la liste des membres et la liste des utilisateurs en ligne', 'cat' => 'profile'),
+	'acl_u_chgname'		=> array('lang' => 'Peut modifier son nom dutilisateur', 'cat' => 'profile'),
+	'acl_u_chgpasswd'	=> array('lang' => 'Peut modifier son mot de passe', 'cat' => 'profile'),
+	'acl_u_chgemail'	=> array('lang' => 'Peut modifier son adresse de courrier lectronique', 'cat' => 'profile'),
+	'acl_u_chgavatar'	=> array('lang' => 'Peut modifier son avatar', 'cat' => 'profile'),
+	'acl_u_chggrp'		=> array('lang' => 'Peut modifier son groupe dutilisateurs par dfaut', 'cat' => 'profile'),
+
+	'acl_u_attach'		=> array('lang' => 'Peut insrer des fichiers', 'cat' => 'post'),
+	'acl_u_download'	=> array('lang' => 'Peut tlcharger des fichiers', 'cat' => 'post'),
+	'acl_u_savedrafts'	=> array('lang' => 'Peut sauvegarder des brouillons', 'cat' => 'post'),
+	'acl_u_chgcensors'	=> array('lang' => 'Peut dsactiver la censure de mots', 'cat' => 'post'),
+	'acl_u_sig'			=> array('lang' => 'Peut utiliser une signature', 'cat' => 'post'),
+
+	'acl_u_sendpm'		=> array('lang' => 'Peut envoyer des messages privs', 'cat' => 'pm'),
+	'acl_u_masspm'      => array('lang' => 'Peut envoyer des messages privs  plusieurs utilisateurs', 'cat' => 'pm'),
+  'acl_u_masspm_group'=> array('lang' => 'Peut envoyer des messages privs aux groupes', 'cat' => 'pm'),
+	'acl_u_readpm'		=> array('lang' => 'Peut lire ses messages privs', 'cat' => 'pm'),
+	'acl_u_pm_edit'		=> array('lang' => 'Peut diter ses messages privs', 'cat' => 'pm'),
+	'acl_u_pm_delete'	=> array('lang' => 'Peut supprimer des messages privs de son dossier', 'cat' => 'pm'),
+	'acl_u_pm_forward'	=> array('lang' => 'Peut transfrer des messages privs', 'cat' => 'pm'),
+	'acl_u_pm_emailpm'	=> array('lang' => 'Peut envoyer des messages privs par courriel', 'cat' => 'pm'),
+	'acl_u_pm_printpm'	=> array('lang' => 'Peut imprimer des messages privs', 'cat' => 'pm'),
+	'acl_u_pm_attach'	=> array('lang' => 'Peut insrer des fichiers dans les messages privs', 'cat' => 'pm'),
+	'acl_u_pm_download'	=> array('lang' => 'Peut tlcharger des fichiers dans les messages privs', 'cat' => 'pm'),
+	'acl_u_pm_bbcode'	=> array('lang' => 'Peut utiliser le BBCode dans les messages privs', 'cat' => 'pm'),
+	'acl_u_pm_smilies'	=> array('lang' => 'Peut utiliser les moticnes dans les messages privs', 'cat' => 'pm'),
+	'acl_u_pm_img'		=> array('lang' => 'Peut utiliser la balise BBCode [img] dans les messages privs', 'cat' => 'pm'),
+	'acl_u_pm_flash'	=> array('lang' => 'Peut utiliser la balise BBCode [flash] dans les messages privs', 'cat' => 'pm'),
+
+	'acl_u_sendemail'	=> array('lang' => 'Peut envoyer des courriels', 'cat' => 'misc'),
+	'acl_u_sendim'		=> array('lang' => 'Peut envoyer des messages instantans', 'cat' => 'misc'),
+	'acl_u_ignoreflood'	=> array('lang' => 'Peut ignorer la limite de flood', 'cat' => 'misc'),
+	'acl_u_hideonline'	=> array('lang' => 'Peut masquer son statut en ligne', 'cat' => 'misc'),
+	'acl_u_viewonline'	=> array('lang' => 'Peut voir les utilisateurs invisibles en ligne', 'cat' => 'misc'),
+	'acl_u_search'		=> array('lang' => 'Peut rechercher sur le forum', 'cat' => 'misc'),
+));
+
+// Forum Permissions
+$lang = array_merge($lang, array(
+	'acl_f_list'		=> array('lang' => 'Peut voir les forums', 'cat' => 'post'),
+	'acl_f_read'		=> array('lang' => 'Peut lire les messages', 'cat' => 'post'),
+	'acl_f_post'		=> array('lang' => 'Peut rdiger de nouveaux sujets', 'cat' => 'post'),
+	'acl_f_reply'		=> array('lang' => 'Peut rpondre aux sujets', 'cat' => 'post'),
+	'acl_f_icons'		=> array('lang' => 'Peut utiliser les icnes de sujets et de messages', 'cat' => 'post'),
+	'acl_f_announce'	=> array('lang' => 'Peut publier des annonces', 'cat' => 'post'),
+	'acl_f_sticky'		=> array('lang' => 'Peut publier des notes', 'cat' => 'post'),
+
+	'acl_f_poll'		=> array('lang' => 'Peut crer des sondages', 'cat' => 'polls'),
+	'acl_f_vote'		=> array('lang' => 'Peut voter dans les sondages', 'cat' => 'polls'),
+	'acl_f_votechg'		=> array('lang' => 'Peut modifier un vote existant', 'cat' => 'polls'),
+
+	'acl_f_attach'		=> array('lang' => 'Peut insrer des fichiers', 'cat' => 'content'),
+	'acl_f_download'	=> array('lang' => 'Peut tlcharger des fichiers', 'cat' => 'content'),
+	'acl_f_sigs'		=> array('lang' => 'Peut utiliser une signature', 'cat' => 'content'),
+	'acl_f_bbcode'		=> array('lang' => 'Peut utiliser le BBCode', 'cat' => 'content'),
+	'acl_f_smilies'		=> array('lang' => 'Peut utiliser les moticnes', 'cat' => 'content'),
+	'acl_f_img'			=> array('lang' => 'Peut utiliser la balise BBCode [img]', 'cat' => 'content'),
+	'acl_f_flash'		=> array('lang' => 'Peut utiliser la balise BBCode [flash]', 'cat' => 'content'),
+
+	'acl_f_edit'		=> array('lang' => 'Peut diter ses messages', 'cat' => 'actions'),
+	'acl_f_delete'		=> array('lang' => 'Peut supprimer ses messages', 'cat' => 'actions'),
+	'acl_f_user_lock'	=> array('lang' => 'Peut verrouiller ses sujets', 'cat' => 'actions'),
+	'acl_f_bump'		=> array('lang' => 'Peut remonter des sujets', 'cat' => 'actions'),
+	'acl_f_report'		=> array('lang' => 'Peut rapporter des messages', 'cat' => 'actions'),
+	'acl_f_subscribe'	=> array('lang' => 'Peut surveiller des forums', 'cat' => 'actions'),
+	'acl_f_print'		=> array('lang' => 'Peut imprimer des sujets', 'cat' => 'actions'),
+	'acl_f_email'		=> array('lang' => 'Peut envoyer des sujets par courriel', 'cat' => 'actions'),
+
+	'acl_f_search'		=> array('lang' => 'Peut rechercher dans un forum', 'cat' => 'misc'),
+	'acl_f_ignoreflood' => array('lang' => 'Peut ignorer la limite de flood', 'cat' => 'misc'),
+	'acl_f_postcount'	=> array('lang' => 'Peut augmenter son compteur de messages<br /><em>Veuillez noter que ce rglage naffecte que les nouveaux messages.</em>', 'cat' => 'misc'),
+	'acl_f_noapprove'	=> array('lang' => 'Peut publier des messages sans approbation', 'cat' => 'misc'),
+));
+
+// Moderator Permissions
+$lang = array_merge($lang, array(
+	'acl_m_edit'		=> array('lang' => 'Peut diter les messages', 'cat' => 'post_actions'),
+	'acl_m_delete'		=> array('lang' => 'Peut supprimer les messages', 'cat' => 'post_actions'),
+	'acl_m_approve'		=> array('lang' => 'Peut approuver les messages', 'cat' => 'post_actions'),
+	'acl_m_report'		=> array('lang' => 'Peut fermer et supprimer les rapports', 'cat' => 'post_actions'),
+	'acl_m_chgposter'	=> array('lang' => 'Peut modifier lauteur dun message', 'cat' => 'post_actions'),
+
+	'acl_m_move'	=> array('lang' => 'Peut dplacer les sujets', 'cat' => 'topic_actions'),
+	'acl_m_lock'	=> array('lang' => 'Peut verrouiller les sujets', 'cat' => 'topic_actions'),
+	'acl_m_split'	=> array('lang' => 'Peut diviser les sujets', 'cat' => 'topic_actions'),
+	'acl_m_merge'	=> array('lang' => 'Peut fusionner les sujets', 'cat' => 'topic_actions'),
+
+	'acl_m_info'	=> array('lang' => 'Peut voir les informations dun message', 'cat' => 'misc'),
+	'acl_m_warn'	=> array('lang' => 'Peut distribuer des avertissements<br /><em>Ce rglage nest assign que globalement. Ce nest pas bas au forum.</em>', 'cat' => 'misc'), // This moderator setting is only global (and not local)
+	'acl_m_ban'		=> array('lang' => 'Peut grer les bannissements<br /><em>Ce rglage nest assign que globalement. Ce nest pas bas au forum.</em>', 'cat' => 'misc'), // This moderator setting is only global (and not local)
+));
+
+// Admin Permissions
+$lang = array_merge($lang, array(
+	'acl_a_board'		=> array('lang' => 'Peut modifier les rglages du forum et vrifier les mises  jour', 'cat' => 'settings'),
+	'acl_a_server'		=> array('lang' => 'Peut modifier les rglages du serveur et de la communication', 'cat' => 'settings'),
+	'acl_a_jabber'		=> array('lang' => 'Peut modifier les rglages de Jabber', 'cat' => 'settings'),
+	'acl_a_phpinfo'		=> array('lang' => 'Peut voir les rglages de PHP', 'cat' => 'settings'),
+
+	'acl_a_forum'		=> array('lang' => 'Peut grer les forums', 'cat' => 'forums'),
+	'acl_a_forumadd'	=> array('lang' => 'Peut ajouter de nouveaux forums', 'cat' => 'forums'),
+	'acl_a_forumdel'	=> array('lang' => 'Peut supprimer des forums', 'cat' => 'forums'),
+	'acl_a_prune'		=> array('lang' => 'Peut dlester des forums', 'cat' => 'forums'),
+
+	'acl_a_icons'		=> array('lang' => 'Peut modifier les icnes de sujets et de messages et les moticnes', 'cat' => 'posting'),
+	'acl_a_words'		=> array('lang' => 'Peut modifier la censure de mots', 'cat' => 'posting'),
+	'acl_a_bbcode'		=> array('lang' => 'Peut dfinir de nouvelles balises BBCode', 'cat' => 'posting'),
+	'acl_a_attach'		=> array('lang' => 'Peut modifier les rglages relatifs aux pices jointes', 'cat' => 'posting'),
+
+	'acl_a_user'		=> array('lang' => 'Peut grer les utilisateurs<br /><em>Ceci inclut galement laffichage du navigateur des utilisateurs dans la liste des utilisateurs en ligne.</em>', 'cat' => 'user_group'),
+	'acl_a_userdel'		=> array('lang' => 'Peut supprimer et dlester des utilisateurs', 'cat' => 'user_group'),
+	'acl_a_group'		=> array('lang' => 'Peut grer les groupes', 'cat' => 'user_group'),
+	'acl_a_groupadd'	=> array('lang' => 'Peut ajouter de nouveaux groupes', 'cat' => 'user_group'),
+	'acl_a_groupdel'	=> array('lang' => 'Peut supprimer des groupes', 'cat' => 'user_group'),
+	'acl_a_ranks'		=> array('lang' => 'Peut grer les rangs', 'cat' => 'user_group'),
+	'acl_a_profile'		=> array('lang' => 'Peut grer les champs de profil personnaliss', 'cat' => 'user_group'),
+	'acl_a_names'		=> array('lang' => 'Peut grer les noms interdits', 'cat' => 'user_group'),
+	'acl_a_ban'			=> array('lang' => 'Peut grer les bannissements', 'cat' => 'user_group'),
+
+	'acl_a_viewauth'	=> array('lang' => 'Peut voir les masques de permissions', 'cat' => 'permissions'),
+	'acl_a_authgroups'	=> array('lang' => 'Peut modifier les permissions de groupes individuels', 'cat' => 'permissions'),
+	'acl_a_authusers'	=> array('lang' => 'Peut modifier les permissions dutilisateurs individuels', 'cat' => 'permissions'),
+	'acl_a_fauth'		=> array('lang' => 'Peut modifier les permissions des forums', 'cat' => 'permissions'),
+	'acl_a_mauth'		=> array('lang' => 'Peut modifier les permissions des modrateurs', 'cat' => 'permissions'),
+	'acl_a_aauth'		=> array('lang' => 'Peut modifier les permissions des administrateurs', 'cat' => 'permissions'),
+	'acl_a_uauth'		=> array('lang' => 'Peut modifier les permissions des utilisateurs', 'cat' => 'permissions'),
+	'acl_a_roles'		=> array('lang' => 'Peut grer les rles', 'cat' => 'permissions'),
+	'acl_a_switchperm'	=> array('lang' => 'Peut utiliser dautres permissions', 'cat' => 'permissions'),
+
+	'acl_a_styles'		=> array('lang' => 'Peut grer les styles', 'cat' => 'misc'),
+	'acl_a_viewlogs'	=> array('lang' => 'Peut voir les historiques', 'cat' => 'misc'),
+	'acl_a_clearlogs'	=> array('lang' => 'Peut effacer les historiques', 'cat' => 'misc'),
+	'acl_a_modules'		=> array('lang' => 'Peut grer les modules', 'cat' => 'misc'),
+	'acl_a_language'	=> array('lang' => 'Peut grer les archives de langues', 'cat' => 'misc'),
+	'acl_a_email'		=> array('lang' => 'Peut envoyer un courriel de masse', 'cat' => 'misc'),
+	'acl_a_bots'		=> array('lang' => 'Peut grer les robots', 'cat' => 'misc'),
+	'acl_a_reasons'		=> array('lang' => 'Peut grer les rapports et les raisons', 'cat' => 'misc'),
+	'acl_a_backup'		=> array('lang' => 'Peut sauvegarder et restaurer la base de donnes', 'cat' => 'misc'),
+	'acl_a_search'		=> array('lang' => 'Peut grer lindexation et les rglages de la recherche', 'cat' => 'misc'),
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/posting.php phpBB3/language/fr/acp/posting.php
--- phpBB3-init/language/fr/acp/posting.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/posting.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,283 @@
+<?php
+/**
+*
+* acp_posting [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// BBCodes
+// Note to translators: you can translate everything but what's between { and }
+$lang = array_merge($lang, array(
+	'ACP_BBCODES_EXPLAIN'		=> 'Le BBCode est une implmentation spciale du HTML qui offre un plus grand contrle sur quoi et comment quelque chose doit tre affich. De cette page, vous pouvez ajouter, supprimer et diter des BBCodes personnaliss.',
+	'ADD_BBCODE'				=> 'Ajouter un nouveau BBCode',
+
+	'BBCODE_DANGER'				=> 'Le BBCode que vous tes en train dessayer dajouter semble utiliser une chane de symboles {TEXT} dans lattribut HTML. Ceci peut tre un ventuel problme de scurit XSS. Essayez dutiliser un type plus restrictif  la place, comme {SIMPLETEXT} ou {INTTEXT}. Ne procdez uniquement  cela que si vous comprenez les risque encourus et que vous considrez que lutilisation de {TEXT} est absolumement invitable.',
+	'BBCODE_DANGER_PROCEED'		=> 'Procder', //'I understand the risk',
+
+	'BBCODE_ADDED'				=> 'Le BBCode a t ajout avec succs.',
+	'BBCODE_EDITED'				=> 'Le BBCode a t dit avec succs.',
+	'BBCODE_NOT_EXIST'			=> 'Le BBCode que vous avez slectionn nexiste pas.',
+	'BBCODE_HELPLINE'			=> 'Ligne daide',
+	'BBCODE_HELPLINE_EXPLAIN'	=> 'Ce champ contient le texte du BBCode qui sera affich lors du passage de la souris.',
+	'BBCODE_HELPLINE_TEXT'		=> 'Texte de la ligne daide',
+	'BBCODE_HELPLINE_TOO_LONG'   => 'La ligne daide que vous avez saisie est trop longue.',
+	
+	'BBCODE_INVALID_TAG_NAME'	=> 'Le nom de la balise BBCode que vous avez slectionne existe dj.',
+	'BBCODE_INVALID'			=> 'Votre BBCode est construit dans une architecture invalide.',
+	'BBCODE_OPEN_ENDED_TAG'		=> 'Votre BBCode personnalis doit contenir une balise douverture et de fermeture.',
+	'BBCODE_TAG'				=> 'Balise',
+	'BBCODE_TAG_TOO_LONG'		=> 'Le nom de la balise que vous avez slectionne est trop long.',
+	'BBCODE_TAG_DEF_TOO_LONG'	=> 'La dfinition de la balise que vous avez saisie est trop longue, veuillez la raccourcir.',
+	'BBCODE_USAGE'				=> 'Utilisation du BBCode',
+	'BBCODE_USAGE_EXAMPLE'		=> '[highlight={COLOR}]{TEXT}[/highlight]<br /><br />[font={SIMPLETEXT1}]{SIMPLETEXT2}[/font]',
+	'BBCODE_USAGE_EXPLAIN'		=> 'Vous pouvez dfinir ici comment utiliser le BBCode. Remplacez nimporte quelle variable dentre par la chane de symboles correspondante (%svoir ci-dessous%s).',
+
+	'EXAMPLE'						=> 'Exemple :',
+	'EXAMPLES'						=> 'Exemples :',
+
+	'HTML_REPLACEMENT'				=> 'Remplacement de lHTML',
+	'HTML_REPLACEMENT_EXAMPLE'		=> '&lt;span style="background-color:{COLOR};"&gt;{TEXT}&lt;/span&gt;<br /><br />&lt;span style="font-family:{SIMPLETEXT1};"&gt;{SIMPLETEXT2}&lt;/span&gt;',
+	'HTML_REPLACEMENT_EXPLAIN'		=> 'Vous pouvez dfinir ici le remplacement par dfaut de lHTML. Noubliez pas de remettre la chane de symboles dentre que vous avez utilise ci-dessus !',
+
+	'TOKEN'					=> 'Chane de symboles',
+	'TOKENS'				=> 'Chanes de symboles',
+	'TOKENS_EXPLAIN'		=> 'Les chanes de symboles sont des conteneurs pour les utilisateurs. Les entres ne seront valides que si elles trouvent la dfinition correspondante. Si besoin, vous pouvez les numroter en y ajoutant un nombre entre des accolades comme dernier caractre, comme {TEXT1}, {TEXT2}.<br /><br />Vous pouvez, en plus du remplacement de lHTML, utiliser une chane de langue dans votre rpertoire language/ comme ceci : {L_<em>&lt;STRINGNAME&gt;</em>} o <em>&lt;STRINGNAME&gt;</em> est le nom de la chane traduite que vous souhaitez ajouter. Par exemple, {L_WROTE} sera affich en tant que  a crit  ou sa traduction selon la langue locale de lutilisateur.<br /><br /><strong>Veuillez noter que seules les chanes listes ci-dessous sont autorises  tre utilises dans les BBCodes personnaliss.</strong>',
+	'TOKEN_DEFINITION'		=> 'Quest-ce que cest ?',
+	'TOO_MANY_BBCODES'		=> 'Vous ne pouvez pas crer dautres BBCodes. Veuillez supprimer un ou plusieurs BBCodes, puis ressayer.',
+
+	'tokens'	=>	array(
+		'TEXT'			=> 'Du texte, incluant des caractres trangers, des chiffres, etc. Vous ne devriez pas utiliser cette chane de symboles dans les balises HTML. Essayez dutiliser  la place IDENTIFIER, INTTEXT ou SIMPLETEXT.',
+		'SIMPLETEXT'	=> 'Des caractres de lalphabet latin (A-Z), des chiffres, des espaces, des virgules, des points, des plus, des moins, des tirets et des tirets-bas.',
+		'INTTEXT'		=> 'Des lettres de caractres Unicode, des chiffres, des espaces, des virgules, des points, des plus, des moins, des tirets-bas et des espaces inscables.',
+		'IDENTIFIER'	=> 'Des caractres de lalphabet latin (A-Z), des chiffres, des tirets et des tirets-bas.',
+		'NUMBER'		=> 'Une srie de chiffres',
+		'EMAIL'			=> 'Une adresse de courrier lectronique valide',
+		'URL'			=> 'Un lien correct utilisant nimporte quel protocole (http, ftp, etc.) ne pouvant pas tre utilis en cas dexcution de Javascript. Si aucun protocole nest fourni,  http://  sera utilis par dfaut.',
+		'LOCAL_URL'		=> 'Un lien local. Le lien doit tre relatif  la page du sujet et ne doit pas contenir un nom de serveur ou un protocole.',
+		'COLOR'			=> 'Une couleur HTML, qui peut tre dans une forme hexadcimale <samp>#FF1234</samp> ou un <a href="http://www.w3.org/TR/CSS21/syndata.html#value-def-color">nom de couleur CSS</a>, tel que <samp>fuchsia</samp> ou <samp>InactiveBorder</samp>'
+	)
+));
+
+// Smilies and topic icons
+$lang = array_merge($lang, array(
+	'ACP_ICONS_EXPLAIN'		=> 'Vous pouvez ajouter, supprimer ou diter ici les icnes que les utilisateurs peuvent ajouter  leurs sujets ou messages. Ces icnes sont gnralement affiches  ct des titres des sujets sur la liste des forums, ou  ct des titres des messages sur la liste des sujets. Vous pouvez galement installer et crer de nouveaux ensembles dicnes.',
+	'ACP_SMILIES_EXPLAIN'	=> 'Les moticnes sont gnralement de petites images, parfois animes, qui sont utilises afin dexprimer une motion ou un sentiment. De cette page, vous pouvez ajouter, supprimer et diter les moticnes que les utilisateurs utilisent dans leurs messages et leurs messages privs. Vous pouvez galement installer et crer de nouveaux ensembles dmoticnes.',
+	'ADD_SMILIES'			=> 'Ajouter plusieurs moticnes',
+	'ADD_SMILEY_CODE'		=> 'Ajouter un code additionnel dmoticne',
+	'ADD_ICONS'				=> 'Ajouter plusieurs icnes',
+	'AFTER_ICONS'			=> 'Aprs %s',
+	'AFTER_SMILIES'			=> 'Aprs %s',
+
+	'CODE'						=> 'Code',
+	'CURRENT_ICONS'				=> 'Icnes actuelles',
+	'CURRENT_ICONS_EXPLAIN'		=> 'Choisissez que faire des icnes actuellement installes.',
+	'CURRENT_SMILIES'			=> 'moticnes actuelles',
+	'CURRENT_SMILIES_EXPLAIN'	=> 'Choisissez que faire des moticnes actuellement installes.',
+
+	'DISPLAY_ON_POSTING'	=> 'Afficher sur la page de rdaction',
+	'DISPLAY_POSTING'			=> 'Sur la page de rdaction',
+	'DISPLAY_POSTING_NO'		=> 'Pas sur la page de rdaction',
+
+
+  
+	'EDIT_ICONS'				=> 'diter les icnes',
+	'EDIT_SMILIES'				=> 'diter les moticnes',
+	'EMOTION'					=> 'motion',
+	'EXPORT_ICONS'				=> 'Exporter et tlcharger icons.pak',
+	'EXPORT_ICONS_EXPLAIN'		=> '%sEn cliquant sur ce lien, la configuration des icnes que vous avez installes sera regroupe dans lensemble <samp>icons.pak</samp> qui, une fois tlcharg, peut tre utilis afin de crer un fichier <samp>.zip</samp> ou <samp>.tgz</samp> qui contient toutes vos icnes, ainsi que le fichier de configuration <samp>icons.pak</samp>%s.',
+	'EXPORT_SMILIES'			=> 'Exporter et tlcharger smilies.pak',
+	'EXPORT_SMILIES_EXPLAIN'	=> '%sEn cliquant sur ce lien, la configuration des moticnes que vous avez installes sera regroupe dans lensemble <samp>smilies.pak</samp> qui, une fois tlcharg, peut tre utilis afin de crer un fichier <samp>.zip</samp> ou <samp>.tgz</samp> qui contient toutes vos moticnes, ainsi que le fichier de configuration <samp>smilies.pak</samp>%s.',
+
+	'FIRST'			=> 'Premier',
+
+	'ICONS_ADD'				=> 'Ajouter une nouvelle icne',
+	'ICONS_NONE_ADDED'		=> 'Aucune icne na t ajoute.',
+	'ICONS_ONE_ADDED'		=> 'Licne a t ajout avec succs.',
+	'ICONS_ADDED'			=> 'Les icnes ont t ajoutes avec succs.',
+	'ICONS_CONFIG'			=> 'Configuration de licne',
+	'ICONS_DELETED'			=> 'Licne a t supprime avec succs.',
+	'ICONS_EDIT'			=> 'diter licne',
+	'ICONS_ONE_EDITED'		=> 'Licne a t mise  jour avec succs.',
+	'ICONS_NONE_EDITED'		=> 'Aucune icne na t mise  jour.',
+	'ICONS_EDITED'			=> 'Les icnes ont t mises  jour avec succs.',
+	'ICONS_HEIGHT'			=> 'Hauteur de licne',
+	'ICONS_IMAGE'			=> 'Image de licne',
+	'ICONS_IMPORTED'		=> 'Lensemble dicnes a t install avec succs.',
+	'ICONS_IMPORT_SUCCESS'	=> 'Lensemble dicnes a t import avec succs.',
+	'ICONS_LOCATION'		=> 'Emplacement de licne',
+	'ICONS_NOT_DISPLAYED'	=> 'Les icnes suivantes ne sont pas affiches sur la page de rdaction',
+	'ICONS_ORDER'			=> 'Position de licne',
+	'ICONS_URL'				=> 'Image de licne',
+	'ICONS_WIDTH'			=> 'Largeur de licne',
+	'IMPORT_ICONS'			=> 'Installer un ensemble dicnes',
+	'IMPORT_SMILIES'		=> 'Installer un ensemble dmoticnes',
+
+	'KEEP_ALL'			=> 'Tout conserver',
+
+	'MASS_ADD_SMILIES'	=> 'Ajouter plusieurs moticnes',
+
+	'NO_ICONS_ADD'		=> 'Il ny a aucune icne disponible  ajouter.',
+	'NO_ICONS_EDIT'		=> 'Il ny a aucune icne disponible  modifier.',
+  'NO_ICONS_EXPORT'	=> 'Vous navez slectionn aucune icne afin de crer un ensemble.',
+	'NO_ICONS_PAK'		=> 'Aucun ensemble dicnes na t trouve.',
+	'NO_SMILIES_ADD'	=> 'Il ny a aucune moticne disponible  ajouter.',
+	'NO_SMILIES_EDIT'	=> 'Il ny a aucune moticne disponible  modifier.',
+	'NO_SMILIES_EXPORT'	=> 'Vous navez aucune moticne afin de crer un ensemble.',
+	'NO_SMILIES_PAK'	=> 'Aucun ensemble dmoticnes na t trouv.',
+
+	'PAK_FILE_NOT_READABLE'		=> 'Impossible de lire le fichier <samp>.pak</samp>.',
+
+	'REPLACE_MATCHES'	=> 'Remplacer les rsultats',
+
+	'SELECT_PACKAGE'			=> 'Slectionner une archive',
+	'SMILIES_ADD'				=> 'Ajouter une nouvelle moticne',
+	'SMILIES_NONE_ADDED'		=> 'Aucune moticne na t ajoute.',
+	'SMILIES_ONE_ADDED'			=> 'Lmoticne a t ajoute avec succs.',
+	'SMILIES_ADDED'				=> 'Les moticnes ont t ajoutes avec succs.',
+	'SMILIES_CODE'				=> 'Code de lmoticne',
+	'SMILIES_CONFIG'			=> 'Configuration de lmoticne',
+	'SMILIES_DELETED'			=> 'Lmoticne a t supprime avec succs.',
+	'SMILIES_EDIT'				=> 'diter lmoticne',
+	'SMILIE_NO_CODE'			=> 'Lmoticne  %s  a t ignore car aucun code na t saisi.',
+	'SMILIE_NO_EMOTION'			=> 'Lmoticne  %s  a t ignore car aucune moticne na t spcifie.',
+	'SMILIE_NO_FILE'			=> 'Lmoticne  %s  a t ignore car le fichier est absent.',
+	'SMILIES_NONE_EDITED'		=> 'Aucune moticne na t mise  jour.',
+	'SMILIES_ONE_EDITED'		=> 'Lmoticne a t mise  jour avec succs.',
+	'SMILIES_EDITED'			=> 'Les moticnes ont t mises  jour avec succs.',
+	'SMILIES_EMOTION'			=> 'motion',
+	'SMILIES_HEIGHT'			=> 'Hauteur de lmoticne',
+	'SMILIES_IMAGE'				=> 'Image de lmoticne',
+	'SMILIES_IMPORTED'			=> 'Lensemble dmoticnes a t install avec succs.',
+	'SMILIES_IMPORT_SUCCESS'	=> 'Lensemble dmoticnes a t import avec succs.',
+	'SMILIES_LOCATION'			=> 'Emplacement de lmoticne',
+	'SMILIES_NOT_DISPLAYED'		=> 'Les moticnes suivantes ne sont pas affiches sur la page de rdaction',
+	'SMILIES_ORDER'				=> 'Position de lmoticne',
+	'SMILIES_URL'				=> 'Image de lmoticne',
+	'SMILIES_WIDTH'				=> 'Largeur de lmoticne',
+
+	'TOO_MANY_SMILIES'			=> 'La limite de %d moticnes a t atteinte.',
+
+	'WRONG_PAK_TYPE'	=> 'Larchive que vous avez spcifie ne contient pas de donnes appropries.',
+));
+
+// Word censors
+$lang = array_merge($lang, array(
+	'ACP_WORDS_EXPLAIN'		=> 'Vous pouvez ajouter, diter et supprimer ici les mots qui seront automatiquement censurs sur votre forum. Les visiteurs seront encore autoriss  sinscrire avec des noms dutilisateurs qui contiennent ces mots. Les jokers (*) sont accepts dans le champ du mot. Par exemple, *test* censurera dtestable, test* censurera testament, *test censurera contest.',
+	'ADD_WORD'				=> 'Ajouter un nouveau mot',
+
+	'EDIT_WORD'		=> 'diter la censure du mot',
+	'ENTER_WORD'	=> 'Vous devez saisir un mot et son remplacement.',
+
+	'NO_WORD'	=> 'Aucun mot na t slectionn afin de lditer.',
+
+	'REPLACEMENT'	=> 'Remplacement',
+
+	'UPDATE_WORD'	=> 'Mettre  jour la censure du mot',
+
+	'WORD'				=> 'Mot',
+	'WORD_ADDED'		=> 'La censure du mot a t ajoute avec succs.',
+	'WORD_REMOVED'		=> 'La censure du mot a t supprime avec succs.',
+	'WORD_UPDATED'		=> 'La censure du mot a t mise  jour avec succs.',
+));
+
+// Ranks
+$lang = array_merge($lang, array(
+	'ACP_RANKS_EXPLAIN'		=> 'En utilisant ce formulaire, vous pouvez ajouter, diter, voir et supprimer des rangs. Vous pouvez galement crer des rangs personnaliss qui peuvent tre appliqus  vos utilisateurs par lintermdiaire de la gestion des utilisateurs.',
+	'ADD_RANK'				=> 'Ajouter un nouveau rang',
+
+	'MUST_SELECT_RANK'		=> 'Vous devez slectionner un rang.',
+	
+	'NO_ASSIGNED_RANK'		=> 'Aucun rang spcial nest assign.',
+	'NO_RANK_TITLE'			=> 'Vous navez pas spcifi le titre du rang.',
+	'NO_UPDATE_RANKS'		=> 'Le rang a t supprim avec succs. Cependant, les comptes des utilisateurs qui utilisent ce rang nont pas t mis  jour. Vous devrez rinitialiser manuellement le rang relatif  ces comptes.',
+
+	'RANK_ADDED'			=> 'Le rang a t ajout avec succs.',
+	'RANK_IMAGE'			=> 'Image du rang ',
+	'RANK_IMAGE_EXPLAIN'	=> 'Utilisez ceci afin de dfinir une petite image  associer au rang. Le chemin est relatif par rapport  la racine de phpBB.',
+	'RANK_IMAGE_IN_USE'		=> '(En cours dutilisation)',
+	'RANK_MINIMUM'			=> 'Messages minimums ',
+	'RANK_REMOVED'			=> 'Le rang a t supprim avec succs.',
+	'RANK_SPECIAL'			=> 'Dfinir comme rang spcial ',
+	'RANK_TITLE'			=> 'Titre du rang ',
+	'RANK_UPDATED'			=> 'Le rang a t mis  jour avec succs.',
+));
+
+// Disallow Usernames
+$lang = array_merge($lang, array(
+	'ACP_DISALLOW_EXPLAIN'	=> 'Vous pouvez contrler ici les noms dutilisateurs qui ne sont pas autoriss  tre utiliss. Les noms dutilisateurs interdits sont autoriss  contenir un joker  * .',
+	'ADD_DISALLOW_EXPLAIN'	=> 'Vous pouvez interdire un nom dutilisateur en utilisant un joker  *  afin de remplacer tout caractre.',
+	'ADD_DISALLOW_TITLE'	=> 'Ajouter un nom dutilisateur interdit',
+
+	'DELETE_DISALLOW_EXPLAIN'	=> 'Vous pouvez supprimer un nom dutilisateur interdit en slectionnant le nom dutilisateur de cette liste et en cliquant sur envoyer.',
+	'DELETE_DISALLOW_TITLE'		=> 'Supprimer un nom dutilisateur interdit',
+	'DISALLOWED_ALREADY'		=> 'Le nom dutilisateur que vous avez saisi est dj interdit.',
+	'DISALLOWED_DELETED'		=> 'Le nom dutilisateur interdit a t supprim avec succs.',
+	'DISALLOW_SUCCESSFUL'		=> 'Le nom dutilisateur interdit a t ajout avec succs.',
+
+	'NO_DISALLOWED'				=> 'Il ny a aucun nom dutilisateur interdit',
+	'NO_USERNAME_SPECIFIED'		=> 'Vous navez slectionn aucun nom dutilisateur. Veuillez en slectionner un afin deffectuer cette opration.',
+));
+
+// Reasons
+$lang = array_merge($lang, array(
+	'ACP_REASONS_EXPLAIN'	=> 'Vous pouvez grer ici les raisons utilises dans les rapports lors de la dsapprobation de messages. Il y a une raison par dfaut (marque avec  * ) que vous ne pouvez pas supprimer, cette raison est utilise normalement pour les messages personnaliss si aucune raison nest spcifie.',
+	'ADD_NEW_REASON'		=> 'Ajouter une nouvelle raison',
+	'AVAILABLE_TITLES'		=> 'Titres des raisons traduites disponibles',
+	
+	'IS_NOT_TRANSLATED'			=> 'La raison na <strong>pas</strong> t traduite.',
+	'IS_NOT_TRANSLATED_EXPLAIN'	=> 'La raison na <strong>pas</strong> t traduite. Si vous souhaitez renseigner le formulaire, spcifiez la cl des fichiers de langue dans la section des raisons de rapports.',
+	'IS_TRANSLATED'				=> 'La raison a t traduite.',
+	'IS_TRANSLATED_EXPLAIN'		=> 'La raison a t traduite. Si le titre que vous avez saisi ici est spcifi dans les fichiers de langue situs dans la section des raisons de rapports, le formulaire du titre et de la description traduit sera utilis.',
+	
+	'NO_REASON'					=> 'La raison est introuvable.',
+	'NO_REASON_INFO'			=> 'Vous devez spcifier le titre et la description de cette raison.',
+	'NO_REMOVE_DEFAULT_REASON'	=> 'Vous ne pouvez pas supprimer la raison par dfaut  Autres .',
+
+	'REASON_ADD'				=> 'Ajouter une raison au rapport',
+	'REASON_ADDED'				=> 'La raison a t ajoute au rapport avec succs.',
+	'REASON_ALREADY_EXIST'		=> 'Une raison portant ce titre existe dj. Veuillez en saisir une autre.',
+	'REASON_DESCRIPTION'		=> 'Description de la raison ',
+	'REASON_DESC_TRANSLATED'	=> 'Description de la raison affiche',
+	'REASON_EDIT'				=> 'diter la raison du rapport',
+	'REASON_EDIT_EXPLAIN'		=> 'Vous pouvez ajouter ou diter ici une raison. Si la raison est traduite, la version traduite sera utilise au lieu de la description saisie ici.',
+	'REASON_REMOVED'			=> 'La raison du rapport a t supprime avec succs.',
+	'REASON_TITLE'				=> 'Titre de la raison ',
+	'REASON_TITLE_TRANSLATED'	=> 'Titre de la raison affich',
+	'REASON_UPDATED'			=> 'La raison du rapport a t mise  jour avec succs.',
+
+	'USED_IN_REPORTS'		=> 'Utilis dans les rapports',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/profile.php phpBB3/language/fr/acp/profile.php
--- phpBB3-init/language/fr/acp/profile.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/profile.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,158 @@
+<?php
+/**
+*
+* acp_profile [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Custom profile fields
+$lang = array_merge($lang, array(
+	'ADDED_PROFILE_FIELD'	=> 'Le champ de profil personnalis a t ajout avec succs.',
+	'ALPHA_ONLY'			=> 'Alphanumrique uniquement',
+	'ALPHA_SPACERS'			=> 'Alphanumrique et espaces',
+	'ALWAYS_TODAY'			=> 'Toujours la date actuelle',
+
+	'BOOL_ENTRIES_EXPLAIN'	=> 'Saisissez vos options maintenant',
+	'BOOL_TYPE_EXPLAIN'		=> 'Dtermine le type, soit une case  cocher, soit un bouton radio. Les cases  cocher ne seront affiches que si cela est coch pour un utilisateur spcifique. Dans ce cas, la <strong>seconde</strong> option de langue sera utilise. Les boutons radios seront affichs indpendamment de leur valeur.',
+
+	'CHANGED_PROFILE_FIELD'		=> 'Le champ de profil a t modifi avec succs.',
+	'CHARS_ANY'					=> 'Nimporte quel caractre',
+	'CHECKBOX'					=> 'Case  cocher',
+	'COLUMNS'					=> 'Colonnes',
+	'CP_LANG_DEFAULT_VALUE'		=> 'Valeur par dfaut ',
+	'CP_LANG_EXPLAIN'			=> 'Description du champ ',
+	'CP_LANG_EXPLAIN_EXPLAIN'	=> 'La description du champ est affiche aux utilisateurs.',
+	'CP_LANG_NAME'				=> 'Nom ou titre du champ affich aux utilisateurs',
+	'CP_LANG_OPTIONS'			=> 'Options',
+	'CREATE_NEW_FIELD'			=> 'Crer un nouveau champ',
+	'CUSTOM_FIELDS_NOT_TRANSLATED'	=> 'Au moins un champ de profil personnalis na pas encore t traduit. Veuillez saisir linformation demande en cliquant sur le lien  Traduire .',
+
+	'DEFAULT_ISO_LANGUAGE'			=> 'Langue par dfaut [%s]',
+	'DEFAULT_LANGUAGE_NOT_FILLED'	=> 'Les entres de langue de la langue par dfaut ne sont pas renseignes pour ce champ de profil.',
+	'DEFAULT_VALUE'					=> 'Valeur par dfaut',
+	'DELETE_PROFILE_FIELD'			=> 'Supprimer le champ de profil',
+	'DELETE_PROFILE_FIELD_CONFIRM'	=> 'tes-vous sr de vouloir supprimer ce champ de profil ?',
+	'DISPLAY_AT_PROFILE'			=> 'Afficher dans le panneau de contrle de lutilisateur ',
+	'DISPLAY_AT_PROFILE_EXPLAIN'	=> 'Lutilisateur peut modifier ce champ de profil dans le panneau de contrle de lutilisateur.',
+	'DISPLAY_AT_REGISTER'			=> 'Afficher lors de linscription ',
+	'DISPLAY_AT_REGISTER_EXPLAIN'	=> 'Si cette option est active, le champ sera affich lors de linscription.',
+	'DISPLAY_ON_VT'					=> 'Afficher sur lcran du sujet ',
+	'DISPLAY_ON_VT_EXPLAIN'			=> 'Si cette option est active, le champ sera affich dans le mini-profil sur lcran du sujet.',
+	'DISPLAY_PROFILE_FIELD'			=> 'Afficher publiquement le champ de profil ',
+	'DISPLAY_PROFILE_FIELD_EXPLAIN'	=> 'Le champ de profil sera affich dans tous les endroits autoriss par les rglages du chargement. Si vous souhaitez masquer le champ sur les pages des sujets, des profils et de la liste des membres, veuillez dsactiver cette option.',
+	'DROPDOWN_ENTRIES_EXPLAIN'		=> 'Veuillez saisir  prsent vos options. Chaque option doit tre place sur une ligne diffrente.',
+
+	'EDIT_DROPDOWN_LANG_EXPLAIN'	=> 'Veuillez noter que vous pouvez modifier les options du texte et ajouter de nouvelles options  la fin. Il nest pas conseill dajouter de nouvelles options entre les options dj existantes ou de supprimer des options, car cela pourrait attribuer des options errones  vos utilisateurs qui seront, par exemple, mal redirigs sur un article.',
+	'EMPTY_FIELD_IDENT'				=> 'Champ didentification vide',
+	'EMPTY_USER_FIELD_NAME'			=> 'Veuillez saisir le nom ou le titre du champ',
+	'ENTRIES'						=> 'Entres ',
+	'EVERYTHING_OK'					=> 'Tout semble correct',
+
+	'FIELD_BOOL'				=> 'Boolen (oui/non)',
+	'FIELD_DATE'				=> 'Date',
+	'FIELD_DESCRIPTION'			=> 'Description du champ ',
+	'FIELD_DESCRIPTION_EXPLAIN'	=> 'La description de ce champ est visible aux utilisateurs.',
+	'FIELD_DROPDOWN'			=> 'Liste droulante',
+	'FIELD_IDENT'				=> 'Identification du champ ',
+	'FIELD_IDENT_ALREADY_EXIST'	=> 'Lidentification du champ que vous avez slectionn existe dj. Veuillez en choisir une autre.',
+	'FIELD_IDENT_EXPLAIN'		=> 'Lidentification du champ correspond au nom qui permet didentifier le champ de profil dans la base de donnes et les templates.',
+	'FIELD_INT'					=> 'Nombres',
+	'FIELD_LENGTH'				=> 'Largeur de la barre de saisie',
+	'FIELD_NOT_FOUND'			=> 'Le champ de profil est introuvable.',
+	'FIELD_STRING'				=> 'Champ de texte simple',
+	'FIELD_TEXT'				=> 'Zone de texte',
+	'FIELD_TYPE'				=> 'Type de champ ',
+	'FIELD_TYPE_EXPLAIN'		=> 'Vous ne pourrez plus modifier ultrieurement le type de champ.',
+	'FIELD_VALIDATION'			=> 'Validation du champ',
+	'FIRST_OPTION'				=> 'Premire option',
+
+	'HIDE_PROFILE_FIELD'			=> 'Masquer le champ de profil ',
+	'HIDE_PROFILE_FIELD_EXPLAIN'	=> 'Masque le champ de profil  tous les autres utilisateurs, mis  part  lutilisateur concern, aux administrateurs et aux modrateurs qui pourront toujours voir ce champ. Si loption daffichage est dsactive dans le panneau de contrle de lutilisateur, lutilisateur ne pourra pas voir ou modifier ce champ, seuls les administrateurs le pourront.',
+
+	'INVALID_CHARS_FIELD_IDENT'	=> 'Lidentification du champ ne peut contenir que des minuscules, des lettres situes entre a et z, puis _',
+	'INVALID_FIELD_IDENT_LEN'	=> 'Lidentification du champ ne doit pas dpasser 17 caractres',
+	'ISO_LANGUAGE'				=> 'Langue [%s]',
+
+	'LANG_SPECIFIC_OPTIONS'		=> 'Options spcifiques  la langue [<strong>%s</strong>]',
+
+	'MAX_FIELD_CHARS'		=> 'Nombre maximum de caractres',
+	'MAX_FIELD_NUMBER'		=> 'Nombre le plus lev autoris',
+	'MIN_FIELD_CHARS'		=> 'Nombre minimum de caractres',
+	'MIN_FIELD_NUMBER'		=> 'Nombre le plus faible autoris',
+
+	'NO_FIELD_ENTRIES'			=> 'Aucune entre na t spcifie',
+	'NO_FIELD_ID'				=> 'Aucune identification de champ na t spcifie.',
+	'NO_FIELD_TYPE'				=> 'Aucun type de champ na t spcifi.',
+	'NO_VALUE_OPTION'			=> 'Option gale  la valeur de non-saisie',
+	'NO_VALUE_OPTION_EXPLAIN'	=> 'Correspond  la valeur de non-saisie. Si ce champ est obligatoire, lutilisateur obtiendra une erreur sil choisit loption slectionne ici.',
+	'NUMBERS_ONLY'				=> 'Nombres uniquement (0-9)',
+
+	'PROFILE_BASIC_OPTIONS'		=> 'Options basiques',
+	'PROFILE_FIELD_ACTIVATED'	=> 'Le champ de profil a t activ avec succs.',
+	'PROFILE_FIELD_DEACTIVATED'	=> 'Le champ de profil a t dsactiv avec succs.',
+	'PROFILE_LANG_OPTIONS'		=> 'Options spcifiques  la langue',
+	'PROFILE_TYPE_OPTIONS'		=> 'Options spcifiques au type de profil',
+
+	'RADIO_BUTTONS'				=> 'Boutons radios',
+	'REMOVED_PROFILE_FIELD'		=> 'Le champ de profil a t supprim avec succs.',
+	'REQUIRED_FIELD'			=> 'Champ obligatoire ',
+	'REQUIRED_FIELD_EXPLAIN'	=> 'Oblige  remplir ou  spcifier le champ de profil  un utilisateur ou un administrateur. Si loption daffichage est dsactive sur la page dinscription, le champ ne devra tre rempli que lorsque lutilisateur modifiera son profil.',
+	'ROWS'						=> 'Lignes',
+
+	'SAVE'							=> 'Sauvegarder',
+	'SECOND_OPTION'					=> 'Seconde option',
+	'STEP_1_EXPLAIN_CREATE'			=> 'Vous pouvez saisir ici le premier paramtre basique de votre nouveau champ de profil. Cette information est obligatoire afin de poursuivre  la seconde tape dans laquelle vous pourrez dfinir les options restantes et o vous pourrez prvisualiser et amliorer votre champ de profil.',
+	'STEP_1_EXPLAIN_EDIT'			=> 'Vous pouvez modifier ici les paramtres basiques de votre champ de profil. Les options ncessaires sont recalcules  la seconde tape.',
+	'STEP_1_TITLE_CREATE'			=> 'Ajouter un champ de profil',
+	'STEP_1_TITLE_EDIT'				=> 'diter le champ de profil',
+	'STEP_2_EXPLAIN_CREATE'			=> 'Vous pouvez spcifier ici quelques options gnrales que vous pourrez ajuster.',
+	'STEP_2_EXPLAIN_EDIT'			=> 'Vous pouvez modifier ici quelques options gnrales.<br /><strong>Veuillez noter que les modifications des champs de profil naffecteront pas les champs de profil existants et complts par vos utilisateurs.</strong>',
+	'STEP_2_TITLE_CREATE'			=> 'Options spcifiques au type de profil',
+	'STEP_2_TITLE_EDIT'				=> 'Options spcifiques au type de profil',
+	'STEP_3_EXPLAIN_CREATE'			=> 'Depuis que vous avez install plusieurs langues  votre forum, vous devez galement remplir les lments des langues. Le champ de profil fonctionnera avec la langue active par dfaut, vous pourrez galement complter les lments des langues ultrieurement.',
+	'STEP_3_EXPLAIN_EDIT'			=> 'Depuis que vous avez install plusieurs langues  votre forum, vous pouvez galement modifier ou ajouter les lments restants des langues. Le champ de profil fonctionnera avec la langue active par dfaut.',
+	'STEP_3_TITLE_CREATE'			=> 'Dfinitions des langues restantes',
+	'STEP_3_TITLE_EDIT'				=> 'Dfinitions des langues',
+	'STRING_DEFAULT_VALUE_EXPLAIN'	=> 'Veuillez saisir une phrase ou une valeur qui sera affiche par dfaut. Laissez cela vide si vous souhaitez ne rien afficher.',
+
+	'TEXT_DEFAULT_VALUE_EXPLAIN'	=> 'Veuillez saisir un texte ou une valeur qui sera affich par dfaut. Laissez cela vide si vous souhaitez ne rien afficher.',
+	'TRANSLATE'						=> 'Traduire',
+
+	'USER_FIELD_NAME'	=> 'Nom ou titre du champ affich aux utilisateurs ',
+
+	'VISIBILITY_OPTION'				=> 'Options de visibilit',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/prune.php phpBB3/language/fr/acp/prune.php
--- phpBB3-init/language/fr/acp/prune.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/prune.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,93 @@
+<?php
+/**
+*
+* acp_prune [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// User pruning
+$lang = array_merge($lang, array(
+	'ACP_PRUNE_USERS_EXPLAIN'	=> 'Cette section vous autorise  supprimer ou  dsactiver des utilisateurs sur votre forum. Les comptes peuvent tre filtrs de diffrentes manires ; par le nombre de messages, lactivit la plus rcente, etc. Des critres peuvent tre combins afin de restreindre les comptes qui sont affects. Par exemple, vous pouvez dlester les utilisateurs qui ont moins de 10 messages et qui sont galement inactifs depuis le 01-01-2002. Alternativement, vous pouvez ignorer compltement la slection de critres en saisissant directement une liste dutilisateurs dans le champ de texte, chacun sur une ligne spare. Soyez prudent avec cette fonctionnalit ! Une fois quun utilisateur a t supprim, vous ne pourrez pas revenir en arrire.',
+
+	'DEACTIVATE_DELETE'			=> 'Dsactiver ou supprimer ',
+	'DEACTIVATE_DELETE_EXPLAIN'	=> 'Choisissez entre dsactiver les utilisateurs ou les supprimer entirement. Veuillez noter que les utilisateurs supprims ne peuvent pas tre restaurs !',
+	'DELETE_USERS'				=> 'Supprimer',
+	'DELETE_USER_POSTS'			=> 'Supprimer les messages des utilisateurs dlests ',
+	'DELETE_USER_POSTS_EXPLAIN' => 'Supprime les messages des utilisateurs dlests. Cela na aucun effet si les utilisateurs sont dsactivs.',
+
+	'JOINED_EXPLAIN'			=> 'Saisissez une date au format <kbd>AAAA-MM-JJ</kbd>.',
+
+	'LAST_ACTIVE_EXPLAIN'		=> 'Saisissez une date au format <kbd>AAAA-MM-JJ</kbd>. Saisissez <kbd>0000-00-00</kbd> afin de dlester les utilisateurs qui ne se sont jamais connects, les conditions <em>Avant</em> et <em>Aprs</em> seront ignores.',
+
+	'PRUNE_USERS_LIST'				=> 'Utilisateurs  dlester',
+	'PRUNE_USERS_LIST_DELETE'		=> 'En accord au critre que vous avez slectionn concernant le dlestage des utilisateurs, les comptes suivants seront supprims.',
+	'PRUNE_USERS_LIST_DEACTIVATE'	=> 'En accord au critre que vous avez slectionn concernant le dlestage des utilisateurs, les comptes suivants seront dsactivs.',
+
+	'SELECT_USERS_EXPLAIN'		=> 'Veuillez saisir ici des noms dutilisateurs spcifiques. Ils seront utiliss de prfrence en tenant compte des critres prsents ci-dessus. Les fondateurs ne peuvent pas tre dlests.',
+
+	'USER_DEACTIVATE_SUCCESS'	=> 'Les utilisateurs que vous avez slectionns ont t dsactivs avec succs.',
+	'USER_DELETE_SUCCESS'		=> 'Les utilisateurs que vous avez slectionns ont t supprims avec succs.',
+	'USER_PRUNE_FAILURE'		=> 'Aucun utilisateur ne correspond au critre slectionn.',
+
+	'WRONG_ACTIVE_JOINED_DATE'	=> 'La date que vous avez spcifie est incorrecte, elle doit obligatoirement tre au format <kbd>AAAA-MM-JJ</kbd>.',
+));
+
+// Forum Pruning
+$lang = array_merge($lang, array(
+	'ACP_PRUNE_FORUMS_EXPLAIN'	=> 'Ceci supprimera tous les sujets qui nont obtenus aucune rponse ou qui nont pas t consults depuis un certain nombre de jours. Si vous ne saisissez aucun numro, tous les sujets seront alors supprims. Par dfaut, les sujets dont un sondage est en cours, les notes et les annonces ne seront pas supprims.',
+
+	'FORUM_PRUNE'		=> 'Dlester le forum',
+
+	'NO_PRUNE'			=> 'Aucun forum na t dlest.',
+
+	'SELECTED_FORUM'	=> 'Forum slectionn',
+	'SELECTED_FORUMS'	=> 'Forums slectionns',
+
+	'POSTS_PRUNED'					=> 'Messages dlests',
+	'PRUNE_ANNOUNCEMENTS'			=> 'Dlester les annonces',
+	'PRUNE_FINISHED_POLLS'			=> 'Dlester les sondages termins',
+	'PRUNE_FINISHED_POLLS_EXPLAIN'	=> 'Supprime les sujets dans lesquels les sondages sont termins.',
+	'PRUNE_FORUM_CONFIRM'			=> 'tes-vous sr de vouloir dlester les forums slectionns avec les rglages que vous avez spcifis ? Une fois supprims, les messages et les sujets dlests ne pourront pas tre restaurs.',
+	'PRUNE_NOT_POSTED'				=> 'Nombre de jours depuis la dernire publication',
+	'PRUNE_NOT_VIEWED'				=> 'Nombre de jours depuis la dernire consultation',
+	'PRUNE_OLD_POLLS'				=> 'Dlester les anciens sondages',
+	'PRUNE_OLD_POLLS_EXPLAIN'		=> 'Supprime les sujets dans lesquels les sondages en cours ne contiennent aucun vote.',
+	'PRUNE_STICKY'					=> 'Dlester les notes',
+	'PRUNE_SUCCESS'					=> 'Le dlestage des forums a t effectu avec succs.',
+
+	'TOPICS_PRUNED'		=> 'Sujets dlests',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/search.php phpBB3/language/fr/acp/search.php
--- phpBB3-init/language/fr/acp/search.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/search.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,111 @@
+<?php
+/**
+*
+* acp_search [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_SEARCH_INDEX_EXPLAIN'				=> 'Vous pouvez grer ici les mthodes dindexation de la recherche. tant donn que le moteur de recherche nutilise quune seule mthode dindexation, vous devriez supprimer toutes les indexations inutilises. Vous devriez galement, aprs toute modification sur la plupart des rglages de la recherche comme le nombre minimum et maximum de caractres, recrer lindex afin quil prenne en compte ces modifications.',
+	'ACP_SEARCH_SETTINGS_EXPLAIN'			=> 'Vous pouvez dfinir ici la mthode dindexation de la recherche qui sera utilise lors de lindexation de messages et lexcution de recherches. Vous pouvez rgler diffrentes options qui peuvent influencer sur le nombre dexcutions que ces actions demandent. Certains de ces rglages sont les mmes pour toutes les mthodes dindexation du moteur de recherche.',
+
+	'COMMON_WORD_THRESHOLD'					=> 'Seuil de mot commun ',
+	'COMMON_WORD_THRESHOLD_EXPLAIN'			=> 'Les mots contenus dans la majorit des messages seront considrs comme communs. Les mots communs sont ignors des recherches. Rglez cette valeur sur 0 afin de dsactiver ce comportement. Cela ne prend effet que sil y a plus de 100 messages. Si vous souhaitez que les mots considrs comme communs soient reconsidrs, vous devez recrer lindex.',
+	'CONFIRM_SEARCH_BACKEND'				=> 'tes-vous sr de vouloir modifier votre mthode dindexation pour une mthode diffrente ? Aprs la modification de la mthode dindexation, vous devez crer un index. Si vous ne prvoyez pas de restaurer lancienne mthode dindexation, vous pouvez galement la supprimer afin de librer des ressources systmes.',
+	'CONTINUE_DELETING_INDEX'				=> 'Continuer le processus de suppression de lancien index',
+	'CONTINUE_DELETING_INDEX_EXPLAIN'		=> 'Un processus de suppression de lancien index a t commenc. Vous devez terminer ou annuler ce dernier afin daccder  la page de lindex de la recherche.',
+	'CONTINUE_INDEXING'						=> 'Continuer lancien processus dindexation',
+	'CONTINUE_INDEXING_EXPLAIN'				=> 'Un processus dindexation de lancien index a t commenc. Vous devez terminer ou annuler ce dernier afin daccder  la page de lindex de la recherche.',
+	'CREATE_INDEX'							=> 'Crer un index',
+
+	'DELETE_INDEX'							=> 'Supprimer un index',
+	'DELETING_INDEX_IN_PROGRESS'			=> 'Suppression de lindex en cours.',
+	'DELETING_INDEX_IN_PROGRESS_EXPLAIN'	=> 'La mthode dindexation de la recherche est actuellement en train de vider son index. Cela peut prendre quelques minutes.',
+
+	'FULLTEXT_MYSQL_INCOMPATIBLE_VERSION'	=> 'Lindexation plein texte de MySQL ne peut tre utilise quavec MySQL4 et plus.',
+	'FULLTEXT_MYSQL_NOT_MYISAM'				=> 'Les indexations plein texte de MySQL ne peuvent tre utilises quavec les tables MyISAM.',
+	'FULLTEXT_MYSQL_TOTAL_POSTS'			=> 'Nombre total de messages indexs ',
+	'FULLTEXT_MYSQL_MBSTRING'				=> 'Support des caractres UTF-8 non-latins utilisant mbstring :',
+	'FULLTEXT_MYSQL_PCRE'					=> 'Support des caractres UTF-8 non-latins utilisant PCRE :',
+	'FULLTEXT_MYSQL_MBSTRING_EXPLAIN'		=> 'Si PCRE na aucune proprit de caractre UNICODE, lindex de la recherche essaiera dutiliser le moteur dexpressions rgulires de mbstring.',
+	'FULLTEXT_MYSQL_PCRE_EXPLAIN'			=> 'Si vous souhaitez rechercher des caractres non-latins, vous allez avoir besoin des proprits de caractre UNICODE de PCRE qui ne sont disponibles que dans PHP 4.4, 5.1 et plus.',
+	'FULLTEXT_MYSQL_MIN_SEARCH_CHARS_EXPLAIN'	=> 'Les mots ne contenant pas moins que ce nombre de caractres seront indexs lors de la recherche. Seul votre hbergeur et vous tes en mesure de modifier ce rglage en modifiant la configuration de MySQL.',
+	'FULLTEXT_MYSQL_MAX_SEARCH_CHARS_EXPLAIN'	=> 'Les mots ne contenant pas plus que ce nombre de caractres seront indexs lors de la recherche. Seul votre hbergeur et vous tes en mesure de modifier ce rglage en modifiant la configuration de MySQL.',
+
+	'GENERAL_SEARCH_SETTINGS'				=> 'Rglages gnraux de la recherche',
+	'GO_TO_SEARCH_INDEX'					=> 'Aller sur la page dindex de la recherche',
+
+	'INDEX_STATS'							=> 'Statistiques de lindex',
+	'INDEXING_IN_PROGRESS'					=> 'Indexation en cours',
+	'INDEXING_IN_PROGRESS_EXPLAIN'			=> 'La mthode dindexation de la recherche est actuellement en train dindexer tous les messages du forum. Ce processus peut prendre un certain temps selon la taille de votre forum.',
+
+	'LIMIT_SEARCH_LOAD'						=> 'Limite de la charge du systme de la page de recherche ',
+	'LIMIT_SEARCH_LOAD_EXPLAIN'				=> 'Si la charge du systme dpasse cette valeur durant une minute, la page de recherche sera mise hors-ligne, 1.0 quivalant  ~100 % dutilisation du processeur. Cela ne fonctionne que sur les serveurs bass sous UNIX.',
+
+	'MAX_SEARCH_CHARS'						=> 'Nombre maximum de caractres indexs dans la recherche ',
+	'MAX_SEARCH_CHARS_EXPLAIN'				=> 'Les mots contenant moins de caractres seront indexs dans la recherche.',
+	'MAX_NUM_SEARCH_KEYWORDS'				=> 'Nombre maximum de mots cls autoriss ',
+	'MAX_NUM_SEARCH_KEYWORDS_EXPLAIN'		=> 'Le nombre maximum de mots que lutilisateur est capable de rechercher. Rglez cette valeur sur 0 afin de ne pas limiter le nombre de mots.',
+	'MIN_SEARCH_CHARS'						=> 'Nombre minimum de caractres indexs dans la recherche ',
+	'MIN_SEARCH_CHARS_EXPLAIN'				=> 'Les mots contenant plus de caractres seront indexs dans la recherche.',
+	'MIN_SEARCH_AUTHOR_CHARS'				=> 'Nombre minimum de caractres du nom de lauteur ',
+	'MIN_SEARCH_AUTHOR_CHARS_EXPLAIN'		=> 'Le nombre minimum de caractres que les utilisateurs doivent saisir lors dune recherche dauteurs avec un joker. Si le nom de lauteur est plus court que ce nombre, ils devront saisir son nom dutilisateur complet afin de rechercher ses messages.',
+
+	'PROGRESS_BAR'							=> 'Barre de progression',
+
+	'SEARCH_GUEST_INTERVAL'					=> 'Intervalle daffluence de la recherche des invits ',
+	'SEARCH_GUEST_INTERVAL_EXPLAIN'			=> 'Le nombre de secondes quun invit doit attendre entre chaque recherche. Si un invit est en train deffectuer une recherche, tous les autres invits doivent attendre que cette dure soit expire.',
+	'SEARCH_INDEX_CREATE_REDIRECT'			=> 'Tous les messages depuis le message dont lID est %1$d sont maintenant indexs, ce qui correspond  %2$d messages.<br />Le taux actuel dindexation est approximativement de %3$.1f messages par seconde.<br />Indexation en cours',
+	'SEARCH_INDEX_DELETE_REDIRECT'			=> 'Tous les messages depuis le message dont lID est %1$d ont t supprims de lindex de recherche.<br />Suppression en cours',
+	'SEARCH_INDEX_CREATED'					=> 'Tous les messages ont t indexs dans la base de donnes du forum avec succs.',
+	'SEARCH_INDEX_REMOVED'					=> 'Lindex de recherche a t supprim de cette mthode dindexation avec succs.',
+	'SEARCH_INTERVAL'						=> 'Intervalle daffluence de la recherche des utilisateurs ',
+	'SEARCH_INTERVAL_EXPLAIN'				=> 'Le nombre de secondes quun utilisateur doit attendre entre chaque recherche. Cet intervalle est vrifi indpendamment pour chaque utilisateur.',
+	'SEARCH_STORE_RESULTS'					=> 'Dure de la mise en cache des rsultats de la recherche ',
+	'SEARCH_STORE_RESULTS_EXPLAIN'			=> 'Les rsultats de la recherche mis en cache expireront aprs cette dure, exprime en secondes. Rglez cette valeur sur 0 afin de dsactiver la mise en cache des rsultats de la recherche.',
+	'SEARCH_TYPE'							=> 'Mthode dindexation de la recherche ',
+	'SEARCH_TYPE_EXPLAIN'					=> 'phpBB vous permet de choisir la mthode dindexation qui est utilise lors de la recherche de texte dans le contenu des messages. Par dfaut, la recherche utilisera  Fulltext native .',
+	'SWITCHED_SEARCH_BACKEND'				=> 'Vous avez modifi la mthode dindexation de la recherche avec succs. Vous devriez  prsent recrer un index.',
+
+	'TOTAL_WORDS'							=> 'Nombre total de mots indexs ',
+	'TOTAL_MATCHES'							=> 'Nombre total de mots indexs en relation avec les sujets ',
+
+	'YES_SEARCH'							=> 'Activer la recherche ',
+	'YES_SEARCH_EXPLAIN'					=> 'Active la fonctionnalit de la recherche, incluant la recherche des membres.',
+	'YES_SEARCH_UPDATE'						=> 'Activer la mise  jour plein texte ',
+	'YES_SEARCH_UPDATE_EXPLAIN'				=> 'Met  jour les index plein texte lors des publications. Ce rglage nest pas pris en compte si la recherche est dsactive.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/styles.php phpBB3/language/fr/acp/styles.php
--- phpBB3-init/language/fr/acp/styles.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/styles.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,440 @@
+<?php
+/**
+*
+* acp_styles [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACP_IMAGESETS_EXPLAIN'	=> 'Les ensembles dimages comprennent toutes les images de boutons, de forums, de dossiers, etc. Ils comprennent galement dautres images qui ne sont pas spcifiques au style utilis sur le forum. Vous pouvez diter, exporter ou supprimer ici les ensembles dimages et en importer ou en activer de nouveaux.',
+	'ACP_STYLES_EXPLAIN'	=> 'Vous pouvez grer ici les styles disponibles sur votre forum. Un style comprend un ensemble de templates, de thmes et dimages. Vous pouvez modifier les styles existants et supprimer, dsactiver, ractiver, crer ou en importer de nouveaux. Vous pouvez galement voir  quoi va ressembler un style en utilisant la fonction de prvisualisation. Le style actuellement par dfaut est not par la prsence dun astrisque (*). Vous pouvez galement retrouver le compteur du nombre total dutilisateurs de chaque style.',
+	'ACP_TEMPLATES_EXPLAIN'	=> 'Un ensemble de templates comprend toutes les balises utilises afin de gnrer laspect de votre forum. Vous pouvez diter, supprimer, exporter, importer et prvisualiser ici ces ensembles. Vous pouvez galement modifier le code des templates utiliss afin de gnrer du BBCode.',
+	'ACP_THEMES_EXPLAIN'	=> 'Vous pouvez crer, installer, diter, supprimer et exporter ici des thmes. Un thme est une combinaison de couleurs et dimages applique  vos templates afin de dfinir laspect basique de votre forum. La gamme des options disponibles dpend de la configuration de votre serveur et de linstallation de phpBB, veuillez consulter le manuel pour plus dinformations. Veuillez noter quen crant de nouveaux thmes, lutilisation dun thme existant basique est optionnelle.',
+	'ADD_IMAGESET'			=> 'Crer un ensemble dimages',
+	'ADD_IMAGESET_EXPLAIN'	=> 'Vous pouvez crer ici un nouvel ensemble dimages. Des options additionnelles peuvent tre prsentes, selon la configuration de votre serveur et les permissions assignes aux fichiers. Par exemple, vous pourrez baser cet ensemble dimages sur un ensemble dimages qui existe dj. Vous pourrez galement envoyer ou importer un ensemble dimages depuis le rpertoire de stockage.',
+	'ADD_STYLE'				=> 'Crer un style',
+	'ADD_STYLE_EXPLAIN'		=> 'Vous pouvez crer ici un nouveau style. Des options additionnelles peuvent tre prsentes, selon la configuration de votre serveur et les permissions assignes aux fichiers. Par exemple, vous pourrez baser ce style sur un style qui existe dj. Vous pourrez galement envoyer ou importer un ensemble de styles depuis le rpertoire de stockage.',
+	'ADD_TEMPLATE'			=> 'Crer un template',
+	'ADD_TEMPLATE_EXPLAIN'	=> 'Vous pouvez ajouter ici un nouveau template. Des options additionnelles peuvent tre prsentes, selon la configuration de votre serveur et les permissions assignes aux fichiers. Par exemple, vous pourrez baser ce template sur un template qui existe dj. Vous pourrez galement envoyer ou importer un ensemble de templates depuis le rpertoire de stockage.',
+	'ADD_THEME'				=> 'Crer un thme',
+	'ADD_THEME_EXPLAIN'		=> 'Vous pouvez ajouter ici un nouveau thme. Des options additionnelles peuvent tre prsentes, selon la configuration de votre serveur et les permissions assignes aux fichiers. Par exemple, vous pourrez baser ce thme sur un thme qui existe dj. Vous pourrez galement envoyer ou importer un ensemble de thmes depuis le rpertoire de stockage.',
+	'ARCHIVE_FORMAT'		=> 'Format de larchive ',
+	'AUTOMATIC_EXPLAIN'		=> 'Laissez vide afin de tenter une dtection automatique.',
+
+	'BACKGROUND'			=> 'Fond',
+	'BACKGROUND_COLOUR'		=> 'Couleur de fond',
+	'BACKGROUND_IMAGE'		=> 'Image de fond',
+	'BACKGROUND_REPEAT'		=> 'Mosaque de fond',
+	'BOLD'					=> 'Gras',
+
+	'CACHE'							=> 'Cache',
+	'CACHE_CACHED'					=> 'Mis en cache',
+	'CACHE_FILENAME'				=> 'Fichier template ',
+	'CACHE_FILESIZE'				=> 'Taille du fichier',
+	'CACHE_MODIFIED'				=> 'Modifi',
+	'CONFIRM_IMAGESET_REFRESH'		=> 'tes-vous sr de vouloir rafrachir toutes les donnes des ensembles dimages ? Cela crasera toutes les modifications ralises  partir de lditeur des ensembles dimages.',
+	'CONFIRM_TEMPLATE_CLEAR_CACHE'	=> 'tes-vous sr de vouloir supprimer toutes les versions des fichiers template mis en cache ?',
+	'CONFIRM_TEMPLATE_REFRESH'		=> 'tes-vous sr de vouloir rafrachir toutes les donnes des templates stocks dans la base de donnes ? Cela crasera toutes les modifications faites  partir de lditeur des templates stocks dans la base de donnes.',
+	'CONFIRM_THEME_REFRESH'			=> 'tes-vous sr de vouloir rafrachir les donnes des thmes stocks dans la base de donnes ? Ceci crasera toutes modifications faites  partir de lditeur des thmes stocks dans la base de donnes.',
+	'COPYRIGHT'						=> 'Copyright ',
+	'CREATE_IMAGESET'				=> 'Crer un nouvel ensemble dimages',
+	'CREATE_STYLE'					=> 'Crer un nouveau style',
+	'CREATE_TEMPLATE'				=> 'Crer un nouvel ensemble de templates',
+	'CREATE_THEME'					=> 'Crer un nouveau thme',
+	'CURRENT_IMAGE'					=> 'Image actuelle ',
+
+	'DEACTIVATE_DEFAULT'		=> 'Vous ne pouvez pas dsactiver le style par dfaut.',
+	'DELETE_FROM_FS'			=> 'Supprimer du systme de fichiers',
+	'DELETE_IMAGESET'			=> 'Supprimer lensemble dimages',
+	'DELETE_IMAGESET_EXPLAIN'	=> 'Vous pouvez supprimer ici lensemble dimages que vous avez slectionn. Veuillez noter que cette opration est irrversible. Il est donc recommand deffectuer une sauvegarde de votre ensemble dimages pour une possible utilisation future.',
+	'DELETE_STYLE'				=> 'Supprimer le style',
+	'DELETE_STYLE_EXPLAIN'		=> 'Vous pouvez supprimer ici le style que vous avez slectionn. Soyez prudent lorsque vous supprimez des styles car cette opration est irrversible.',
+	'DELETE_TEMPLATE'			=> 'Supprimer lensemble de templates',
+	'DELETE_TEMPLATE_EXPLAIN'	=> 'Vous pouvez supprimer ici lensemble de templates que vous avez slectionn de la base de donnes. Veuillez noter que cette opration est irrversible. Il est donc recommand deffectuer une sauvegarde de votre ensemble de templates pour une possible utilisation future.',
+	'DELETE_THEME'				=> 'Supprimer le thme',
+	'DELETE_THEME_EXPLAIN'		=> 'Vous pouvez supprimer ici le thme que vous avez slectionn de la base de donnes. Veuillez noter que cette opration est irrversible. Il est donc recommand deffectuer une sauvegarde de votre thme pour une possible utilisation future.',
+	'DETAILS'					=> 'Informations',
+	'DIMENSIONS_EXPLAIN'		=> 'Si vous slectionnez  Oui  ici, cela inclura les paramtres de largeur et de hauteur.',
+
+
+	'EDIT_DETAILS_IMAGESET'				=> 'diter les informations de lensemble dimages',
+	'EDIT_DETAILS_IMAGESET_EXPLAIN'		=> 'Vous pouvez diter ici certaines informations de lensemble dimages, tel que son nom.',
+	'EDIT_DETAILS_STYLE'				=> 'diter un style',
+	'EDIT_DETAILS_STYLE_EXPLAIN'		=> 'En utilisant le formulaire ci-dessous, vous pouvez modifier ce style. Vous pouvez modifier sa combinaison de template, de thme et densemble dimages qui dfinit le style en lui-mme. Vous pouvez galement dfinir le style comme tant celui  utiliser par dfaut.',
+	'EDIT_DETAILS_TEMPLATE'				=> 'diter les informations du template',
+	'EDIT_DETAILS_TEMPLATE_EXPLAIN'		=> 'Vous pouvez diter ici certaines informations du template, tel que son nom. Vous pouvez galement avoir loption qui vous permet de basculer le stockage de la feuille de style du systme de fichiers  la base de donnes, et vice et versa. Cette option dpend de la configuration de PHP et de votre serveur.',
+	'EDIT_DETAILS_THEME'				=> 'diter les informations du thme',
+	'EDIT_DETAILS_THEME_EXPLAIN'		=> 'Vous pouvez diter ici les informations du thme, tel que son nom. Vous pouvez galement avoir loption qui vous permet de basculer le stockage de la feuille de style du systme de fichiers  la base de donnes, et vice et versa. Cette option dpend de la configuration de PHP et de votre serveur.',
+	'EDIT_IMAGESET'						=> 'diter un ensemble dimages',
+	'EDIT_IMAGESET_EXPLAIN'				=> 'Vous pouvez diter ici les images individuelles qui dfinissent lensemble dimages. Vous pouvez galement spcifier les dimensions de limage. Elles sont optionnelles mais peuvent aider  rsoudre certains problmes graphiques rencontrs avec quelques navigateurs. Cependant, si vous ne les spcifiez pas, cela permettra de rduire la taille de la base de donnes.',
+	'EDIT_TEMPLATE'						=> 'diter un ensemble de templates',
+	'EDIT_TEMPLATE_EXPLAIN'				=> 'Vous pouvez diter ici votre ensemble de templates. Veuillez noter que ces ditions sont permanentes et quelles ne peuvent pas tre annules une fois effectues. Si PHP arrive  crire dans vos fichiers de templates situs dans le rpertoire de vos styles, toutes les modifications seront directement crites dans ces fichiers. Si PHP narrive pas  crire dans ces fichiers, ils seront alors copis dans la base de donnes et toute modification ne sera reflte quici. Soyez prudent en ditant votre ensemble de templates et noubliez pas de fermer tous les termes de remplacement de variables {XXXX} et les rapports conditionnels.',
+	'EDIT_TEMPLATE_STORED_DB'			=> 'Le fichier template na pas pu tre crit. Lensemble de templates est  prsent stock dans la base de donnes et contient le fichier modifi.',
+	'EDIT_THEME'						=> 'diter un thme',
+	'EDIT_THEME_EXPLAIN'				=> 'Vous pouvez diter ici le thme que vous avez slectionn en modifiant ses couleurs, ses images, etc.',
+	'EDIT_THEME_STORED_DB'				=> 'La feuille de style na pas pu tre crite. Elle est  prsent stocke dans la base de donnes et contient votre modification.',
+	'EDIT_THEME_STORE_PARSED'			=> 'Le thme requiert que sa feuille de style soit analyse. Ceci nest possible que si cette dernire est stocke dans la base de donnes.',
+	'EDITOR_DISABLED'               => 'Lditeur de templates est dsactiv.',
+	'EXPORT'							=> 'Exporter',
+
+	'FOREGROUND'			=> 'Premier plan',
+	'FONT_COLOUR'			=> 'Couleur de la police de caractres',
+	'FONT_FACE'				=> 'Police',
+	'FONT_FACE_EXPLAIN'		=> 'Vous pouvez spcifier plusieurs polices de caractres en les sparant par une virgule. Si un utilisateur na pas la premire police de caractres installe sur son ordinateur, la suivante sera alors slectionne.',
+	'FONT_SIZE'				=> 'Taille de la police de caractres',
+
+	'GLOBAL_IMAGES'			=> 'Globales',
+
+	'HIDE_CSS'				=> 'Masquer le CSS brut',
+
+	'IMAGE_WIDTH'				=> 'Largeur de limage ',
+	'IMAGE_HEIGHT'				=> 'Hauteur de limage ',
+	'IMAGE'						=> 'Image ',
+	'IMAGE_NAME'				=> 'Nom de limage',
+	'IMAGE_PARAMETER'			=> 'Paramtre',
+	'IMAGE_VALUE'				=> 'Valeur',
+	'IMAGESET_ADDED'			=> 'Lensemble dimages a t ajout au systme de fichiers avec succs.',
+	'IMAGESET_ADDED_DB'			=> 'Lensemble dimages a t ajout  la base de donnes avec succs.',
+	'IMAGESET_DELETED'			=> 'Lensemble dimages a t supprim avec succs.',
+	'IMAGESET_DELETED_FS'		=> 'Lensemble dimages a t supprim de la base de donnes mais quelques fichiers peuvent subsister dans le systme de fichiers.',
+	'IMAGESET_DETAILS_UPDATED'	=> 'Les informations concernant lensemble dimages ont t mises  jour avec succs.',
+	'IMAGESET_ERR_ARCHIVE'		=> 'Veuillez slectionner une mthode de compression.',
+	'IMAGESET_ERR_COPY_LONG'	=> 'Le copyright ne doit pas dpasser 60 caractres.',
+	'IMAGESET_ERR_NAME_CHARS'	=> 'Le nom de lensemble dimages ne doit contenir que des caractres alphanumriques, -, +, _ et des espaces.',
+	'IMAGESET_ERR_NAME_EXIST'	=> 'Un ensemble dimages portant ce nom existe dj.',
+	'IMAGESET_ERR_NAME_LONG'	=> 'Le nom de lensemble dimages ne doit pas dpasser 30 caractres.',
+	'IMAGESET_ERR_NOT_IMAGESET'	=> 'Le fichier comprss que vous avez spcifi ne contient pas densemble dimages valide.',
+	'IMAGESET_ERR_STYLE_NAME'	=> 'Vous devez spcifier le nom de cet ensemble dimages.',
+	'IMAGESET_EXPORT'			=> 'Exporter un ensemble dimages',
+	'IMAGESET_EXPORT_EXPLAIN'	=> 'Vous pouvez exporter ici un ensemble dimages sous forme de fichier comprss. Ce dernier contiendra toutes les donnes ncessaires afin dinstaller lensemble dimages sur un autre forum. Vous pouvez soit tlcharger le fichier directement, soit le placer dans votre dossier de stockage afin de le tlcharger ultrieurement par FTP.',
+	'IMAGESET_EXPORTED'			=> 'Lensemble dimages a t export et stock dans %s avec succs.',
+	'IMAGESET_NAME'				=> 'Nom de lensemble dimages ',
+	'IMAGESET_REFRESHED'		=> 'Lensemble dimages a t rafrachi avec succs.',
+	'IMAGESET_UPDATED'			=> 'Lensemble dimages a t mis  jour avec succs.',
+	'ITALIC'					=> 'Italique',
+
+	'IMG_CAT_BUTTONS'		=> 'Boutons traduits',
+	'IMG_CAT_CUSTOM'		=> 'Images personnalises',
+	'IMG_CAT_FOLDERS'		=> 'Icnes de sujets',
+	'IMG_CAT_FORUMS'		=> 'Icnes de forums',
+	'IMG_CAT_ICONS'			=> 'Icnes gnrales',
+	'IMG_CAT_LOGOS'			=> 'Logos',
+	'IMG_CAT_POLLS'			=> 'Images de sondages',
+	'IMG_CAT_UI'			=> 'lments gnraux de linterface de lutilisateur',
+	'IMG_CAT_USER'			=> 'Images additionnelles',
+
+	'IMG_SITE_LOGO'			=> 'Logo principal',
+	'IMG_UPLOAD_BAR'		=> 'Barre de progression de transfert',
+	'IMG_POLL_LEFT'			=> 'Extrmit gauche du sondage',
+	'IMG_POLL_CENTER'		=> 'Centre du sondage',
+	'IMG_POLL_RIGHT'		=> 'Extrmit droite du sondage',
+	'IMG_ICON_FRIEND'		=> 'Ajouter comme ami',
+	'IMG_ICON_FOE'			=> 'Ajouter comme ignor',
+
+	'IMG_FORUM_LINK'			=> 'Forum-lien',
+	'IMG_FORUM_READ'			=> 'Forum',
+	'IMG_FORUM_READ_LOCKED'		=> 'Forum verrouill',
+	'IMG_FORUM_READ_SUBFORUM'	=> 'Sous-forum',
+	'IMG_FORUM_UNREAD'			=> 'Forum contenant des messages non lus',
+	'IMG_FORUM_UNREAD_LOCKED'	=> 'Forum contenant des messages non lus verrouills',
+	'IMG_FORUM_UNREAD_SUBFORUM'	=> 'Sous-forum contenant des messages non lus',
+	'IMG_SUBFORUM_READ'			=> 'Lgende du sous-forum',
+	'IMG_SUBFORUM_UNREAD'		=> 'Lgende du sous-forum contenant des messages non lus',
+	
+	'IMG_TOPIC_MOVED'			=> 'Sujet dplac',
+
+	'IMG_TOPIC_READ'				=> 'Sujet',
+	'IMG_TOPIC_READ_MINE'			=> 'Sujet point',
+	'IMG_TOPIC_READ_HOT'			=> 'Sujet populaire',
+	'IMG_TOPIC_READ_HOT_MINE'		=> 'Sujet populaire et point',
+	'IMG_TOPIC_READ_LOCKED'			=> 'Sujet verrouill',
+	'IMG_TOPIC_READ_LOCKED_MINE'	=> 'Sujet verrouill et point',
+
+	'IMG_TOPIC_UNREAD'				=> 'Sujet contenant des messages non lus',
+	'IMG_TOPIC_UNREAD_MINE'			=> 'Sujet point contenant des messages non lus',
+	'IMG_TOPIC_UNREAD_HOT'			=> 'Sujet populaire contenant des messages non lus',
+	'IMG_TOPIC_UNREAD_HOT_MINE'		=> 'Sujet populaire et point contenant des messages non lus',
+	'IMG_TOPIC_UNREAD_LOCKED'		=> 'Sujet verrouill contenant des messages non lus',
+	'IMG_TOPIC_UNREAD_LOCKED_MINE'	=> 'Sujet verrouill et point contenant des messages non lus',
+
+	'IMG_STICKY_READ'				=> 'Note',
+	'IMG_STICKY_READ_MINE'			=> 'Note pointe',
+	'IMG_STICKY_READ_LOCKED'		=> 'Note verrouille',
+	'IMG_STICKY_READ_LOCKED_MINE'	=> 'Note verrouille et pointe',
+	'IMG_STICKY_UNREAD'				=> 'Note contenant des messages non lus',
+	'IMG_STICKY_UNREAD_MINE'		=> 'Note pointe contenant des messages non lus',
+	'IMG_STICKY_UNREAD_LOCKED'		=> 'Note verrouille contenant des messages non lus',
+	'IMG_STICKY_UNREAD_LOCKED_MINE'	=> 'Note verrouille et pointe contenant des messages non lus',
+
+	'IMG_ANNOUNCE_READ'					=> 'Annonce',
+	'IMG_ANNOUNCE_READ_MINE'			=> 'Annonce pointe',
+	'IMG_ANNOUNCE_READ_LOCKED'			=> 'Annonce verrouille',
+	'IMG_ANNOUNCE_READ_LOCKED_MINE'		=> 'Annonce verrouille et pointe',
+	'IMG_ANNOUNCE_UNREAD'				=> 'Annonce contenant des messages non lus',
+	'IMG_ANNOUNCE_UNREAD_MINE'			=> 'Annonce pointe contenant des messages non lus',
+	'IMG_ANNOUNCE_UNREAD_LOCKED'		=> 'Annonce verrouille contenant des messages non lus',
+	'IMG_ANNOUNCE_UNREAD_LOCKED_MINE'	=> 'Annonce verrouille et pointe contenant des messages non lus',
+
+	'IMG_GLOBAL_READ'					=> 'Annonce globale',
+	'IMG_GLOBAL_READ_MINE'				=> 'Annonce globale pointe',
+	'IMG_GLOBAL_READ_LOCKED'			=> 'Annonce globale verrouille',
+	'IMG_GLOBAL_READ_LOCKED_MINE'		=> 'Annonce globale verrouille et pointe',
+	'IMG_GLOBAL_UNREAD'					=> 'Annonce globale contenant des messages non lus',
+	'IMG_GLOBAL_UNREAD_MINE'			=> 'Annonce globale pointe contenant des messages non lus',
+	'IMG_GLOBAL_UNREAD_LOCKED'			=> 'Annonce globale verrouille contenant des messages non lus',
+	'IMG_GLOBAL_UNREAD_LOCKED_MINE'		=> 'Annonce globale verrouille et pointe contenant des messages non lus',
+
+	'IMG_PM_READ'		=> 'Message priv lu',
+	'IMG_PM_UNREAD'		=> 'Message priv non lu',
+
+	'IMG_ICON_BACK_TOP'		=> 'Haut',
+
+	'IMG_ICON_CONTACT_AIM'		=> 'AIM',
+	'IMG_ICON_CONTACT_EMAIL'	=> 'Envoyer un courriel',
+	'IMG_ICON_CONTACT_ICQ'		=> 'ICQ',
+	'IMG_ICON_CONTACT_JABBER'	=> 'Jabber',
+	'IMG_ICON_CONTACT_MSNM'		=> 'MSNM',
+	'IMG_ICON_CONTACT_PM'		=> 'Envoyer un message',
+	'IMG_ICON_CONTACT_YAHOO'	=> 'YIM',
+	'IMG_ICON_CONTACT_WWW'		=> 'Site internet',
+
+	'IMG_ICON_POST_DELETE'			=> 'Supprimer un message',
+	'IMG_ICON_POST_EDIT'			=> 'diter un message',
+	'IMG_ICON_POST_INFO'			=> 'Afficher les informations sur un message',
+	'IMG_ICON_POST_QUOTE'			=> 'Citer un message',
+	'IMG_ICON_POST_REPORT'			=> 'Rapporter un message',
+	'IMG_ICON_POST_TARGET'			=> 'Mini-message',
+	'IMG_ICON_POST_TARGET_UNREAD'	=> 'Nouveau mini-message',
+
+
+	'IMG_ICON_TOPIC_ATTACH'			=> 'Pice jointe',
+	'IMG_ICON_TOPIC_LATEST'			=> 'Dernier message',
+	'IMG_ICON_TOPIC_NEWEST'			=> 'Dernier message non lu',
+	'IMG_ICON_TOPIC_REPORTED'		=> 'Message rapport',
+	'IMG_ICON_TOPIC_UNAPPROVED'		=> 'Message non approuv',
+
+	'IMG_ICON_USER_ONLINE'		=> 'Utilisateur en ligne',
+	'IMG_ICON_USER_OFFLINE'		=> 'Utilisateur hors-ligne',
+	'IMG_ICON_USER_PROFILE'		=> 'Afficher le profil',
+	'IMG_ICON_USER_SEARCH'		=> 'Rechercher des messages',
+	'IMG_ICON_USER_WARN'		=> 'Avertir lutilisateur',
+
+	'IMG_BUTTON_PM_FORWARD'		=> 'Transfrer le message priv',
+	'IMG_BUTTON_PM_NEW'			=> 'Nouveau message priv',
+	'IMG_BUTTON_PM_REPLY'		=> 'Rpondre au message priv',
+	'IMG_BUTTON_TOPIC_LOCKED'	=> 'Sujet verrouill',
+	'IMG_BUTTON_TOPIC_NEW'		=> 'Nouveau sujet',
+	'IMG_BUTTON_TOPIC_REPLY'	=> 'Rpondre au sujet',
+
+	'IMG_USER_ICON1'		=> 'Image 1 dfinie par lutilisateur',
+	'IMG_USER_ICON2'		=> 'Image 2 dfinie par lutilisateur',
+	'IMG_USER_ICON3'		=> 'Image 3 dfinie par lutilisateur',
+	'IMG_USER_ICON4'		=> 'Image 4 dfinie par lutilisateur',
+	'IMG_USER_ICON5'		=> 'Image 5 dfinie par lutilisateur',
+	'IMG_USER_ICON6'		=> 'Image 6 dfinie par lutilisateur',
+	'IMG_USER_ICON7'		=> 'Image 7 dfinie par lutilisateur',
+	'IMG_USER_ICON8'		=> 'Image 8 dfinie par lutilisateur',
+	'IMG_USER_ICON9'		=> 'Image 9 dfinie par lutilisateur',
+	'IMG_USER_ICON10'		=> 'Image 10 dfinie par lutilisateur',
+
+	'INCLUDE_DIMENSIONS'		=> 'Inclure les dimensions ',
+	'INCLUDE_IMAGESET'			=> 'Inclure lensemble dimages',
+	'INCLUDE_TEMPLATE'			=> 'Inclure le template',
+	'INCLUDE_THEME'				=> 'Inclure le thme',
+	'INHERITING_FROM'         => 'Hrite de',
+	'INSTALL_IMAGESET'			=> 'Installer un ensemble dimages',
+	'INSTALL_IMAGESET_EXPLAIN'	=> 'Vous pouvez installer ici un ensemble dimages. Si vous le souhaitez, vous pouvez diter certaines informations ou utiliser les valeurs par dfaut lors de linstallation.',
+	'INSTALL_STYLE'				=> 'Installer un style',
+	'INSTALL_STYLE_EXPLAIN'		=> 'Vous pouvez installer ici un style et ses lments. Si les lments appropris au style sont dj installs, ils ne seront pas crass. Certains styles ncessitent que ces lments soient dj installs. Si vous en rencontrez un de ce genre, vous serez alors averti.',
+	'INSTALL_TEMPLATE'			=> 'Installer un ensemble de templates',
+	'INSTALL_TEMPLATE_EXPLAIN'	=> 'Vous pouvez installer ici un ensemble de templates. Selon la configuration de votre serveur, vous pouvez rencontrer certaines options supplmentaires.',
+	'INSTALL_THEME'				=> 'Installer un thme',
+	'INSTALL_THEME_EXPLAIN'		=> 'Vous pouvez installer ici un thme. Si vous le souhaitez, vous pouvez diter certaines informations ou utiliser les valeurs par dfaut lors de linstallation.',
+	'INSTALLED_IMAGESET'		=> 'Ensembles dimages installs',
+	'INSTALLED_STYLE'			=> 'Styles installs',
+	'INSTALLED_TEMPLATE'		=> 'Ensembles de templates installs',
+	'INSTALLED_THEME'			=> 'Thmes installs',
+
+	'KEEP_IMAGESET'				=> 'Conserver lensemble dimages  %s ',
+	'KEEP_TEMPLATE'				=> 'Conserver le template  %s ',
+	'KEEP_THEME'				=> 'Conserver le thme  %s ',
+
+	'LINE_SPACING'				=> 'Ligne despacement',
+	'LOCALISED_IMAGES'			=> 'Traduites',
+	'LOCATION_DISABLED_EXPLAIN'   => 'Ce rglage est hrit et ne peut pas tre modifi.',
+
+	'NO_CLASS'					=> 'Aucune classe na t trouve dans la feuille de style.',
+	'NO_IMAGESET'				=> 'Aucun ensemble dimages na t trouv dans le systme de fichiers.',
+	'NO_IMAGE'					=> 'Aucune image',
+	'NO_IMAGE_ERROR'			=> 'Aucune image na t trouve dans le systme de fichiers.',
+	'NO_STYLE'					=> 'Aucune style na t trouv dans le systme de fichiers.',
+	'NO_TEMPLATE'				=> 'Aucun ensemble de templates na t trouv dans le systme de fichiers.',
+	'NO_THEME'					=> 'Aucun thme na t trouv dans le systme de fichiers.',
+	'NO_UNINSTALLED_IMAGESET'	=> 'Aucun ensemble dimages dsinstall na t dtect.',
+	'NO_UNINSTALLED_STYLE'		=> 'Aucun style dsinstall na t dtect.',
+	'NO_UNINSTALLED_TEMPLATE'	=> 'Aucun ensemble de templates dsinstall na t dtect.',
+	'NO_UNINSTALLED_THEME'		=> 'Aucun thme dsinstall na t dtect.',
+	'NO_UNIT'					=> 'Aucun',
+
+	'ONLY_IMAGESET'			=> 'Ceci est le seul ensemble dimages restant, vous ne pouvez pas leffacer.',
+	'ONLY_STYLE'			=> 'Ceci est le seul style restant, vous ne pouvez pas leffacer.',
+	'ONLY_TEMPLATE'			=> 'Ceci est le seul ensemble de templates restant, vous ne pouvez pas leffacer.',
+	'ONLY_THEME'			=> 'Ceci est le seul thme restant, vous ne pouvez pas leffacer.',
+	'OPTIONAL_BASIS'		=> 'Base optionnelle',
+
+	'REFRESH'					=> 'Rafrachir',
+	'REPEAT_NO'					=> 'Aucun',
+	'REPEAT_X'					=> 'Seulement horizontalement',
+	'REPEAT_Y'					=> 'Seulement verticalement',
+	'REPEAT_ALL'				=> 'Deux directions',
+	'REPLACE_IMAGESET'			=> 'Remplacer lensemble dimages par',
+	'REPLACE_IMAGESET_EXPLAIN'	=> 'Cet ensemble dimages remplacera celui que vous supprimez dans tous les styles lutilisant.',
+	'REPLACE_STYLE'				=> 'Remplacer le style par',
+	'REPLACE_STYLE_EXPLAIN'		=> 'Ce style remplacera celui qui a t supprim pour les membres lutilisant.',
+	'REPLACE_TEMPLATE'			=> 'Remplacer lensemble de templates par',
+	'REPLACE_TEMPLATE_EXPLAIN'	=> 'Cet ensemble de templates remplacera celui que vous supprimez dans tous les styles lutilisant.',
+	'REPLACE_THEME'				=> 'Remplacer le thme par',
+	'REPLACE_THEME_EXPLAIN'		=> 'Ce thme remplacera celui que vous supprimez dans tous les styles lutilisant.',
+	'REPLACE_WITH_OPTION'		=> 'Remplacer par  %s ',
+	'REQUIRES_IMAGESET'			=> 'Ce style requiert linstallation de lensemble dimages %s.',
+	'REQUIRES_TEMPLATE'			=> 'Ce style requiert linstallation de lensemble de templates %s.',
+	'REQUIRES_THEME'			=> 'Ce style requiert linstallation du thme %s.',
+
+	'SELECT_IMAGE'				=> 'Slectionner limage',
+	'SELECT_TEMPLATE'			=> 'Slectionner le fichier template',
+	'SELECT_THEME'				=> 'Slectionner le fichier thme',
+	'SELECTED_IMAGE'			=> 'Image slectionne ',
+	'SELECTED_IMAGESET'			=> 'Ensemble dimages slectionn',
+	'SELECTED_TEMPLATE'			=> 'Template slectionn',
+	'SELECTED_TEMPLATE_FILE'	=> 'Fichier template slectionn ',
+	'SELECTED_THEME'			=> 'Thme slectionn',
+	'SELECTED_THEME_FILE'		=> 'Fichier thme slectionn',
+	'STORE_DATABASE'			=> 'Base de donnes',
+	'STORE_FILESYSTEM'			=> 'Systme de fichiers',
+	'STYLE_ACTIVATE'			=> 'Activer',
+	'STYLE_ACTIVE'				=> 'Activer ',
+	'STYLE_ADDED'				=> 'Le style a t ajout avec succs.',
+	'STYLE_DEACTIVATE'			=> 'Dsactiver',
+	'STYLE_DEFAULT'				=> 'En faire le style par dfaut ',
+	'STYLE_DELETED'				=> 'Le style a t supprim avec succs.',
+	'STYLE_DETAILS_UPDATED'		=> 'Le style a t dit avec succs.',
+	'STYLE_ERR_ARCHIVE'			=> 'Veuillez slectionner une mthode de compression.',
+	'STYLE_ERR_COPY_LONG'		=> 'Le copyright ne doit pas dpasser 60 caractres.',
+	'STYLE_ERR_MORE_ELEMENTS'	=> 'Vous devez slectionner au moins un lment pour le style.',
+	'STYLE_ERR_NAME_CHARS'		=> 'Le nom du style ne doit contenir que des caractres alphanumriques, -, +, _ et des espaces.',
+	'STYLE_ERR_NAME_EXIST'		=> 'Un style portant ce nom existe dj.',
+	'STYLE_ERR_NAME_LONG'		=> 'Le nom du style ne doit pas dpasser 30 caractres.',
+	'STYLE_ERR_NO_IDS'			=> 'Vous devez slectionner un template, un thme et un ensemble dimages pour ce style.',
+	'STYLE_ERR_NOT_STYLE'		=> 'Le fichier import ou transfr ne contient pas de fichier de style compress valide.',
+	'STYLE_ERR_STYLE_NAME'		=> 'Vous devez spcifier le nom de ce style.',
+	'STYLE_EXPORT'				=> 'Exporter un style',
+	'STYLE_EXPORT_EXPLAIN'		=> 'Vous pouvez exporter ici un style sous forme de fichier comprss. Un style ne devra pas contenir tous les lments, mais il doit en contenir au moins un. Par exemple, si vous crez un nouveau thme et un ensemble dimages pour un template frquemment utilis, vous pourriez simplement exporter le thme et lensemble dimages, en omettant le template. Vous pouvez soit tlcharger le dossier directement, soit le placer dans votre rpertoire de stockage afin de le tlcharger ultrieurement par FTP.',
+	'STYLE_EXPORTED'			=> 'Le style a t export et stock dans %s avec succs.',
+	'STYLE_IMAGESET'			=> 'Ensemble dimages ',
+	'STYLE_NAME'				=> 'Nom du style ',
+	'STYLE_TEMPLATE'			=> 'Template ',
+	'STYLE_THEME'				=> 'Thme ',
+	'STYLE_USED_BY'				=> 'Utilis par (incluant les robots)',
+
+	'TEMPLATE_ADDED'			=> 'Lensemble de templates a t ajout au systme de fichiers avec succs.',
+	'TEMPLATE_ADDED_DB'			=> 'Lensemble de templates a t ajout  la base de donnes avec succs.',
+	'TEMPLATE_CACHE'			=> 'Cache du template',
+	'TEMPLATE_CACHE_EXPLAIN'	=> 'Par dfaut, phpBB met en cache la version compile de ses templates. Cela permet de diminuer la charge du serveur  chaque fois quune page est consulte et rduit le temps de chargement de la page. Vous pouvez consulter ici le statut en cache de chaque fichier et supprimer individuellement les fichiers ou le cache en entier.',
+	'TEMPLATE_CACHE_CLEARED'	=> 'Le cache du template a t vid avec succs.',
+	'TEMPLATE_CACHE_EMPTY'		=> 'Il ny a aucun template mis en cache.',
+	'TEMPLATE_DELETED'			=> 'Lensemble de templates a t supprim avec succs.',
+	'TEMPLATE_DELETE_DEPENDENT'   => 'Lensemble de templates ne peut tre supprim car un ou plusieurs autres templates hritent de ce dernier :',
+	'TEMPLATE_DELETED_FS'		=> 'Lensemble de templates a t supprim de la base donnes mais certains fichiers ont t conservs dans le systme de fichiers.',
+	'TEMPLATE_DETAILS_UPDATED'	=> 'Les informations concernant lensemble de templates ont t mises  jour avec succs.',
+	'TEMPLATE_EDITOR'			=> 'diteur de templates en HTML brut',
+	'TEMPLATE_EDITOR_HEIGHT'	=> 'Taille de lditeur de templates ',
+	'TEMPLATE_ERR_ARCHIVE'		=> 'Veuillez slectionner une mthode de compression.',
+	'TEMPLATE_ERR_CACHE_READ'	=> 'Le rpertoire de cache utilis afin de stocker les versions des fichiers de templates mis en cache ne peut pas tre lu.',
+	'TEMPLATE_ERR_COPY_LONG'	=> 'Le copyright ne doit pas dpasser 60 caractres.',
+	'TEMPLATE_ERR_NAME_CHARS'	=> 'Le nom de lensemble de templates ne doit contenir que des caractres alphanumriques, -, +, _ et des espaces.',
+	'TEMPLATE_ERR_NAME_EXIST'	=> 'Un ensemble de templates portant ce nom existe dj.',
+	'TEMPLATE_ERR_NAME_LONG'	=> 'Le nom de lensemble de templates ne doit pas dpasser 30 caractres.',
+	'TEMPLATE_ERR_NOT_TEMPLATE'	=> 'Le fichier compress que vous avez spcifi ne contient aucun ensemble de templates valide.',
+	'TEMPLATE_ERR_REQUIRED_OR_INCOMPLETE' => 'Le nouvel ensemble de templates requiert linstallation du template %s et ne doit pas hriter de ce dernier.',
+	'TEMPLATE_ERR_STYLE_NAME'	=> 'Vous devez spcifier le nom de cet ensemble de templates.',
+	'TEMPLATE_EXPORT'			=> 'Exporter un ensemble de templates',
+	'TEMPLATE_EXPORT_EXPLAIN'	=> 'Vous pouvez exporter ici un ensemble de templates sous forme de fichier comprss. Le fichier comprss ne devra pas contenir tous les fichiers ncessaires  linstallation de templates sur un autre forum. Vous pouvez soit tlcharger le dossier directement, soit le placer dans votre rpertoire de stockage afin de le tlcharger ultrieurement par FTP.',
+	'TEMPLATE_EXPORTED'			=> 'Les templates ont t exports et stocks dans %s avec succs.',
+	'TEMPLATE_FILE'				=> 'Fichier template',
+	'TEMPLATE_FILE_UPDATED'		=> 'Le fichier template a t mis  jour avec succs.',
+	'TEMPLATE_INHERITS'         => 'Ces ensembles de templates hritent de %s et ne peuvent donc pas avoir de rglages de stockage diffrents  ceux du super template.',
+	'TEMPLATE_LOCATION'			=> 'Stocker les templates dans ',
+	'TEMPLATE_LOCATION_EXPLAIN'	=> 'Les images sont toujours stockes dans le systme de fichiers.',
+	'TEMPLATE_NAME'				=> 'Nom du template ',
+	'TEMPLATE_FILE_NOT_WRITABLE'=> 'Impossible dcrire sur le fichier template %s. Veuillez vrifier les permissions du rpertoire et des fichiers.',
+	'TEMPLATE_REFRESHED'		=> 'Le template a t rafrachi avec succs.',
+
+	'THEME_ADDED'				=> 'Le thme a t ajout au systme de fichiers avec succs.',
+	'THEME_ADDED_DB'			=> 'Le thme a t ajout  la base de donnes avec succs.',
+	'THEME_CLASS_ADDED'			=> 'La classe personnalise a t ajoute avec succs.',
+	'THEME_DELETED'				=> 'Le thme a t supprim avec succs.',
+	'THEME_DELETED_FS'			=> 'Le thme supprim de la base de donnes mais quelques fichiers peuvent subsister dans le systme de fichiers.',
+	'THEME_DETAILS_UPDATED'		=> 'Les informations du thme ont t mises  jour avec succs.',
+	'THEME_EDITOR'				=> 'diteur de thmes',
+	'THEME_EDITOR_HEIGHT'		=> 'Taille de lditeur de thmes ',
+	'THEME_ERR_ARCHIVE'			=> 'Veuillez slectionner une mthode de compression.',
+	'THEME_ERR_CLASS_CHARS'		=> 'Seuls les caractre alphanumriques, ., :, -, _ et # sont valides dans les noms de classes.',
+	'THEME_ERR_COPY_LONG'		=> 'Le copyright ne doit pas dpasser 60 caractres.',
+	'THEME_ERR_NAME_CHARS'		=> 'Le nom du thme ne doit contenir que des caractres alphanumriques, -, +, _ et des espaces.',
+	'THEME_ERR_NAME_EXIST'		=> 'Un thme portant ce nom existe dj.',
+	'THEME_ERR_NAME_LONG'		=> 'Le nom du thme ne doit pas dpasser 30 caractres.',
+	'THEME_ERR_NOT_THEME'		=> 'Le fichier compress que vous avez spcifi ne contient pas de thme valide.',
+	'THEME_ERR_REFRESH_FS'		=> 'Ce thme est stock dans le systme de fichiers. Il ny a donc pas besoin de le rafrachir.',
+	'THEME_ERR_STYLE_NAME'		=> 'Vous devez spcifier le nom de ce thme.',
+	'THEME_FILE'				=> 'Fichier thme',
+	'THEME_EXPORT'				=> 'Exporter un thme',
+	'THEME_EXPORT_EXPLAIN'		=> 'Vous pouvez exporter ici un thme sous forme de fichier comprss. Ce fichier compress contiendra toutes les donnes ncessaires  linstallation du thme sur un autre forum. Vous pouvez soit tlcharger le fichier directement, soit le placer dans votre rpertoire de stockage afin de le tlcharger ultrieurement par FTP.',
+	'THEME_EXPORTED'			=> 'Le thme a t export et stock dans %s avec succs.',
+	'THEME_LOCATION'			=> 'Stocker la feuille de style dans ',
+	'THEME_LOCATION_EXPLAIN'	=> 'Les images sont toujours stockes dans le systme de fichiers.',
+	'THEME_NAME'				=> 'Nom du thme ',
+	'THEME_REFRESHED'			=> 'Le thme a t rafrachi avec succs.',
+	'THEME_UPDATED'				=> 'Le thme a t mis  jour avec succs.',
+
+	'UNDERLINE'				=> 'Soulign',
+	'UNINSTALLED_IMAGESET'	=> 'Ensembles dimages dsinstalls',
+	'UNINSTALLED_STYLE'		=> 'Styles dsinstalls',
+	'UNINSTALLED_TEMPLATE'	=> 'Ensembles de templates dsinstalls',
+	'UNINSTALLED_THEME'		=> 'Thmes dsinstalls',
+	'UNSET'					=> 'Non dfini',
+
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/acp/users.php phpBB3/language/fr/acp/users.php
--- phpBB3-init/language/fr/acp/users.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/acp/users.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,144 @@
+<?php
+/**
+*
+* acp_users [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ADMIN_SIG_PREVIEW'		=> 'Prvisualiser la signature',
+	'AT_LEAST_ONE_FOUNDER'	=> 'Vous ne pouvez pas modifier ce fondateur en utilisateur normal. Il est ncessaire davoir au moins un fondateur sur le forum. Si vous souhaitez modifier le statut de ce fondateur, vous devez tout dabord promouvoir un autre utilisateur en fondateur.',
+
+	'BAN_ALREADY_ENTERED'	=> 'Le bannissement a dj t ralis. La liste des bannissements na pas t mise  jour.',
+	'BAN_SUCCESSFUL'		=> 'Le bannissement a t ralis avec succs.',
+
+	'CANNOT_BAN_ANONYMOUS'			=> 'Vous ntes pas autoris  bannir les comptes danonymes. Les permissions agissant sur les utilisateurs anonymes peuvent tre rgles sous longlet Permissions.',
+	'CANNOT_BAN_FOUNDER'			=> 'Vous ntes pas autoris  bannir les comptes des fondateurs.',
+	'CANNOT_BAN_YOURSELF'			=> 'Vous ntes pas autoris  bannir votre propre compte.',
+	'CANNOT_DEACTIVATE_BOT'			=> 'Vous ntes pas autoris  dsactiver les comptes des robots. Veuillez plutt dsactiver le robot  partir de la page des robots.',
+	'CANNOT_DEACTIVATE_FOUNDER'		=> 'Vous ntes pas autoris  dsactiver les comptes des fondateurs.',
+	'CANNOT_DEACTIVATE_YOURSELF'	=> 'Vous ntes pas autoris  dsactiver votre propre compte.',
+	'CANNOT_FORCE_REACT_BOT'		=> 'Vous ntes pas autoris  forcer la ractivation des comptes des robots. Veuillez plutt ractiver le robot  partir de la page des robots.',
+	'CANNOT_FORCE_REACT_FOUNDER'	=> 'Vous ntes pas autoris  forcer la ractivation des comptes des fondateurs.',
+	'CANNOT_FORCE_REACT_YOURSELF'	=> 'Vous ntes pas autoris  forcer la ractivation de votre propre compte.',
+	'CANNOT_REMOVE_ANONYMOUS'		=> 'Vous ntes pas autoris  supprimer le compte dun invit.',
+	'CANNOT_REMOVE_YOURSELF'		=> 'Vous ntes pas autoris  supprimer votre propre compte.',
+	'CANNOT_SET_FOUNDER_IGNORED'	=> 'Vous ntes pas autoris  promouvoir des utilisateurs ignors en fondateurs.',
+	'CANNOT_SET_FOUNDER_INACTIVE'	=> 'Vous devez activer les utilisateurs avant de les promouvoir en fondateurs. Seuls des utilisateurs activs peuvent tre promus.',
+	'CONFIRM_EMAIL_EXPLAIN'			=> 'Vous navez besoin de spcifier cela que si vous modifiez les adresses de courrier lectronique des utilisateurs.',
+
+	'DELETE_POSTS'			=> 'Supprimer les messages',
+	'DELETE_USER'			=> 'Supprimer lutilisateur ',
+	'DELETE_USER_EXPLAIN'	=> 'Veuillez noter que la suppression dun utilisateur est irrversible, sa restauration est impossible.',
+
+	'FORCE_REACTIVATION_SUCCESS'	=> 'La ractivation a t force avec succs.',
+	'FOUNDER'						=> 'Fondateur ',
+	'FOUNDER_EXPLAIN'				=> 'Les fondateurs dtiennent toutes les permissions des administrateurs et ne peuvent pas tre bannis, supprims ou modifis par des membres qui ne sont pas eux-mmes des fondateurs.',
+
+	'GROUP_APPROVE'					=> 'Approuver le membre',
+	'GROUP_DEFAULT'					=> 'Dfinir comme le groupe par dfaut du membre',
+	'GROUP_DELETE'					=> 'Supprimer le membre du groupe',
+	'GROUP_DEMOTE'					=> 'Rtrograder le responsable du groupe',
+	'GROUP_PROMOTE'					=> 'Promouvoir en responsable du groupe',
+
+	'IP_WHOIS_FOR'			=> ' qui appartient lIP pour %s',
+
+	'LAST_ACTIVE'			=> 'Dernire visite le ',
+
+	'MOVE_POSTS_EXPLAIN'	=> 'Veuillez slectionner le forum dans lequel vous souhaitez dplacer tous les messages de cet utilisateur.',
+
+	'NO_SPECIAL_RANK'		=> 'Aucun rang spcial na t spcifi',
+	'NO_WARNINGS'			=> 'Aucun avertissement.',
+	'NOT_MANAGE_FOUNDER'	=> 'Vous avez essay de modifier un utilisateur qui dtient le statut de fondateur. Seuls les fondateurs sont autoriss  grer les autres fondateurs.',
+
+	'QUICK_TOOLS'			=> 'Outils rapides ',
+
+	'REGISTERED'			=> 'Inscrit le ',
+	'REGISTERED_IP'			=> 'Inscrit avec ladresse IP ',
+	'RETAIN_POSTS'			=> 'Conserver ses messages',
+
+	'SELECT_FORM'			=> 'Slectionner un formulaire ',
+	'SELECT_USER'			=> 'Slectionner un utilisateur',
+
+	'USER_ADMIN'					=> 'Administration de lutilisateur',
+	'USER_ADMIN_ACTIVATE'			=> 'Activer le compte',
+	'USER_ADMIN_ACTIVATED'			=> 'Lutilisateur a t activ avec succs.',
+	'USER_ADMIN_AVATAR_REMOVED'		=> 'Lavatar associ au compte de lutilisateur a t supprim avec succs.',
+	'USER_ADMIN_BAN_EMAIL'			=> 'Bannir par adresse de courrier lectronique',
+	'USER_ADMIN_BAN_EMAIL_REASON'	=> 'Adresse de courrier lectronique bannie par lintermdiaire de la gestion des utilisateurs',
+	'USER_ADMIN_BAN_IP'				=> 'Bannir par adresse IP',
+	'USER_ADMIN_BAN_IP_REASON'		=> 'Adresse IP bannie par lintermdiaire de la gestion des utilisateurs',
+	'USER_ADMIN_BAN_NAME_REASON'	=> 'Nom dutilisateur banni par lintermdiaire de la gestion des utilisateurs',
+	'USER_ADMIN_BAN_USER'			=> 'Bannir par nom dutilisateur',
+	'USER_ADMIN_DEACTIVATE'			=> 'Dsactiver le compte',
+	'USER_ADMIN_DEACTIVED'			=> 'Lutilisateur a t dsactiv avec succs.',
+	'USER_ADMIN_DEL_ATTACH'			=> 'Supprimer toutes les pices jointes',
+	'USER_ADMIN_DEL_AVATAR'			=> 'Supprimer lavatar',
+	'USER_ADMIN_DEL_OUTBOX'			=> 'Vider la bote denvoi des MP',
+	'USER_ADMIN_DEL_POSTS'			=> 'Supprimer tous les messages',
+	'USER_ADMIN_DEL_SIG'			=> 'Supprimer la signature',
+	'USER_ADMIN_EXPLAIN'			=> 'Vous pouvez modifier ici les informations de vos utilisateurs et certaines options spcifiques  ces derniers.',
+	'USER_ADMIN_FORCE'				=> 'Forcer la ractivation',
+	'USER_ADMIN_LEAVE_NR'			=> 'Supprimer des inscrits rcemment',
+	'USER_ADMIN_MOVE_POSTS'			=> 'Dplacer tous les messages',
+	'USER_ADMIN_SIG_REMOVED'		=> 'La signature associe au compte de lutilisateur a t supprime avec succs.',
+	'USER_ATTACHMENTS_REMOVED'		=> 'La totalit des pices jointes insres par cet utilisateur ont t supprimes avec succs.',
+	'USER_AVATAR_NOT_ALLOWED'		=> 'Lavatar ne peut pas tre affich car les avatars ne sont pas autoriss.',
+	'USER_AVATAR_UPDATED'			=> 'Les informations lies aux avatars de lutilisateur ont t mises  jour avec succs.',
+	'USER_AVATAR_TYPE_NOT_ALLOWED'	=> 'Lavatar actuel ne peut pas tre affich car son type nest pas autoris.',
+	'USER_CUSTOM_PROFILE_FIELDS'	=> 'Champs de profil personnaliss',
+	'USER_DELETED'					=> 'Lutilisateur a t supprim avec succs.',
+	'USER_GROUP_ADD'				=> 'Ajouter lutilisateur au groupe',
+	'USER_GROUP_NORMAL'				=> 'Lutilisateur est membre des groupes normaux',
+	'USER_GROUP_PENDING'			=> 'Lutilisateur est en attente dadhsion aux groupes',
+	'USER_GROUP_SPECIAL'			=> 'Lutilisateur est membre des groupes prdfinis',
+	'USER_LIFTED_NR'				=> 'Le statut dutilisateur inscrit rcemment a t supprim avec succs.',
+	'USER_NO_ATTACHMENTS'			=> 'Il ny a aucune pice jointe  afficher.',
+	'USER_OUTBOX_EMPTIED'			=> 'La bote denvoi des messages privs de lutilisateur a t vide avec succs.',
+	'USER_OUTBOX_EMPTY'				=> 'La bote denvoi des messages privs de lutilisateur est dj vide.',
+	'USER_OVERVIEW_UPDATED'			=> 'Les informations de lutilisateur ont t mises  jour avec succs.',
+	'USER_POSTS_DELETED'			=> 'La totalit des messages publis par cet utilisateur ont t supprims avec succs.',
+	'USER_POSTS_MOVED'				=> 'Les messages des utilisateurs ont t dplacs dans le forum que vous avez spcifi avec succs.',
+	'USER_PREFS_UPDATED'			=> 'Les prfrences de lutilisateur ont t mises  jour avec succs.',
+	'USER_PROFILE'					=> 'Profil de lutilisateur',
+	'USER_PROFILE_UPDATED'			=> 'Le profil de lutilisateur a t mis  jour avec succs.',
+	'USER_RANK'						=> 'Rang de lutilisateur',
+	'USER_RANK_UPDATED'				=> 'Le rang de lutilisateur a t mis  jour avec succs.',
+	'USER_SIG_UPDATED'				=> 'La signature de lutilisateur a t mise  jour avec succs.',
+	'USER_WARNING_LOG_DELETED'		=> 'Aucune information nest disponible. Il est possible que lhistorique dentre ai t supprim.',
+	'USER_TOOLS'					=> 'Outils de base',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/captcha_qa.php phpBB3/language/fr/captcha_qa.php
--- phpBB3-init/language/fr/captcha_qa.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/captcha_qa.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,67 @@
+<?php
+/**
+*
+* captcha_qa [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2009 phpBB Group, 2009 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'CAPTCHA_QA'				=> 'Q&amp;R',
+	'CONFIRM_QUESTION_EXPLAIN'	=> 'Cette question est un moyen de prvention luttant contre lenvoi de formulaires par des robots indsirables.',
+	'CONFIRM_QUESTION_WRONG'	=> 'Vous navez pas rpondu correctement  la question.',
+
+	'QUESTION_ANSWERS'			=> 'Rponses',
+	'ANSWERS_EXPLAIN'			=> 'Veuillez rpondre correctement  la question. Chaque rponse doit tre saisie sur une nouvelle ligne.',
+	'CONFIRM_QUESTION'			=> 'Question',
+
+	'ANSWER'					=> 'Rponse',
+	'EDIT_QUESTION'				=> 'diter la question',
+	'QUESTIONS'					=> 'Questions',
+	'QUESTIONS_EXPLAIN'			=> 'Sur chaque envoi de formulaire o vous avez activ le plugin des Q&amp;R, les utilisateurs seront invits  rpondre  une des questions qui ont t spcifies ici. Pour utiliser ce plugin, au moins une des questions devra tre rdige dans la langue par dfaut. Il est recommand de cibler ces questions selon votre audience, qui devrait tre capable de rpondre plus facilement par rapport aux robots indsirables capables dexcuter des recherches sur Google. Lutilisation et la mise  jour rgulire dun grand nombre de questions fournira de meilleurs rsultats. Activez la vrification stricte si une des rponses  votre question contient du  MixEd CaSe , des signes de ponctuation ou encore des espaces.',
+	'QUESTION_DELETED'			=> 'Question supprime',
+	'QUESTION_LANG'				=> 'Langue',
+	'QUESTION_LANG_EXPLAIN'		=> 'La langue dans laquelle cette question et ses rponses sont rdiges.',
+	'QUESTION_STRICT'			=> 'Vrification stricte',
+	'QUESTION_STRICT_EXPLAIN'	=> 'Activez cette option afin de prendre en compte le  MixEd CaSe , les signes de ponctuation et les espaces.',
+
+	'QUESTION_TEXT'				=> 'Question',
+	'QUESTION_TEXT_EXPLAIN'		=> 'La question qui sera prsente aux utilisateurs.',
+
+	'QA_ERROR_MSG'				=> 'Veuillez remplir tous les champs et saisir au moins une rponse.',
+	'QA_LAST_QUESTION'			=> 'Vous ne pouvez pas supprimer toutes les questions lorsque le plugin est actif.',
+
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/captcha_recaptcha.php phpBB3/language/fr/captcha_recaptcha.php
--- phpBB3-init/language/fr/captcha_recaptcha.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/captcha_recaptcha.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,54 @@
+<?php
+/**
+*
+* recaptcha [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2009 phpBB Group, 2009 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'RECAPTCHA_LANG'				=> 'fr',
+	'RECAPTCHA_NOT_AVAILABLE'		=> 'Avant de pouvoir utiliser reCaptcha, vous devez crer un compte sur <a href="http://www.google.com/recaptcha">www.google.com/recaptcha</a>.',
+	'CAPTCHA_RECAPTCHA'				=> 'reCaptcha',
+	'RECAPTCHA_INCORRECT'			=> 'Le code de confirmation visuelle que vous avez saisi est incorrect',
+
+	'RECAPTCHA_PUBLIC'				=> 'Cl publique de reCaptcha',
+	'RECAPTCHA_PUBLIC_EXPLAIN'		=> 'Votre cl publique sur reCaptcha. Les cls peuvent tre obtenues sur <a href="http://www.google.com/recaptcha">www.google.com/recaptcha</a>.',
+	'RECAPTCHA_PRIVATE'				=> 'Cl prive de reCaptcha',
+	'RECAPTCHA_PRIVATE_EXPLAIN'		=> 'Votre cl prive sur reCaptcha. Les cls peuvent tre obtenues sur <a href="http://www.google.com/recaptcha">www.google.com/recaptcha</a>.',
+
+	'RECAPTCHA_EXPLAIN'				=> 'Dans un effort de prvention contre les actions automatises, nous vous demandons de bien vouloir saisir les deux mots affichs dans le champ de texte ci-dessous.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/common.php phpBB3/language/fr/common.php
--- phpBB3-init/language/fr/common.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/common.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,884 @@
+<?php
+/**
+*
+* common [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+//
+// Some characters you may want to copy&paste:
+//     
+//
+
+$lang = array_merge($lang, array(
+	'TRANSLATION_INFO'	=> 'Traduit par Mal Soucaze et Elglobo &copy; <a href="http://www.phpbb.fr/">phpBB.fr</a>',
+	'DIRECTION'			=> 'ltr',
+	'DATE_FORMAT'		=> '|d F Y|',	// 01 January 2007 (with Relative days enabled)
+	'USER_LANG'			=> 'fr',
+
+	'1_DAY'			=> '1 jour',
+	'1_MONTH'		=> '1 mois',
+	'1_YEAR'		=> '1 an',
+	'2_WEEKS'		=> '2 semaines',
+	'3_MONTHS'		=> '3 mois',
+	'6_MONTHS'		=> '6 mois',
+	'7_DAYS'		=> '7 jours',
+
+	'ACCOUNT_ALREADY_ACTIVATED'		=> 'Votre compte a dj t activ.',
+	'ACCOUNT_DEACTIVATED'			=> 'Votre compte a t dsactiv manuellement et ne peut tre ractiv que par un administrateur.',
+	'ACCOUNT_NOT_ACTIVATED'			=> 'Votre compte na pas encore t activ.',
+	'ACP'							=> 'Panneau de contrle dadministration',
+	'ACTIVE'						=> 'actif',
+	'ACTIVE_ERROR'					=> 'Le nom dutilisateur que vous avez spcifi est actuellement inactif. Si vous rencontrez des problmes lors de lactivation de votre compte, veuillez contacter un administrateur du forum.',
+	'ADMINISTRATOR'					=> 'Administrateur',
+	'ADMINISTRATORS'				=> 'Administrateurs',
+	'AGE'							=> 'ge ',
+	'AIM'							=> 'AIM ',
+	'ALLOWED'						=> 'Autoris ',
+	'ALL_FILES'						=> 'Tous les fichiers',
+	'ALL_FORUMS'					=> 'Tous les forums',
+	'ALL_MESSAGES'					=> 'Tous les messages privs',
+	'ALL_POSTS'						=> 'Tous les messages',
+	'ALL_TIMES'						=> 'Les heures sont au format %1$s %2$s',
+	'ALL_TOPICS'					=> 'Tous les sujets',
+	'AND'							=> 'et',
+	'ARE_WATCHING_FORUM'			=> 'Vous tes  prsent abonn  ce forum. Vous serez averti lorsque de nouveaux sujets seront publis dans ce dernier.',
+	'ARE_WATCHING_TOPIC'			=> 'Vous tes  prsent abonn  ce sujet. Vous serez averti lorsque de nouveaux messages seront publis dans ce dernier.',
+	'ASCENDING'						=> 'Croissant',
+	'ATTACHMENTS'					=> 'Pices jointes',
+	'ATTACHED_IMAGE_NOT_IMAGE'		=> 'Limage que vous avez tent dinsrer est incorrecte.',
+	'AUTHOR'						=> 'Auteur',
+	'AUTH_NO_PROFILE_CREATED'		=> 'La cration dun profil utilisateur a chou.',
+	'AVATAR_DISALLOWED_CONTENT'		=> 'Le transfert a t interrompu car le fichier transfr a t identifi comme un vecteur dattaque possible.',
+	'AVATAR_DISALLOWED_EXTENSION'	=> 'Ce fichier ne peut pas tre affich car lextension <strong>%s</strong> nest pas autorise.',
+	'AVATAR_EMPTY_REMOTE_DATA'		=> 'Lavatar que vous avez spcifi na pas pu tre transfr car les donnes  distance semblent corrompues ou incorrectes.',
+	'AVATAR_EMPTY_FILEUPLOAD'		=> 'Lavatar que vous avez transfr est vide.',
+	'AVATAR_INVALID_FILENAME'		=> '%s est un nom de fichier incorrect.',
+	'AVATAR_NOT_UPLOADED'			=> 'Lavatar ne peut pas tre transfr.',
+	'AVATAR_NO_SIZE'				=> 'La largeur ou la hauteur de lavatar li na pas pu tre dtermine. Veuillez les saisir manuellement.',
+	'AVATAR_PARTIAL_UPLOAD'			=> 'Le fichier que vous avez spcifi na t que partiellement transfr.',
+	'AVATAR_PHP_SIZE_NA'			=> 'La taille de lavatar est trop importante.<br />La taille maximale autorise, situe dans le fichier php.ini, na pas pu tre dtermine.',
+	'AVATAR_PHP_SIZE_OVERRUN'		=> 'La taille de lavatar est trop importante. La taille maximale autorise est de %1$d %2$s.<br />Veuillez noter que ce rglage est situ dans le fichier php.ini et quil ne peut pas tre cras.',
+	'AVATAR_URL_INVALID'			=> 'Le lien que vous avez spcifi est incorrect.',
+	'AVATAR_URL_NOT_FOUND'			=> 'Le fichier que vous avez spcifi est introuvable.',
+	'AVATAR_WRONG_FILESIZE'			=> 'La taille de lavatar doit tre comprise entre 0 et %1d %2s.',
+	'AVATAR_WRONG_SIZE'				=> 'La taille de lavatar que vous avez envoy mesure %5$d pixels de large et de %6$d pixels de haut. Cependant, la taille des avatars doit mesurer entre %1$d pixels de large et %2$d pixels de haut, mais ne doit pas dpasser %3$d pixels de large et %4$d pixels de haut.',
+
+	'BACK_TO_TOP'			=> 'Haut',
+	'BACK_TO_PREV'			=> 'Retour  la page prcdente',
+	'BAN_TRIGGERED_BY_EMAIL'=> 'Votre adresse de courrier lectronique a t bannie.',
+	'BAN_TRIGGERED_BY_IP'	=> 'Votre adresse IP a t bannie.',
+	'BAN_TRIGGERED_BY_USER'	=> 'Votre nom dutilisateur a t banni.',
+	'BBCODE_GUIDE'			=> 'Guide du BBCode',
+	'BCC'					=> 'Cci ',
+	'BIRTHDAYS'				=> 'Anniversaire(s)',
+	'BOARD_BAN_PERM'		=> 'Vous avez t <strong>dfinitivement</strong> banni de ce forum.<br /><br />Pour plus dinformations, veuillez contacter l%2$sadministrateur du forum%3$s.',
+	'BOARD_BAN_REASON'		=> 'Raison du bannissement : <strong>%s</strong>',
+	'BOARD_BAN_TIME'		=> 'Vous avez t banni de ce forum jusquau <strong>%1$s</strong>.<br /><br />Pour plus dinformations, veuillez contacter l%2$sadministrateur du forum%3$s.',
+	'BOARD_DISABLE'			=> 'Le forum est actuellement indisponible.',
+	'BOARD_DISABLED'		=> 'Le forum est actuellement dsactiv.',
+	'BOARD_UNAVAILABLE'		=> 'Le forum est actuellement indisponible. Veuillez ressayer ultrieurement.',
+	'BROWSING_FORUM'		=> 'Utilisateur(s) parcourant ce forum : %1$s',
+	'BROWSING_FORUM_GUEST'	=> 'Utilisateur(s) parcourant ce forum : %1$s et %2$d invit',
+	'BROWSING_FORUM_GUESTS'	=> 'Utilisateur(s) parcourant ce forum : %1$s et %2$d invit(s)',
+	'BYTES'					=> 'octet(s)',
+
+	'CANCEL'				=> 'Annuler',
+	'CHANGE'				=> 'Modifier',
+	'CHANGE_FONT_SIZE'		=> 'Modifier la taille de la police de caractres',
+	'CHANGING_PREFERENCES'	=> 'Modifie les prfrences du forum',
+	'CHANGING_PROFILE'		=> 'Modifie les rglages du profil',
+	'CLICK_VIEW_PRIVMSG'	=> '%sAller  votre bote de rception%s',
+	'COLLAPSE_VIEW'			=> 'Rduire',
+	'CLOSE_WINDOW'			=> 'Fermer la fentre',
+	'COLOUR_SWATCH'			=> 'Palette de couleurs',
+	'COMMA_SEPARATOR'		=> ', ',	// Used in pagination of ACP & prosilver, use localised comma if appropriate, eg: Ideographic or Arabic
+	'CONFIRM'				=> 'Confirmer',
+	'CONFIRM_CODE'			=> 'Code de confirmation',
+	'CONFIRM_CODE_EXPLAIN'	=> 'Veuillez saisir le code tel quil apparat dans limage. Toutes les lettres sont insensibles  la casse.',
+	'CONFIRM_CODE_WRONG'	=> 'Le code de confirmation que vous avez saisi est incorrect.',
+	'CONFIRM_OPERATION'		=> 'tes-vous sr de vouloir effectuer cette opration ?',
+	'CONGRATULATIONS'		=> 'Flicitations  ',
+	'CONNECTION_FAILED'		=> 'La connexion a chou.',
+	'CONNECTION_SUCCESS'	=> 'Vous vous tes connect avec succs !',
+	'COOKIES_DELETED'		=> 'Tous les cookies du forum ont t supprims avec succs.',
+	'CURRENT_TIME'			=> 'Nous sommes actuellement le %s',
+
+	'DAY'					=> 'jour',
+	'DAYS'					=> 'jour(s)',
+	'DELETE'				=> 'Supprimer',
+	'DELETE_ALL'			=> 'Tout supprimer',
+	'DELETE_COOKIES'		=> 'Supprimer tous les cookies du forum',
+	'DELETE_MARKED'			=> 'Supprimer la slection',
+	'DELETE_POST'			=> 'Supprimer le message',
+	'DELIMITER'				=> 'Sparateur',
+	'DESCENDING'			=> 'Dcroissant',
+	'DISABLED'				=> 'Dsactiv',
+	'DISPLAY'				=> 'Afficher ',
+	'DISPLAY_GUESTS'		=> 'Afficher les invits',
+	'DISPLAY_MESSAGES'		=> 'Afficher les messages privs publis depuis ',
+	'DISPLAY_POSTS'			=> 'Afficher les messages publis depuis ',
+	'DISPLAY_TOPICS'		=> 'Afficher les sujets publis depuis ',
+	'DOWNLOADED'			=> 'Tlcharg',
+	'DOWNLOADING_FILE'		=> 'Tlchargement du fichier',
+	'DOWNLOAD_COUNT'		=> 'Tlcharg %d fois',
+	'DOWNLOAD_COUNTS'		=> 'Tlcharg %d fois',
+	'DOWNLOAD_COUNT_NONE'	=> 'Aucun tlchargement',
+	'VIEWED_COUNT'			=> 'Consult %d fois',
+	'VIEWED_COUNTS'			=> 'Consult %d fois',
+	'VIEWED_COUNT_NONE'		=> 'Aucune consultation',
+
+	'EDIT_POST'							=> 'diter le message',
+	'EMAIL'								=> 'Adresse lectronique ', // Short form for EMAIL_ADDRESS
+	'EMAIL_ADDRESS'						=> 'Adresse de courrier lectronique ',
+	'EMAIL_SMTP_ERROR_RESPONSE'			=> 'Une erreur est survenue lors de lenvoi du courriel  la <strong>ligne %1$s</strong>. Rponse : %2$s.',
+	'EMPTY_SUBJECT'						=> 'Veuillez spcifier le titre du nouveau sujet.',
+	'EMPTY_MESSAGE_SUBJECT'				=> 'Veuillez spcifier le titre du nouveau message priv.',
+	'ENABLED'							=> 'Activ',
+	'ENCLOSURE'							=> 'Pice jointe',
+	'ERR_CHANGING_DIRECTORY'			=> 'La modification du rpertoire est impossible.',
+	'ERR_CONNECTING_SERVER'				=> 'Une erreur est survenue lors de la connexion au serveur.',
+	'ERR_JAB_AUTH'						=> 'Une erreur est survenue lors de lauthentification au serveur Jabber.',
+	'ERR_JAB_CONNECT'					=> 'Une erreur est survenue lors de la connexion au serveur Jabber.',
+	'ERR_UNABLE_TO_LOGIN'				=> 'Le nom dutilisateur ou le mot de passe que vous avez spcifi est incorrect.',
+	'ERR_UNWATCHING'					=> 'Une erreur est survenue lorsque vous avez essay de vous dsabonner.',
+	'ERR_WATCHING'						=> 'Une erreur est survenue lorsque vous avez essay de vous abonner.',
+	'ERR_WRONG_PATH_TO_PHPBB'			=> 'Le chemin que vous avez spcifi semble incorrect.',
+	'EXPAND_VIEW'						=> 'Agrandir',
+	'EXTENSION'							=> 'Extension',
+	'EXTENSION_DISABLED_AFTER_POSTING'	=> 'Lextension <strong>%s</strong> a t dsactive et ne peut plus tre affiche.',
+
+	'FAQ'					=> 'FAQ',
+	'FAQ_EXPLAIN'			=> 'Foire aux questions',
+	'FILENAME'				=> 'Nom du fichier ',
+	'FILESIZE'				=> 'Taille du fichier ',
+	'FILEDATE'				=> 'Date du fichier ',
+	'FILE_COMMENT'			=> 'Description du fichier ',
+	'FILE_NOT_FOUND'		=> 'Le fichier que vous recherchez est introuvable.',
+	'FIND_USERNAME'			=> 'Trouver un membre ',
+	'FOLDER'				=> 'Dossier',
+	'FORGOT_PASS'			=> 'Jai oubli mon mot de passe',
+	'FORM_INVALID'			=> 'Le formulaire que vous avez envoy est incorrect. Veuillez essayer de le renvoyer.',
+	'FORUM'					=> 'Forum',
+	'FORUMS'				=> 'Forums',
+	'FORUMS_MARKED'			=> 'Les forums que vous avez slectionns ont t marqus comme lus.',
+	'FORUM_CAT'				=> 'Catgorie du forum',
+	'FORUM_INDEX'			=> 'Index du forum',
+	'FORUM_LINK'			=> 'Forum-lien ',
+	'FORUM_LOCATION'		=> 'Emplacement du forum',
+	'FORUM_LOCKED'			=> 'Forum verrouill',
+	'FORUM_RULES'			=> 'Rgles du forum ',
+	'FORUM_RULES_LINK'		=> 'Veuillez cliquer ici afin de consulter les rgles du forum',
+	'FROM'					=> 'de',
+	'FSOCK_DISABLED'		=> 'Lopration na pas pu saccomplir car la fonction <var>fsockopen</var> a t dsactive ou le serveur interrog est introuvable.',
+
+	'FTP_FSOCK_HOST'				=> 'Hte FTP ',
+	'FTP_FSOCK_HOST_EXPLAIN'		=> 'Le serveur FTP utilis afin de vous connecter  votre site.',
+	'FTP_FSOCK_PASSWORD'			=> 'Mot de passe FTP ',
+	'FTP_FSOCK_PASSWORD_EXPLAIN'	=> 'Le mot de passe affili  votre nom dutilisateur FTP.',
+	'FTP_FSOCK_PORT'				=> 'Port FTP ',
+	'FTP_FSOCK_PORT_EXPLAIN'		=> 'Le port utilis afin de vous connecter  votre serveur.',
+	'FTP_FSOCK_ROOT_PATH'			=> 'Chemin vers phpBB ',
+	'FTP_FSOCK_ROOT_PATH_EXPLAIN'	=> 'Le chemin de la racine vers votre forum phpBB.',
+	'FTP_FSOCK_TIMEOUT'				=> 'Dlai dattente FTP ',
+	'FTP_FSOCK_TIMEOUT_EXPLAIN'		=> 'La dure de temps, en secondes, que le systme attendra afin dobtenir une rponse de votre serveur.',
+	'FTP_FSOCK_USERNAME'			=> 'Nom dutilisateur FTP ',
+	'FTP_FSOCK_USERNAME_EXPLAIN'	=> 'Le nom dutilisateur utilis afin de vous connecter  votre serveur.',
+
+	'FTP_HOST'					=> 'Hte FTP ',
+	'FTP_HOST_EXPLAIN'			=> 'Le serveur FTP utilis afin de vous connecter  votre site.',
+	'FTP_PASSWORD'				=> 'Mot de passe FTP ',
+	'FTP_PASSWORD_EXPLAIN'		=> 'Le mot de passe affili  votre nom dutilisateur FTP.',
+	'FTP_PORT'					=> 'Port FTP ',
+	'FTP_PORT_EXPLAIN'			=> 'Le port utilis afin de vous connecter  votre serveur.',
+	'FTP_ROOT_PATH'				=> 'Chemin vers phpBB ',
+	'FTP_ROOT_PATH_EXPLAIN'		=> 'Le chemin de la racine vers votre forum phpBB.',
+	'FTP_TIMEOUT'				=> 'Dlai dattente FTP ',
+	'FTP_TIMEOUT_EXPLAIN'		=> 'La dure de temps, en secondes, que le systme attendra afin dobtenir une rponse de votre serveur.',
+	'FTP_USERNAME'				=> 'Nom dutilisateur FTP ',
+	'FTP_USERNAME_EXPLAIN'		=> 'Le nom dutilisateur utilis afin de vous connecter  votre serveur.',
+
+	'GENERAL_ERROR'				=> 'Erreur gnrale',
+	'GB'						=> 'Go',
+	'GIB'						=> 'Gio',
+	'GO'						=> 'Valider',
+	'GOTO_PAGE'					=> 'Aller vers la page',
+	'GROUP'						=> 'Groupe',
+	'GROUPS'					=> 'Groupes',
+	'GROUP_ERR_TYPE'			=> 'Vous avez spcifi un type de groupe incorrect.',
+	'GROUP_ERR_USERNAME'		=> 'Vous navez spcifi aucun nom de groupe.',
+	'GROUP_ERR_USER_LONG'		=> 'Le nom du groupe que vous avez spcifi est trop long. Les noms de groupe ne peuvent pas dpasser 60 caractres.',
+	'GUEST'						=> 'Invit',
+	'GUEST_USERS_ONLINE'		=> 'Il y a %d invits en ligne',
+	'GUEST_USERS_TOTAL'			=> '%d invits',
+	'GUEST_USERS_ZERO_ONLINE'	=> 'Il y a 0 invit en ligne',
+	'GUEST_USERS_ZERO_TOTAL'	=> '0 invit',
+	'GUEST_USER_ONLINE'			=> 'Il y a %d invit en ligne',
+	'GUEST_USER_TOTAL'			=> '%d invit',
+	'G_ADMINISTRATORS'			=> 'Administrateurs',
+	'G_BOTS'					=> 'Robots',
+	'G_GUESTS'					=> 'Invits',
+	'G_REGISTERED'				=> 'Utilisateurs inscrits',
+	'G_REGISTERED_COPPA'		=> 'Utilisateurs COPPA inscrits',
+	'G_GLOBAL_MODERATORS'		=> 'Modrateurs globaux',
+	'G_NEWLY_REGISTERED'		=> 'Utilisateurs rcemment inscrits',
+
+	'HIDDEN_USERS_ONLINE'			=> '%d utilisateurs invisibles en ligne',
+	'HIDDEN_USERS_TOTAL'			=> '%d invisibles',
+	'HIDDEN_USERS_TOTAL_AND'		=> '%d invisibles et ',
+	'HIDDEN_USERS_ZERO_ONLINE'		=> '0 utilisateur invisible en ligne',
+	'HIDDEN_USERS_ZERO_TOTAL'		=> '0 invisible',
+	'HIDDEN_USERS_ZERO_TOTAL_AND'	=> '0 invisible et ',
+	'HIDDEN_USER_ONLINE'			=> '%d utilisateur invisible en ligne',
+	'HIDDEN_USER_TOTAL'				=> '%d invisible',
+	'HIDDEN_USER_TOTAL_AND'			=> '%d invisible et ',
+	'HIDE_GUESTS'					=> 'Masquer les invits',
+	'HIDE_ME'						=> 'Masquer mon statut en ligne lors de cette session',
+	'HOURS'							=> 'Heures',
+	'HOME'							=> 'Accueil',
+
+	'ICQ'						=> 'ICQ ',
+	'ICQ_STATUS'				=> 'Statut ICQ',
+	'IF'						=> 'Si ',
+	'IMAGE'						=> 'Image',
+	'IMAGE_FILETYPE_INVALID'	=> 'Les images de type %d concernant le standard MIME %s ne sont pas supportes.',
+	'IMAGE_FILETYPE_MISMATCH'	=> 'Le type de limage ne correspond pas. Lextension %1$s tait attendue mais lextension %2$s a t fournie.',
+	'IN'						=> 'dans',
+	'INDEX'						=> 'Page dindex',
+	'INFORMATION'				=> 'Information',
+	'INTERESTS'					=> 'Centres dintrt ',
+	'INVALID_DIGEST_CHALLENGE'	=> 'Le digest challenge est incorrect.',
+	'INVALID_EMAIL_LOG'			=> '<strong>%s</strong> est une adresse de courrier lectronique potentiellement incorrecte ?',
+	'IP'						=> 'IP',
+	'IP_BLACKLISTED'			=> 'Votre adresse IP %1$s a t bloque car elle apparat dans la liste noire. Pour plus dinformations, veuillez consulter <a href="%2$s">%2$s</a>.',
+
+	'JABBER'				=> 'Jabber ',
+	'JOINED'				=> 'Inscrit le ',
+	'JUMP_PAGE'				=> 'Saisissez le numro de la page que vous souhaitez atteindre',
+	'JUMP_TO'				=> 'Aller vers ',
+	'JUMP_TO_PAGE'			=> 'Cliquez afin daller vers la page',
+
+	'KB'					=> 'Ko',
+	'KIB'					=> 'Kio',
+
+	'LAST_POST'							=> 'Dernier message ',
+	'LAST_UPDATED'						=> 'Dernire mise  jour ',
+	'LAST_VISIT'						=> 'Dernire visite le ',
+	'LDAP_NO_LDAP_EXTENSION'			=> 'Lextension LDAP est indisponible.',
+	'LDAP_NO_SERVER_CONNECTION'			=> 'Impossible de se connecter au serveur LDAP.',
+	'LDAP_SEARCH_FAILED'				=> 'Une erreur est survenue lors de la recherche du rpertoire LDAP.',
+	'LEGEND'							=> 'Lgende ',
+	'LOCATION'							=> 'Localisation ',
+	'LOCK_POST'							=> 'Verrouiller le message',
+	'LOCK_POST_EXPLAIN'					=> 'Empcher toute modification',
+	'LOCK_TOPIC'						=> 'Verrouiller le sujet',
+	'LOGIN'								=> 'Connexion',
+	'LOGIN_CHECK_PM'					=> 'Connectez-vous afin de consulter vos messages privs.',
+	'LOGIN_CONFIRMATION'				=> 'Confirmation de connexion',
+	'LOGIN_CONFIRM_EXPLAIN'				=> 'Afin dempcher tout acte malveillant, vous devez saisir un code de confirmation aprs avoir chou un certain nombre de fois lors de vos tentatives de connexion. Le code est affich dans limage que vous devriez voir ci-dessous. Si vous tes visuellement dficient ou que vous prouvez des difficults  lire ce code correctement, veuillez contacter l%sadministrateur du forum%s.', // Unused
+	'LOGIN_ERROR_ATTEMPTS'				=> 'Vous avez dpass le nombre maximum de tentatives de connexion autoris. En plus de votre nom dutilisateur et de votre mot de passe, vous devez  prsent complter le CAPTCHA que vous devriez voir ci-dessous.',
+	'LOGIN_ERROR_EXTERNAL_AUTH_APACHE'	=> 'Vous navez pas t authentifi par Apache.',
+	'LOGIN_ERROR_PASSWORD'				=> 'Vous avez spcifi un mot de passe incorrect. Veuillez vrifier votre mot de passe, puis ressayer. Si ce problme persiste, veuillez contacter l%sadministrateur du forum%s.',
+	'LOGIN_ERROR_PASSWORD_CONVERT'		=> 'Il na pas t possible de convertir votre mot de passe lors de la mise  jour de ce logiciel de forum. Veuillez %sdemander un nouveau mot de passe%s. Si ce problme persiste, veuillez contacter l%sadministrateur du forum%s.',
+	'LOGIN_ERROR_USERNAME'				=> 'Vous avez spcifi un nom dutilisateur incorrect. Veuillez vrifier votre nom dutilisateur, puis ressayer. Si ce problme persiste, veuillez contacter l%sadministrateur du forum%s.',
+	'LOGIN_FORUM'						=> 'Vous devez saisir le mot de passe de ce forum afin de pouvoir consulter ou publier des sujets et des messages.',
+	'LOGIN_INFO'						=> 'Vous devez tre inscrit avant de pouvoir vous connecter. Linscription est rapide et vous offre de nombreux avantages. Par exemple, ladministrateur du forum peut accorder des fonctionnalits supplmentaires aux utilisateurs inscrits. Avant de vous inscrire, assurez-vous davoir pris connaissance de nos conditions dutilisation et de notre politique de confidentialit. Veuillez galement consulter attentivement toutes les rgles du forum lors de votre navigation.',
+	'LOGIN_VIEWFORUM'					=> 'Vous devez tre inscrit et tre connect avant de pouvoir consulter ce forum.',
+	'LOGIN_EXPLAIN_EDIT'				=> 'Vous devez tre inscrit et tre connect avant de pouvoir diter les messages de ce forum.',
+	'LOGIN_EXPLAIN_VIEWONLINE'			=> 'Vous devez tre inscrit et tre connect avant de pouvoir consulter la liste des utilisateurs en ligne.',
+	'LOGOUT'							=> 'Dconnexion',
+	'LOGOUT_USER'						=> 'Dconnexion [ %s ]',
+	'LOG_ME_IN'							=> 'Me connecter automatiquement lors de chaque visite',
+
+	'MARK'					=> 'Cocher',
+	'MARK_ALL'				=> 'Tout cocher',
+	'MARK_FORUMS_READ'		=> 'Marquer les forums comme lus',
+	'MARK_SUBFORUMS_READ'	=> 'Marquer les sous-forums comme lus',
+	'MB'					=> 'Mo',
+	'MIB'					=> 'Mio',
+	'MCP'					=> 'Panneau de contrle du modrateur',
+	'MEMBERLIST'			=> 'Membres',
+	'MEMBERLIST_EXPLAIN'	=> 'Consulter la liste complte des membres',
+	'MERGE'					=> 'Fusionner',
+	'MERGE_POSTS'			=> 'Dplacer les messages',
+	'MERGE_TOPIC'			=> 'Fusionner le sujet',
+	'MESSAGE'				=> 'Message',
+	'MESSAGES'				=> 'Messages',
+	'MESSAGE_BODY'			=> 'Corps du message ',
+	'MINUTES'				=> 'minute(s)',
+	'MODERATE'				=> 'Modrer',
+	'MODERATOR'				=> 'Modrateur',
+	'MODERATORS'			=> 'Modrateurs',
+	'MONTH'					=> 'Mois',
+	'MOVE'					=> 'Dplacer',
+	'MSNM'					=> 'MSNM/WLM ',
+
+	'NA'						=> 'N/A',
+	'NEWEST_USER'				=> 'Notre membre le plus rcent est <strong>%s</strong>',
+	'NEW_MESSAGE'				=> 'Nouveau message',
+	'NEW_MESSAGES'				=> 'Nouveaux messages',
+	'NEW_PM'					=> '<strong>%d</strong> nouveau message',
+	'NEW_PMS'					=> '<strong>%d</strong> nouveaux messages',
+	'NEW_POST'					=> 'Nouveau message',	// Not used anymore
+	'NEW_POSTS'					=> 'Nouveaux messages',	// Not used anymore
+	'NEXT'						=> 'Suivant',		// Used in pagination
+	'NEXT_STEP'					=> 'Suivant',
+	'NEVER'						=> 'Jamais',
+	'NO'						=> 'Non',
+	'NOT_ALLOWED_MANAGE_GROUP'	=> 'Vous ntes pas autoris  grer ce groupe.',
+	'NOT_AUTHORISED'			=> 'Vous ntes pas autoris  accder  cette partie.',
+	'NOT_WATCHING_FORUM'		=> 'Vous ntes  prsent plus abonn  ce forum. Vous ne serez plus averti(e) lorsque de nouveaux sujets seront publis dans ce dernier.',
+	'NOT_WATCHING_TOPIC'		=> 'Vous ntes  prsent plus abonn  ce sujet. Vous ne serez plus averti(e) lorsque de nouveaux messages seront publis dans ce dernier.',
+	'NOTIFY_ADMIN'				=> 'Veuillez avertir ladministrateur du forum ou le webmestre.',
+	'NOTIFY_ADMIN_EMAIL'		=> 'Veuillez avertir ladministrateur du forum ou le webmestre : <a href="mailto:%1$s">%1$s</a>',
+	'NO_ACCESS_ATTACHMENT'		=> 'Vous ntes pas autoris  accder  ce fichier.',
+	'NO_ACTION'					=> 'Aucune action na t spcifie.',
+	'NO_ADMINISTRATORS'			=> 'Il ny a aucun administrateur.',
+	'NO_AUTH_ADMIN'				=> 'Vous ntes pas autoris  accder au panneau de contrle dadministration.',
+	'NO_AUTH_ADMIN_USER_DIFFER'	=> 'Vous ntes pas autoris  vous authentifier de nouveau avec un compte utilisateur diffrent au vtre.',
+	'NO_AUTH_OPERATION'			=> 'Vous navez pas les permissions appropries afin daccomplir cette opration.',
+	'NO_CONNECT_TO_SMTP_HOST'	=> 'Impossible de se connecter  lhte SMTP : %1$s : %2$s',
+	'NO_BIRTHDAYS'				=> 'Aucun membre ne fte son anniversaire aujourdhui.',
+	'NO_EMAIL_MESSAGE'			=> 'Le contenu du message de ce courriel tait vide.',
+	'NO_EMAIL_RESPONSE_CODE'	=> 'Impossible de rcuprer les codes de rponse du serveur de messagerie lectronique.',
+	'NO_EMAIL_SUBJECT'			=> 'Vous devez spcifier le sujet du courriel.',
+	'NO_FORUM'					=> 'Le forum que vous souhaitez consulter nexiste pas.',
+	'NO_FORUMS'					=> 'Aucun forum.',
+	'NO_GROUP'					=> 'Le groupe dutilisateurs que vous souhaitez consulter nexiste pas.',
+	'NO_GROUP_MEMBERS'			=> 'Ce groupe na actuellement aucun membre.',
+	'NO_IPS_DEFINED'			=> 'Aucun nom dhte ou adresse IP na t dfini',
+	'NO_MEMBERS'				=> 'Aucun membre na t trouv avec ce critre de recherche.',
+	'NO_MESSAGES'				=> 'Aucun message',
+	'NO_MODE'					=> 'Aucun mode na t spcifi.',
+	'NO_MODERATORS'				=> 'Il ny a aucun modrateur.',
+	'NO_NEW_MESSAGES'			=> 'Aucun nouveau message',
+	'NO_NEW_PM'					=> '<strong>0</strong> nouveau message',
+	'NO_NEW_POSTS'				=> 'Aucun nouveau message',	// Not used anymore
+	'NO_ONLINE_USERS'			=> 'Aucun utilisateur inscrit',
+	'NO_POSTS'					=> 'Aucun message',
+	'NO_POSTS_TIME_FRAME'		=> 'Aucun message na t publi dans ce sujet dans la priode spcifie.',
+	'NO_FEED_ENABLED'			=> 'Les flux ne sont pas disponibles sur ce forum.',
+	'NO_FEED'					=> 'Le flux que vous recherchez nest pas disponible.',
+	'NO_SUBJECT'				=> 'Aucun sujet na t spcifi',								// Used for posts having no subject defined but displayed within management pages.
+	'NO_SUCH_SEARCH_MODULE'		=> 'Le &laquo; backend &raquo; de la recherche que vous avez spcifi nexiste pas.',
+	'NO_SUPPORTED_AUTH_METHODS'	=> 'Aucune mthode dauthentification nest supporte.',
+	'NO_TOPIC'					=> 'Le sujet que vous souhaitez consulter nexiste pas.',
+	'NO_TOPIC_FORUM'			=> 'Le sujet ou le forum nexiste plus.',
+	'NO_TOPICS'					=> 'Il ny a aucun sujet et aucun message dans ce forum.',
+	'NO_TOPICS_TIME_FRAME'		=> 'Aucun sujet na t publi dans ce forum lors de la priode spcifie.',
+	'NO_UNREAD_PM'				=> '<strong>0</strong> message non lu',
+	'NO_UNREAD_POSTS'			=> 'Aucun message non lu',
+	'NO_UPLOAD_FORM_FOUND'		=> 'Le transfert a commenc mais aucun formulaire de transfert de fichiers na t trouv.',
+	'NO_USER'					=> 'Lutilisateur que vous souhaitez consulter nexiste pas.',
+	'NO_USERS'					=> 'Les utilisateurs que vous souhaitez consulter nexistent pas.',
+	'NO_USER_SPECIFIED'			=> 'Aucun nom dutilisateur na t spcifi.',
+
+	// Nullar/Singular/Plural language entry. The key numbers define the number range in which a certain grammatical expression is valid.
+	'NUM_POSTS_IN_QUEUE'		=> array(
+		0			=> 'Aucun message en attente',		// 0
+		1			=> '1 message en attente',		// 1
+		2			=> '%d messages en attente',		// 2+
+	),
+
+	'OCCUPATION'				=> 'Profession ',
+	'OFFLINE'					=> 'Hors-ligne',
+	'ONLINE'					=> 'En ligne',
+	'ONLINE_BUDDIES'			=> 'Amis en ligne',
+	'ONLINE_USERS_TOTAL'		=> 'Au total, il y a <strong>%d</strong> utilisateurs en ligne :: ',
+	'ONLINE_USERS_ZERO_TOTAL'	=> 'Au total, il y a <strong>0</strong> utilisateur en ligne :: ',
+	'ONLINE_USER_TOTAL'			=> 'Au total, il y a <strong>%d</strong> utilisateur en ligne :: ',
+	'OPTIONS'					=> 'Options ',
+
+	'PAGE_OF'				=> 'Page <strong>%1$d</strong> sur <strong>%2$d</strong>',
+	'PASSWORD'				=> 'Mot de passe',
+	'PIXEL'					=> 'px',
+	'PLAY_QUICKTIME_FILE'	=> 'Lire la vido QuickTime',
+	'PM'					=> 'MP ',
+	'PM_REPORTED'			=> 'Cliquez ici afin de consulter le rapport',
+	'POSTING_MESSAGE'		=> 'Rdige un message dans %s',
+	'POSTING_PRIVATE_MESSAGE'	=> 'Rdige un message priv',
+	'POST'					=> 'Message',
+	'POST_ANNOUNCEMENT'		=> 'Annonce',
+	'POST_STICKY'			=> 'Note',
+	'POSTED'				=> 'Publi',
+	'POSTED_IN_FORUM'		=> 'dans',
+	'POSTED_ON_DATE'		=> 'le',
+	'POSTS'					=> 'Message(s) ',
+	'POSTS_UNAPPROVED'		=> 'Au moins un message de ce sujet na pas t approuv.',
+	'POST_BY_AUTHOR'		=> 'par',
+	'POST_BY_FOE'			=> 'Ce message a t publi par <strong>%1$s</strong> qui est actuellement dans votre liste dutilisateurs ignors. %2$sAfficher ce message%3$s.',
+	'POST_DAY'				=> '%.2f messages par jour',
+	'POST_DETAILS'			=> 'Informations sur le message',
+	'POST_NEW_TOPIC'		=> 'Publier un nouveau sujet',
+	'POST_PCT'				=> '%.2f%% du nombre total de messages',
+	'POST_PCT_ACTIVE'		=> '%.2f%% du nombre total des messages de lutilisateur',
+	'POST_PCT_ACTIVE_OWN'	=> '%.2f%% de votre nombre total de messages',
+	'POST_REPLY'			=> 'Publier une rponse',
+	'POST_REPORTED'			=> 'Cliquez ici afin de consulter le rapport',
+	'POST_SUBJECT'			=> 'Sujet du message',
+	'POST_TIME'				=> 'Date du message',
+	'POST_TOPIC'			=> 'Publier un nouveau sujet',
+	'POST_UNAPPROVED'		=> 'Ce message est en attente dapprobation',
+	'PREVIEW'				=> 'Prvisualiser',
+	'PREVIOUS'				=> 'Prcdent',		// Used in pagination
+	'PREVIOUS_STEP'			=> 'Prcdent',
+	'PRIVACY'				=> 'Politique de confidentialit',
+	'PRIVATE_MESSAGE'		=> 'Message priv',
+	'PRIVATE_MESSAGES'		=> 'Messages privs',
+	'PRIVATE_MESSAGING'		=> 'Messagerie prive',
+	'PROFILE'				=> 'Panneau de contrle de lutilisateur',
+
+	'READING_FORUM'				=> 'Consulte des sujets dans %s',
+	'READING_GLOBAL_ANNOUNCE'	=> 'Consulte une annonce globale',
+	'READING_LINK'				=> 'Visite le forum-lien %s',
+	'READING_TOPIC'				=> 'Consulte un sujet dans %s',
+	'READ_PROFILE'				=> 'Profil',
+	'REASON'					=> 'Raison',
+	'RECORD_ONLINE_USERS'		=> 'Le nombre maximum dutilisateurs en ligne simultanment a t de <strong>%1$s</strong> le %2$s',
+	'REDIRECT'					=> 'Redirection',
+	'REDIRECTS'					=> 'Nombre total de redirections',
+	'REGISTER'					=> 'Inscription',
+	'REGISTERED_USERS'			=> 'Utilisateurs inscrits :',
+	'REG_USERS_ONLINE'			=> 'Il y a %d utilisateurs inscrits et ',
+	'REG_USERS_TOTAL'			=> '%d inscrits, ',
+	'REG_USERS_TOTAL_AND'		=> '%d inscrits et ',
+	'REG_USERS_ZERO_ONLINE'		=> 'Il y a 0 utilisateur inscrit et ',
+	'REG_USERS_ZERO_TOTAL'		=> '0 inscrit, ',
+	'REG_USERS_ZERO_TOTAL_AND'	=> '0 inscrit et ',
+	'REG_USER_ONLINE'			=> 'Il y a %d utilisateur inscrit et ',
+	'REG_USER_TOTAL'			=> '%d inscrit, ',
+	'REG_USER_TOTAL_AND'		=> '%d inscrit et ',
+	'REMOVE'					=> 'Supprimer',
+	'REMOVE_INSTALL'			=> 'Veuillez supprimer, dplacer ou renommer le rpertoire  install  avant dutiliser votre forum. Tant que ce rpertoire est prsent, vous naurez accs quau panneau de contrle dadministration.',
+	'REPLIES'					=> 'Rponses',
+	'REPLY_WITH_QUOTE'			=> 'Rpondre en citant',
+	'REPLYING_GLOBAL_ANNOUNCE'	=> 'Rpond  une annonce globale',
+	'REPLYING_MESSAGE'			=> 'Rpond  un message dans %s',
+	'REPORT_BY'					=> 'Rapport par',
+	'REPORT_POST'				=> 'Rapporter ce message',
+	'REPORTING_POST'			=> 'Rapporte un message',
+	'RESEND_ACTIVATION'			=> 'Renvoyer le courriel dactivation',
+	'RESET'						=> 'Rinitialiser',
+	'RESTORE_PERMISSIONS'		=> 'Restaurer les permissions',
+	'RETURN_INDEX'				=> '%sRetour  la page dindex%s',
+	'RETURN_FORUM'				=> '%sRetour au dernier forum visit%s',
+	'RETURN_PAGE'				=> '%sRetour  la page prcdente%s',
+	'RETURN_TOPIC'				=> '%sRetour au dernier sujet visit%s',
+	'RETURN_TO'					=> 'Retour vers',
+	'FEED'						=> 'Flux',
+	'FEED_NEWS'					=> 'Nouveauts',
+	'FEED_TOPICS_ACTIVE'		=> 'Sujets actifs',
+	'FEED_TOPICS_NEW'			=> 'Nouveaux sujets',
+	'RULES_ATTACH_CAN'			=> 'Vous <strong>pouvez</strong> insrer des pices jointes dans ce forum',
+	'RULES_ATTACH_CANNOT'		=> 'Vous <strong>ne pouvez pas</strong> insrer de pices jointes dans ce forum',
+	'RULES_DELETE_CAN'			=> 'Vous <strong>pouvez</strong> supprimer vos messages dans ce forum',
+	'RULES_DELETE_CANNOT'		=> 'Vous <strong>ne pouvez pas</strong> supprimer vos messages dans ce forum',
+	'RULES_DOWNLOAD_CAN'		=> 'Vous <strong>pouvez</strong> tlcharger des pices jointes dans ce forum',
+	'RULES_DOWNLOAD_CANNOT'		=> 'Vous <strong>ne pouvez pas</strong> tlcharger de pices jointes dans ce forum',
+	'RULES_EDIT_CAN'			=> 'Vous <strong>pouvez</strong> diter vos messages dans ce forum',
+	'RULES_EDIT_CANNOT'			=> 'Vous <strong>ne pouvez pas</strong> diter vos messages dans ce forum',
+	'RULES_LOCK_CAN'			=> 'Vous <strong>pouvez</strong> verrouiller vos sujets dans ce forum',
+	'RULES_LOCK_CANNOT'			=> 'Vous <strong>ne pouvez pas</strong> verrouiller vos sujets dans ce forum',
+	'RULES_POST_CAN'			=> 'Vous <strong>pouvez</strong> publier de nouveaux sujets dans ce forum',
+	'RULES_POST_CANNOT'			=> 'Vous <strong>ne pouvez pas</strong> publier de nouveaux sujets dans ce forum',
+	'RULES_REPLY_CAN'			=> 'Vous <strong>pouvez</strong> rpondre aux sujets dans ce forum',
+	'RULES_REPLY_CANNOT'		=> 'Vous <strong>ne pouvez pas</strong> rpondre aux sujets dans ce forum',
+	'RULES_VOTE_CAN'			=> 'Vous <strong>pouvez</strong> voter aux sondages dans ce forum',
+	'RULES_VOTE_CANNOT'			=> 'Vous <strong>ne pouvez pas</strong> voter aux sondages dans ce forum',
+
+	'SEARCH'					=> 'Rechercher',
+	'SEARCH_MINI'				=> 'Rechercher',
+	'SEARCH_ADV'				=> 'Recherche avance',
+	'SEARCH_ADV_EXPLAIN'		=> 'Accder aux options de la recherche avance',
+	'SEARCH_KEYWORDS'			=> 'Rechercher par mot(s)-cl(s) ',
+	'SEARCHING_FORUMS'			=> 'Recherche dans les forums',
+	'SEARCH_ACTIVE_TOPICS'		=> 'Consulter les sujets actifs',
+	'SEARCH_FOR'				=> 'Recherche de',
+	'SEARCH_FORUM'				=> 'Rechercher dans ce forum',
+	'SEARCH_NEW'				=> 'Consulter les nouveaux messages',
+	'SEARCH_POSTS_BY'			=> 'Rechercher les messages de',
+	'SEARCH_SELF'				=> 'Consulter vos messages',
+	'SEARCH_TOPIC'				=> 'Rechercher dans ce sujet',
+	'SEARCH_UNANSWERED'			=> 'Consulter les messages sans rponse',
+	'SEARCH_UNREAD'				=> 'Consulter les messages non lus',
+	'SEARCH_USER_POSTS'			=> 'Rechercher les messages de lutilisateur',
+	'SECONDS'					=> 'seconde(s)',
+	'SELECT'					=> 'Slectionner ',
+	'SELECT_ALL_CODE'			=> 'Tout slectionner',
+	'SELECT_DESTINATION_FORUM'	=> 'Veuillez slectionner un forum de destination',
+	'SELECT_FORUM'				=> 'Slectionner un forum ',
+	'SEND_EMAIL'				=> 'Envoyer un courriel',				// Used for submit buttons
+	'SEND_EMAIL_USER'			=> 'Envoyer un courriel ',				// Used as: {L_SEND_EMAIL_USER} {USERNAME} -> E-mail UserX
+	'SEND_PRIVATE_MESSAGE'		=> 'Envoyer un message priv',
+	'SETTINGS'					=> 'Rglages',
+	'SIGNATURE'					=> 'Signature',
+	'SKIP'						=> 'Accder au contenu',
+	'SMTP_NO_AUTH_SUPPORT'		=> 'Le serveur SMTP ne supporte pas lauthentification.',
+	'SORRY_AUTH_READ'			=> 'Vous ntes pas autoris  consulter ce forum.',
+	'SORRY_AUTH_VIEW_ATTACH'	=> 'Vous ntes pas autoris  tlcharger cette pice jointe.',
+	'SORT_BY'					=> 'Trier par ',
+	'SORT_JOINED'				=> 'Date dinscription',
+	'SORT_LOCATION'				=> 'Localisation',
+	'SORT_RANK'					=> 'Rang',
+	'SORT_POSTS'				=> 'Messages',
+	'SORT_TOPIC_TITLE'			=> 'Titre du sujet',
+	'SORT_USERNAME'				=> 'Nom dutilisateur',
+	'SPLIT_TOPIC'				=> 'Diviser le sujet',
+	'SQL_ERROR_OCCURRED'		=> 'Une erreur SQL est survenue lors du chargement de la page. Si ce problme persiste, veuillez contacter l%sadministrateur du forum%s.',
+	'STATISTICS'				=> 'Statistiques',
+	'START_WATCHING_FORUM'		=> 'Sabonner au forum',
+	'START_WATCHING_TOPIC'		=> 'Sabonner au sujet',
+	'STOP_WATCHING_FORUM'		=> 'Se dsabonner du forum',
+	'STOP_WATCHING_TOPIC'		=> 'Se dsabonner du sujet',
+	'SUBFORUM'					=> 'Sous-forum ',
+	'SUBFORUMS'					=> 'Sous-forums ',
+	'SUBJECT'					=> 'Sujet ',
+	'SUBMIT'					=> 'Envoyer',
+
+	'TERMS_USE'			=> 'Conditions dutilisation',
+	'TEST_CONNECTION'	=> 'Tester la connexion',
+	'THE_TEAM'			=> 'Lquipe',
+	'TIME'				=> 'Date',
+
+	'TOO_LARGE'						=> 'La valeur que vous avez saisie est trop importante.',
+	'TOO_LARGE_MAX_RECIPIENTS'		=> 'La valeur du rglage <strong>Nombre maximum de destinataires autoriss par message priv</strong> que vous avez saisie est trop importante.',
+
+	'TOO_LONG'						=> 'La valeur que vous avez saisie est trop longue.',
+
+	'TOO_LONG_AIM'					=> 'Le nom dutilisateur que vous avez spcifi est trop long.',
+	'TOO_LONG_CONFIRM_CODE'			=> 'Le code de confirmation que vous avez spcifi est trop long.',
+	'TOO_LONG_DATEFORMAT'			=> 'Le format de date que vous avez spcifi est trop long.',
+	'TOO_LONG_ICQ'					=> 'Le numro ICQ que vous avez spcifi est trop long.',
+	'TOO_LONG_INTERESTS'			=> 'Les centres dintrt que vous avez spcifis sont trop longs.',
+	'TOO_LONG_JABBER'				=> 'Le nom du compte Jabber que vous avez spcifi est trop long.',
+	'TOO_LONG_LOCATION'				=> 'La localisation que vous avez spcifie est trop longue.',
+	'TOO_LONG_MSN'					=> 'Le nom dutilisateur MSNM/WLM que vous avez spcifi est trop long.',
+	'TOO_LONG_NEW_PASSWORD'			=> 'Le mot de passe que vous avez spcifi est trop long.',
+	'TOO_LONG_OCCUPATION'			=> 'La profession que vous avez spcifie est trop long.',
+	'TOO_LONG_PASSWORD_CONFIRM'		=> 'Le mot de passe de confirmation que vous avez spcifi est trop long.',
+	'TOO_LONG_USER_PASSWORD'		=> 'Le mot de passe que vous avez spcifi est trop long.',
+	'TOO_LONG_USERNAME'				=> 'Le nom dutilisateur que vous avez spcifi est trop long.',
+	'TOO_LONG_EMAIL'				=> 'Ladresse de courrier lectronique que vous avez spcifie est trop longue.',
+	'TOO_LONG_EMAIL_CONFIRM'		=> 'Ladresse de courrier lectronique de confirmation que vous avez spcifie est trop longue.',
+	'TOO_LONG_WEBSITE'				=> 'Ladresse du site internet que vous avez spcifie est trop longue.',
+	'TOO_LONG_YIM'					=> 'Le nom dutilisateur Yahoo! Messenger que vous avez spcifi est trop long.',
+
+	'TOO_MANY_VOTE_OPTIONS'			=> 'Vous avez vot pour un trop grand nombre doptions.',
+
+	'TOO_SHORT'						=> 'La valeur que vous avez spcifie est trop courte.',
+
+	'TOO_SHORT_AIM'					=> 'Le nom dutilisateur que vous avez spcifi est trop court.',
+	'TOO_SHORT_CONFIRM_CODE'		=> 'Le code de confirmation que vous avez spcifi est trop court.',
+	'TOO_SHORT_DATEFORMAT'			=> 'Le format de date que vous avez spcifi est trop court.',
+	'TOO_SHORT_ICQ'					=> 'Le numro ICQ que vous avez spcifi est trop court.',
+	'TOO_SHORT_INTERESTS'			=> 'Les centres dintrt que vous avez spcifis sont trop courts.',
+	'TOO_SHORT_JABBER'				=> 'Le nom du compte Jabber que vous avez spcifi est trop court.',
+	'TOO_SHORT_LOCATION'			=> 'La localisation que vous avez spcifie est trop courte.',
+	'TOO_SHORT_MSN'					=> 'Le nom dutilisateur MSNM/WLM que vous avez spcifi est trop court.',
+	'TOO_SHORT_NEW_PASSWORD'		=> 'Le mot de passe que vous avez spcifi est trop court.',
+	'TOO_SHORT_OCCUPATION'			=> 'La profession que vous avez spcifie est trop court.',
+	'TOO_SHORT_PASSWORD_CONFIRM'	=> 'Le mot de passe de confirmation que vous avez spcifi est trop court.',
+	'TOO_SHORT_USER_PASSWORD'		=> 'Le mot de passe que vous avez spcifi est trop court.',
+	'TOO_SHORT_USERNAME'			=> 'Le nom dutilisateur que vous avez spcifi est trop court.',
+	'TOO_SHORT_EMAIL'				=> 'Ladresse de courrier lectronique que vous avez spcifie est trop courte.',
+	'TOO_SHORT_EMAIL_CONFIRM'		=> 'Ladresse de courrier lectronique de confirmation que vous avez spcifie est trop courte.',
+	'TOO_SHORT_WEBSITE'				=> 'Ladresse du site internet que vous avez spcifie est trop courte.',
+	'TOO_SHORT_YIM'					=> 'Le nom dutilisateur Yahoo! Messenger que vous avez spcifi est trop court.',
+
+	'TOO_SMALL'						=> 'La valeur que vous avez saisie est trop petite.',
+	'TOO_SMALL_MAX_RECIPIENTS'		=> 'La valeur du rglage <strong>Nombre maximum de destinataires autoriss par message priv</strong> que vous avez saisie est trop petite.',
+
+	'TOPIC'				=> 'Sujet ',
+	'TOPICS'			=> 'Sujet(s)',
+	'TOPICS_UNAPPROVED'	=> 'Au moins un des sujets de ce forum na pas t approuv.',
+	'TOPIC_ICON'		=> 'Icne de sujet ',
+	'TOPIC_LOCKED'		=> 'Ce sujet est verrouill, vous ne pouvez rien publier ou diter.',
+	'TOPIC_LOCKED_SHORT'=> 'Sujet verrouill',
+	'TOPIC_MOVED'		=> 'Sujet dplac',
+	'TOPIC_REVIEW'		=> 'Relecture du sujet ',
+	'TOPIC_TITLE'		=> 'Titre du sujet',
+	'TOPIC_UNAPPROVED'	=> 'Ce sujet na pas t approuv',
+	'TOTAL_ATTACHMENTS'	=> 'Pice(s) jointe(s)',
+	'TOTAL_LOG'			=> '1 historique',
+	'TOTAL_LOGS'		=> '%d historiques',
+	'TOTAL_NO_PM'		=> '0 message priv',
+	'TOTAL_PM'			=> '1 message priv',
+	'TOTAL_PMS'			=> '%d messages privs',
+	'TOTAL_POSTS'		=> 'Nombre total de messages ',
+	'TOTAL_POSTS_OTHER'	=> '<strong>%d</strong> messages',
+	'TOTAL_POSTS_ZERO'	=> '<strong>0</strong> message',
+	'TOPIC_REPORTED'	=> 'Ce sujet a t rapport',
+	'TOTAL_TOPICS_OTHER'=> '<strong>%d</strong> sujets',
+	'TOTAL_TOPICS_ZERO'	=> '<strong>0</strong> sujet',
+	'TOTAL_USERS_OTHER'	=> '<strong>%d</strong> membres',
+	'TOTAL_USERS_ZERO'	=> '<strong>0</strong> membre',
+	'TRACKED_PHP_ERROR'	=> 'Erreurs PHP survenues : %s',
+
+	'UNABLE_GET_IMAGE_SIZE'	=> 'Il na pas t possible de dterminer les dimensions de limage.',
+	'UNABLE_TO_DELIVER_FILE'=> 'Impossible de dlivrer le fichier.',
+	'UNKNOWN_BROWSER'		=> 'Navigateur inconnu',
+	'UNMARK_ALL'			=> 'Tout dcocher',
+	'UNREAD_MESSAGES'		=> 'Messages non lus',
+	'UNREAD_PM'				=> '<strong>%d</strong> message non lu',
+	'UNREAD_PMS'			=> '<strong>%d</strong> messages non lus',
+	'UNREAD_POST'			=> 'Message non lu',
+	'UNREAD_POSTS'			=> 'Messages non lus',
+	'UNWATCHED_FORUMS'			=> 'Vous ntes  prsent plus abonn aux forums slectionns.',
+	'UNWATCHED_TOPICS'			=> 'Vous ntes  prsent plus abonn aux sujets slectionns.',
+	'UNWATCHED_FORUMS_TOPICS'	=> 'Vous ntes  prsent plus abonn aux entres slectionnes.',
+	'UPDATE'				=> 'Mettre  jour',
+	'UPLOAD_IN_PROGRESS'	=> 'Transfert en cours.',
+	'URL_REDIRECT'			=> 'Si votre navigateur ne supporte pas les redirections automatiques, veuillez %scliquer ici%s afin dtre redirig.',
+	'USERGROUPS'			=> 'Groupe(s) ',
+	'USERNAME'				=> 'Nom dutilisateur ',
+	'USERNAMES'				=> 'Noms dutilisateurs ',
+	'USER_AVATAR'			=> 'Avatar de lutilisateur',
+	'USER_CANNOT_READ'		=> 'Vous ne pouvez pas consulter les messages de ce forum.',
+	'USER_POST'				=> '%d message',
+	'USER_POSTS'			=> '%d messages',
+	'USERS'					=> 'Utilisateurs',
+	'USE_PERMISSIONS'		=> 'Tester les permissions de lutilisateur',
+
+	'USER_NEW_PERMISSION_DISALLOWED'	=> 'Vous ntes pas autoris  utiliser cette fonctionnalit. Pour ltre, vous devez simplement vous inscrire et participer de manire plus active.',
+
+	'VARIANT_DATE_SEPARATOR'	=> ' / ',	// Used in date format dropdown, eg: "Today, 13:37 / 01 Jan 2007, 13:37" ... to join a relative date with calendar date
+	'VIEWED'					=> 'Consult',
+	'VIEWING_FAQ'				=> 'Consulte la FAQ',
+	'VIEWING_MEMBERS'			=> 'Consulte les informations dun membre',
+	'VIEWING_ONLINE'			=> 'Consulte la liste des utilisateurs en ligne',
+	'VIEWING_MCP'				=> 'Consulte le panneau de contrle du modrateur',
+	'VIEWING_MEMBER_PROFILE'	=> 'Consulte le profil dun membre',
+	'VIEWING_PRIVATE_MESSAGES'	=> 'Consulte ses messages privs',
+	'VIEWING_REGISTER'			=> 'Inscrit un compte',
+	'VIEWING_UCP'				=> 'Consulte le panneau de contrle de lutilisateur',
+	'VIEWS'						=> 'Vues',
+	'VIEW_BOOKMARKS'			=> 'Consulter les signets',
+	'VIEW_FORUM_LOGS'			=> 'Consulter les historiques',
+	'VIEW_LATEST_POST'			=> 'Consulter le dernier message',
+	'VIEW_NEWEST_POST'			=> 'Consulter le message non lu le plus rcent',
+	'VIEW_NOTES'				=> 'Consulter les notes sur lutilisateur',
+	'VIEW_ONLINE_TIME'			=> 'bas sur les utilisateurs actifs de la dernire minute',
+	'VIEW_ONLINE_TIMES'			=> 'bas sur les utilisateurs actifs des %d dernires minutes',
+	'VIEW_TOPIC'				=> 'Consulter le sujet',
+	'VIEW_TOPIC_ANNOUNCEMENT'	=> 'Annonce : ',
+	'VIEW_TOPIC_GLOBAL'			=> 'Annonce globale : ',
+	'VIEW_TOPIC_LOCKED'			=> 'Verrouill : ',
+	'VIEW_TOPIC_LOGS'			=> 'Consulter les historiques',
+	'VIEW_TOPIC_MOVED'			=> 'Dplac : ',
+	'VIEW_TOPIC_POLL'			=> 'Sondage : ',
+	'VIEW_TOPIC_STICKY'			=> 'Note : ',
+	'VISIT_WEBSITE'				=> 'Visiter le site internet',
+
+	'WARNINGS'			=> 'Avertissement(s) ',
+	'WARN_USER'			=> 'Avertir lutilisateur',
+	'WELCOME_SUBJECT'	=> 'Bienvenue sur les forums de %s',
+	'WEBSITE'			=> 'Site internet ',
+	'WHOIS'				=> 'Qui est-ce ?',
+	'WHO_IS_ONLINE'		=> 'Qui est en ligne ?',
+	'WRONG_PASSWORD'	=> 'Le mot de passe que vous avez spcifi est incorrect.',
+
+	'WRONG_DATA_ICQ'			=> 'Le numro ICQ que vous avez spcifi est incorrect.',
+	'WRONG_DATA_JABBER'			=> 'Le nom du compte Jabber que vous avez spcifi est incorrect.',
+	'WRONG_DATA_LANG'			=> 'La langue que vous avez spcifie est incorrecte.',
+	'WRONG_DATA_WEBSITE'		=> 'Ladresse du site internet doit tre exacte, comportant le protocole. Par exemple, http://www.exemple.com/.',
+	'WROTE'						=> 'a crit',
+
+	'YEAR'				=> 'Anne',
+	'YEAR_MONTH_DAY'	=> '(AAAA-MM-JJ)',
+	'YES'				=> 'Oui',
+	'YIM'				=> 'YIM ',
+	'YOU_LAST_VISIT'	=> 'Dernire visite le : %s',
+	'YOU_NEW_PM'		=> 'Un nouveau message priv vous attend dans votre bote de rception.',
+	'YOU_NEW_PMS'		=> 'De nouveaux messages privs vous attendent dans votre bote de rception.',
+	'YOU_NO_NEW_PM'		=> 'Aucun nouveau message priv ne vous attend dans votre bote de rception.',
+
+	'datetime'			=> array(
+		'TODAY'		=> 'Aujourdhui',
+		'TOMORROW'	=> 'Demain',
+		'YESTERDAY'	=> 'Hier',
+		'AGO'		=> array(
+			0		=> 'il y a moins dune minute',
+			1		=> 'il y a %d minute',
+			2		=> 'il y a %d minutes',
+			60		=> 'il y a 1 heure',
+		),
+
+		'Sunday'	=> 'Dimanche',
+		'Monday'	=> 'Lundi',
+		'Tuesday'	=> 'Mardi',
+		'Wednesday'	=> 'Mercredi',
+		'Thursday'	=> 'Jeudi',
+		'Friday'	=> 'Vendredi',
+		'Saturday'	=> 'Samedi',
+
+		'Sun'		=> 'Dim',
+		'Mon'		=> 'Lun',
+		'Tue'		=> 'Mar',
+		'Wed'		=> 'Mer',
+		'Thu'		=> 'Jeu',
+		'Fri'		=> 'Ven',
+		'Sat'		=> 'Sam',
+
+		'January'	=> 'Janvier',
+		'February'	=> 'Fvrier',
+		'March'		=> 'Mars',
+		'April'		=> 'Avril',
+		'May'		=> 'Mai',
+		'June'		=> 'Juin',
+		'July'		=> 'Juillet',
+		'August'	=> 'Aot',
+		'September' => 'Septembre',
+		'October'	=> 'Octobre',
+		'November'	=> 'Novembre',
+		'December'	=> 'Dcembre',
+
+		'Jan'		=> 'Jan',
+		'Feb'		=> 'Fv',
+		'Mar'		=> 'Mars',
+		'Apr'		=> 'Avr',
+		'May_short'	=> 'Mai',	// Short representation of "May". May_short used because in English the short and long date are the same for May.
+		'Jun'		=> 'Juin',
+		'Jul'		=> 'Juil',
+		'Aug'		=> 'Aot',
+		'Sep'		=> 'Sep',
+		'Oct'		=> 'Oct',
+		'Nov'		=> 'Nov',
+		'Dec'		=> 'Dc',
+	),
+
+	'tz'				=> array(
+		'-12'	=> 'UTC - 12 heures',
+		'-11'	=> 'UTC - 11 heures',
+		'-10'	=> 'UTC - 10 heures',
+		'-9.5'	=> 'UTC - 9:30 heures',
+		'-9'	=> 'UTC - 9 heures',
+		'-8'	=> 'UTC - 8 heures',
+		'-7'	=> 'UTC - 7 heures',
+		'-6'	=> 'UTC - 6 heures',
+		'-5'	=> 'UTC - 5 heures',
+		'-4.5'	=> 'UTC - 4:30 heures',
+		'-4'	=> 'UTC - 4 heures',
+		'-3.5'	=> 'UTC - 3:30 heures',
+		'-3'	=> 'UTC - 3 heures',
+		'-2'	=> 'UTC - 2 heures',
+		'-1'	=> 'UTC - 1 heure',
+		'0'		=> 'UTC',
+		'1'		=> 'UTC + 1 heure',
+		'2'		=> 'UTC + 2 heures',
+		'3'		=> 'UTC + 3 heures',
+		'3.5'	=> 'UTC + 3:30 heures',
+		'4'		=> 'UTC + 4 heures',
+		'4.5'	=> 'UTC + 4:30 heures',
+		'5'		=> 'UTC + 5 heures',
+		'5.5'	=> 'UTC + 5:30 heures',
+		'5.75'	=> 'UTC + 5:45 heures',
+		'6'		=> 'UTC + 6 heures',
+		'6.5'	=> 'UTC + 6:30 heures',
+		'7'		=> 'UTC + 7 heures',
+		'8'		=> 'UTC + 8 heures',
+		'8.75'	=> 'UTC + 8:45 heures',
+		'9'		=> 'UTC + 9 heures',
+		'9.5'	=> 'UTC + 9:30 heures',
+		'10'	=> 'UTC + 10 heures',
+		'10.5'	=> 'UTC + 10:30 heures',
+		'11'	=> 'UTC + 11 heures',
+		'11.5'	=> 'UTC + 11:30 heures',
+		'12'	=> 'UTC + 12 heures',
+		'12.75'	=> 'UTC + 12:45 heures',
+		'13'	=> 'UTC + 13 heures',
+		'14'	=> 'UTC + 14 heures',
+		'dst'	=> '[ Heure dt ]',
+	),
+
+	'tz_zones'	=> array(
+		'-12'	=> '[UTC - 12] le Baker',
+		'-11'	=> '[UTC - 11] Niue, Samoa',
+		'-10'	=> '[UTC - 10] Hawaii-Aleutian, le Cook',
+		'-9.5'	=> '[UTC - 9:30] les Marquises',
+		'-9'	=> '[UTC - 9] Alaska, le Gambier',
+		'-8'	=> '[UTC - 8] Pacifique',
+		'-7'	=> '[UTC - 7] Montagnes Rocheuses',
+		'-6'	=> '[UTC - 6] Centre',
+		'-5'	=> '[UTC - 5] Est',
+		'-4.5'	=> '[UTC - 4:30] Venezuela',
+		'-4'	=> '[UTC - 4] Atlantique',
+		'-3.5'	=> '[UTC - 3:30] Terre-Neuve',
+		'-3'	=> '[UTC - 3] Amazonie, Groenland central',
+		'-2'	=> '[UTC - 2] Fernando de Noronha, Gorgie du sud &amp; les les Sandwich du sud',
+		'-1'	=> '[UTC - 1] Aores, Cap-Vert, Groenland de lest',
+		'0'		=> '[UTC] Europe de louest, Mridien de Greenwich',
+		'1'		=> '[UTC + 1] Europe centrale, Afrique de louest',
+		'2'		=> '[UTC + 2] Europe de lest, Afrique centrale',
+		'3'		=> '[UTC + 3] Moscou, Afrique de lest',
+		'3.5'	=> '[UTC + 3:30] Iran',
+		'4'		=> '[UTC + 4] Gulf, Samara',
+		'4.5'	=> '[UTC + 4:30] Afghanistan',
+		'5'		=> '[UTC + 5] Pakistan, Iekaterinbourg',
+		'5.5'	=> '[UTC + 5:30] Inde, Sri Lanka',
+		'5.75'	=> '[UTC + 5:45] Npal',
+		'6'		=> '[UTC + 6] Bangladesh, Bhoutan, Novosibirsk',
+		'6.5'	=> '[UTC + 6:30] les Cocos, Myanmar',
+		'7'		=> '[UTC + 7] Indochine, Krasnoyarsk',
+		'8'		=> '[UTC + 8] Chine, Australie de louest, Irkutsk',
+		'8.75'	=> '[UTC + 8:45] Australie du sud-est',
+		'9'		=> '[UTC + 9] Japon, Core, Chita',
+		'9.5'	=> '[UTC + 9:30] Australie centrale',
+		'10'	=> '[UTC + 10] Australie de lest, Vladivostok',
+		'10.5'	=> '[UTC + 10:30] Lord Howe',
+		'11'	=> '[UTC + 11] le Solomon, Magadan',
+		'11.5'	=> '[UTC + 11:30] le Norfolk',
+		'12'	=> '[UTC + 12] Nouvelle Zlande, Fiji, Kamchatka',
+		'12.75'	=> '[UTC + 12:45] les Chatham',
+		'13'	=> '[UTC + 13] Tongo, les Phoenix',
+		'14'	=> '[UTC + 14] le de Wight',
+	),
+
+	// The value is only an example and will get replaced by the current time on view
+	'dateformats'	=> array(
+		'd M Y, H:i'			=> '01 Jan 2007, 13:37',
+		'd M Y H:i'				=> '01 Jan 2007 13:37',
+		'M jS, \'y, H:i'		=> 'Jan 1st, 07, 13:37',
+		'D M d, Y g:i a'		=> 'Lun Jan 01, 2007 1:37 pm',
+		'F jS, Y, g:i a'		=> 'Janvier 1st, 2007, 1:37 pm',
+		'|d M Y|, H:i'			=> 'Aujourdhui, 13:37 / 01 Jan 2007, 13:37',
+		'|F jS, Y|, g:i a'		=> 'Aujourdhui, 1:37 pm / Janvier 1st, 2007, 1:37 pm'
+	),
+
+	// The default dateformat which will be used on new installs in this language
+	// Translators should change this if a the usual date format is different
+	'default_dateformat'	=> 'd F Y, H:i', // 01 January 2007, 13:37
+
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/admin_activate.txt phpBB3/language/fr/email/admin_activate.txt
--- phpBB3-init/language/fr/email/admin_activate.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/admin_activate.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,14 @@
+Subject: Activation du compte dun utilisateur
+
+Bonjour,
+
+Le compte de  {USERNAME}  a t dsactiv ou nouvellement cr. Vous devriez, si ncessaire, grer et vrifier les informations concernant cet utilisateur.
+
+Veuillez vous rendre sur ce lien afin de consulter le profil de lutilisateur :
+{U_USER_DETAILS}
+
+Veuillez vous rendre sur ce lien afin dactiver le compte :
+{U_ACTIVATE}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/admin_send_email.txt phpBB3/language/fr/email/admin_send_email.txt
--- phpBB3-init/language/fr/email/admin_send_email.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/admin_send_email.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,14 @@
+
+Ce qui suit est un courriel envoy par un administrateur de  {SITENAME} . Si ce message est un pourriel ou quil contient des commentaires que vous trouvez dplacs, veuillez contacter le webmestre du forum  ladresse suivante :
+
+{CONTACT_EMAIL}
+
+Incluez ce courriel en entier (particulirement les en-ttes).
+
+Message qui vous a t envoy :
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
+{MESSAGE}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/admin_welcome_activated.txt phpBB3/language/fr/email/admin_welcome_activated.txt
--- phpBB3-init/language/fr/email/admin_welcome_activated.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/admin_welcome_activated.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,9 @@
+Subject: Compte activ
+
+Bonjour {USERNAME},
+
+Votre compte sur  {SITENAME}  vient dtre activ, vous pouvez  prsent vous connecter en utilisant le nom dutilisateur que vous avez reu dans un prcdent courriel.
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/admin_welcome_inactive.txt phpBB3/language/fr/email/admin_welcome_inactive.txt
--- phpBB3-init/language/fr/email/admin_welcome_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/admin_welcome_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,19 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+Veuillez conserver ce courriel dans vos archives. Les informations concernant votre compte sont les suivantes :
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+
+Lien du forum : {U_BOARD}
+----------------------------
+
+Votre compte est actuellement inactif et devra tre approuv par un administrateur avant que vous ne puissiez vous connecter. Un autre courriel sera envoy lorsque cela aura t effectu.
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/coppa_resend_inactive.txt phpBB3/language/fr/email/coppa_resend_inactive.txt
--- phpBB3-init/language/fr/email/coppa_resend_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/coppa_resend_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,42 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+En accord avec la COPPA, votre compte est actuellement inactif.
+
+Veuillez imprimer ce message et le faire signer et dater par vos parents ou vos tuteurs. Puis, faxez-le  :
+
+{FAX_INFO}
+
+Ou envoyez-le par courriel  :
+
+{MAIL_INFO}
+
+------------------------------ COUPEZ ICI ------------------------------
+Permission de participer   {SITENAME}  - {U_BOARD}
+
+Nom dutilisateur : {USERNAME}
+Adresse de courrier lectronique : {EMAIL_ADDRESS}
+
+JAI VERIFI LINFORMATION FOURNIE PAR MON ENFANT ET DONNE LA PERMISSION   {SITENAME}  DE STOCKER CETTE INFORMATION.
+JE CONOIS QUE CETTE INFORMATION PEUT TRE MODIFIE A TOUT MOMENT EN ENTRANT UN MOT DE PASSE.
+JE SAIS QUE JE PEUX DEMANDER LE RETRAIT DE CETTE INFORMATION SUR  {SITENAME}   TOUT MOMENT.
+
+
+Parent ou tuteur
+(inscrivez votre nom ici) : _____________________
+
+(signez ici) : __________________ 
+
+Date : _______________
+
+------------------------------ COUPEZ ICI ------------------------------
+
+
+Une fois que ladministrateur aura reu le texte ci-dessus par courriel, fax ou courrier ordinaire, votre compte sera activ.
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/coppa_welcome_inactive.txt phpBB3/language/fr/email/coppa_welcome_inactive.txt
--- phpBB3-init/language/fr/email/coppa_welcome_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/coppa_welcome_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,42 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+En accord avec la COPPA, votre compte est actuellement inactif.
+
+Veuillez imprimer ce message et le faire signer et dater par vos parents ou vos tuteurs. Puis, faxez-le :
+
+{FAX_INFO}
+
+Ou envoyez-le par courriel  :
+
+{MAIL_INFO}
+
+------------------------------ COUPEZ ICI ------------------------------
+Permission de participer   {SITENAME}  - {U_BOARD}
+
+Nom dutilisateur : {USERNAME}
+Adresse de courrier lectronique : {EMAIL_ADDRESS}
+
+JAI VERIFI LINFORMATION FOURNIE PAR MON ENFANT ET DONNE LA PERMISSION   {SITENAME}  DE STOCKER CETTE INFORMATION.
+JE CONOIS QUE CETTE INFORMATION PEUT TRE MODIFIE A TOUT MOMENT EN ENTRANT UN MOT DE PASSE.
+JE SAIS QUE JE PEUX DEMANDER LE RETRAIT DE CETTE INFORMATION SUR  {SITENAME}   TOUT MOMENT.
+
+
+Parent ou tuteur
+(inscrivez votre nom ici) : _____________________
+
+(signez ici) : __________________ 
+
+Date : _______________
+
+------------------------------ COUPEZ ICI ------------------------------
+
+
+Une fois que ladministrateur aura reu le texte ci-dessus par courriel, fax ou courrier ordinaire, votre compte sera activ.
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/email_notify.txt phpBB3/language/fr/email/email_notify.txt
--- phpBB3-init/language/fr/email/email_notify.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/email_notify.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,17 @@
+Subject:  {SITENAME}  - Envoi dun courriel par un ami
+
+Bonjour {TO_USERNAME},
+
+Ce courriel a t envoy de  {SITENAME}  par {FROM_USERNAME}, qui a pens que vous pourriez tre intress par le sujet suivant :
+
+{TOPIC_NAME}
+
+Vous pouvez le retrouver ici :
+
+{U_TOPIC}
+
+Un message de la part de {FROM_USERNAME} peut galement tre inclus ci-dessous. Veuillez noter que ce message na pas t consult ou approuv par les administrateurs du forum. Si vous souhaitez vous plaindre  propos de la rception de ce courriel, veuillez contacter ladministrateur du forum sur {BOARD_CONTACT}. Veuillez citer les en-ttes du message lorsque vous contacterez cette adresse.
+
+----------
+
+{MESSAGE}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/forum_notify.txt phpBB3/language/fr/email/forum_notify.txt
--- phpBB3-init/language/fr/email/forum_notify.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/forum_notify.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,19 @@
+Subject: Avertissement dun message du forum -  {FORUM_NAME} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car vous surveillez le forum  {FORUM_NAME}  sur  {SITENAME} . Ce forum a reu une nouvelle rponse sur le sujet  {TOPIC_TITLE}  depuis votre dernire visite. Vous pouvez utiliser le lien suivant afin de consulter la dernire rponse non lue, aucun nouvel avertissement ne vous sera envoy jusqu ce que vous visitiez le sujet.
+
+{U_NEWEST_POST}
+
+Si vous souhaitez consulter le sujet, veuillez cliquer sur le lien suivant :
+{U_TOPIC}
+
+Si vous souhaitez consulter le forum, veuillez cliquer sur le lien suivant :
+{U_FORUM}
+
+Si vous ne souhaitez plus surveiller ce forum, vous pouvez cliquer sur le lien  Se dsabonner au forum  situ au-dessous du forum en question ou cliquer sur le lien suivant :
+
+{U_STOP_WATCHING_FORUM}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/group_added.txt phpBB3/language/fr/email/group_added.txt
--- phpBB3-init/language/fr/email/group_added.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/group_added.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,11 @@
+Subject: Vous avez t ajout  un groupe dutilisateurs
+
+Flicitations,
+
+Vous avez t ajout au groupe  {GROUP_NAME}  sur  {SITENAME} .
+Cette action a t ralise par le responsable du groupe ou par ladministrateur du site, contactez-les pour plus dinformations.
+
+Vous pouvez consulter les informations de votre groupe ici :
+{U_GROUP}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/group_approved.txt phpBB3/language/fr/email/group_approved.txt
--- phpBB3-init/language/fr/email/group_approved.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/group_approved.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,10 @@
+Subject: Votre demande a t approuve
+
+Flicitations,
+
+Votre demande dadhsion au groupe  {GROUP_NAME}  sur  {SITENAME}  a t approuve.
+Cliquez sur le lien suivant afin de consulter les membres de votre groupe.
+
+{U_GROUP}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/group_request.txt phpBB3/language/fr/email/group_request.txt
--- phpBB3-init/language/fr/email/group_request.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/group_request.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,10 @@
+Subject: Demande  rejoindre votre groupe
+
+Cher {USERNAME},
+
+Lutilisateur  {REQUEST_USERNAME}  a demand  rejoindre le groupe  {GROUP_NAME}  que vous modrez sur  {SITENAME} .
+Veuillez vous rendre sur le lien suivant afin dapprouver ou de refuser cette demande dadhsion au groupe :
+
+{U_PENDING}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/index.htm phpBB3/language/fr/email/index.htm
--- phpBB3-init/language/fr/email/index.htm	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/index.htm	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,10 @@
+<html>
+<head>
+<title></title>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
+</head>
+
+<body bgcolor="#FFFFFF" text="#000000">
+
+</body>
+</html>
diff -rNU5 phpBB3-init/language/fr/email/installed.txt phpBB3/language/fr/email/installed.txt
--- phpBB3-init/language/fr/email/installed.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/installed.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,19 @@
+Subject: phpBB a t install
+
+Flicitations,
+
+Vous avez install phpBB sur votre serveur avec succs.
+
+Ce courriel contient des informations importantes concernant votre installation et devrait tre conserv prcieusement. Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+
+Lien du forum : {U_BOARD}
+----------------------------
+
+Des informations utiles concernant le logiciel phpBB peuvent tre trouves dans le dossier  docs  de votre installation, sur la page de support du site officiel (http://www.phpbb.com/support/) ou sur sa communaut francophone (http://www.phpbb.fr/).
+
+Afin de garantir la scurit de votre forum, nous vous recommandons fortement de toujours dtenir la dernire version du logiciel. Pour votre confort, une liste de diffusion est disponible  la page rfrence ci-dessus.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/newtopic_notify.txt phpBB3/language/fr/email/newtopic_notify.txt
--- phpBB3-init/language/fr/email/newtopic_notify.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/newtopic_notify.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,13 @@
+Subject: Avertissement dun nouveau sujet -  {FORUM_NAME} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car vous surveillez le forum  {FORUM_NAME}  sur  {SITENAME} . Ce forum a reu un nouveau sujet depuis votre dernire visite,  {TOPIC_TITLE} . Vous pouvez utiliser le lien suivant afin de consulter le forum, aucun nouvel avertissement ne vous sera envoy jusqu ce que vous visitiez le forum.
+
+{U_FORUM}
+
+Si vous ne souhaitez plus surveiller ce forum, vous pouvez cliquer sur le lien  Se dsabonner au forum  situ au-dessous du forum en question ou cliquer sur le lien suivant :
+
+{U_STOP_WATCHING_FORUM}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/pm_report_closed.txt phpBB3/language/fr/email/pm_report_closed.txt
--- phpBB3-init/language/fr/email/pm_report_closed.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/pm_report_closed.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,8 @@
+Subject: Rapport ferm -  {PM_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car le rapport que vous avez envoy concernant le message priv  {PM_SUBJECT}  sur  {SITENAME}  a t trait par un modrateur ou un administrateur. Le rapport est  prsent ferm. Si vous souhaitez obtenir plus dinformations, veuillez contacter {CLOSER_NAME} par message priv.
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/pm_report_deleted.txt phpBB3/language/fr/email/pm_report_deleted.txt
--- phpBB3-init/language/fr/email/pm_report_deleted.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/pm_report_deleted.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,8 @@
+Subject: Rapport supprim -  {PM_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car le rapport que vous avez envoy concernant le message priv  {PM_SUBJECT}  sur  {SITENAME}  a t supprim par un modrateur ou un administrateur.
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/post_approved.txt phpBB3/language/fr/email/post_approved.txt
--- phpBB3-init/language/fr/email/post_approved.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/post_approved.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,14 @@
+Subject: Message approuv -  {POST_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car votre message  {POST_SUBJECT}  sur  {SITENAME}  a t approuv par un modrateur ou un administrateur.
+
+Si vous souhaitez consulter le message, veuillez cliquer sur le lien suivant :
+{U_VIEW_POST}
+
+Si vous souhaitez consulter le sujet, veuillez cliquer sur le lien suivant :
+{U_VIEW_TOPIC}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/post_disapproved.txt phpBB3/language/fr/email/post_disapproved.txt
--- phpBB3-init/language/fr/email/post_disapproved.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/post_disapproved.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,12 @@
+Subject: Message dsapprouv -  {POST_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car votre message  {POST_SUBJECT}  sur  {SITENAME}  a t dsapprouv par un modrateur ou un administrateur.
+
+Les raisons suivantes ont t prononces concernant la dsapprobation :
+
+{REASON}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/privmsg_notify.txt phpBB3/language/fr/email/privmsg_notify.txt
--- phpBB3-init/language/fr/email/privmsg_notify.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/privmsg_notify.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,15 @@
+Subject: Un nouveau message priv est arriv
+
+Bonjour {USERNAME},
+
+Vous avez reu un nouveau message priv de  {AUTHOR_NAME}  sur votre compte de  {SITENAME}  dont le sujet est :
+
+{SUBJECT}
+
+Vous pouvez consulter votre nouveau message en cliquant sur le lien suivant :
+
+{U_INBOX}
+
+Vous avez demand  tre averti lors de cet vnement, sachez que vous pouvez toujours choisir de ne pas tre averti lors de la rception de nouveaux messages en modifiant le rglage appropri dans votre profil.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/profile_send_email.txt phpBB3/language/fr/email/profile_send_email.txt
--- phpBB3-init/language/fr/email/profile_send_email.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/profile_send_email.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,13 @@
+
+Bonjour {TO_USERNAME},
+
+Ce qui suit est un courriel qui vous a t envoy par {FROM_USERNAME} par lintermdiaire de votre compte sur  {SITENAME} . Si ce message est un pourriel ou quil contient des commentaires que vous trouvez dplacs, veuillez contacter le webmestre du forum  ladresse suivante :
+
+{BOARD_CONTACT}
+
+Incluez ce courriel en entier (particulirement les en-ttes). Veuillez noter que ladresse de rponse  ce courriel a t rgle avec celle de {FROM_USERNAME}.
+
+Le message qui vous a t envoy est le suivant :
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
+{MESSAGE}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/profile_send_im.txt phpBB3/language/fr/email/profile_send_im.txt
--- phpBB3-init/language/fr/email/profile_send_im.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/profile_send_im.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,13 @@
+
+Bonjour {TO_USERNAME},
+
+Ce qui suit est un message qui vous a t envoy par {FROM_USERNAME} par lintermdiaire de votre compte sur  {SITENAME} . Si ce message est un pourriel ou quil contient des commentaires que vous trouvez dplacs, veuillez contacter le webmestre du forum  ladresse suivante :
+
+{BOARD_CONTACT}
+
+Incluez ce courriel en entier. Veuillez noter que ladresse de lexpditeur a t rgl sur le compte IM des forums.
+
+Le message qui vous a t envoy est le suivant :
+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+
+{MESSAGE}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/report_closed.txt phpBB3/language/fr/email/report_closed.txt
--- phpBB3-init/language/fr/email/report_closed.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/report_closed.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,8 @@
+Subject: Rapport ferm -  {POST_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car le rapport que vous avez rempli sur le message  {POST_SUBJECT}  dans  {TOPIC_TITLE}  sur  {SITENAME}  a t vrifi par un modrateur ou un administrateur. Le rapport a alors t ferm. Si vous souhaitez avoir plus dinformations  ce sujet, veuillez contacter {CLOSER_NAME} par message priv.
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/report_deleted.txt phpBB3/language/fr/email/report_deleted.txt
--- phpBB3-init/language/fr/email/report_deleted.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/report_deleted.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,8 @@
+Subject: Rapport supprim -  {POST_SUBJECT} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car le rapport du message  {POST_SUBJECT}  dans  {TOPIC_TITLE}  sur  {SITENAME}  a t supprim par un modrateur ou un administrateur.
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/topic_approved.txt phpBB3/language/fr/email/topic_approved.txt
--- phpBB3-init/language/fr/email/topic_approved.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/topic_approved.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,12 @@
+Subject: Sujet approuv -  {TOPIC_TITLE} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car votre sujet  {TOPIC_TITLE}  sur  {SITENAME}  a t approuv par un modrateur ou un administrateur.
+
+Si vous souhaitez consulter le sujet, veuillez cliquer sur le lien suivant :
+
+{U_VIEW_TOPIC}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/topic_disapproved.txt phpBB3/language/fr/email/topic_disapproved.txt
--- phpBB3-init/language/fr/email/topic_disapproved.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/topic_disapproved.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,12 @@
+Subject: Sujet dsapprouv -  {TOPIC_TITLE} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car votre sujet  {TOPIC_TITLE}  sur  {SITENAME}  a t dsapprouv par un modrateur ou un administrateur.
+
+Les raisons suivantes ont t prononces concernant cette dsapprobation :
+
+{REASON}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/topic_notify.txt phpBB3/language/fr/email/topic_notify.txt
--- phpBB3-init/language/fr/email/topic_notify.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/topic_notify.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,20 @@
+Subject: Avertissement de rponse  un sujet -  {TOPIC_TITLE} 
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car vous surveillez le sujet  {TOPIC_TITLE}  sur  {SITENAME} . Ce sujet a reu une rponse depuis votre dernire visite. Vous pouvez utiliser le lien suivant afin de consulter les rponses qui ont t publies, aucun nouvel avertissement ne vous sera envoy jusqu ce que vous visitez le sujet.
+
+Si vous souhaitez consulter le nouveau message crit depuis votre dernire visite, veuillez cliquer sur le lien suivant :
+{U_NEWEST_POST}
+
+Si vous souhaitez consulter le sujet, veuillez cliquer sur le lien suivant :
+{U_TOPIC}
+
+Si vous souhaitez consulter le forum, veuillez cliquer sur le lien suivant :
+{U_FORUM}
+
+Si vous ne souhaitez plus surveiller ce sujet, vous pouvez cliquer sur le lien  Se dsabonner au sujet  situ en bas du sujet dont ladresse est situe ci-dessus ou cliquer sur le lien suivant :
+
+{U_STOP_WATCHING_TOPIC}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_activate_inactive.txt phpBB3/language/fr/email/user_activate_inactive.txt
--- phpBB3-init/language/fr/email/user_activate_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_activate_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,7 @@
+Subject: Votre compte a t dsactiv
+
+Bonjour {USERNAME},
+
+Votre compte sur  {SITENAME}  a t dsactiv, srement  cause de modifications effectues sur votre profil. Ladministrateur du forum devra lactiver avant que vous ne puissiez vous connecter. Vous recevrez un autre avertissement lorsque cela aura t effectu.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_activate_passwd.txt phpBB3/language/fr/email/user_activate_passwd.txt
--- phpBB3-init/language/fr/email/user_activate_passwd.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_activate_passwd.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,17 @@
+Subject: Activation dun nouveau mot de passe
+
+Bonjour {USERNAME},
+
+Vous recevez cet avertissement car vous (ou quelquun se faisant passer pour vous) avez demand quun nouveau mot de passe vous soit envoy pour votre compte sur  {SITENAME} . Si vous navez pas demand cette modification, veuillez alors lignorer. Si vous continuez  recevoir cet avertissement, veuillez contacter ladministrateur du forum.
+
+Pour utiliser le nouveau mot de passe, vous avez besoin de lactiver. Pour cela, veuillez cliquer sur le lien ci-dessous :
+
+{U_ACTIVATE}
+
+Si cela a fonctionn, vous pourrez vous connecter en utilisant le mot de passe suivant :
+
+Mot de passe : {PASSWORD}
+
+Vous pouvez modifier ce mot de passe par lintermdiaire de votre profil. Si vous prouvez une quelconque difficult durant ces tapes, veuillez contacter ladministrateur du forum.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_activate.txt phpBB3/language/fr/email/user_activate.txt
--- phpBB3-init/language/fr/email/user_activate.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_activate.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,9 @@
+Subject: Ractivez votre compte
+
+Bonjour {USERNAME},
+
+Votre compte sur  {SITENAME}  a t dsactiv, srement  cause de modifications effectues sur votre profil. Afin de ractiver votre compte, vous devez cliquer sur le lien ci-dessous :
+
+{U_ACTIVATE}
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_reactivate_account.txt phpBB3/language/fr/email/user_reactivate_account.txt
--- phpBB3-init/language/fr/email/user_reactivate_account.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_reactivate_account.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,19 @@
+Subject: Ractivez votre compte sur  {SITENAME} 
+
+Un administrateur du forum demande que votre compte soit ractiv. Votre compte est actuellement inactif.
+Veuillez suivre les tapes listes ici afin de ractiver votre compte.
+
+Veuillez conserver ce courriel dans vos archives. Linformation de votre compte est la suivante :
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+----------------------------
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Veuillez vous rendre sur le lien suivant afin de ractiver votre compte :
+
+{U_ACTIVATE}
+
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_remind_inactive.txt phpBB3/language/fr/email/user_remind_inactive.txt
--- phpBB3-init/language/fr/email/user_remind_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_remind_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,11 @@
+Subject: Compte inactif
+
+Bonjour {USERNAME},
+
+Cet avertissement est un rappel car votre compte sur  {SITENAME} , cr le {REGISTER_DATE}, demeure inactif. Si vous souhaitez activer ce compte, veuillez vous rendre sur le lien suivant :
+
+{U_ACTIVATE}
+
+Nous vous remercions de votre inscription sur  {SITENAME}  et attendons avec impatience votre participation.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_resend_inactive.txt phpBB3/language/fr/email/user_resend_inactive.txt
--- phpBB3-init/language/fr/email/user_resend_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_resend_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,20 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+Veuillez conserver ce courriel dans vos archives. Linformation concernant votre compte est la suivante :
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+----------------------------
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Veuillez vous rendre sur le lien suivant afin dactiver votre compte :
+
+{U_ACTIVATE}
+
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_welcome_inactive.txt phpBB3/language/fr/email/user_welcome_inactive.txt
--- phpBB3-init/language/fr/email/user_welcome_inactive.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_welcome_inactive.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,21 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+Veuillez conserver ce courriel dans vos archives. Les informations concernant votre compte sont les suivantes :
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+
+Lien du forum : {U_BOARD}
+----------------------------
+
+Veuillez vous rendre sur le lien suivant afin dactiver votre compte :
+
+{U_ACTIVATE}
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/email/user_welcome.txt phpBB3/language/fr/email/user_welcome.txt
--- phpBB3-init/language/fr/email/user_welcome.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/email/user_welcome.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,17 @@
+Subject: Bienvenue sur  {SITENAME} 
+
+{WELCOME_MSG}
+
+Veuillez conserver ce courriel dans vos archives. Les informations concernant votre compte sont les suivantes :
+
+----------------------------
+Nom dutilisateur : {USERNAME}
+
+Lien du forum : {U_BOARD}
+----------------------------
+
+Votre mot de passe a t stock en toute scurit dans notre base de donnes et ne pourra pas tre retrouv. Dans le cas o vous loubliez, vous pourrez le rinitialiser en utilisant ladresse de courrier lectronique associe  votre compte.
+
+Nous vous remercions de votre inscription.
+
+{EMAIL_SIG}
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/groups.php phpBB3/language/fr/groups.php
--- phpBB3-init/language/fr/groups.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/groups.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,98 @@
+<?php
+/**
+*
+* groups [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ALREADY_DEFAULT_GROUP'		=> 'Le groupe que vous avez slectionn est dj votre groupe par dfaut.',
+	'ALREADY_IN_GROUP'			=> 'Vous tes dj membre du groupe que vous avez slectionn.',
+	'ALREADY_IN_GROUP_PENDING'	=> 'Vous avez dj demand  rejoindre le groupe que vous avez slectionn.',
+
+	'CANNOT_JOIN_GROUP'			=> 'Vous ntes pas autoris  rejoindre ce groupe. Vous ne pouvez rejoindre que les groupes libres et ouverts.',
+	'CANNOT_RESIGN_GROUP'		=> 'Vous ntes pas autoris  vous retirer de ce groupe. Vous ne pouvez vous retirer que des groupes libres et ouverts.',
+	'CHANGED_DEFAULT_GROUP'		=> 'Le groupe par dfaut a t modifi avec succs.',
+
+	'GROUP_AVATAR'						=> 'Avatar du groupe',
+	'GROUP_CHANGE_DEFAULT'				=> 'tes-vous sr de vouloir modifier votre groupe par dfaut par le groupe  %s  ?',
+	'GROUP_CLOSED'						=> 'Ferm',
+	'GROUP_DESC'						=> 'Description du groupe',
+	'GROUP_HIDDEN'						=> 'Invisible',
+	'GROUP_INFORMATION'					=> 'Informations sur le groupe dutilisateurs',
+	'GROUP_IS_CLOSED'					=> 'Ceci est un groupe ferm, les nouveaux membres ne peuvent le rejoindre que sur invitation dun responsable du groupe.',
+	'GROUP_IS_FREE'						=> 'Ceci est un groupe libre et ouvert, tous les nouveaux membres y sont les bienvenus.',
+	'GROUP_IS_HIDDEN'					=> 'Ceci est un groupe invisible, seuls les membres de ce groupe peuvent voir ses adhrents.',
+	'GROUP_IS_OPEN'						=> 'Ceci est un groupe ouvert, les membres peuvent le rejoindre sur demande.',
+	'GROUP_IS_SPECIAL'					=> 'Ceci est un groupe spcial, les groupes spciaux ne sont grs que par les administrateurs du forum.',
+	'GROUP_JOIN'						=> 'Rejoindre le groupe',
+	'GROUP_JOIN_CONFIRM'				=> 'tes-vous sr de vouloir rejoindre le groupe que vous avez slectionn ?',
+	'GROUP_JOIN_PENDING'				=> 'Demander  rejoindre le groupe',
+	'GROUP_JOIN_PENDING_CONFIRM'		=> 'tes-vous sr de vouloir demander  rejoindre le groupe que vous avez slectionn ?',
+	'GROUP_JOINED'						=> 'Vous avez rejoint le groupe que vous avez slectionn avec succs.',
+	'GROUP_JOINED_PENDING'				=> 'Votre demande dadhsion a t effectue avec succs. Veuillez patienter le temps quun responsable du groupe approuve votre adhsion.',
+	'GROUP_LIST'						=> 'Grer les utilisateurs',
+	'GROUP_MEMBERS'						=> 'Membres du groupe',
+	'GROUP_NAME'						=> 'Nom du groupe',
+	'GROUP_OPEN'						=> 'Ouvert',
+	'GROUP_RANK'						=> 'Rang du groupe',
+	'GROUP_RESIGN_MEMBERSHIP'			=> 'Retirer mon adhsion au groupe',
+	'GROUP_RESIGN_MEMBERSHIP_CONFIRM'	=> 'tes-vous sr de vouloir retirer votre adhsion au groupe que vous avez slectionn ?',
+	'GROUP_RESIGN_PENDING'				=> 'Retirer ma demande dadhsion au groupe',
+	'GROUP_RESIGN_PENDING_CONFIRM'		=> 'tes-vous sr de vouloir retirer votre demande dadhsion au groupe que vous avez slectionn ?',
+	'GROUP_RESIGNED_MEMBERSHIP'			=> 'Vous avez t retir du groupe que vous avez slectionn avec succs.',
+	'GROUP_RESIGNED_PENDING'			=> 'Votre demande dadhsion au groupe que vous avez slectionn a t retire avec succs.',
+	'GROUP_TYPE'						=> 'Type de groupe',
+	'GROUP_UNDISCLOSED'					=> 'Groupe invisible',
+	'FORUM_UNDISCLOSED'					=> 'Modration de(s) forum(s) invisible(s)',
+
+	'LOGIN_EXPLAIN_GROUP'	=> 'Vous devez vous connecter afin de consulter les informations sur le groupe.',
+
+	'NO_LEADERS'					=> 'Vous ntes le responsable daucun groupe.',
+	'NOT_LEADER_OF_GROUP'			=> 'Lopration na pas pu tre effectue car vous ntes pas le responsable du groupe que vous avez slectionn.',
+	'NOT_MEMBER_OF_GROUP'			=> 'Lopration na pas pu tre effectue car vous ntes pas membre du groupe que vous avez slectionn ou votre demande dadhsion na pas encore t approuve.',
+	'NOT_RESIGN_FROM_DEFAULT_GROUP'	=> 'Vous ntes pas autoris  vous retirer de votre groupe par dfaut.',
+	
+	'PRIMARY_GROUP'		=> 'Groupe primaire',
+
+	'REMOVE_SELECTED'		=> 'Supprimer la slection',
+
+	'USER_GROUP_CHANGE'			=> 'De  %1$s  au groupe  %2$s ',
+	'USER_GROUP_DEMOTE'			=> 'Abandonner le statut de responsable',
+	'USER_GROUP_DEMOTE_CONFIRM'	=> 'tes-vous sr de vouloir abandonner votre statut de responsable du groupe que vous avez slectionn ?',
+	'USER_GROUP_DEMOTED'		=> 'Vous avez abandonn votre statut de responsable avec succs.',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/help_bbcode.php phpBB3/language/fr/help_bbcode.php
--- phpBB3-init/language/fr/help_bbcode.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/help_bbcode.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,118 @@
+<?php
+/**
+*
+* help_bbcode [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$help = array(
+	array(
+		0 => '--',
+		1 => 'Introduction'
+	),
+	array(
+		0 => 'Quest-ce que le BBCode ?',
+		1 => 'Le BBCode est une implmentation spciale de lHTML. Vous pouvez insrer du BBCode dans vos messages sur le forum sous rserve que cette fonctionnalit ait t autorise par un administrateur. De plus, vous pouvez dsactiver le BBCode sur chacun de vos messages par lintermdiaire du formulaire de rdaction. Le BBCode est similaire  larchitecture de lHTML, les balises sont contenues entre des crochets [ et ]  la place de &lt; et &gt;, et il offre un meilleur contrle sur la mise en forme. Selon le template que vous utilisez, vous pouvez trouver et insrer trs facilement du BBCode dans vos messages par lintermdiaire dune interface cliquable situe juste au-dessus du formulaire de rdaction. Si ces brves explications ne vous conviennent pas, vous pouvez consulter le guide suivant qui savre trs explicite.'
+	),
+	array(
+		0 => '--',
+		1 => 'Mise en forme du texte'
+	),
+	array(
+		0 => 'Comment puis-je mettre du texte en gras, en italique et en soulign ?',
+		1 => 'Le BBCode inclut des balises qui vous permettent de modifier rapidement le style de votre texte brut. Ceci peut tre ralis grce aux mthodes suivantes : <ul><li>Pour mettre une partie dun texte en gras, il faut lenfermer entre les balises <strong>[b][/b]</strong>. Par exemple :<br /><br /><strong>[b]</strong>Salut<strong>[/b]</strong><br /><br />Deviendra : <strong>Salut</strong></li><li>Pour souligner une partie dun texte, utilisez les balises <strong>[u][/u]</strong>. Par exemple :<br /><br /><strong>[u]</strong>Bonjour<strong>[/u]</strong><br /><br />Deviendra : <span style="text-decoration: underline">Bonjour</span></li><li>Pour mettre une partie dun texte en italique, utilisez les balises <strong>[i][/i]</strong>. Par exemple :<br /><br />Cest <strong>[i]</strong>super !<strong>[/i]</strong><br /><br />Deviendra : Cest <i>super !</i></li></ul>'
+	),
+	array(
+		0 => 'Comment puis-je modifier la taille ou la couleur du texte ?',
+		1 => 'Pour modifier la taille ou la couleur du texte, vous pourrez utiliser les balises suivantes. Cependant, gardez  lesprit que le rendu visuel final dpendra galement du navigateur internet et du systme dexploitation de lutilisateur : <ul><li>Pour insrer une couleur sur une partie dun texte, il faut lenfermer entre les balises <strong>[color=][/color]</strong>. Vous pouvez saisir le nom dune couleur reconnue, comme par exemple red, blue ou yellow, ou saisir directement son code hexadcimal, comme #FFFFFF ou #000000. Par exemple, pour mettre une partie dun texte en rouge, vous pouvez utiliser :<br /><br /><strong>[color=red]</strong>Salut !<strong>[/color]</strong><br /><br />Ou encore :<br /><br /><strong>[color=#FF0000]</strong>Salut !<strong>[/color]</strong><br /><br />Ce qui, dans les deux cas, deviendra : <span style="color:red">Salut !</span></li><li>Pour modifier la taille de la police de caractres dune partie dun texte, utilisez les balises <strong>[size=][/size]</strong>. es balises dpendent du style que lutilisateur a slectionn, mais le format recommand est une valeur numrique reprsentant la taille du texte en pourcentage, commenant de 50 (minuscule) et allant jusqu 200 (norme). Par exemple :<br /><br /><strong>[size=30]</strong>MINUSCULE<strong>[/size]</strong><br /><br />Deviendra : <span style="font-size:30%;">MINUSCULE</span><br /><br />Alors que :<br /><br /><strong>[size=200]</strong>NORME !<strong>[/size]</strong><br /><br />Deviendra : <span style="font-size:200%;">NORME !</span></li></ul>'
+	),
+	array(
+		0 => 'Puis-je combiner des balises de mise en forme ?',
+		1 => 'Bien sr ! Par exemple, pour obtenir lattention de tout le monde, vous pouvez crire :<br /><br /><strong>[size=200][color=red][b]</strong>REGARDEZ-MOI !<strong>[/b][/color][/size]</strong><br /><br />Ce qui deviendra : <span style="color:red;font-size:200%;"><strong>REGARDEZ-MOI !</strong></span><br /><br />Cependant, nous vous dconseillons fortement dutiliser frquemment ce genre de mise en forme ! Gardez  lesprit quil faut simplement fermer les balises correctement et dans le bon ordre. Par exemple, ce qui suit est incorrect :<br /><br /><strong>[b][u]</strong>Ceci est incorrect<strong>[/b][/u]</strong>'
+	),
+	array(
+		0 => '--',
+		1 => 'Citation et donnes de largeur fixe'
+	),
+	array(
+		0 => 'Citation de texte dans les rponses',
+		1 => 'Il y a deux manires de citer un texte, avec ou sans rfrence :<ul><li>Lorsque vous utilisez la fonction de citation afin de rpondre  un message sur le forum, vous devriez noter que le texte qui est ajout  la fentre du message est insr entre les balises <strong>[quote=&quot;&quot;][/quote]</strong>. Cette mthode vous permet de citer, comme rfrence, une personne ou autre chose que vous choisissez de commenter ! Par exemple, pour citer une partie dun texte rdig par M. Blobby, vous devez saisir :<br /><br /><strong>[quote=&quot;M. Blobby&quot;]</strong>Le texte que M. Blobby a rdig sera situ ici<strong>[/quote]</strong><br /><br />Le rendu final, &quot;M. Blobby a crit :&quot;, sera ajout automatiquement avant le texte actuel. Gardez  lesprit que vous devez <strong>obligatoirement</strong> insrer les guillemets de citation &quot;&quot; autour du nom que vous citez, ils ne sont pas optionnels.</li><li>La seconde mthode vous permet de citer quelque chose de manire anonyme. Pour lutiliser, enfermez le texte entre les balises <strong>[quote][/quote]</strong>. Lorsque vous consulterez le message ultrieurement, il affichera simplement le texte dans un bloc de citation.</li></ul>'
+	),
+	array(
+		0 => 'Mise en forme de codes ou de donnes de largeur fixe',
+		1 => 'Si vous souhaitez insrer un fragment de code ou quelque chose qui demande une largeur fixe, comme la police de caractres Courier, vous devez enfermer le texte entre les balises <strong>[code][/code]</strong>. Par exemple :<br /><br /><strong>[code]</strong>echo &quot;Ceci est un fragment de code&quot;;<strong>[/code]</strong><br /><br />Toutes les balises de mise en forme prsentes entre les balises <strong>[code][/code]</strong> sont conserves telles quelles lorsque vous consulterez le message ultrieurement. La syntaxe PHP peut tre mise en vidence en utilisant les balises <strong>[code=php][/code]</strong> et il est recommand de publier de rels fragments de code PHP afin den amliorer la lisibilit.'
+	),
+	array(
+		0 => '--',
+		1 => 'Gense de listes'
+	),
+	array(
+		0 => 'Cration dune liste non-ordonne',
+		1 => 'Le BBCode supporte deux types de liste, la liste ordonne et la liste non-ordonne. Elles sont pratiquement identiques par rapport  leur quivalent en HTML. Une liste non-ordonne publie chaque article lun aprs lautre, en utilisant le caractre toile. Pour crer une liste non-ordonne, vous devez utiliser les balises <strong>[list][/list]</strong> et dfinir chaque article dans la liste en utilisant les balises <strong>[*]</strong>. Par exemple, pour lister vos couleurs favorites, vous pouvez utiliser :<br /><br /><strong>[list]</strong><br /><strong>[*]</strong>Rouge<br /><strong>[*]</strong>Bleu<br /><strong>[*]</strong>Jaune<br /><strong>[/list]</strong><br /><br />Ce qui deviendra la liste :<ul><li>Rouge</li><li>Bleu</li><li>Jaune</li></ul>'
+	),
+	array(
+		0 => 'Cration dune liste ordonne',
+		1 => 'Le second type de liste, la liste ordonne, vous donne le contrle sur ce qui est affich devant chaque article. Vous devez utiliser les balises <strong>[list=1][/list]</strong> afin de crer une liste numrote, ou bien encore les balises <strong>[list=a][/list]</strong> afin de crer une liste alphabtique. Comme pour la liste non-ordonne, les articles doivent tre dfinis en utilisant la balise <strong>[*]</strong>. Par exemple :<br /><br /><strong>[list=1]</strong><br /><strong>[*]</strong>Aller faire les boutiques<br /><strong>[*]</strong>Acheter un nouvel ordinateur<br /><strong>[*]</strong>Rler contre lordinateur lorsquil est bloqu<br /><strong>[/list]</strong><br /><br />Deviendra :<ol style="list-style-type: decimal;"><li>Aller faire les boutiques</li><li>Acheter un nouvel ordinateur</li><li>Rler contre lordinateur lorsquil est bloqu</li></ol>Pour crer une liste alphabtique, vous devez cependant utiliser :<br /><br /><strong>[list=a]</strong><br /><strong>[*]</strong>La premire rponse possible<br /><strong>[*]</strong>La seconde rponse possible<br /><strong>[*]</strong>La troisime rponse possible<br /><strong>[/list]</strong><br /><br />Ce qui deviendra :<ol style="list-style-type: lower-alpha"><li>La premire rponse possible</li><li>La seconde rponse possible</li><li>La troisime rponse possible</li></ol>'
+	),
+	// This block will switch the FAQ-Questions to the second template column
+	array(
+		0 => '--',
+		1 => '--'
+	),
+	array(
+		0 => '--',
+		1 => 'Cration de liens'
+	),
+	array(
+		0 => 'Insrer un lien vers un site quelconque',
+		1 => 'Le BBCode de phpBB propose plusieurs manires de crer des URI (Uniform Resource Indicators), plus connues sous le nom dURL.<ul><li>La premire emploie la balise <strong>[url=][/url]</strong>, o ce qui est insr aprs le signe = fera agir le contenu de cette balise en tant que lien. Par exemple, pour insrer un lien vers phpBB.com, vous pouvez utiliser :<br /><br /><strong>[url=http://www.phpbb.com/]</strong>Visitez phpBB !<strong>[/url]</strong><br /><br />Ceci gnrera le lien suivant : <a href="http://www.phpbb.com/">Visitez phpBB !</a> Veuillez noter que le lien peut souvrir dans la mme fentre ou dans une nouvelle fentre, selon les prferences du navigateur des utilisateurs.</li><li>Si vous souhaitez que le lien soit affich comme un lien basique, vous pouvez employer simplement ceci :<br /><br /><strong>[url]</strong>http://www.phpbb.com/<strong>[/url]</strong><br /><br />Ceci gnrera le lien suivant : <a href="http://www.phpbb.com/">http://www.phpbb.com/</a></li><li>De plus, une des fonctionnalits de phpBB permet dinsrer les <i>liens magiques</i>, ce qui transformera nimporte quel lien en lien syntaxiquement correct, sans que vous nayez besoin dindiquer des balises ou mme encore dajouter http://. Par exemple, en crivant www.phpbb.com dans votre message, ceci se compltera automatiquement en <a href="http://www.phpbb.com/">www.phpbb.com</a> lorsque vous verrez votre message par la suite.</li><li>La mme chose est valable pour les adresses de courrier lectronique, vous pouvez cependant indiquer une adresse explicite, par exemple :<br /><br /><strong>[email]</strong>inconnu@domaine.adr<strong>[/email]</strong><br /><br />Ce qui deviendra : <a href="mailto:inconnu@domaine.adr">inconnu@domaine.adr</a>, ou vous pouvez simplement crire inconnu@domaine.adr dans votre message et celui-ci sera automatiquement converti lors de la visualisation.</li></ul>Comme avec toutes les balises BBCode, vous pouvez insrer des liens autour dautres balises comme <strong>[img][/img]</strong> (voir la prochaine question), <strong>[b][/b]</strong>, etc. Comme pour les balises de mise en forme, il vous appartient den assurer lusage correct douverture et de fermeture des balises, et ceci dans le bon ordre, comme par exemple :<br /><br /><strong>[url=http://www.google.fr/][img]</strong>http://www.google.fr/intl/fr_fr/images/logo.gif<strong>[/url][/img]</strong><br /><br />Nest <span style="text-decoration: underline">pas</span> correct, ce qui peut mener  la suppression de votre message, soyez donc vigilant.'
+	),
+	array(
+		0 => '--',
+		1 => 'Affichage dimages dans les messages'
+	),
+	array(
+		0 => 'Ajout dune image dans un message',
+		1 => 'Le BBCode de phpBB intgre une balise qui vous permet dinsrer des images dans vos messages. Les deux choses importantes  garder  lesprit lors de lutilisation des balises dimages sont que lexcs dimages dans les messages nest pas apprci par la plupart des dutilisateurs et que limage que vous souhaitez afficher doit tre dj disponible sur internet (elle ne peut pas exister seulement sur votre ordinateur,  moins que vous travailliez directement depuis un serveur internet !). Pour afficher une image, vous devez insrer entre les balises <strong>[img][/img]</strong> le lien pointant vers limage. Par exemple :<br /><br /><strong>[img]</strong>http://www.google.com/intl/en_ALL/images/logo.gif<strong>[/img]</strong><br /><br />Comme not prcdemment dans la section des liens situe ci-dessus, vous pouvez intgrer une image entre des balises <strong>[url][/url]</strong>. Par exemple :<br /><br /><strong>[url=http://www.google.com/][img]</strong>http://www.google.com/intl/en_ALL/images/logo.gif<strong>[/img][/url]</strong><br /><br />Deviendra :<br /><br /><a href="http://www.google.com/"><img src="http://www.google.com/intl/en_ALL/images/logo.gif" alt="" /></a>'
+	),
+	array(
+		0 => 'Ajout de pices jointes dans un message',
+		1 => 'Les pices jointes peuvent ds  prsent tre insres dans les messages en utilisant le nouveau BBCode <strong>[attachment=][/attachment]</strong>, si cette fonctionnalit a t active par ladministrateur du forum et si vous en avez les permissions appropries. Pour insrer des pices jointes en ligne, un onglet  cet effet est affich en bas de lcran de rdaction.'
+	),
+	array(
+		0 => '--',
+		1 => 'Divers'
+	),
+	array(
+		0 => 'Puis-je ajouter mes propres balises ?',
+		1 => 'Si vous tes un administrateur de ce forum et que vous en avez les permissions appropries, vous pouvez ajouter davantage de BBCodes dans la section  Personnaliser les BBCodes .'
+	)
+);
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/help_faq.php phpBB3/language/fr/help_faq.php
--- phpBB3-init/language/fr/help_faq.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/help_faq.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,346 @@
+<?php
+/**
+*
+* help_faq [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$help = array(
+	array(
+		0 => '--',
+		1 => 'Problmes de connexion et dinscription'
+	),
+	array(
+		0 => 'Pourquoi ne puis-je pas me connecter ?',
+		1 => 'Il y a plusieurs raisons qui peuvent en tre la cause. Premirement, assurez-vous que votre nom dutilisateur et votre mot de passe soient corrects. Sils le sont, contactez le propritaire du forum afin de vous assurer de ne pas avoir t banni. Il est galement possible que le propritaire du site internet ait une erreur de configuration de son ct et quil soit ncessaire de la corriger.'
+	),
+	array(
+		0 => 'Pourquoi ai-je besoin de minscrire, aprs tout ?',
+		1 => 'Vous pouvez ne pas le faire, il appartient  ladministrateur du forum dexiger ou non que vous soyez inscrit afin de pouvoir publier des messages. Cependant, linscription vous donnera accs  des fonctionnalits supplmentaires qui ne sont pas disponibles aux visiteurs, comme les avatars personnaliss, la messagerie prive, lenvoi de courriels aux autres utilisateurs, ladhsion  un groupe dutilisateurs, etc. Ceci ne vous prend quun court instant et nous vous recommandons par consquent de le faire.'
+	),
+	array(
+		0 => 'Pourquoi suis-je dconnect automatiquement ?',
+		1 => 'Si vous ne cochez pas la case <em>Me connecter automatiquement</em> lors de votre connexion, vous ne resterez connect au forum que pour une priode prdfinie. Ceci permet dviter que votre compte soit utilis par quelquun dautre. Pour rester connect, veuillez cocher la case correspondante lors de votre connexion. Ceci nest pas recommand si vous accdez au forum par lintermdiaire dun ordinateur public, comme par exemple dans une librairie, un cybercaf, une universit, etc. Si vous narrivez pas  trouver cette case  cocher, il est probable quun administrateur ait dsactiv cette fonctionnalit.'
+	),
+	array(
+		0 => 'Comment puis-je empcher laffichage de mon nom dutilisateur dans la liste des utilisateurs en ligne ?',
+		1 => 'Dans le panneau de contrle de lutilisateur, en-dessous des  Prfrences du forum , vous trouverez loption <em>Masquer votre statut en ligne</em>. Activez cette option en cochant <samp>Oui</samp> afin de ntre visible quaux administrateurs, aux modrateurs et  vous-mme. Vous serez compt comme tant un utilisateur invisible.'
+	),
+	array(
+		0 => 'Jai perdu mon mot de passe !',
+		1 => 'Pas de panique ! Bien que votre mot de passe ne puisse pas tre rcupr, il peut facilement tre rinitialis. Rendez-vous sur la page de connexion et cliquez sur <em>Jai perdu mon mot de passe</em>. Suivez les instructions et vous devriez tre en mesure de pouvoir vous connecter de nouveau dans peu de temps.'
+	),
+	array(
+		0 => 'Je suis inscrit mais ne peux pas me connecter !',
+		1 => 'Premirement, vrifiez votre nom dutilisateur et votre mot de passe. Sils sont corrects, alors une des deux choses suivantes a pu stre produite. Si le support de la COPPA est activ et que vous avez spcifi avoir en dessous de 13 ans pendant linscription, vous devrez suivre les instructions que vous avez reues. Certains forums exigeront galement que les nouvelles inscriptions doivent tre actives, soit par vous-mme ou soit par un administrateur, avant que vous puissiez ouvrir une session ; cette information tait prsente lors de votre inscription. Si vous aviez reu un courriel, consultez les instructions. Si vous ne recevez pas de courriel, vous avez probablement spcifi une mauvaise adresse de courrier lectronique ou le courriel a t filtr en tant que pourriel. Si vous tes certain que ladresse de courrier lectronique que vous avez spcifie tait correcte, essayez de contacter un administrateur.'
+	),
+	array(
+		0 => 'Je mtais dj inscrit par le pass mais ne peux  prsent plus me connecter ?!',
+		1 => 'Essayez de retrouver le courriel qui vous a t envoy lorsque vous vous tes inscrit pour la premire fois, vrifiez votre nom dutilisateur et votre mot de passe, puis ressayez. Il est possible quun administrateur ait dsactiv ou supprim votre compte pour une quelconque raison. Beaucoup de forums suppriment priodiquement les utilisateurs qui nont rien publis depuis un certain temps afin de rduire la taille de la base de donnes. Si tel tait le cas, inscrivez-vous  nouveau et essayez de participer plus activement aux discussions sur le forum.'
+	),
+	array(
+		0 => 'Quest-ce que la COPPA ?',
+		1 => 'La COPPA (Child Online Privacy and Protection Act) est une loi des tats-Unis dAmrique qui demande aux sites internet collectant potentiellement des informations sur les mineurs gs de moins de 13 ans un consentement crit des parents ou des tuteurs lgaux des mineurs concerns. Si vous ne savez pas si cette loi sapplique galement aux mineurs gs de moins de 13 ans inscrits sur votre forum, nous vous conseillons de contacter un conseiller juridique ou un avocat qui pourront vous fournir ce type de renseignement. Veuillez noter que le phpBB Group ne peut pas vous fournir dassistance lgale et nest donc pas lorganisme  contacter, except pour ce qui est dcrit ci-dessous.',
+	),
+	array(
+		0 => 'Pourquoi ne puis-je pas minscrire ?',
+		1 => 'Il est possible que le propritaire du site internet ait banni votre adresse IP ou interdit le nom dutilisateur que vous souhaitez utiliser. Le propritaire du forum peut galement avoir dcid de dsactiver les inscriptions afin dempcher tous les nouveaux visiteurs de sinscrire. Pour plus dinformations, veuillez contacter un administrateur du forum.',
+	),
+	array(
+		0 => ' quoi sert  Supprimer tous les cookies du forum  ?',
+		1 => 'Loption  Supprimer tous les cookies du forum  vous permet deffacer tous les cookies gnrs par phpBB3 qui conservent votre authentification et votre connexion au forum. Les cookies permettent galement denregistrer le statut des messages, sils sont lus ou non lus, si cette fonctionnalit a t active par le propritaire du forum. Si vous rencontrez des problmes de connexion ou de dconnexion au forum, la suppression des cookies peut vous aider  les corriger.',
+	),
+	array(
+		0 => '--',
+		1 => 'Prfrences et rglages des utilisateurs'
+	),
+	array(
+		0 => 'Comment puis-je modifier mes rglages ?',
+		1 => 'Si vous tes un utilisateur inscrit, tous vos rglages sont stocks dans la base de donnes du forum. Si vous souhaitez les modifier, rendez-vous sur votre panneau de contrle de lutilisateur ; ce lien se situe gnralement en haut des pages du forum. Ce systme vous permettra de modifier tous vos rglages et toutes vos prfrences.'
+	),
+	array(
+		0 => 'Lheure nest pas correcte !',
+		1 => 'Il est possible que lheure affiche soit rgle sur un fuseau horaire diffrent de celui dans lequel vous tes. Si tel tait le cas, rendez-vous sur votre panneau de contrle de lutilisateur et modifiez le fuseau horaire afin de trouver votre zone adquate, par exemple Londres, Paris, New York, Sydney, etc. Veuillez noter que la modification du fuseau horaire, comme la plupart des rglages, nest accessible quaux utilisateurs inscrits. Si vous ntes pas inscrit, cest loccasion idale de le faire.'
+	),
+	array(
+		0 => 'Jai modifi le fuseau horaire mais lheure nest toujours pas correcte !',
+		1 => 'Si vous tes certain davoir correctement rgl le fuseau horaire et lheure dt mais que lheure nest toujours pas correcte, il est probable que lheure de lhorloge du serveur soit errone. Veuillez contacter un administrateur afin de lui communiquer ce problme.'
+	),
+	array(
+		0 => 'Ma langue napparat pas dans la liste !',
+		1 => 'Soit ladministrateur na pas install votre langue sur le forum, soit personne na encore traduit le logiciel dans votre langue. Essayez de demander  un administrateur du forum sil est possible quil puisse installer larchive de langue que vous souhaitez. Si larchive de langue dsire nexiste pas, vous tes libre de vous porter volontaire et commencer une nouvelle traduction. Pour plus dinformations, veuillez vous rendre sur le site officiel (accessible depuis un des liens situs en bas de toutes les pages du forum).'
+	),
+	array(
+		0 => 'Comment puis-je afficher une image associe  mon nom dutilisateur ?',
+		1 => 'Deux types dimages, visibles lors de la consultation de messages, peuvent tre associs  votre nom dutilisateur. Lun dentre eux peut tre une image associe  votre rang, gnralement en forme dtoiles, de carrs ou de ronds, qui indiquent le nombre de messages  votre actif ou votre statut sur le forum. Lautre type, habituellement une image plus imposante, est connue sous le nom davatar et est gnralement unique et personnelle  chaque utilisateur. Cest  ladministrateur du forum dactiver ou non les avatars et de dcider de la manire dont ils sont mis  disposition. Si vous ne pouvez pas utiliser les avatars, contactez ladministrateur du forum et demandez-lui pour quelles raisons a t-il souhait dsactiver cette fonctionnalit.'
+	),
+	array(
+		0 => 'Quel est mon rang et comment puis-je le modifier ?',
+		1 => 'Les rangs, qui apparaissent en dessous de votre nom dutilisateur, indiquent le nombre de messages que vous avez  votre actif ou identifient certains utilisateurs spciaux, comme les modrateurs et les administrateurs. Dans la plupart des cas, seul un administrateur du forum peut modifier le texte des rangs du forum. Merci de ne pas abuser de ce systme en publiant inutilement des messages afin daugmenter votre rang sur le forum. Beaucoup de forums ne tolreront pas ceci et un modrateur ou un administrateur abaissera votre compteur de messages.'
+	),
+	array(
+		0 => 'Lorsque je clique sur le lien de courriel dun utilisateur, il mest demand de me connecter ?',
+		1 => 'Si ladministrateur a activ cette fonctionnalit, seuls les utilisateurs inscrits peuvent envoyer des courriels aux autres utilisateurs par lintermdiaire dun formulaire. Ceci permet dempcher une utilisation malveillante du systme de messagerie lectronique par des utilisateurs anonymes ou des robots.'
+	),
+	array(
+		0 => '--',
+		1 => 'Problmes de publication'
+	),
+	array(
+		0 => 'Comment puis-je publier un sujet dans un forum ?',
+		1 => 'Pour publier un nouveau sujet dans un forum, cliquez sur le bouton adquat situ sur lcran du forum ou du sujet. Il se peut que vous ayez besoin dtre inscrit avant de pouvoir rdiger un message. Sur chaque forum, une liste de vos permissions est affiche en bas de lcran du forum ou du sujet. Par exemple : vous pouvez publier de nouveaux sujets, vous pouvez voter dans les sondages, etc.'
+	),
+	array(
+		0 => 'Comment puis-je diter ou supprimer un message ?',
+		1 => ' moins que vous ne soyez un administrateur ou un modrateur du forum, vous ne pouvez diter ou supprimer que vos propres messages. Vous pouvez diter un de vos messages en cliquant le bouton adquat, parfois dans une limite de temps aprs que le message initial ait t publi. Si quelquun a dj rpondu au message, un petit texte situ en dessous du message numrera le nombre de fois que vous lavez dit, contenant la date et lheure de ldition. Ce petit texte napparatra pas sil sagit dune dition effectue par un modrateur ou un administrateur, bien quils puissent prendre linitiative de rdiger une note discrte exprimant la raison de leur dition. Veuillez noter que les utilisateurs normaux ne peuvent pas supprimer leur propre message si une rponse a t publie.'
+	),
+	array(
+		0 => 'Comment puis-je ajouter une signature  un message ?',
+		1 => 'Pour ajouter une signature  un message, vous devez tout dabord en crer une par lintermdiaire de votre panneau de contrle de lutilisateur. Une fois cre, vous pouvez cocher la case <em>Insrer une signature</em> sur le formulaire de rdaction afin dinsrer votre signature. Vous pouvez galement ajouter une signature qui sera insre  tous vos messages en cochant la case approprie dans votre profil. Si vous choisissez cette dernire option, il ne vous sera plus utile de spcifier sur chaque message votre souhait dinsrer votre signature.'
+	),
+	array(
+		0 => 'Comment puis-je crer un sondage ?',
+		1 => 'Lorsque vous rdigez un nouveau sujet ou ditez le premier message dun sujet, cliquez sur longlet  Cration dun sondage , situ en-dessous du formulaire principal de rdaction ; si cet onglet nest pas disponible, il est probable que vous nayez pas les permissions appropries afin de crer des sondages. Saisissez le titre du sondage en incluant au moins deux options dans les champs adquats, chaque option devant tre insre sur une nouvelle ligne. Vous pouvez rgler le nombre doptions que les utilisateurs peuvent insrer en slectionnant, lors du vote, le rglage des  Options par utilisateur . Vous pouvez galement spcifier une limite de temps en jours, puis enfin autoriser ou non les utilisateurs  modifier leurs votes.'
+	),
+	array(
+		0 => 'Pourquoi ne puis-je pas ajouter plus doptions  un sondage ?',
+		1 => 'La limite doptions dun sondage est rgle par ladministrateur du forum. Si le nombre doptions que vous pouvez ajouter  un sondage vous semble trop restreint, demandez  un administrateur du forum sil est possible de laugmenter.'
+	),
+	array(
+		0 => 'Comment puis-je diter ou supprimer un sondage ?',
+		1 => 'Comme pour les messages, les sondages ne peuvent tre dits que par leur auteur, un modrateur ou un administrateur. Pour diter un sondage, ditez tout simplement le premier message du sujet car le sondage est obligatoirement associ  ce dernier. Si personne na encore vot, il est possible de supprimer le sondage ou dditer ses options. Cependant, si des votes ont t exprims, seuls les modrateurs ou les administrateurs sont habilits  diter ou supprimer le sondage. Ceci empche de modifier les options dun sondage en cours.'
+	),
+	array(
+		0 => 'Pourquoi ne puis-je pas accder  un forum ?',
+		1 => 'Certains forums peuvent tre limits  certains utilisateurs ou groupes dutilisateurs. Pour consulter, lire, publier ou raliser nimporte quelle autre action, vous avez besoin de permissions spciales. Contactez un modrateur ou un administrateur du forum afin de demander votre accs.'
+	),
+	array(
+		0 => 'Pourquoi ne puis-je pas insrer de pices jointes ?',
+		1 => 'Les permissions permettant dinsrer des pices jointes sont accordes par forum, par groupe ou par utilisateur. Ladministrateur du forum na peut-tre pas autoris linsertion de pices jointes dans le forum concern, ou seuls certains groupes dtiennent cette autorisation. Pour plus dinformations, veuillez contacter un administrateur du forum.'
+	),
+	array(
+		0 => 'Pourquoi ai-je reu un avertissement ?',
+		1 => 'Chaque forum a son propre ensemble de rgles. Si vous ne respectez pas une de ces rgles, vous recevrez un avertissement. Veuillez noter que cette dcision nappartient qu ladministrateur du forum concern, le phpBB Group nest en aucun cas responsable de ce qui est appliqu ou non. Pour plus dinformations, veuillez contacter un administrateur du forum.'
+	),
+	array(
+		0 => 'Comment puis-je rapporter des messages  un modrateur ?',
+		1 => 'Si ladministrateur du forum a activ cette fonctionnalit, un bouton  cette fin devrait tre affich  ct du message que vous souhaitez rapporter. En cliquant sur celui-ci, vous trouverez toutes les tapes ncessaires afin de rapporter le message.'
+	),
+	array(
+		0 => ' quoi sert le bouton  Sauvegarder  affich lors de la rdaction dun sujet ?',
+		1 => 'Il vous permet de sauvegarder les messages qui doivent tre complts et envoys ultrieurement. Rendez-vous sur votre panneau de contrle de lutilisateur afin de recharger un message sauvegard.'
+	),
+	array(
+		0 => 'Pourquoi mon message a-t-il besoin dtre approuv ?',
+		1 => 'Ladministrateur du forum peut dcider que les messages que vous publiez sur le forum doivent tre vrifis avant dtre publis. Il est galement possible que ladministrateur vous ait plac dans un groupe dutilisateurs pour lequel il juge ncessaire cette action. Pour plus dinformations, veuillez contacter un administrateur du forum.'
+	),
+	array(
+		0 => 'Comment puis-je remonter mes sujets ?',
+		1 => 'En cliquant sur le lien  Remonter le sujet  lorsque vous tes en train de consulter un sujet, vous pouvez remonter celui-ci en haut de la liste des sujets,  la premire page du forum. Cependant, si vous ne voyez pas ce lien, cette fonctionnalit a peut-tre t dsactive ou le temps dattente ncessaire entre les remontes na peut-tre pas encore t atteint. Il est galement possible de remonter le sujet simplement en y rpondant, mais assurez-vous de le faire tout en respectant les rgles du forum.'
+	),
+	array(
+		0 => '--',
+		1 => 'Mise en forme et types de sujets'
+	),
+	array(
+		0 => 'Quest-ce que le BBCode ?',
+		1 => 'Le BBCode est une implmentation spciale de lHTML, vous offrant un meilleur contrle sur la mise en forme dun message. Lutilisation du BBCode est dtermine par ladministrateur mais il vous est galement possible de la dsactiver sur chaque message depuis le formulaire de rdaction. Le BBCode est similaire  larchitecture de lHTML, les balises sont contenues entre des crochets [ et ]  la place de &lt; et &gt;. Pour plus dinformations  propos du BBCode, veuillez consulter le guide qui est accessible depuis la page de rdaction.'
+	),
+	array(
+		0 => 'Puis-je utiliser de lHTML ?',
+		1 => 'Non, il nest pas possible dutiliser de lHTML sur ce forum. La majeure partie de la mise en forme qui peut tre ralise avec de lHTML peut galement tre obtenue grce  lutilisation du BBCode.'
+	),
+	array(
+		0 => 'Que sont les moticnes ?',
+		1 => 'Les moticnes sont de petites images qui peuvent tre utilises grce  lutilisation dun code court et qui permettent dexprimer des sentiments. Par exemple,  :)  exprime la joie alors quau contraire  :(  exprime la tristesse. Vous pouvez consulter la liste complte des moticnes depuis le formulaire de rdaction. Essayez cependant de ne pas abuser des moticnes, elles peuvent rapidement rendre un message illisible et un modrateur pourrait dcider de lditer ou de le supprimer compltement. Ladministrateur du forum peut galement limiter le nombre dmoticnes qui peuvent tre insres dans un message.'
+	),
+	array(
+		0 => 'Puis-je insrer des images ?',
+		1 => 'Oui, vous pouvez insrer des images dans vos messages. Si ladministrateur du forum a autoris linsertion de pices jointes, vous pourrez transfrer des images sur le forum. Dans le cas contraire, vous devrez insrer un lien pointant vers une image stocke sur un serveur internet public, comme http://www.exemple.com/mon-image.gif. Vous ne pourrez cependant ni insrer de lien pointant vers des images stockes sur votre propre ordinateur ( moins, bien videmment, que celui-ci soit en lui-mme un serveur internet), ni insrer de lien pointant vers des images stockes derrire un quelconque systme dauthentification, comme par exemple les services de messagerie lectronique de Hotmail ou de Yahoo, les sites protgs par un mot de passe, etc. Pour insrer une image, utilisez la balise BBCode [img].'
+	),
+	array(
+		0 => 'Que sont les annonces globales ?',
+		1 => 'Les annonces globales contiennent des informations trs importantes et vous devriez les consulter le plus rapidement possible. Elles apparaissent en haut de chaque forum et dans votre panneau de contrle de lutilisateur. Les permissions concernant les annonces globales sont dfinies par ladministrateur du forum.'
+	),
+	array(
+		0 => 'Que sont les annonces ?',
+		1 => 'Les annonces contiennent souvent des informations importantes sur le forum dans lequel vous naviguez et vous devriez les consulter le plus rapidement possible. Les annonces apparaissent en haut de chaque page du forum dans lequel elles ont t publies. Tout comme les annonces globales, les permissions concernant les annonces sont dfinies par ladministrateur du forum.'
+	),
+	array(
+		0 => 'Que sont les notes ?',
+		1 => 'Les notes apparaissent en dessous des annonces et seulement sur la premire page du forum concern. Elles sont souvent assez importantes et il est recommand de les consulter ds que vous en avez la possibilit. Tout comme les annonces et les annonces globales, les permissions concernant les notes sont dfinies par ladministrateur du forum.'
+	),
+	array(
+		0 => 'Que sont les sujets verrouills ?',
+		1 => 'Les sujets verrouills sont des sujets dans lesquels les utilisateurs ne peuvent plus rpondre et dans lesquels les sondages sont automatiquement expirs. Les sujets peuvent tre verrouills pour de nombreuses raisons par un modrateur ou un administrateur du forum. Vous pouvez galement verrouiller vos propres sujets si ladministrateur en a dcid ainsi.'
+	),
+	array(
+		0 => 'Que sont les icnes de sujet ?',
+		1 => 'Les icnes de sujet sont de petites images que lauteur peut insrer afin dillustrer le contenu de son sujet. Ladministrateur du forum peut ne pas avoir activ cette fonctionnalit.'
+	),
+	// This block will switch the FAQ-Questions to the second template column
+	array(
+		0 => '--',
+		1 => '--'
+	),
+	array(
+		0 => '--',
+		1 => 'Niveaux des utilisateurs et des groupes dutilisateurs'
+	),
+	array(
+		0 => 'Que sont les administrateurs ?',
+		1 => 'Les administrateurs sont les membres possdant le plus haut niveau de contrle sur le forum. Ces utilisateurs peuvent contrler toutes les oprations du forum, telles que le rglage des permissions, le bannissement dutilisateurs, la cration de groupes dutilisateurs ou de modrateurs, etc. Ils peuvent galement tre abilits  modrer lensemble des forums. Tout ceci dpend des rglages effectus par le fondateur du forum.'
+	),
+	array(
+		0 => 'Que sont les modrateurs ?',
+		1 => 'Les modrateurs sont des utilisateurs individuels (ou des groupes dutilisateurs individuels) qui surveillent jour aprs jour les forums. Ils ont la possibilit dditer ou de supprimer les sujets, les verrouiller, les dverrouiller, les dplacer, les fusionner et les diviser dans le forum quils modrent. En rgle gnrale, les modrateurs sont prsents pour viter que les utilisateurs fassent du hors-sujet ou publient du contenu abusif ou offensant.'
+	),
+	array(
+		0 => 'Que sont les groupes dutilisateurs ?',
+		1 => 'Les groupes dutilisateurs sont une faon pour les administrateurs du forum de regrouper plusieurs utilisateurs. Chaque utilisateur peut appartenir  plusieurs groupes et chaque groupe peut dtenir des permissions individuelles. Ceci facilite les tches aux administrateurs qui pourront modifier les permissions de plusieurs utilisateurs en une seule fois, ou encore leur accorder des pouvoirs de modration, ou bien leur donner accs  un forum priv.'
+	),
+	array(
+		0 => 'O sont les groupes dutilisateurs et comment puis-je en rejoindre un ?',
+		1 => 'Vous pouvez consulter tous les groupes dutilisateurs par lintermdiaire du lien  Groupes dutilisateurs  depuis votre panneau de contrle de lutilisateur. Si vous souhaitez en rejoindre un, cliquez sur le bouton appropri. Cependant, tous les groupes dutilisateurs ne sont pas ouverts aux nouvelles adhsions. Certains peuvent ncessiter une approbation, dautres peuvent tre ferms et dautres peuvent mme tre invisibles. Si le groupe est ouvert, vous pouvez le rejoindre en cliquant sur le bouton appropri. Sil ncessite une approbation, cliquez galement sur le bouton appropri. Le responsable du groupe dutilisateurs devra approuver votre requte et pourra vous demander pourquoi vous souhaitez le rejoindre. Merci de ne pas harceler un responsable de groupe sil refuse votre requte : il doit avoir ses propres raisons.'
+	),
+	array(
+		0 => 'Comment puis-je devenir le responsable dun groupe dutilisateurs ?',
+		1 => 'Le responsable dun groupe dutilisateurs est gnralement assign lorsque les groupes dutilisateurs sont initialement crs par un administrateur du forum. Si vous tes intress par la cration dun groupe dutilisateurs, votre premier contact devrait tre un administrateur ; essayez de lui envoyer un message priv.',
+	),
+	array(
+		0 => 'Pourquoi certains groupes dutilisateurs apparaissent dans une couleur diffrente ?',
+		1 => 'Les administrateurs du forum peuvent assigner une couleur aux membres dun groupe dutilisateurs afin de faciliter leur identification.'
+	),
+	array(
+		0 => 'Quest-ce quun  groupe dutilisateurs par dfaut  ?',
+		1 => 'Si vous tes membre de plus dun groupe dutilisateurs, votre groupe dutilisateurs par dfaut est utilis afin de dterminer quelle sera la couleur et le rang qui vous sera assign par dfaut. Ladministrateur du forum peut vous donner la permission de modifier vous-mme votre groupe dutilisateurs par dfaut par lintermdiaire de votre panneau de contrle de lutilisateur.'
+	),
+	array(
+		0 => 'Quest-ce que le lien  Lquipe  ?',
+		1 => 'Cette page liste les membres de lquipe du forum que sont les administrateurs et les modrateurs, en plus de quelques informations tels que les forums quils modrent.'
+	),
+	array(
+		0 => '--',
+		1 => 'Messagerie prive'
+	),
+	array(
+		0 => 'Je ne peux pas envoyer de messages privs !',
+		1 => 'Trois raisons peuvent en tre la cause ; soit vous ntes pas inscrit et/ou connect, soit un administrateur a dsactiv entirement la messagerie prive sur le forum, soit un des administrateurs vous empche denvoyer des messages privs. Pour plus dinformations, veuillez contacter ladministrateur du forum.'
+	),
+	array(
+		0 => 'Je continue  recevoir des messages privs non sollicits !',
+		1 => 'Vous pouvez empcher un utilisateur de vous envoyer des messages privs en utilisant les rgles de messages depuis votre panneau de contrle de lutilisateur. Si vous recevez des messages privs de manire abusive de la part dun autre utilisateur, informez-en un administrateur ; ils peuvent empcher compltement un utilisateur denvoyer des messages privs.'
+	),
+	array(
+		0 => 'Jai reu un pourriel ou un courriel indsirable de la part de quelquun sur ce forum !',
+		1 => 'Nous en sommes dsols. Le formulaire denvoi de courriels de ce forum possde des protections afin dessayer de reprer les utilisateurs qui envoient de tels messages. Vous devriez envoyer par courriel  un administrateur du forum une copie complte du courriel que vous avez reu. Il est trs important dy inclure les en-ttes contenant des informations sur lauteur du courriel. Il pourra alors agir en consquence.'
+	),
+	array(
+		0 => '--',
+		1 => 'Amis et ignors'
+	),
+	array(
+		0 => ' quoi sert ma liste damis et dignors ?',
+		1 => 'Vous pouvez utiliser ces listes afin dorganiser et trier les utilisateurs du forum. Les membres ajouts dans votre liste damis seront lists dans votre panneau de contrle de lutilisateur afin de consulter rapidement leur statut en ligne et leur envoyer des messages privs. Selon le template utilis, les messages publis par ces utilisateurs peuvent ventuellement tre mis en surbrillance. Si vous ajoutez un utilisateur dans votre liste dignors, tous les messages quil publiera seront masqus par dfaut.'
+	),
+	array(
+		0 => 'Comment puis-je ajouter ou supprimer des utilisateurs de ma liste damis et dignors ?',
+		1 => 'Vous pouvez ajouter des utilisateurs  ces listes de deux manires. Dans chaque profil dutilisateurs, un lien vous permet de les ajouter  votre liste damis ou dignors. Alternativement, vous pouvez ajouter directement des utilisateurs depuis le panneau de contrle de lutilisateur en saisissant leur nom dutilisateur. Vous pouvez galement les supprimer de vos listes en utilisant cette mme page.'
+	),
+	array(
+		0 => '--',
+		1 => 'Recherche dans les forums'
+	),
+	array(
+		0 => 'Comment puis-je effectuer une recherche dans un ou des forums ?',
+		1 => 'Saisissez un terme dans la bote de recherche situe sur lindex, les pages des forums ou les pages des sujets. La recherche avance est accessible en cliquant sur le lien  Recherche avance  disponible sur toutes les pages du forum. Laccs  la recherche dpend du style utilis.'
+	),
+	array(
+		0 => 'Pourquoi ma recherche ne renvoie aucun rsultat ?',
+		1 => 'Votre recherche tait probablement trop vague ou incluait trop de termes communs qui ne sont pas indexs par phpBB3. Soyez plus prcis et utilisez les options disponibles dans la recherche avance.'
+	),
+	array(
+		0 => 'Pourquoi ma recherche renvoie  une page blanche ?!',
+		1 => 'Votre recherche a renvoy trop de rsultats pour que le serveur puisse les afficher. Utilisez la recherche avance et soyez plus prcis dans les termes utiliss et dans la slection des forums dans lesquels vous souhaitez effectuer une recherche.'
+	),
+	array(
+		0 => 'Comment puis-je rechercher des utilisateurs ?',
+		1 => 'Rendez-vous sur la page  Membres  et cliquez sur le lien  Trouver un membre .'
+	),
+	array(
+		0 => 'Comment puis-je retrouver mes propres messages et sujets ?',
+		1 => 'Vos propres messages peuvent tre affichs en cliquant sur le lien  Rechercher les messages de lutilisateur  par lintermdiaire du panneau de contrle de lutilisateur ou sur la page de votre propre profil. Pour effectuer une recherche de vos propres sujets, utilisez la recherche avance et remplissez convenablement les options qui vous sont disponibles.'
+	),
+	array(
+		0 => '--',
+		1 => 'Signets et abonnements aux sujets'
+	),
+	array(
+		0 => 'Quelle est la diffrence entre le signetage et labonnement ?',
+		1 => 'Dans phpBB3, le signetage dun sujet est similaire  ajouter une page aux favoris de votre navigateur internet. Vous ne serez pas averti des nouveaux messages, mais vous pourrez retourner rapidement au sujet ultrieurement. Cependant, labonnement vous prviendra lors de la publication de nouveaux messages sur le sujet ou le forum que vous surveillez.'
+	),
+	array(
+		0 => 'Comment puis-je mabonner  un forum ou  un sujet spcifique ?',
+		1 => 'Pour sabonner  un forum spcifique, cliquez sur le lien  Sabonner au forum  disponible dans le forum souhait. Pour sabonner  un sujet, rpondez au sujet en slectionnant loption dabonnement spcifique ou cliquez sur le lien  Sabonner au sujet  disponible sur la page du sujet.'
+	),
+	array(
+		0 => 'Comment puis-je rsilier mes abonnements ?',
+		1 => 'Pour rsilier vos abonnements, rendez-vous sur le panneau de contrle de lutilisateur et suivez le lien vers vos abonnements.'
+	),
+	array(
+		0 => '--',
+		1 => 'Pices jointes'
+	),
+	array(
+		0 => 'Quelles pices jointes sont autorises sur ce forum ?',
+		1 => 'Chaque administrateur du forum peut autoriser ou interdire certains types de pices jointes. Si vous ntes pas certain de ce qui est autoris ou non, nhsitez pas  demander assistance  un administrateur du forum.'
+	),
+	array(
+		0 => 'Comment puis-je retrouver toutes mes pices jointes ?',
+		1 => 'Pour retrouver la liste des pices jointes que vous avez transfres, rendez-vous sur le panneau de contrle de lutilisateur et suivez les liens vers la section des pices jointes.'
+	),
+	array(
+		0 => '--',
+		1 => ' propos de phpBB3'
+	),
+	array(
+		0 => 'Qui a dvelopp ce logiciel de forum ?',
+		1 => 'Ce programme (dans sa forme non modifie) est produit et distribu par le <a href="http://www.phpbb.com/">phpBB Group</a>, qui en est le lgitime propritaire. Il est rendu accessible sous la Licence Publique Gnrale GNU et peut tre distribu gratuitement. Pour plus dinformations, veuillez cliquer sur le lien.'
+	),
+	array(
+		0 => 'Pourquoi la fonctionnalit X nest pas disponible ?',
+		1 => 'Ce programme a t dvelopp et mis sous licence par le phpBB Group. Si vous pensez quune fonctionnalit ncessite dtre ajoute, veuillez vous rendre sur le site internet de phpBB.com, proposez-la au phpBB Group et attendez leurs avis. Merci de ne pas envoyer directement de requtes dajout de fonctionnalits sur le forum de phpBB.com, le phpBB Group utilise SourceForge afin de grer ce type de requtes. Veuillez consulter les forums afin de connaitre notre position, si nous en avons une, par rapport  cette fonctionnalit, et suivre la procdure spcifie l-bas.'
+	),
+	array(
+		0 => 'Qui dois-je contacter  propos de problmes dabus ou dordres lgaux lis  ce forum ?',
+		1 => 'Tous les administrateurs lists sur la page  Lquipe  devraient tre un contact appropri pour ces genres de problmes. Si vous nobtenez aucune rponse de leur part, vous devriez alors contacter le propritaire du domaine (faites une <a href="http://www.google.com/search?q=whois">requte WHOIS</a>) ou, si celui-ci fonctionne sur un service gratuit (comme Yahoo!, Free.fr, f2s.com, etc.), le service de gestion des abus. Veuillez notez que le phpBB Group na <strong>absolument aucune juridiction</strong> et ne peut en aucun cas tre tenu comme responsable de comment, o et par qui ce forum est utilis. Ne contactez pas le phpBB Group pour tout problme dordre lgal (commentaire incessant, insultant, diffamatoire, etc.) qui nont <strong>pas directement de relation</strong> avec le site internet de phpBB.com ou le script phpBB en lui-mme. Si vous envoyez un courriel au phpBB Group <strong> propos dune utilisation de tierce partie</strong> de ce logiciel, attendez-vous  une rponse laconique, ou  aucune rponse, tout simplement.'
+	)
+);
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/index.htm phpBB3/language/fr/index.htm
--- phpBB3-init/language/fr/index.htm	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/index.htm	2011-08-23 19:32:52.000000000 +0200
@@ -0,0 +1,10 @@
+<html>
+<head>
+<title></title>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
+</head>
+
+<body bgcolor="#FFFFFF" text="#000000">
+
+</body>
+</html>
diff -rNU5 phpBB3-init/language/fr/install.php phpBB3/language/fr/install.php
--- phpBB3-init/language/fr/install.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/install.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,630 @@
+<?php
+/**
+*
+* install [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ADMIN_CONFIG'				=> 'Configuration de ladministrateur',
+	'ADMIN_PASSWORD'			=> 'Mot de passe de ladministrateur ',
+	'ADMIN_PASSWORD_CONFIRM'	=> 'Confirmer le mot de passe de ladministrateur ',
+	'ADMIN_PASSWORD_EXPLAIN'	=> 'Veuillez saisir un mot de passe compris entre 6 et 30 caractres de long.',
+	'ADMIN_TEST'				=> 'Vrification des rglages de ladministrateur ',
+	'ADMIN_USERNAME'			=> 'Nom dutilisateur de ladministrateur ',
+	'ADMIN_USERNAME_EXPLAIN'	=> 'Veuillez saisir un nom dutilisateur compris entre 3 et 20 caractres de long.',
+	'APP_MAGICK'				=> 'Support dImagemagick [ Pices jointes ]',
+	'AUTHOR_NOTES'				=> 'Notes de lauteur<br /> %s',
+	'AVAILABLE'					=> 'Disponible',
+	'AVAILABLE_CONVERTORS'		=> 'Convertisseurs disponibles',
+
+	'BEGIN_CONVERT'					=> 'Dmarrer la conversion',
+	'BLANK_PREFIX_FOUND'			=> 'Une vrification de vos tables a dtect la prsence dune installation valide nutilisant pas de prfixe de table.',
+	'BOARD_NOT_INSTALLED'			=> 'Aucune installation trouve',
+	'BOARD_NOT_INSTALLED_EXPLAIN'	=> 'Une installation de phpBB par dfaut est obligatoire afin que loutil de conversion puisse fonctionner. Veuillez <a href="%s">procder  la premire installation de phpBB3</a>.',
+
+	'CATEGORY'					=> 'Catgorie',
+	'CACHE_STORE'				=> 'Type de cache',
+	'CACHE_STORE_EXPLAIN'		=> 'Lemplacement physique o les donnes sont mises en cache. Il est prfrable de slectionner le systme par fichiers.',
+	'CAT_CONVERT'				=> 'Convertir',
+	'CAT_INSTALL'				=> 'Installer',
+	'CAT_OVERVIEW'				=> 'Prvisualiser',
+	'CAT_UPDATE'				=> 'Mettre  jour',
+	'CHANGE'					=> 'Modifier',
+	'CHECK_TABLE_PREFIX'		=> 'Veuillez vrifier votre prfixe de table, puis ressayer.',
+	'CLEAN_VERIFY'				=> 'Nettoyage et vrification de la structure finale',
+	'CLEANING_USERNAMES'		=> 'Nettoyage des noms dutilisateurs',
+	'COLLIDING_CLEAN_USERNAME'	=> '<strong>%s</strong> est le nom dutilisateur nettoy pour :',
+	'COLLIDING_USERNAMES_FOUND'	=> 'Des noms dutilisateurs similaires ont t trouvs sur votre ancien forum. Pour accomplir correctement la conversion, vous devez supprimer ou renommer ces utilisateurs de sorte que chaque nom dutilisateur soit unique.',
+	'COLLIDING_USER'			=> ' ID de lutilisateur : <strong>%d</strong> nom dutilisateur : <strong>%s</strong> (%d messages)',
+	'CONFIG_CONVERT'			=> 'Conversion de la configuration',
+	'CONFIG_FILE_UNABLE_WRITE'	=> 'Il na pas t possible dcrire le fichier de configuration. Des mthodes alternatives concernant ce fichier sont affiches ci-dessous.',
+	'CONFIG_FILE_WRITTEN'		=> 'Le fichier de configuration a t crit avec succs. Vous pouvez  prsent continuer vers la prochaine tape de linstallation.',
+	'CONFIG_PHPBB_EMPTY'		=> 'La variable de configuration de phpBB3 concernant  %s  est vide.',
+	'CONFIG_RETRY'				=> 'Ressayer',
+	'CONTACT_EMAIL_CONFIRM'		=> 'Confirmer ladresse de courrier lectronique de contact ',
+	'CONTINUE_CONVERT'			=> 'Continuer la conversion',
+	'CONTINUE_CONVERT_BODY'		=> 'Une tentative de conversion antrieure a t dtecte. Vous pouvez  prsent commencer une nouvelle conversion ou continuer celle en cours.',
+	'CONTINUE_LAST'				=> 'Continuer les dernires instructions',
+	'CONTINUE_OLD_CONVERSION'	=> 'Continuer la conversion antrieure',
+	'CONVERT'					=> 'Convertir',
+	'CONVERT_COMPLETE'			=> 'Conversion termine',
+	'CONVERT_COMPLETE_EXPLAIN'	=> 'Vous avez converti votre forum vers phpBB 3.0 avec succs. Vous pouvez  prsent vous connecter et <a href="../">accder  votre forum</a>. Veuillez vous assurer que les rglages ont t correctement transfrs avant dactiver votre forum en supprimant le rpertoire dinstallation. Noubliez pas que de laide en ligne concernant lutilisation de phpBB est disponible par lintermdiaire de la <a href="http://www.phpbb.com/support/documentation/3.0/">documentation</a>, des <a href="http://www.phpbb.com/community/viewforum.php?f=46">forums de support officiels</a> ou encore du <a href="http://forum.phpbb.fr/">forum de support francophone</a>.',
+	'CONVERT_INTRO'				=> 'Bienvenue sur loutil de conversion de phpBB',
+	'CONVERT_INTRO_BODY'		=> 'Vous pouvez importer ici des donnes venant dautres systmes de forums installs. La liste ci-dessous affiche tous les modules de conversion actuellement disponibles. Si aucun convertisseur nest affich dans cette liste correspondant au logiciel de forum que vous souhaitez convertir, veuillez vrifier sa prsence sur notre site internet o des modules de conversion seront prochainement tlchargeables.',
+	'CONVERT_NEW_CONVERSION'	=> 'Nouvelle conversion',
+	'CONVERT_NOT_EXIST'			=> 'Le convertisseur que vous avez spcifi nexiste pas.',
+	'CONVERT_OPTIONS'			=> 'Options',
+	'CONVERT_SETTINGS_VERIFIED'	=> 'Les informations que vous avez saisies ont t vrifies. Veuillez cliquer sur le bouton ci-dessous afin de commencer le processus de conversion.',
+	'CONV_ERR_FATAL'			=> 'Erreur fatale de conversion',
+
+	'CONV_ERROR_ATTACH_FTP_DIR'			=> 'Le transfert des pices jointes par FTP est activ sur votre ancien forum. Veuillez dsactiver cette option et vous assurer quun rpertoire de tlchargement soit correctement spcifi, puis copiez toutes les pices jointes vers ce nouveau rpertoire qui doit tre accessible depuis internet. Aprs avoir ralis ceci, redmarrez le convertisseur.',
+	'CONV_ERROR_CONFIG_EMPTY'			=> 'Aucune information de configuration nest disponible concernant la conversion.',
+	'CONV_ERROR_FORUM_ACCESS'			=> 'Impossible dobtenir les informations daccs au forum.',
+	'CONV_ERROR_GET_CATEGORIES'			=> 'Impossible dobtenir les catgories.',
+	'CONV_ERROR_GET_CONFIG'				=> 'Impossible de rcuprer la configuration de votre forum.',
+	'CONV_ERROR_COULD_NOT_READ'			=> 'Impossible daccder et de consulter  %s .',
+	'CONV_ERROR_GROUP_ACCESS'			=> 'Impossible dobtenir les informations dauthentification du groupe.',
+	'CONV_ERROR_INCONSISTENT_GROUPS'	=> 'Une contradiction a t dtecte dans la table des groupes add_bots(). Si vous souhaitez la corriger manuellement, noubliez pas dajouter tous les groupes spciaux.',
+	'CONV_ERROR_INSERT_BOT'				=> 'Impossible dinsrer le robot dans la table des utilisateurs.',
+	'CONV_ERROR_INSERT_BOTGROUP'		=> 'Impossible dinsrer le robot dans la table des robots.',
+	'CONV_ERROR_INSERT_USER_GROUP'		=> 'Impossible dinsrer lutilisateur dans la table user_group.',
+	'CONV_ERROR_MESSAGE_PARSER'			=> 'Une erreur est survenue lors de lanalyse du message',
+	'CONV_ERROR_NO_AVATAR_PATH'			=> 'Note aux dveloppeurs : vous devez spcifier $convertor[\'avatar_path\'] afin dutiliser %s.',
+	'CONV_ERROR_NO_FORUM_PATH'			=> 'Le chemin relatif vers le forum source na pas t spcifi.',
+	'CONV_ERROR_NO_GALLERY_PATH'		=> 'Note aux dveloppeurs : vous devez spcifier $convertor[\'avatar_gallery_path\'] afin dutiliser %s.',
+	'CONV_ERROR_NO_GROUP'				=> 'Le groupe  %1$s  est introuvable dans %2$s.',
+	'CONV_ERROR_NO_RANKS_PATH'			=> 'Note aux dveloppeurs : vous devez spcifier $convertor[\'ranks_path\'] afin dutiliser %s.',
+	'CONV_ERROR_NO_SMILIES_PATH'		=> 'Note aux dveloppeurs : vous devez spcifier $convertor[\'smilies_path\'] afin dutiliser %s.',
+	'CONV_ERROR_NO_UPLOAD_DIR'			=> 'Note aux dveloppeurs : vous devez spcifier $convertor[\'upload_path\'] afin dutiliser %s.',
+	'CONV_ERROR_PERM_SETTING'			=> 'Impossible dinsrer ou de mettre  jour le rglage de la permission.',
+	'CONV_ERROR_PM_COUNT'				=> 'Impossible de slectionner le compteur de dossiers des messages privs.',
+	'CONV_ERROR_REPLACE_CATEGORY'		=> 'Impossible dinsrer le nouveau forum  la place de lancienne catgorie.',
+	'CONV_ERROR_REPLACE_FORUM'			=> 'Impossible dinsrer le nouveau forum  la place de lancien forum.',
+	'CONV_ERROR_USER_ACCESS'			=> 'Impossible dobtenir les informations dauthentification sur lutilisateur.',
+	'CONV_ERROR_WRONG_GROUP'			=> 'Le groupe  %1$s  dfini dans %2$s est incorrect.',
+	'CONV_OPTIONS_BODY'					=> 'Cette page collecte les informations ncessaires  laccs au forum source. Saisissez les informations sur la base de donnes de votre ancien forum ; le convertisseur ne modifiera rien dans la base de donnes que vous avez spcifie ci-dessous. Il est recommand de dsactiver le forum source afin de garantir le bon fonctionnement de la conversion.',
+	'CONV_SAVED_MESSAGES'				=> 'Messages sauvegards',
+
+	'COULD_NOT_COPY'			=> 'Impossible de copier le fichier <strong>%1$s</strong> vers <strong>%2$s</strong><br /><br />Veuillez vous assurer que le rpertoire cible existe et quil puisse tre crit par le serveur internet.',
+	'COULD_NOT_FIND_PATH'		=> 'Le chemin vers votre ancien forum est introuvable. Veuillez vrifier vos rglages, puis ressayer.<br /> %s tait spcifi comme le chemin source.',
+
+	'DBMS'						=> 'Type de base de donnes ',
+	'DB_CONFIG'					=> 'Configuration de la base de donnes',
+	'DB_CONNECTION'				=> 'Connexion  la base de donnes',
+	'DB_ERR_INSERT'				=> 'Une erreur est survenue lors de lexcution de la requte <code>INSERT</code>.',
+	'DB_ERR_LAST'				=> 'Une erreur est survenue lors de lexcution de <var>query_last</var>.',
+	'DB_ERR_QUERY_FIRST'		=> 'Une erreur est survenue lors de lexcution de <var>query_first</var>.',
+	'DB_ERR_QUERY_FIRST_TABLE'	=> 'Une erreur est survenue lors de lexcution de <var>query_first</var>, %s ( %s ).',
+	'DB_ERR_SELECT'				=> 'Une erreur est survenue lors de lexcution de la requte <code>SELECT</code>.',
+	'DB_HOST'					=> 'Nom dhte du serveur de la base de donnes ou DSN ',
+	'DB_HOST_EXPLAIN'			=> 'Le DSN nest appropri que pour les installations de type ODBC. Sur PostgreSQL, utilisez localhost afin de vous connecter sur le serveur local par lintermdiaire du connecteur du domaine UNIX, et utilisez 127.0.0.1 afin de vous connecter par lintermdiaire du TCP. Sur SQLite, saisissez le chemin complet vers votre fichier de base de donnes.',
+	'DB_NAME'					=> 'Nom de la base de donnes ',
+	'DB_PASSWORD'				=> 'Mot de passe de la base de donnes ',
+	'DB_PORT'					=> 'Port du serveur de la base de donnes ',
+	'DB_PORT_EXPLAIN'			=> 'Laissez ceci vide except lutilisation dun port diffrent par le serveur.',
+	'DB_UPDATE_NOT_SUPPORTED'	=> 'Ce script ne prend pas en charge la mise  jour des versions antrieures  la  %1$s . La version actuellement installe est la  %2$s . Veuillez mettre  jour phpBB vers une version antrieure avant dexcuter ce script. Si vous rencontrez des difficults, nhsitez pas  demander de laide sur les forums de support de phpBB.com ou de phpBB.fr.',
+	'DB_USERNAME'				=> 'Nom de lutilisateur de la base de donnes ',
+	'DB_TEST'					=> 'Test de connexion ',
+	'DEFAULT_LANG'				=> 'Langue du forum par dfaut ',
+	'DEFAULT_PREFIX_IS'			=> 'Le convertisseur na pu trouver aucune table contenant le prfixe que vous avez spcifi. Veuillez vous assurer davoir correctement saisi toutes les informations relatives au forum que vous souhaitez convertir. Le prfixe de table par dfaut concernant %1$s est <strong>%2$s</strong>.',
+	'DEV_NO_TEST_FILE'			=> 'Aucune valeur na t spcifie dans le convertisseur concernant la variable test_file. Si vous tes un utilisateur de ce convertisseur, veuillez rapporter ce message  lauteur du convertisseur car vous ne devriez pas avoir cette erreur. Si vous tes lauteur du convertisseur, vous devez saisir le nom du fichier qui existe dans le forum source afin de permettre le bon fonctionnement de la vrification du chemin.',
+	'DIRECTORIES_AND_FILES'		=> 'Installation des rpertoires et des fichiers',
+	'DISABLE_KEYS'				=> 'Dsactivation des cls',
+	'DLL_FIREBIRD'				=> 'Firebird ',
+	'DLL_FTP'					=> 'Support FTP  distance [ Installation ] ',
+	'DLL_GD'					=> 'Support graphique GD [ Confirmation visuelle ] ',
+	'DLL_MBSTRING'				=> 'Support des caractres multi-octets ',
+	'DLL_MSSQL'					=> 'MSSQL Server 2000+ ',
+	'DLL_MSSQL_ODBC'			=> 'MSSQL Server 2000+ via ODBC ',
+	'DLL_MSSQLNATIVE'			=> 'MSSQL Server 2005+ [ Natif ] ',
+	'DLL_MYSQL'					=> 'MySQL ',
+	'DLL_MYSQLI'				=> 'MySQL avec lextension MySQLi ',
+	'DLL_ORACLE'				=> 'Oracle ',
+	'DLL_POSTGRES'				=> 'PostgreSQL 7.x/8.x ',
+	'DLL_SQLITE'				=> 'SQLite ',
+	'DLL_XML'					=> 'Support XML [ Jabber ] ',
+	'DLL_ZLIB'					=> 'Support de la compression zlib [ gz, .tar.gz, .zip ] ',
+	'DL_CONFIG'					=> 'Tlcharger la configuration',
+	'DL_CONFIG_EXPLAIN'			=> 'Vous pouvez directement tlcharger le fichier config.php sur votre ordinateur. Vous devrez ensuite le transfrer manuellement  la racine de votre rpertoire phpBB 3.0 en crasant le fichier dj existant. Noubliez pas de transfrer le fichier dans le format ASCII (consultez la documentation de votre application FTP si vous avez un doute sur la ralisation de cette opration). Une fois que le fichier de configuration a bien t transfr, veuillez cliquer sur  Ralis  afin de continuer vers la prochaine tape.',
+	'DL_DOWNLOAD'				=> 'Tlcharger',
+	'DONE'						=> 'Ralis',
+
+	'ENABLE_KEYS'				=> 'Ractivation des cls. Cette opration peut prendre un certain temps.',
+
+	'FILES_OPTIONAL'			=> 'Fichiers et rpertoires facultatifs',
+	'FILES_OPTIONAL_EXPLAIN'	=> '<strong>Facultatif</strong> - Ces fichiers, ces rpertoires ou ces rglages de permissions ne sont pas obligatoires. Le systme dinstallation essaiera de les crer sils nexistent pas ou sils ne peuvent pas tre crits. Cependant, la prsence de ces derniers acclrera linstallation.',
+	'FILES_REQUIRED'			=> 'Fichiers et rpertoires',
+	'FILES_REQUIRED_EXPLAIN'	=> '<strong>Obligatoire</strong> - Pour fonctionner correctement, phpBB doit pouvoir accder ou crire sur certains fichiers et certains rpertoires. Si  Introuvable  est affich, vous devrez crer le fichier ou le rpertoire appropri. Si  criture impossible  est affich, vous devrez modifier les permissions du fichier ou du rpertoire afin que phpBB puisse y crire.',
+	'FILLING_TABLE'				=> 'Remplissage de la table <strong>%s</strong>',
+	'FILLING_TABLES'			=> 'Remplissage des tables',
+
+	'FIREBIRD_DBMS_UPDATE_REQUIRED'		=> 'phpBB ne prend plus en charge les versions de Firebird/Interbase antrieures  la version 2.1. Veuillez mettre  jour votre installation de Firebird vers une version gale ou suprieure  la 2.1.0 avant de procder  la mise  jour.',
+
+	'FINAL_STEP'				=> 'Procder  ltape finale',
+	'FORUM_ADDRESS'				=> 'Adresse du forum',
+	'FORUM_ADDRESS_EXPLAIN'		=> 'Ceci est lancienne adresse de votre forum, telle que <samp>http://www.example.com/phpBB2/</samp>. Si vous remplissez ce champ, tous les liens pointant vers lancienne adresse de votre forum insrs dans vos messages, vos messages privs et vos signatures seront mis  jour avec la nouvelle adresse de votre forum.',
+	'FORUM_PATH'				=> 'Chemin du forum',
+	'FORUM_PATH_EXPLAIN'		=> 'Ceci est le chemin <strong>relatif</strong> sur le disque du serveur vers votre ancien forum depuis la <strong>racine de cette installation de phpBB3</strong>.',
+	'FOUND'						=> 'Trouv',
+	'FTP_CONFIG'				=> 'Transfrer la configuration par FTP',
+	'FTP_CONFIG_EXPLAIN'		=> 'phpBB a dtect la prsence du module FTP sur ce serveur. Si vous le souhaitez, vous pouvez essayer dinstaller votre fichier config.php par lintermdiaire de ce module. Vous devrez spcifier les informations listes ci-dessous. Noubliez pas que votre nom dutilisateur et votre mot de passe sont ceux de votre serveur (demandez-les  votre hbergeur si vous ntes pas certain de les avoir  disposition) !',
+	'FTP_PATH'					=> 'Chemin FTP',
+	'FTP_PATH_EXPLAIN'			=> 'Ceci est le chemin depuis la racine de votre rpertoire phpBB, tel que <samp>htdocs/phpBB3/</samp>.',
+	'FTP_UPLOAD'				=> 'Transfrer',
+
+	'GPL'						=> 'Licence Publique Gnrale',
+
+	'INITIAL_CONFIG'			=> 'Configuration basique',
+	'INITIAL_CONFIG_EXPLAIN'	=> 'Maintenant que linstallation a dtermin que votre serveur peut correctement faire fonctionner phpBB, vous devez spcifier certaines informations spcifiques. Si vous ne savez pas comment vous connecter  votre base de donnes, contactez en premier lieu votre hbergeur ou utilisez les forums de support de phpBB. Lorsque vous saisissez des donnes, assurez-vous de les vrifier intgralement avant de continuer.',
+	'INSTALL_CONGRATS'			=> 'Flicitations !',
+	'INSTALL_CONGRATS_EXPLAIN'	=> '
+		Vous avez install phpBB %1$s avec succs. Veuillez continuer en slectionnant une des options suivantes :</p>
+		<h2>Convertir un forum existant vers phpBB3</h2>
+		<p>Loutil de conversion de phpBB permet de convertir phpBB 2.0.x, ou dautres systmes de forums, vers phpBB3. Si vous avez  disposition un forum existant et que vous souhaitez le convertir, veuillez <a href="%2$s">continuer en slectionnant un convertisseur</a>.</p>
+		<h2>Utiliser votre forum en ligne !</h2>
+		<p>En cliquant sur le bouton ci-dessous, vous accderez  un formulaire vous proposant denvoyer des donnes statistiques  phpBB depuis votre panneau de contrle dadministration (PCA). Nous vous serions reconnaissants de prendre le temps de nous aider en envoyant ces informations. Par la suite, vous pourrez prendre le temps de consulter toutes les options qui vous sont disponibles. Noubliez pas que de laide en ligne est disponible par lintermdiaire de la <a href="http://www.phpbb.com/support/documentation/3.0/">documentation</a>, du fichier <a href="%3$s">README</a>, des <a href="http://www.phpbb.com/community/viewforum.php?f=46">forums de support officiels</a> et du <a href="http://forum.phpbb.fr/">forum de support francophone</a>.</p><p><strong>Veuillez supprimer, dplacer ou renommer le rpertoire dinstallation avant dutiliser votre forum. Tant que ce rpertoire est prsent, vous naurez accs quau panneau de contrle dadministration (PCA).</strong>',
+	'INSTALL_INTRO'				=> 'Bienvenue  linstallation',
+
+	'INSTALL_INTRO_BODY'		=> 'Grce  cette option, il est possible dinstaller phpBB3 sur votre serveur.</p><p>Avant de continuer, vous allez avoir besoin de vous munir des rglages de votre base de donnes. Si vous ne les connaissez pas, veuillez les demander  votre hbergeur car vous ne pourrez pas continuer sans ces informations. Vous avez besoin du :</p>
+
+	<ul>
+		<li>Type de base de donnes - la base de donnes que vous allez utiliser.</li>
+		<li>Nom dhte du serveur de la base de donnes ou DSN - ladresse du serveur de la base de donnes.</li>
+		<li>Port du serveur de la base de donnes - comme son nom lindique (dans la plupart des cas, il nest pas obligatoire).</li>
+		<li>Nom de la base de donnes - le nom de la base de donnes sur le serveur.</li>
+		<li>Nom dutilisateur et mot de passe de la base de donnes - les informations de connexion afin daccder  la base de donnes.</li>
+	</ul>
+
+	<p><strong>Note :</strong> si vous procdez  une installation en utilisant SQLite, vous devrez saisir le chemin complet de votre fichier de base de donnes dans le champ DSN et laisser les champs du nom dutilisateur et du mot de passe vides. Pour des raisons de scurit, vous devriez vous assurer que le fichier de base de donnes ne soit pas stock dans un endroit accessible en ligne.</p>
+
+	<p>phpBB3 supporte les bases de donnes suivantes :</p>
+	<ul>
+		<li>MySQL 3.23 ou suprieur (MySQLi support)</li>
+		<li>PostgreSQL 7.3+</li>
+		<li>SQLite 2.8.2+</li>
+		<li>Firebird 2.1+</li>
+		<li>MS SQL Server 2000 ou suprieur (directement ou via ODBC)</li>
+		<li>MS SQL Server 2005 ou suprieur (en natif)</li>
+		<li>Oracle</li>
+	</ul>
+
+	<p>Seules les bases de donnes qui sont supportes sur votre serveur seront affiches.',
+	'INSTALL_INTRO_NEXT'		=> 'Pour commencer linstallation, veuillez cliquer sur le bouton ci-dessous.',
+	'INSTALL_LOGIN'				=> 'Connexion',
+	'INSTALL_NEXT'				=> 'tape suivante',
+	'INSTALL_NEXT_FAIL'			=> 'Certains des tests ont chous et vous devriez corriger ces problmes avant de continuer vers ltape suivante. Si vous ne le faites pas, votre installation pourrait savrer incomplte.',
+	'INSTALL_NEXT_PASS'			=> 'Tous les tests basiques ont t raliss avec succs et vous pouvez  prsent continuer vers ltape suivante de linstallation. Dans le cas o vous avez modifi certains modules ou certaines permissions, sachez que vous pouvez de nouveau tester votre installation.',
+	'INSTALL_PANEL'				=> 'Panneau dinstallation',
+	'INSTALL_SEND_CONFIG'		=> 'Malheureusement, les informations de configuration nont pas pu tre crites par phpBB dans votre fichier config.php. Il est possible que ce fichier nexiste pas ou quil ne soit pas inscriptible. Vous trouverez ci-dessous une liste doptions vous permettant daccomplir correctement linstallation de ce fichier.',
+	'INSTALL_START'				=> 'Commencer linstallation',
+	'INSTALL_TEST'				=> 'Tester de nouveau',
+	'INST_ERR'					=> 'Erreur dinstallation',
+	'INST_ERR_DB_CONNECT'		=> 'Impossible de se connecter  la base de donnes. Veuillez consulter le message derreur ci-dessous.',
+	'INST_ERR_DB_FORUM_PATH'	=> 'Le fichier de base de donnes que vous avez spcifi est situ dans le rpertoire racine de votre forum. Vous devriez dplacer ce fichier dans un environnement hors-ligne.',
+	'INST_ERR_DB_NO_ERROR'		=> 'Aucun message derreur.',
+	'INST_ERR_DB_NO_MYSQLI'		=> 'La version de MySQL qui est installe sur votre serveur est incompatible avec loption  MySQL avec lextension MySQLi  que vous avez slectionne. Veuillez plutt essayer de slectionner loption  MySQL .',
+	'INST_ERR_DB_NO_SQLITE'		=> 'La version de lextension SQLite qui est installe sur votre serveur est obsolte, elle doit tre mise  jour vers la version 2.8.2 ou suprieure.',
+	'INST_ERR_DB_NO_ORACLE'		=> 'La version dOracle qui est installe sur votre serveur ncessite le rglage du paramtre <var>NLS_CHARACTERSET</var> sur <var>UTF8</var>. Veuillez mettre  jour votre version vers la 9.2+ ou modifier ce paramtre.',
+	'INST_ERR_DB_NO_FIREBIRD'	=> 'La version de Firebird qui est installe sur votre serveur semble obsolte, elle doit tre mise  jour vers la version 2.1 ou suprieure.',
+	'INST_ERR_DB_NO_FIREBIRD_PS'=> 'La base de donnes que vous avez slectionne pour Firebird a une taille de pages infrieure  8192. Veuillez augmenter cette taille.',
+	'INST_ERR_DB_NO_POSTGRES'	=> 'La base de donnes que vous avez slectionne nest pas encode en <var>UNICODE</var> ou en <var>UTF8</var>. Veuillez slectionner une base de donnes supportant un de ces encodages.',
+	'INST_ERR_DB_NO_NAME'		=> 'Vous navez pas spcifi le nom de la base de donnes.',
+	'INST_ERR_EMAIL_INVALID'	=> 'Ladresse de courrier lectronique que vous avez saisie est incorrecte.',
+	'INST_ERR_EMAIL_MISMATCH'	=> 'Les adresses de courrier lectronique que vous avez saisies ne concordent pas.',
+	'INST_ERR_FATAL'			=> 'Erreur fatale dinstallation',
+	'INST_ERR_FATAL_DB'			=> 'Une erreur fatale et irrcuprable est survenue dans la base de donnes. Il est possible que lutilisateur spcifi ne dtienne pas les permissions appropries afin dexcuter les requtes <code>CREATE TABLES</code>, <code>INSERT</code>, etc. Veuillez contacter en premier lieu votre hbergeur ou demander de laide sur les forums de support.',
+	'INST_ERR_FTP_PATH'			=> 'Impossible de modifier le rpertoire que vous avez spcifi. Veuillez vrifier le chemin.',
+	'INST_ERR_FTP_LOGIN'		=> 'Impossible de se connecter au serveur FTP. Veuillez vrifier votre nom dutilisateur et votre mot de passe.',
+	'INST_ERR_MISSING_DATA'		=> 'Vous devez remplir tous les champs de ce bloc.',
+	'INST_ERR_NO_DB'			=> 'Impossible de charger le module PHP concernant le type de base de donnes que vous avez slectionn.',
+	'INST_ERR_PASSWORD_MISMATCH'	=> 'Les mots de passe que vous avez saisis ne concordent pas.',
+	'INST_ERR_PASSWORD_TOO_LONG'	=> 'Le mot de passe que vous avez saisi est trop long. La longueur maximale est de 30 caractres.',
+	'INST_ERR_PASSWORD_TOO_SHORT'	=> 'Le mot de passe que vous avez saisi est trop court. La longueur minimale est de 6 caractres.',
+	'INST_ERR_PREFIX'			=> 'Le prfixe que vous avez spcifi est dj utilis dans ces tables. Veuillez en choisir un autre.',
+	'INST_ERR_PREFIX_INVALID'	=> 'Le prfixe que vous avez saisi concernant votre base de donnes est incorrect. Veuillez en choisir un autre en supprimant les caractres spciaux comme le tiret.',
+	'INST_ERR_PREFIX_TOO_LONG'	=> 'Le prfixe de table que vous avez saisi est trop long. La longueur maximale est de %d caractres.',
+	'INST_ERR_USER_TOO_LONG'	=> 'Le nom dutilisateur que vous avez saisi est trop long. La longueur maximale est de 20 caractres.',
+	'INST_ERR_USER_TOO_SHORT'	=> 'Le nom dutilisateur que vous avez saisi est trop court. La longueur minimale est de 3 caractres.',
+	'INVALID_PRIMARY_KEY'		=> 'Cl primaire invalide : %s',
+
+	'LONG_SCRIPT_EXECUTION'		=> 'Ceci peut prendre un certain temps Veuillez ne pas interrompre le script.',
+
+	// mbstring
+	'MBSTRING_CHECK'						=> 'Vrification de lextension <samp>mbstring</samp>',
+	'MBSTRING_CHECK_EXPLAIN'				=> '<strong>Obligatoire</strong> - <samp>mbstring</samp> est une extension PHP qui fournit des fonctions permettant lencodage de caractres multi-octets. Certaines fonctionnalits de mbstring ne sont pas compatibles avec phpBB et doivent donc tre dsactives.',
+	'MBSTRING_FUNC_OVERLOAD'				=> 'Fonction de surcharge ',
+	'MBSTRING_FUNC_OVERLOAD_EXPLAIN'		=> '<var>mbstring.func_overload</var> doit tre rgl sur 0 ou sur 4.',
+	'MBSTRING_ENCODING_TRANSLATION'			=> 'Encodage des caractres invisibles ',
+	'MBSTRING_ENCODING_TRANSLATION_EXPLAIN'	=> '<var>mbstring.encoding_translation</var> doit tre rgl sur 0.',
+	'MBSTRING_HTTP_INPUT'					=> 'Conversion des caractres dentre HTTP ',
+	'MBSTRING_HTTP_INPUT_EXPLAIN'			=> '<var>mbstring.http_input</var> doit tre rgl sur <samp>pass</samp>.',
+	'MBSTRING_HTTP_OUTPUT'					=> 'Conversion des caractres de sortie HTTP ',
+	'MBSTRING_HTTP_OUTPUT_EXPLAIN'			=> '<var>mbstring.http_output</var> doit tre rgl sur <samp>pass</samp>.',
+
+	'MAKE_FOLDER_WRITABLE'		=> 'Veuillez vous assurer que ce rpertoire existe et quil puisse tre crit par le serveur internet, puis ressayez :<br /><strong>%s</strong>.',
+	'MAKE_FOLDERS_WRITABLE'		=> 'Veuillez vous assurer que ces rpertoires existent et quils puissent tre crits par le serveur internet, puis ressayez :<br /><strong>%s</strong>.',
+
+	'MYSQL_SCHEMA_UPDATE_REQUIRED'	=> 'Le schma de votre base de donnes MySQL est obsolte. phpBB a dtect un schma pour MySQL 3.x/4.x, mais le serveur fonctionne avec MySQL %2$s.<br /><strong>Vous devez mettre  jour le schma avant de procder  la mise  jour.</strong><br /><br />Veuillez consulter l<a href="http://www.phpbb.com/kb/article/doesnt-have-a-default-value-errors/">article de la base de connaissances  propos de la mise  jour du schma MySQL</a>. Si vous prouvez des difficults, veuillez demander de laide sur <a href="http://www.phpbb.com/community/viewforum.php?f=46">les forums de support officiels</a> ou sur <a href="http://forum.phpbb.fr/">le forum de support francophone</a>.',
+
+	'NAMING_CONFLICT'			=> 'Conflit dappellation : %s et %s sont tous les deux des alias<br /><br />%s',
+	'NEXT_STEP'					=> 'Aller  ltape suivante',
+	'NOT_FOUND'					=> 'Introuvable',
+	'NOT_UNDERSTAND'			=> 'Impossible dinterprter %s #%d, table %s ( %s )',
+	'NO_CONVERTORS'				=> 'Aucun convertisseur nest disponible.',
+	'NO_CONVERT_SPECIFIED'		=> 'Aucun convertisseur na t spcifi.',
+	'NO_LOCATION'				=> 'Emplacement introuvable. Si Imagemagick est install, vous pourrez spcifier ultrieurement son emplacement depuis le panneau de contrle dadministration.',
+	'NO_TABLES_FOUND'			=> 'Aucune table na t trouve.',
+
+	'OVERVIEW_BODY'				=> 'Bienvenue sur phpBB3 !<br /><br />phpBB est la solution de logiciel de forums libre et gratuite la plus utilise dans le monde. phpBB3 est le fruit dun long travail qui a dbut en lan 2000. Tout comme ses prdcesseurs, phpBB3 est riche en fonctionnalits, facile daccs et entirement support par le phpBB Group. phpBB3 amliore considrablement ce qui a rendu phpBB2 populaire et ajoute des fonctionnalits populaires qui ntaient pas prsentes dans les prcdentes versions. Nous esprons avoir rpondu convenablement  vos attentes.<br /><br />Ce systme dinstallation vous guidera dans linstallation de phpBB3, dans la mise  jour des versions obsoltes vers la dernire version et bien videmment dans la conversion de divers logiciels de forums (dont phpBB2) vers phpBB3. Pour plus dinformations, nous vous encourageons  consulter <a href="../docs/INSTALL.html">le guide dinstallation</a>.<br /><br />Pour consulter la licence de phpBB3 ou en savoir plus sur lobtention de support ainsi que notre position envers cela, veuillez slectionner les options appropries situes sur le menu latral. Pour continuer, veuillez slectionner longlet appropri situ ci-dessus.',
+
+	'PCRE_UTF_SUPPORT'				=> 'Support UTF-8 PCRE ',
+	'PCRE_UTF_SUPPORT_EXPLAIN'		=> 'phpBB ne fonctionnera <strong>pas</strong> si votre installation PHP nest pas compile avec le support de lUTF-8 dans lextension PCRE.',
+	'PHP_GETIMAGESIZE_SUPPORT'			=> 'La fonction PHP getimagesize() est disponible ',
+	'PHP_GETIMAGESIZE_SUPPORT_EXPLAIN'	=> '<strong>Obligatoire</strong> - pour que phpBB puisse fonctionner correctement, la fonction getimagesize doit tre disponible.',
+	'PHP_OPTIONAL_MODULE'			=> 'Modules facultatifs',
+	'PHP_OPTIONAL_MODULE_EXPLAIN'	=> '<strong>Facultatif</strong> - ces modules ou applications sont facultatifs. Cependant, ils permettront dactiver des fonctionnalits supplmentaires sils sont disponibles.',
+	'PHP_SUPPORTED_DB'				=> 'Bases de donnes supportes',
+	'PHP_SUPPORTED_DB_EXPLAIN'		=> '<strong>Obligatoire</strong> - vous devez supporter au moins une base de donnes compatible avec PHP. Si aucun module de base de donnes nest disponible, vous devriez vous renseigner en contactant votre hbergeur ou en consultant la documentation approprie sur votre installation PHP.',
+	'PHP_REGISTER_GLOBALS'			=> 'Le rglage PHP <var>register_globals</var> est dsactiv ',
+	'PHP_REGISTER_GLOBALS_EXPLAIN'	=> 'phpBB fonctionnera mme si ce rglage est activ mais il est recommand de dsactiver register_globals de votre installation PHP pour des raisons de scurit.',
+	'PHP_SAFE_MODE'					=> 'Mode scuris',
+	'PHP_SETTINGS'					=> 'Rglages et version de PHP',
+	'PHP_SETTINGS_EXPLAIN'			=> '<strong>Obligatoire</strong> - vous devez utiliser la version 4.3.3 ou suprieure de PHP afin de pouvoir installer phpBB. Si le <var>mode scuris</var> est affich ci-dessous, cela signifie que votre installation PHP fonctionne sous ce mode. Cela imposera des limitations  ladministration  distance et  des fonctionnalits similaires.',
+	'PHP_URL_FOPEN_SUPPORT'			=> 'Le rglage PHP <var>allow_url_fopen</var> est activ ',
+	'PHP_URL_FOPEN_SUPPORT_EXPLAIN'	=> '<strong>Facultatif</strong> - ce rglage est facultatif mais la fonctionnalit vous permettant dinsrer des avatars  partir de sites externes ne fonctionnera pas correctement sans celui-ci.',
+	'PHP_VERSION_REQD'				=> 'Version de PHP >= 4.3.3 ',
+	'POST_ID'						=> 'Identification du message',
+	'PREFIX_FOUND'					=> 'Une vrification de vos tables a dtect une installation valide utilisant <strong>%s</strong> comme prfixe de table.',
+	'PREPROCESS_STEP'				=> 'Excution des fonctions et des requtes de pr-traitement',
+	'PRE_CONVERT_COMPLETE'			=> 'Toutes les tapes de pr-conversion ont t acheves avec succs. Vous pouvez  prsent commencer la procdure de conversion actuelle. Veuillez noter que vous devez le faire manuellement et ajuster plusieurs choses. Aprs la conversion, vrifiez tout particulirement les permissions assignes, restructurez votre index de recherche sil nest pas converti et assurez-vous que les fichiers obtenus, comme les avatars et les moticnes, ont t copis correctement.',
+	'PROCESS_LAST'					=> 'Traitement des dernires tapes',
+
+	'REFRESH_PAGE'				=> 'Rafrachir la page afin de continuer la conversion',
+	'REFRESH_PAGE_EXPLAIN'		=> 'Si cette option est active, le convertisseur rafrachira la page afin de poursuivre la conversion aprs avoir termin une tape. Sil sagit de votre premire conversion et que vous souhaitez effectuer des tests afin de dtecter des erreurs  lavance, nous vous suggrons de dsactiver cette option.',
+	'REQUIREMENTS_TITLE'		=> 'Compatibilit de linstallation',
+	'REQUIREMENTS_EXPLAIN'		=> 'Avant de procder  une installation complte, un ensemble de vrifications de la configuration et des fichiers de votre serveur va tre effectu afin de sassurer que vous pouvez installer et utiliser correctement phpBB. Veuillez vous assurer de consulter attentivement les rsultats et de ne pas continuer tant que toutes les vrifications ncessaires ne soient pas termines. Si vous souhaitez utiliser des fonctionnalits lies  des vrifications facultatives, vous devez galement vous assurer que les vrifications en cours soient termines.',
+	'RETRY_WRITE'				=> 'Ressayer dcrire la configuration',
+	'RETRY_WRITE_EXPLAIN'		=> 'Si vous le souhaitez, vous pouvez modifier les permissions du fichier de configuration afin quil puisse tre crit par phpBB. Aprs cela, cliquez sur le bouton  Ressayer  ci-dessous. Pour des raisons de scurit, vous devriez rinitialiser les permissions du fichier de configuration une fois linstallation de phpBB termine.',
+
+	'SCRIPT_PATH'				=> 'Chemin du script ',
+	'SCRIPT_PATH_EXPLAIN'		=> 'Le chemin o phpBB est situ par rapport au nom de domaine, tel que <samp>/phpBB3</samp>.',
+	'SELECT_LANG'				=> 'Slectionner une langue ',
+	'SERVER_CONFIG'				=> 'Configuration du serveur',
+	'SEARCH_INDEX_UNCONVERTED'	=> 'Lindex de recherche na pas t converti',
+	'SEARCH_INDEX_UNCONVERTED_EXPLAIN'	=> 'Votre ancien index de recherche na pas t converti. La recherche retournera systmatiquement un rsultat vide. Pour crer un nouvel index de recherche, rendez-vous sur le panneau de contrle dadministration, cliquez sur  Maintenance , puis slectionnez lindex de recherche  partir du sous-menu.',
+	'SOFTWARE'					=> 'Logiciel de forum',
+	'SPECIFY_OPTIONS'			=> 'Spcifier les options de conversion',
+	'STAGE_ADMINISTRATOR'		=> 'Informations sur ladministrateur',
+	'STAGE_ADVANCED'			=> 'Rglages avancs',
+	'STAGE_ADVANCED_EXPLAIN'	=> 'Les rglages de cette page ne sont ncessaires que sils diffrent des rglages par dfaut. Si vous avez un doute, continuez vers ltape suivante sans modifier ces rglages. Vous pourrez toujours les modifier ultrieurement depuis le panneau de contrle dadministration.',
+	'STAGE_CONFIG_FILE'			=> 'Fichier de configuration',
+	'STAGE_CREATE_TABLE'		=> 'Crer les tables de la base de donnes',
+	'STAGE_CREATE_TABLE_EXPLAIN'	=> 'Les tables de la base de donnes utilises par phpBB 3.0 ont t cres et remplies avec quelques donnes initiales. Rendez-vous sur la page suivante afin de terminer linstallation de phpBB.',
+	'STAGE_DATABASE'			=> 'Rglages de la base de donnes',
+	'STAGE_FINAL'				=> 'tape finale',
+	'STAGE_INTRO'				=> 'Introduction',
+	'STAGE_IN_PROGRESS'			=> 'Conversion en cours',
+	'STAGE_REQUIREMENTS'		=> 'Prrequis',
+	'STAGE_SETTINGS'			=> 'Rglages',
+	'STARTING_CONVERT'			=> 'Dmarrage du processus de conversion',
+	'STEP_PERCENT_COMPLETED'	=> 'tape <strong>%d</strong> sur <strong>%d</strong>',
+	'SUB_INTRO'					=> 'Introduction',
+	'SUB_LICENSE'				=> 'Licence',
+	'SUB_SUPPORT'				=> 'Support',
+	'SUCCESSFUL_CONNECT'		=> 'Connect avec succs',
+	'SUPPORT_BODY'				=> 'Un support complet et gratuit vous est offert pour la dernire version stable de phpBB3. Cela comprend :</p><ul><li>linstallation</li><li>la configuration</li><li>les questions dordre technique</li><li>les problmes en relation avec des bogues potentiels dans le logiciel</li><li>la mise  jour dune des versions Release Candidate (RC) vers la dernire version stable</li><li>la conversion de phpBB 2.0.x vers phpBB3</li><li>la conversion dun des nombreux logiciels de forums de discussions vers phpBB3 (veuillez consulter le <a href="http://www.phpbb.com/community/viewforum.php?f=65">forum relatif aux convertisseurs</a>)</li></ul><p>Nous continuons  encourager les utilisateurs utilisant une des versions bta de phpBB3  remplacer celle-ci par une installation propre de la dernire version stable.</p><h2>MODs / Styles</h2><p>En ce qui concerne les problmes relatifs aux MODs, veuillez publier vos demandes de support dans le <a href="http://www.phpbb.com/community/viewforum.php?f=81">forum relatif aux modifications</a>.<br />En ce qui concerne les problmes relatifs aux styles, aux templates et aux ensembles dimages, veuillez publier vos demandes de support dans le <a href="http://www.phpbb.com/community/viewforum.php?f=80">forum relatif aux styles</a>.<br /><br />Si votre question est porte sur une archive spcifique, veuillez publier directement votre message dans le sujet ddi  cette archive.</p><h2>Obtention du support</h2><p><a href="http://www.phpbb.com/community/viewtopic.php?f=14&amp;t=571070">Larchive de bienvenue de phpBB</a><br /><a href="http://www.phpbb.com/support/">La section relative au support</a><br /><a href="http://www.phpbb.com/support/documentation/3.0/quickstart/">Le guide de dmarrage rapide</a><br /><br />Si vous souhaitez vous assurer dtre tenu au courant des dernires nouveauts et des dernires sorties de nos logiciels, pourquoi ne pas <a href="http://www.phpbb.com/support/">vous inscrire  notre liste de diffusion</a> ?<br /><br />',
+	'SYNC_FORUMS'				=> 'Dmarrage de la synchronisation des forums',
+	'SYNC_POST_COUNT'			=> 'Synchronisation de post_counts',
+	'SYNC_POST_COUNT_ID'		=> 'Synchronisation de post_counts  partir de <var>entry</var> : %1$s sur %2$s.',
+	'SYNC_TOPICS'				=> 'Dmarrage de la synchronisation des sujets',
+	'SYNC_TOPIC_ID'				=> 'Synchronisation des sujets  partir de <var>topic_id</var> : %1$s sur %2$s.',
+
+	'TABLES_MISSING'			=> 'Ces tables sont introuvables<br /> <strong>%s</strong>.',
+	'TABLE_PREFIX'				=> 'Prfixe des tables de la base de donnes ',
+	'TABLE_PREFIX_SAME'			=> 'Le prfixe des tables doit tre le mme que celui que vous avez utilis dans le logiciel que vous avez converti.<br /> Le prfixe des tables qui avait t spcifi tait %s.',
+	'TESTS_PASSED'				=> 'Tests passs avec succs',
+	'TESTS_FAILED'				=> 'Tests chous',
+
+	'UNABLE_WRITE_LOCK'			=> 'Impossible dcrire sur un fichier verrouill.',
+	'UNAVAILABLE'				=> 'Indisponible',
+	'UNWRITABLE'				=> 'criture impossible',
+	'UPDATE_TOPICS_POSTED'		=> 'Production de linformation concernant les sujets publis',
+	'UPDATE_TOPICS_POSTED_ERR'	=> 'Une erreur est survenue lors de la production de linformation concernant les sujets publis. Une fois la procdure de conversion termine, vous pourrez recommencer cette tape depuis le panneau de contrle dadministration.',
+	'VERIFY_OPTIONS'			=> 'Vrification des options de conversion',
+	'VERSION'					=> 'Version',
+
+	'WELCOME_INSTALL'			=> 'Bienvenue  linstallation de phpBB3',
+	'WRITABLE'					=> 'criture possible',
+));
+
+// Updater
+$lang = array_merge($lang, array(
+	'ALL_FILES_UP_TO_DATE'		=> 'Tous les fichiers sont  jour avec la dernire version de phpBB. Vous devriez  prsent <a href="../ucp.php?mode=login">vous connecter  votre forum</a> et vrifier que tout fonctionne correctement. Noubliez pas de supprimer, de renommer ou de dplacer votre rpertoire dinstallation ! Pensez  nous envoyer les informations de votre serveur et la configuration de votre forum  partir du module <a href="../ucp.php?mode=login&amp;redirect=adm/index.php%3Fi=send_statistics%26mode=send_statistics">Envoyer les statistiques</a> disponible depuis votre panneau de contrle dadministration.',
+	'ARCHIVE_FILE'				=> 'Fichier source dans larchive',
+
+	'BACK'				=> 'Retour',
+	'BINARY_FILE'		=> 'Fichier binaire',
+	'BOT'				=> 'Robot',
+
+	'CHANGE_CLEAN_NAMES'			=> 'La mthode que vous utilisez pour vous assurer que chaque nom dutilisateur ne soit pas utilis par plusieurs utilisateurs a t modifie avec succs. Cependant, certains utilisateurs utilisent le mme nom dutilisateur en les comparant avec la nouvelle mthode. Avant de continuer, vous devez supprimer ou renommer ces utilisateurs afin de vous assurer que chaque nom dutilisateur soit unique.',
+	'CHECK_FILES'					=> 'Vrifier les fichiers',
+	'CHECK_FILES_AGAIN'				=> 'Vrifier de nouveau les fichiers',
+	'CHECK_FILES_EXPLAIN'			=> 'Dans la prochaine tape, tous les fichiers seront compars aux fichiers de mise  jour. Sil sagit de votre premire comparaison de fichiers, cela risque de prendre un certain temps.',
+	'CHECK_FILES_UP_TO_DATE'		=> 'Selon votre base de donnes, votre version est  jour. Cependant, vous pouvez effectuer une vrification de tous vos fichiers afin de vous assurer quils soient bien  jour avec la dernire version de phpBB.',
+	'CHECK_UPDATE_DATABASE'			=> 'Continuer le processus de mise  jour',
+	'COLLECTED_INFORMATION'			=> 'Informations sur les fichiers',
+	'COLLECTED_INFORMATION_EXPLAIN'	=> 'La liste ci-dessous vous affiche les informations sur les fichiers qui ncessitent une mise  jour. Veuillez consulter attentivement toutes ces informations afin de mieux comprendre leur signification et de connatre tout ce dont vous avez besoin afin dexcuter avec succs la mise  jour.',
+	'COLLECTING_FILE_DIFFS'			=> 'Collecte des diffrences des fichiers',
+	'COMPLETE_LOGIN_TO_BOARD'		=> 'Vous devriez  prsent <a href="../ucp.php?mode=login">vous connecter  votre forum</a> et vrifier que tout fonctionne correctement. Noubliez pas de supprimer, de renommer ou de dplacer votre rpertoire dinstallation !',
+	'CONTINUE_UPDATE_NOW'			=> 'Continuer le processus de mise  jour',		// Shown within the database update script at the end if called from the updater
+	'CONTINUE_UPDATE'				=> 'Continuer la mise  jour',					// Shown after file upload to indicate the update process is not yet finished
+	'CURRENT_FILE'					=> 'Dbut du conflit - code du fichier original avant la mise  jour',
+	'CURRENT_VERSION'				=> 'Version actuelle',
+
+	'DATABASE_TYPE'						=> 'Type de base de donnes',
+	'DATABASE_UPDATE_INFO_OLD'			=> 'Le fichier de mise  jour de la base de donnes, situ dans le rpertoire dinstallation, est obsolte. Veuillez vous assurer davoir transfr la dernire version de ce fichier.',
+	'DELETE_USER_REMOVE'				=> 'Supprimer lutilisateur et effacer ses messages',
+	'DELETE_USER_RETAIN'				=> 'Supprimer lutilisateur mais conserver ses messages',
+	'DESTINATION'						=> 'Fichier de destination',
+	'DIFF_INLINE'						=> 'Dans la ligne',
+	'DIFF_RAW'							=> 'Comparaison unifie brute',
+	'DIFF_SEP_EXPLAIN'					=> 'Bloc de code utilis dans le nouveau fichier mis  jour',
+	'DIFF_SIDE_BY_SIDE'					=> 'Cte  cte',
+	'DIFF_UNIFIED'						=> 'Comparaison unifie',
+	'DO_NOT_UPDATE'						=> 'Ne pas mettre  jour ce fichier',
+	'DONE'								=> 'Ralis',
+	'DOWNLOAD'							=> 'Tlcharger',
+	'DOWNLOAD_AS'						=> 'Tlcharger sous',
+	'DOWNLOAD_UPDATE_METHOD_BUTTON'		=> 'Tlcharger larchive des fichiers modifis (recommand)',
+	'DOWNLOAD_CONFLICTS'				=> 'Tlcharger les conflits de ce fichier',
+	'DOWNLOAD_CONFLICTS_EXPLAIN'		=> 'Rechercher &lt;&lt;&lt; afin de dtecter les conflits',
+	'DOWNLOAD_UPDATE_METHOD'			=> 'Tlcharger larchive des fichiers modifis',
+	'DOWNLOAD_UPDATE_METHOD_EXPLAIN'	=> 'Aprs avoir tlcharg cette archive, vous devez la dcompresser. Elle comporte les fichiers modifis que vous devez transfrer dans le rpertoire racine de phpBB. Veuillez vous assurer de transfrer ces fichiers dans leurs emplacements respectifs, puis de les vrifier  nouveau en cliquant sur le bouton situ ci-dessous.',
+
+	'ERROR'			=> 'Erreur',
+	'EDIT_USERNAME'	=> 'diter le nom dutilisateur',
+
+	'FILE_ALREADY_UP_TO_DATE'		=> 'Le fichier est dj  jour.',
+	'FILE_DIFF_NOT_ALLOWED'			=> 'Le fichier ne peut pas tre compar.',
+	'FILE_USED'						=> 'Informations utilises depuis',			// Single file
+	'FILES_CONFLICT'				=> 'Fichiers conflictuels',
+	'FILES_CONFLICT_EXPLAIN'		=> 'Les fichiers suivants ont t modifis par rapport aux fichiers originaux prsents dans lancienne version. Ils ne pourront pas tre fusionns sans provoquer de conflits. Veuillez vrifier ces fichiers afin de dtecter et rsoudre manuellement les conflits ou continuez le processus de mise  jour en slectionnant la mthode de fusion que vous souhaitez. Si vous rsolvez les conflits manuellement, vrifiez de nouveau les fichiers une fois que les modifications ont t apportes. Vous pouvez galement slectionner pour chaque fichier la mthode de fusion qui vous semble la plus adapte. La premire mthode produira un fichier o les lignes conflictuelles prsentes dans votre ancien fichier seront perdues. La seconde mthode ignorera toutes les modifications qui ont t apportes au nouveau fichier.',
+	'FILES_MODIFIED'				=> 'Fichiers modifis',
+	'FILES_MODIFIED_EXPLAIN'		=> 'Les fichiers suivants ont t modifis par rapport aux fichiers originaux prsents dans lancienne version. Le fichier mis  jour correspondra  une fusion de vos modifications et du nouveau fichier.',
+	'FILES_NEW'						=> 'Nouveaux fichiers',
+	'FILES_NEW_EXPLAIN'				=> 'Les fichiers suivants nexistent pas dans votre installation actuelle. Ils seront ajouts  votre installation.',
+	'FILES_NEW_CONFLICT'			=> 'Nouveaux fichiers conflictuels',
+	'FILES_NEW_CONFLICT_EXPLAIN'	=> 'Les fichiers suivants sont nouveaux dans la dernire version, mais certains fichiers du mme nom, situs dans le mme emplacement, existent dj. Ils seront crass par les nouveaux fichiers.',
+	'FILES_NOT_MODIFIED'			=> 'Fichiers inchangs',
+	'FILES_NOT_MODIFIED_EXPLAIN'	=> 'Les fichiers suivants nont pas t modifis par rapport aux fichiers originaux de la version que vous souhaitez mettre  jour.',
+	'FILES_UP_TO_DATE'				=> 'Fichiers dj  jour',
+	'FILES_UP_TO_DATE_EXPLAIN'		=> 'Les fichiers suivants sont dj  jour et ne ncessitent pas dtre mis  jour.',
+	'FTP_SETTINGS'					=> 'Rglages FTP',
+	'FTP_UPDATE_METHOD'				=> 'Transfert par FTP',
+
+	'INCOMPATIBLE_UPDATE_FILES'		=> 'Les fichiers de mise  jour sont incompatibles avec la version qui est actuellement installe. La version actuellement installe est la %1$s alors que les fichiers de mise  jour sont destins  la mise  jour de phpBB %2$s vers phpBB %3$s.',
+	'INCOMPLETE_UPDATE_FILES'		=> 'Les fichiers de mise  jour sont incomplets.',
+	'INLINE_UPDATE_SUCCESSFUL'		=> 'La base de donnes a t mise  jour avec succs. Vous devez  prsent continuer le processus de mise  jour.',
+
+	'KEEP_OLD_NAME'		=> 'Conserver le nom dutilisateur',
+
+	'LATEST_VERSION'		=> 'Dernire version',
+	'LINE'					=> 'Ligne',
+	'LINE_ADDED'			=> 'Ajoute',
+	'LINE_MODIFIED'			=> 'Modifie',
+	'LINE_REMOVED'			=> 'Supprime',
+	'LINE_UNMODIFIED'		=> 'Inchange',
+	'LOGIN_UPDATE_EXPLAIN'	=> 'Vous devez vous connecter afin de pouvoir mettre  jour votre installation.',
+
+	'MAPPING_FILE_STRUCTURE'	=> 'Pour faciliter le transfert, les emplacements des diffrents fichiers ont t cartographis par rapport  votre installation.',
+
+	'MERGE_MODIFICATIONS_OPTION'	=> 'Fusionner les modifications',
+
+	'MERGE_NO_MERGE_NEW_OPTION'	=> 'Ne pas fusionner - utiliser le nouveau fichier',
+	'MERGE_NO_MERGE_MOD_OPTION'	=> 'Ne pas fusionner - utiliser le fichier actuellement install',
+	'MERGE_MOD_FILE_OPTION'		=> 'Fusionner les modifications (supprime le nouveau code de phpBB dans le bloc conflictuel)',
+	'MERGE_NEW_FILE_OPTION'		=> 'Fusionner les modifications (supprime le code modifi dans le bloc conflictuel)',
+	'MERGE_SELECT_ERROR'		=> 'Les modes de fusion du fichier conflictuel ne sont pas correctement slectionns.',
+	'MERGING_FILES'				=> 'Fusion des diffrences',
+	'MERGING_FILES_EXPLAIN'		=> 'Collecte actuellement les modifications finales des fichiers.<br /><br />Veuillez patienter jusqu la fin de toutes les oprations.',
+
+	'NEW_FILE'						=> 'Fin du conflit',
+	'NEW_USERNAME'					=> 'Nouveau nom dutilisateur',
+	'NO_AUTH_UPDATE'				=> 'Vous ntes pas autoris  effectuer une mise  jour',
+	'NO_ERRORS'						=> 'Aucune erreur',
+	'NO_UPDATE_FILES'				=> 'Ne pas mettre  jour les fichiers suivants',
+	'NO_UPDATE_FILES_EXPLAIN'		=> 'Les fichiers suivants sont nouveaux ou ont t modifis mais leur emplacement est introuvable dans votre installation. Si cette liste contient des fichiers vers des rpertoires autres que language/ ou styles/, votre structure de rpertoire et la mise  jour pourrait savrer incomplte.',
+	'NO_UPDATE_FILES_OUTDATED'		=> 'Aucun rpertoire de mise  jour valide na t trouv, veuillez vous assurer davoir correctement transfr les fichiers ncessaires.<br /><br />Votre installation ne semble <strong>pas</strong>  jour. Des mises  jour sont disponibles pour votre version de phpBB %1$s, veuillez vous rendre sur <a href="http://www.phpbb.com/downloads/" rel="external">la page des tlchargements du site officiel</a> ou sur <a href="http://www.phpbb.fr/" rel="external">la communaut de support francophone</a> afin dobtenir une archive de mise  jour de votre version %2$s vers la version %3$s.',
+	'NO_UPDATE_FILES_UP_TO_DATE'	=> 'Votre version est  jour. Il nest donc pas ncessaire dutiliser loutil de mise  jour. Si vous souhaitez effectuer une vrification intgrale de vos fichiers, veuillez vous assurer davoir correctement transfr tous les fichiers de mise  jour.',
+	'NO_UPDATE_INFO'				=> 'Les informations sur le fichier de mise  jour sont introuvables.',
+	'NO_UPDATES_REQUIRED'			=> 'Aucune mise  jour nest ncessaire',
+	'NO_VISIBLE_CHANGES'			=> 'Aucune modification visible',
+	'NOTICE'						=> 'Avertissement',
+	'NUM_CONFLICTS'					=> 'Nombre de conflits',
+	'NUMBER_OF_FILES_COLLECTED'		=> 'Actuellement, %1$d des %2$d fichiers vrifis comportent des diffrences.<br />Veuillez patienter jusqu ce que tous les fichiers soient vrifis.',
+
+	'OLD_UPDATE_FILES'		=> 'Les fichiers de mise  jour sont obsoltes. Les fichiers de mise  jour prsents correspondent  la mise  jour de phpBB %1$s vers phpBB %2$s alors que la dernire version de phpBB est la %3$s.',
+
+	'PACKAGE_UPDATES_TO'				=> 'Mise  jour de larchive actuelle vers la version',
+	'PERFORM_DATABASE_UPDATE'			=> 'Excuter la mise  jour de la base de donnes',
+	'PERFORM_DATABASE_UPDATE_EXPLAIN'	=> 'Vous trouverez ci-dessous un bouton vers loutil de mise  jour de la base de donnes. La mise  jour de la base de donnes peut prendre un certain temps, veillez  ne pas arrter son excution mme lorsque celle-ci semble bloque. Une fois que la mise  jour de la base de donnes ait t effectue, suivez les instructions affiches  lcran afin de continuer le processus de mise  jour.',
+	'PREVIOUS_VERSION'					=> 'Version antrieure',
+	'PROGRESS'							=> 'En cours',
+
+	'RESULT'					=> 'Rsultat',
+	'RUN_DATABASE_SCRIPT'		=> 'Mettre  jour ma base de donnes maintenant',
+
+	'SELECT_DIFF_MODE'			=> 'Slectionner le mode de comparaison',
+	'SELECT_DOWNLOAD_FORMAT'	=> 'Slectionner le format de larchive que vous tlchargerez',
+	'SELECT_FTP_SETTINGS'		=> 'Slectionner les rglages FTP',
+	'SHOW_DIFF_CONFLICT'		=> 'Afficher les diffrences et les conflits',
+	'SHOW_DIFF_FINAL'			=> 'Afficher le fichier rsultant',
+	'SHOW_DIFF_MODIFIED'		=> 'Afficher les diffrences fusionnes',
+	'SHOW_DIFF_NEW'				=> 'Afficher le contenu du fichier',
+	'SHOW_DIFF_NEW_CONFLICT'	=> 'Afficher les diffrences',
+	'SHOW_DIFF_NOT_MODIFIED'	=> 'Afficher les diffrences',
+	'SOME_QUERIES_FAILED'		=> 'Certaines requtes ont choues, les erreurs et les instructions sont listes ci-dessous.',
+	'SQL'						=> 'SQL',
+	'SQL_FAILURE_EXPLAIN'		=> 'Il ny a probablement pas lieu de sinquiter, il est probable que la mise  jour continue. Si ce nest pas le cas, nous vous conseillons de demander de laide sur nos forums de support. Pour plus dinformations, veuillez consulter le fichier <a href="../docs/README.html">README</a>.',
+	'STAGE_FILE_CHECK'			=> 'Vrifier les fichiers',
+	'STAGE_UPDATE_DB'			=> 'Mettre  jour la base de donnes',
+	'STAGE_UPDATE_FILES'		=> 'Mettre  jour les fichiers',
+	'STAGE_VERSION_CHECK'		=> 'Vrifier la version',
+	'STATUS_CONFLICT'			=> 'Fichier modifi produisant des conflits',
+	'STATUS_MODIFIED'			=> 'Fichier modifi',
+	'STATUS_NEW'				=> 'Nouveau fichier',
+	'STATUS_NEW_CONFLICT'		=> 'Nouveau fichier conflictuel',
+	'STATUS_NOT_MODIFIED'		=> 'Fichier inchang',
+	'STATUS_UP_TO_DATE'			=> 'Fichier dj  jour',
+
+	'TOGGLE_DISPLAY'			=> 'Afficher ou masquer la liste des fichiers',
+	'TRY_DOWNLOAD_METHOD'		=> 'Vous devriez essayer la mthode de tlchargement des fichiers modifis.<br />Cette mthode vous permettra de mettre  jour votre forum sans rencontrer de difficults.',
+	'TRY_DOWNLOAD_METHOD_BUTTON'=> 'Essayer maintenant cette mthode',
+
+	'UPDATE_COMPLETED'				=> 'Mise  jour ralise avec succs',
+	'UPDATE_DATABASE'				=> 'Mettre  jour la base de donnes',
+	'UPDATE_DATABASE_EXPLAIN'		=> 'Dans la prochaine tape, la base de donnes sera mise  jour.',
+	'UPDATE_DATABASE_SCHEMA'		=> 'Mise  jour du schma de la base de donnes',
+	'UPDATE_FILES'					=> 'Mettre  jour les fichiers',
+	'UPDATE_FILES_NOTICE'			=> 'Veuillez vous assurer davoir galement mis  jour tous les fichiers de votre forum car ce fichier ne met  jour que votre base de donnes.',
+	'UPDATE_INSTALLATION'			=> 'Mettre  jour linstallation de phpBB',
+	'UPDATE_INSTALLATION_EXPLAIN'	=> 'Grce  cette option, il est possible de mettre  jour votre installation vers la dernire version.<br />Durant le processus, tous vos fichiers seront vrifis dans leur intgralit. Vous pourrez prvisualiser toutes les diffrences et tous les fichiers avant dexcuter la mise  jour.<br /><br />Le fichier de mise  jour peut se gnrer de deux manires diffrentes.</p><h2>Mise  jour manuelle</h2><p>Avec cette mise  jour, vous ne tlchargez que les rglages des fichiers modifis afin de vous assurer de ne perdre aucune modification. Aprs avoir tlcharg cette archive, vous devez mettre  jour manuellement les fichiers  leur emplacement respectif, selon la racine de votre rpertoire phpBB. Une fois la mise  jour termine, vous pouvez recommencer ltape de vrification des fichiers afin de vous assurer davoir dplac les fichiers  leur emplacement respectif.</p><h2>Mise  jour automatique par FTP</h2><p>Cette mthode est similaire  la premire, mais elle ne ncessite pas de tlcharger et de transfrer manuellement les fichiers modifis, cela sera fait automatiquement. Pour utiliser cette mthode, vous devez connatre les informations concernant votre connexion FTP car cela vous sera demand. Une fois la mise  jour termine, vous serez redirig une fois de plus  la vrification des fichiers afin de vous assurer du bon droulement de la mise  jour.<br /><br />',
+	'UPDATE_INSTRUCTIONS'			=> '
+
+		<h1>Annonce de sortie</h1>
+
+		<p>Veuillez consulter <a href="%1$s" title="%1$s"><strong>lannonce relative  la sortie de la dernire version</strong></a> avant de continuer le processus de mise  jour. Elle contient des informations importantes, plusieurs liens de tlchargement et lhistorique des modifications apportes.</p>
+
+		<br />
+
+		<h1>Comment mettre  jour votre installation avec larchive de mise  jour automatique ?</h1>
+
+		<p>La mthode liste ici nest valable que pour larchive de mise  jour automatique. Vous pouvez galement mettre  jour votre installation en utilisant les mthodes listes dans le document INSTALL.html. Les tapes de mise  jour automatique de phpBB3 sont :</p>
+
+		<ul style="margin-left: 20px; font-size: 1.1em;">
+			<li>Rendez-vous sur <a href="http://www.phpbb.com/downloads/" title="http://www.phpbb.com/downloads/">la page des tlchargements du site officiel</a> ou sur <a href="http://www.phpbb.fr/" title="http://www.phpbb.fr/">la communaut de support francophone</a> et tlchargez larchive de mise  jour automatique.<br /><br /></li>
+			<li>Dcompressez larchive.<br /><br /></li>
+			<li>Transfrez dans son intgralit le rpertoire dcompress  la racine de votre installation, o se trouve le fichier config.php.<br /><br /></li>
+		</ul>
+
+		<p>Une fois le rpertoire transfr, votre forum apparatra hors-ligne aux utilisateurs pour des raisons de scurit.<br /><br />
+		<strong><a href="%2$s" title="%2$s">Commencez ds  prsent le processus de mise  jour en dirigeant votre navigateur vers le rpertoire dinstallation</a>.</strong><br />
+		<br />
+		Vous serez alors guid par le processus de mise  jour, qui vous avertira une fois la mise  jour termine.
+		</p>
+	',
+	'UPDATE_INSTRUCTIONS_INCOMPLETE'	=> '
+
+		<h1>Mise  jour incomplte dtecte</h1>
+
+		<p>Une mise  jour automatique incomplte a t dtecte. Veuillez vous assurer davoir correctement suivi chaque tape de loutil de mise  jour automatique. Vous trouverez ci-dessous le lien afin de recommencer le processus, ou rendez-vous directement sur votre rpertoire dinstallation.</p>
+	',
+	'UPDATE_METHOD'					=> 'Mthode de mise  jour',
+	'UPDATE_METHOD_EXPLAIN'			=> 'Veuillez  prsent slectionner la mthode de mise  jour que vous souhaitez utiliser. Si vous souhaitez utiliser le transfert par FTP, il vous sera demand de saisir dans un formulaire les informations concernant votre compte FTP. Avec cette mthode, les fichiers seront dplacs automatiquement vers le nouvel emplacement et vos anciens fichiers seront sauvegards avec lextension .bak qui sera ajoute  la fin du nom de chaque fichier. Si vous prfrez tlcharger les fichiers modifis, vous devrez les dcompresser et les transfrer manuellement vers lemplacement qui leur est spcifique.',
+	'UPDATE_REQUIRES_FILE'			=> 'Le fichier suivant est ncessaire  loutil de mise  jour : %s',
+	'UPDATE_SUCCESS'				=> 'La mise  jour a t effectue avec succs',
+	'UPDATE_SUCCESS_EXPLAIN'		=> 'Tous les fichiers ont t mis  jour avec succs. La prochaine tape consiste  vrifier de nouveau tous les rpertoires afin de vous assurer que les fichiers ont t mis  jour correctement.',
+	'UPDATE_VERSION_OPTIMIZE'		=> 'Mise  jour de la version et optimisation des tables',
+	'UPDATING_DATA'					=> 'Mise  jour des donnes',
+	'UPDATING_TO_LATEST_STABLE'		=> 'Mise  jour de la base de donnes vers la dernire version stable',
+	'UPDATED_VERSION'				=> 'Version mise  jour',
+	'UPGRADE_INSTRUCTIONS'			=> 'Une nouvelle version (<strong>%1$s</strong>) est disponible. Veuillez consulter <a href="%2$s" title="%2$s"><strong>lannonce de sortie</strong></a> afin de vous informer sur les nouvelles fonctionnalits et connatre la mthode  suivre pour mettre  jour votre installation.',
+	'UPLOAD_METHOD'					=> 'Mthode de transfert',
+
+	'UPDATE_DB_SUCCESS'				=> 'La mise  jour de la base de donnes a t effectue avec succs.',
+	'USER_ACTIVE'					=> 'Utilisateur actif',
+	'USER_INACTIVE'					=> 'Utilisateur inactif',
+
+	'VERSION_CHECK'					=> 'Vrifier la version',
+	'VERSION_CHECK_EXPLAIN'			=> 'Vrifir si votre installation de phpBB est  jour.',
+	'VERSION_NOT_UP_TO_DATE'		=> 'Votre installation de phpBB nest pas  jour. Veuillez continuer le processus de mise  jour.',
+	'VERSION_NOT_UP_TO_DATE_ACP'	=> 'Votre installation de phpBB nest pas  jour.<br />Vous trouverez ci-dessous un lien vers lannonce de sortie, qui contient de plus amples informations et les instructions de mise  jour.',
+	'VERSION_NOT_UP_TO_DATE_TITLE'	=> 'Votre installation de phpBB nest pas  jour.',
+	'VERSION_UP_TO_DATE'			=> 'Votre installation de phpBB est  jour. Comme aucune mise  jour nest disponible pour le moment, vous devriez continuer en procdant  une vrification de vos fichiers afin de vous assurer quils soient corrects.',
+	'VERSION_UP_TO_DATE_ACP'		=> 'Votre installation de phpBB est  jour. Aucune mise  jour nest disponible pour le moment.',
+	'VIEWING_FILE_CONTENTS'			=> 'Consultation du contenu des fichiers',
+	'VIEWING_FILE_DIFF'				=> 'Consultation des diffrences des fichiers',
+
+	'WRONG_INFO_FILE_FORMAT'	=> 'Le format du fichier dinformation est incorrect',
+));
+
+// Default database schema entries...
+$lang = array_merge($lang, array(
+	'CONFIG_BOARD_EMAIL_SIG'		=> 'Cordialement, le responsable',
+	'CONFIG_SITE_DESC'				=> 'Un rsum dcrivant votre forum',
+	'CONFIG_SITENAME'				=> 'votredomaine.com',
+
+	'DEFAULT_INSTALL_POST'			=> 'Ceci est un exemple de message de votre installation de phpBB3. Tout semble fonctionner correctement. Si vous le souhaitez, vous pouvez supprimer ce message et continuer  configurer votre forum. Lors du processus dinstallation, votre premire catgorie et votre premier forum ont t assigns  un ensemble de permissions relatif aux groupes dutilisateurs que sont les administrateurs, les robots, les modrateurs globaux, les invits, les utilisateurs inscrits et les utilisateurs COPPA inscrits. Si vous souhaitez galement supprimer votre premire catgorie et votre premier forum, noubliez pas dassigner les permissions appropries  tous les groupes dutilisateurs sur chaques nouvelles catgories et nouveaux forums que vous crez. Il est recommand de renommer votre premire catgorie et votre premier forum et de copier leurs permissions sur chaque nouvelle catgorie et chaque nouveau forum lors de leur cration. Profitez bien de votre forum !',
+
+	'FORUMS_FIRST_CATEGORY'			=> 'Votre premire catgorie',
+	'FORUMS_TEST_FORUM_DESC'		=> 'Description de votre premier forum.',
+	'FORUMS_TEST_FORUM_TITLE'		=> 'Votre premier forum',
+
+	'RANKS_SITE_ADMIN_TITLE'		=> 'Administrateur',
+	'REPORT_WAREZ'					=> 'Le message rapport contient un ou plusieurs liens dirigeant vers des ressources illgales ou des logiciels pirats.',
+	'REPORT_SPAM'					=> 'Le message rapport contient de la publicit visant  promouvoir un site internet ou un produit.',
+	'REPORT_OFF_TOPIC'				=> 'Le message rapport est hors-sujet.',
+	'REPORT_OTHER'					=> 'Le message rapport ne correspond  aucune catgorie, veuillez utiliser le champ dinformation supplmentaire.',
+
+	'SMILIES_ARROW'					=> 'Flche',
+	'SMILIES_CONFUSED'				=> 'Troubl',
+	'SMILIES_COOL'					=> 'Dcontract',
+	'SMILIES_CRYING'				=> 'En larmes',
+	'SMILIES_EMARRASSED'			=> 'Embarrass',
+	'SMILIES_EVIL'					=> 'Diabolique et mcontent',
+	'SMILIES_EXCLAMATION'			=> 'Exclamation',
+	'SMILIES_GEEK'					=> 'Geek',
+	'SMILIES_IDEA'					=> 'Ide',
+	'SMILIES_LAUGHING'				=> 'Rieur',
+	'SMILIES_MAD'					=> 'Mcontent',
+	'SMILIES_MR_GREEN'				=> 'M. Vert',
+	'SMILIES_NEUTRAL'				=> 'Neutre',
+	'SMILIES_QUESTION'				=> 'Question',
+	'SMILIES_RAZZ'					=> 'Tire la langue',
+	'SMILIES_ROLLING_EYES'			=> 'Roule des yeux',
+	'SMILIES_SAD'					=> 'Triste',
+	'SMILIES_SHOCKED'				=> 'Scandalis',
+	'SMILIES_SMILE'					=> 'Souriant',
+	'SMILIES_SURPRISED'				=> 'tonn',
+	'SMILIES_TWISTED_EVIL'			=> 'Diabolique et souriant',
+	'SMILIES_UBER_GEEK'				=> 'Geek expriment',
+	'SMILIES_VERY_HAPPY'			=> 'Heureux',
+	'SMILIES_WINK'					=> 'Clin dil',
+
+	'TOPICS_TOPIC_TITLE'			=> 'Bienvenue sur phpBB3',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/iso.txt phpBB3/language/fr/iso.txt
--- phpBB3-init/language/fr/iso.txt	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/iso.txt	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,3 @@
+French
+Franais
+phpBB.fr
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/LICENSE phpBB3/language/fr/LICENSE
--- phpBB3-init/language/fr/LICENSE	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/LICENSE	2011-08-23 19:32:52.000000000 +0200
@@ -0,0 +1,281 @@
+		    GNU GENERAL PUBLIC LICENSE
+		       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.
+                          675 Mass Ave, Cambridge, MA 02139, USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+			    Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Library General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+		    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The "Program", below,
+refers to any such program or work, and a "work based on the Program"
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term "modification".)  Each licensee is addressed as "you".
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and "any
+later version", you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+			    NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+		     END OF TERMS AND CONDITIONS
+
diff -rNU5 phpBB3-init/language/fr/mcp.php phpBB3/language/fr/mcp.php
--- phpBB3-init/language/fr/mcp.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/mcp.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,406 @@
+<?php
+/**
+*
+* mcp [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACTION'				=> 'Action',
+	'ACTION_NOTE'			=> 'Action/Note',
+	'ADD_FEEDBACK'			=> 'Ajouter une remarque',
+	'ADD_FEEDBACK_EXPLAIN'	=> 'Si vous souhaitez ajouter une remarque, veuillez complter le formulaire suivant. Nutilisez que du texte brut ; lHTML, le BBCode, etc. ne sont pas autoriss.',
+	'ADD_WARNING'			=> 'Ajouter un avertissement',
+	'ADD_WARNING_EXPLAIN'	=> 'Si vous souhaitez envoyer un avertissement  cet utilisateur, veuillez complter le formulaire suivant. Nutilisez que du texte brut ; lHTML, le BBCode, etc. ne sont pas autoriss.',
+	'ALL_ENTRIES'			=> 'Toutes les entres',
+	'ALL_NOTES_DELETED'		=> 'Toutes les notes sur cet utilisateur ont t supprimes avec succs.',
+	'ALL_REPORTS'			=> 'Tous les rapports',
+	'ALREADY_REPORTED'		=> 'Ce message a dj t rapport.',
+	'ALREADY_REPORTED_PM'	=> 'Ce message priv a dj t rapport.',
+	'ALREADY_WARNED'		=> 'Un avertissement a dj t prononc pour ce message.',
+	'APPROVE'				=> 'Approuver',
+	'APPROVE_POST'			=> 'Approuver le message',
+	'APPROVE_POST_CONFIRM'	=> 'tes-vous sr de vouloir approuver ce message ?',
+	'APPROVE_POSTS'			=> 'Approuver les messages',
+	'APPROVE_POSTS_CONFIRM'	=> 'tes-vous sr de vouloir approuver les messages slectionns ?',
+
+	'CANNOT_MOVE_SAME_FORUM'=> 'Vous ne pouvez pas dplacer ce sujet dans ce forum car il y est dj prsent.',
+	'CANNOT_WARN_ANONYMOUS'	=> 'Vous ne pouvez pas distribuer davertissements aux visiteurs.',
+	'CANNOT_WARN_SELF'		=> 'Vous ne pouvez pas vous distribuer davertissements.',
+	'CAN_LEAVE_BLANK'		=> 'Ceci peut tre laiss vide.',
+	'CHANGE_POSTER'			=> 'Modifier lauteur ',
+	'CLOSE_PM_REPORT'		=> 'Fermer le rapport de MP',
+	'CLOSE_PM_REPORT_CONFIRM'	=> 'tes-vous sr de vouloir fermer le rapport de MP que vous avez slectionn ?',
+	'CLOSE_PM_REPORTS'		=> 'Fermer les rapports de MP',
+	'CLOSE_PM_REPORTS_CONFIRM'	=> 'tes-vous sr de vouloir fermer les rapports de MP que vous avez slectionns ?',
+	'CLOSE_REPORT'			=> 'Fermer le rapport',
+	'CLOSE_REPORT_CONFIRM'	=> 'tes-vous sr de vouloir fermer le rapport que vous avez slectionn ?',
+	'CLOSE_REPORTS'			=> 'Fermer les rapports',
+	'CLOSE_REPORTS_CONFIRM'	=> 'tes-vous sr de vouloir fermer les rapports que vous avez slectionns ?',
+
+	'DELETE_PM_REPORT'			=> 'Supprimer le rapport de MP',
+	'DELETE_PM_REPORT_CONFIRM'	=> 'tes-vous sr de vouloir supprimer le rapport de MP que vous avez slectionn ?',
+	'DELETE_PM_REPORTS'			=> 'Supprimer les rapports de MP',
+	'DELETE_PM_REPORTS_CONFIRM'	=> 'tes-vous sr de vouloir supprimer les rapports de MP que vous avez slectionns ?',
+	'DELETE_POSTS'				=> 'Supprimer les messages',
+	'DELETE_POSTS_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ces messages ?',
+	'DELETE_POST_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ce message ?',
+	'DELETE_REPORT'				=> 'Supprimer le rapport',
+	'DELETE_REPORT_CONFIRM'		=> 'tes-vous sr de vouloir supprimer le rapport que vous avez slectionn ?',
+	'DELETE_REPORTS'			=> 'Supprimer les rapports',
+	'DELETE_REPORTS_CONFIRM'	=> 'tes-vous sr de vouloir supprimer les rapports que vous avez slectionns ?',
+	'DELETE_SHADOW_TOPIC'		=> 'Supprimer la redirection du sujet',
+	'DELETE_TOPICS'				=> 'Supprimer les sujets slectionns',
+	'DELETE_TOPICS_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ces sujets ?',
+	'DELETE_TOPIC_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ce sujet ?',
+	'DISAPPROVE'				=> 'Dsapprouver',
+	'DISAPPROVE_REASON'			=> 'Raison de la dsapprobation ',
+	'DISAPPROVE_POST'			=> 'Dsapprouver le message',
+	'DISAPPROVE_POST_CONFIRM'	=> 'tes-vous sr de vouloir dsapprouver ce message ?',
+	'DISAPPROVE_POSTS'			=> 'Dsapprouver les messages',
+	'DISAPPROVE_POSTS_CONFIRM'	=> 'tes-vous sr de vouloir dsapprouver les messages que vous avez slectionns ?',
+	'DISPLAY_LOG'				=> 'Afficher les entres prcdentes ',
+	'DISPLAY_OPTIONS'			=> 'Options daffichage',
+
+	'EMPTY_REPORT'					=> 'Vous devez saisir une description lorsque vous slectionnez cette raison.',
+	'EMPTY_TOPICS_REMOVED_WARNING'	=> 'Veuillez noter quun ou plusieurs sujets ont t supprims de la base de donnes car ils taient ou devenaient vides.',
+
+	'FEEDBACK'				=> 'Remarque',
+	'FORK'					=> 'Copier',
+	'FORK_TOPIC'			=> 'Copier le sujet',
+	'FORK_TOPIC_CONFIRM'	=> 'tes-vous sr de vouloir copier ce sujet ?',
+	'FORK_TOPICS'			=> 'Copier les sujets slectionns',
+	'FORK_TOPICS_CONFIRM'	=> 'tes-vous sr de vouloir copier les sujets que vous avez slectionns ?',
+	'FORUM_DESC'			=> 'Description',
+	'FORUM_NAME'			=> 'Nom du forum',
+	'FORUM_NOT_EXIST'		=> 'Le forum auquel vous souhaitez accder nexiste pas.',
+	'FORUM_NOT_POSTABLE'	=> 'Il nest pas possible de publier des messages dans ce forum.',
+	'FORUM_STATUS'			=> 'Statut du forum',
+	'FORUM_STYLE'			=> 'Style du forum',
+
+	'GLOBAL_ANNOUNCEMENT'	=> 'Annonce globale',
+
+	'IP_INFO'				=> 'Informations sur ladresse IP',
+	'IPS_POSTED_FROM'		=> 'Adresse(s) IP attribue(s)  cet utilisateur',
+
+	'LATEST_LOGS'				=> 'Les 5 derniers vnements',
+	'LATEST_REPORTED'			=> 'Les 5 derniers rapports',
+	'LATEST_REPORTED_PMS'		=> 'Les 5 derniers rapports de MP',
+	'LATEST_UNAPPROVED'			=> 'Les 5 derniers messages en attente dapprobation',
+	'LATEST_WARNING_TIME'		=> 'Le dernier avertissement publi',
+	'LATEST_WARNINGS'			=> 'Les 5 derniers avertissements',
+	'LEAVE_SHADOW'				=> 'Conserver sur place une redirection du sujet',
+	'LIST_REPORT'				=> '1 rapport',
+	'LIST_REPORTS'				=> '%d rapports',
+	'LOCK'						=> 'Verrouiller',
+	'LOCK_POST_POST'			=> 'Verrouiller le message',
+	'LOCK_POST_POST_CONFIRM'	=> 'tes-vous sr de vouloir empcher ldition de ce message ?',
+	'LOCK_POST_POSTS'			=> 'Verrouiller les messages slectionns',
+	'LOCK_POST_POSTS_CONFIRM'	=> 'tes-vous sr de vouloir empcher ldition des messages que vous avez slectionns ?',
+	'LOCK_TOPIC_CONFIRM'		=> 'tes-vous sr de vouloir verrouiller ce sujet ?',
+	'LOCK_TOPICS'				=> 'Verrouiller les sujets slectionns',
+	'LOCK_TOPICS_CONFIRM'		=> 'tes-vous sr de vouloir verrouiller tous les sujets que vous avez slectionns ?',
+	'LOGS_CURRENT_TOPIC'		=> 'Consulte actuellement les historiques de :',
+	'LOGIN_EXPLAIN_MCP'			=> 'Vous devez vous connecter afin de modrer ce forum.',
+	'LOGVIEW_VIEWTOPIC'			=> 'Consulter le sujet',
+	'LOGVIEW_VIEWLOGS'			=> 'Consulter lhistorique du sujet',
+	'LOGVIEW_VIEWFORUM'			=> 'Consulter le forum',
+	'LOOKUP_ALL'				=> 'Rechercher toutes les adresses IP',
+	'LOOKUP_IP'					=> 'Rechercher une adresse IP',
+
+	'MARKED_NOTES_DELETED'		=> 'Toutes les notes sur lutilisateur ont t supprimes avec succs.',
+
+	'MCP_ADD'						=> 'Ajouter un avertissement',
+
+	'MCP_BAN'					=> 'Bannissement',
+	'MCP_BAN_EMAILS'			=> 'Bannir des adresses de courrier lectronique',
+	'MCP_BAN_IPS'				=> 'Bannir des adresses IP',
+	'MCP_BAN_USERNAMES'			=> 'Bannir des noms dutilisateurs',
+
+	'MCP_LOGS'						=> 'Historique(s) des modrateurs',
+	'MCP_LOGS_FRONT'				=> 'Page principale',
+	'MCP_LOGS_FORUM_VIEW'			=> 'Historique(s) des forums',
+	'MCP_LOGS_TOPIC_VIEW'			=> 'Historique(s) des sujets',
+
+	'MCP_MAIN'						=> 'Principal',
+	'MCP_MAIN_FORUM_VIEW'			=> 'Consulter le forum',
+	'MCP_MAIN_FRONT'				=> 'Page principale',
+	'MCP_MAIN_POST_DETAILS'			=> 'Informations sur le message',
+	'MCP_MAIN_TOPIC_VIEW'			=> 'Consulter le sujet',
+	'MCP_MAKE_ANNOUNCEMENT'			=> 'Modifier en  annonce ',
+	'MCP_MAKE_ANNOUNCEMENT_CONFIRM'	=> 'tes-vous sr de vouloir modifier ce sujet en  annonce  ?',
+	'MCP_MAKE_ANNOUNCEMENTS'		=> 'Modifier en  annonces ',
+	'MCP_MAKE_ANNOUNCEMENTS_CONFIRM'=> 'tes-vous sr de vouloir modifier les sujets que vous avez slectionns en  annonces  ?',
+	'MCP_MAKE_GLOBAL'				=> 'Modifier en  annonce globale ',
+	'MCP_MAKE_GLOBAL_CONFIRM'		=> 'tes-vous sr de vouloir modifier ce sujet en  annonce globale  ?',
+	'MCP_MAKE_GLOBALS'				=> 'Modifier en  annonces globales ',
+	'MCP_MAKE_GLOBALS_CONFIRM'		=> 'tes-vous sr de vouloir modifier les sujets que vous avez slectionns en  annonces globales  ?',
+	'MCP_MAKE_STICKY'				=> 'Modifier en  note ',
+	'MCP_MAKE_STICKY_CONFIRM'		=> 'tes-vous sr de vouloir modifier ce sujet en  note  ?',
+	'MCP_MAKE_STICKIES'				=> 'Modifier en  notes ',
+	'MCP_MAKE_STICKIES_CONFIRM'		=> 'tes-vous sr de vouloir modifier les sujets que vous avez slectionns en  notes  ?',
+	'MCP_MAKE_NORMAL'				=> 'Modifier en  sujet standard ',
+	'MCP_MAKE_NORMAL_CONFIRM'		=> 'tes-vous sr de vouloir modifier ce sujet en  sujet standard  ?',
+	'MCP_MAKE_NORMALS'				=> 'Modifier en  sujets standards ',
+	'MCP_MAKE_NORMALS_CONFIRM'		=> 'tes-vous sr de vouloir modifier les sujets que vous avez slectionns en  sujets standards  ?',
+
+	'MCP_NOTES'						=> 'Note(s) sur lutilisateur',
+	'MCP_NOTES_FRONT'				=> 'Page principale',
+	'MCP_NOTES_USER'				=> 'Informations sur lutilisateur',
+
+	'MCP_POST_REPORTS'				=> 'Rapports prononcs sur ce message',
+
+	'MCP_PM_REPORTS'				=> 'MP rapport(s)',
+	'MCP_PM_REPORT_DETAILS'			=> 'Informations sur le rapport de MP',
+	'MCP_PM_REPORTS_CLOSED'			=> 'Rapport(s) de MP ferm(s)',
+	'MCP_PM_REPORTS_CLOSED_EXPLAIN'	=> 'Ceci est la liste de tous les messages privs qui ont t rapports et qui ont dj t traits.',
+	'MCP_PM_REPORTS_OPEN'			=> 'Rapport(s) de MP ouvert(s)',
+	'MCP_PM_REPORTS_OPEN_EXPLAIN'	=> 'Ceci est la liste de tous les messages privs qui ont t rapports et qui sont en attente de traitement.',
+
+	'MCP_REPORTS'					=> 'Message(s) rapport(s)',
+	'MCP_REPORT_DETAILS'			=> 'Informations sur le rapport',
+	'MCP_REPORTS_CLOSED'			=> 'Rapport(s) ferm(s)',
+	'MCP_REPORTS_CLOSED_EXPLAIN'	=> 'Ceci est la liste de tous les messages qui ont t rapports et qui ont dj t traits.',
+	'MCP_REPORTS_OPEN'				=> 'Rapport(s) ouvert(s)',
+	'MCP_REPORTS_OPEN_EXPLAIN'		=> 'Ceci est la liste de tous les messages qui ont t rapports et qui sont en attente de traitement.',
+
+	'MCP_QUEUE'								=> 'File dattente de modration',
+	'MCP_QUEUE_APPROVE_DETAILS'				=> 'Approuver les informations',
+	'MCP_QUEUE_UNAPPROVED_POSTS'			=> 'Message(s) en attente dapprobation',
+	'MCP_QUEUE_UNAPPROVED_POSTS_EXPLAIN'	=> 'Ceci est la liste de tous les messages qui ncessitent dtre approuvs afin quils soient visibles aux utilisateurs.',
+	'MCP_QUEUE_UNAPPROVED_TOPICS'			=> 'Sujet(s) en attente dapprobation',
+	'MCP_QUEUE_UNAPPROVED_TOPICS_EXPLAIN'	=> 'Ceci est la liste de tous les sujets qui ncessitent dtre approuvs afin quils soient visibles aux utilisateurs.',
+
+	'MCP_VIEW_USER'			=> 'Consulter les avertissements dun utilisateur spcifique',
+
+	'MCP_WARN'				=> 'Avertissement(s)',
+	'MCP_WARN_FRONT'		=> 'Page principale',
+	'MCP_WARN_LIST'			=> 'Liste des avertissements',
+	'MCP_WARN_POST'			=> 'Avertir pour le message spcifique',
+	'MCP_WARN_USER'			=> 'Avertir lutilisateur',
+
+	'MERGE_POSTS_CONFIRM'	=> 'tes-vous sr de vouloir dplacer les messages que vous avez slectionns ?',
+	'MERGE_TOPIC_EXPLAIN'	=> 'En utilisant le formulaire ci-dessous, vous pouvez dplacer les messages que vous avez slectionns dans un autre sujet. Les messages seront retirs de ce sujet afin dtre fusionns dans un autre sujet. Ces messages ne seront pas rordonns et apparatront comme si les utilisateurs les avaient publis dans le nouveau sujet.<br />Veuillez saisir le numro didentification du sujet de destination ou cliquer sur  Slectionner le sujet  afin den rechercher un.',
+	'MERGE_TOPIC_ID'		=> 'Numro didentification du sujet de destination ',
+	'MERGE_TOPICS'			=> 'Fusionner les sujets',
+	'MERGE_TOPICS_CONFIRM'	=> 'tes-vous sr de vouloir fusionner les sujets que vous avez slectionns ?',
+	'MODERATE_FORUM'		=> 'Modrer le forum ',
+	'MODERATE_TOPIC'		=> 'Modrer le sujet',
+	'MODERATE_POST'			=> 'Modrer le message',
+	'MOD_OPTIONS'			=> 'Options du modrateur ',
+	'MORE_INFO'				=> 'Informations supplmentaires',
+	'MOST_WARNINGS'			=> 'Les utilisateurs ayant le plus grand nombre davertissements',
+	'MOVE_TOPIC_CONFIRM'	=> 'tes-vous sr de vouloir dplacer le sujet vers un nouveau forum ?',
+	'MOVE_TOPICS'			=> 'Dplacer les sujets slectionns',
+	'MOVE_TOPICS_CONFIRM'	=> 'tes-vous sr de vouloir dplacer les sujets que vous avez slectionns vers un nouveau forum ?',
+
+	'NOTIFY_POSTER_APPROVAL'		=> 'Avertir lauteur du message  propos de lapprobation ?',
+	'NOTIFY_POSTER_DISAPPROVAL'		=> 'Avertir lauteur du message  propos de la dsapprobation ?',
+	'NOTIFY_USER_WARN'				=> 'Avertir lutilisateur  propos de lavertissement ?',
+	'NOT_MODERATOR'					=> 'Vous ntes pas un modrateur de ce forum.',
+	'NO_DESTINATION_FORUM'			=> 'Veuillez slectionner un forum de destination.',
+	'NO_DESTINATION_FORUM_FOUND'	=> 'Aucun forum de destination nest disponible.',
+	'NO_ENTRIES'					=> 'Aucun historique nexiste sur cette priode.',
+	'NO_FEEDBACK'					=> 'Aucune remarque nexiste sur cet utilisateur.',
+	'NO_FINAL_TOPIC_SELECTED'		=> 'Vous devez slectionner un sujet de destination afin de fusionner les messages.',
+	'NO_MATCHES_FOUND'				=> 'Aucun rsultat na t trouv.',
+	'NO_POST'						=> 'Vous devez slectionner un message avant davertir un utilisateur concernant un de ses messages.',
+	'NO_POST_REPORT'				=> 'Ce message na pas t rapport.',
+	'NO_POST_SELECTED'				=> 'Vous devez slectionner au moins un message afin deffectuer cette opration.',
+	'NO_REASON_DISAPPROVAL'			=> 'Veuillez spcifier la raison de la dsapprobation.',
+	'NO_REPORT'						=> 'Aucun rapport na t trouv',
+	'NO_REPORTS'					=> 'Aucun rapport na t trouv',
+	'NO_REPORT_SELECTED'			=> 'Vous devez slectionner au moins un rapport afin deffectuer cette opration.',
+	'NO_TOPIC_ICON'					=> 'Aucune',
+	'NO_TOPIC_SELECTED'				=> 'Vous devez slectionner au moins un sujet afin deffectuer cette opration.',
+	'NO_TOPICS_QUEUE'				=> 'Aucun sujet nest en attente dapprobation.',
+
+	'ONLY_TOPIC'			=> 'Uniquement le sujet  %s ',
+	'OTHER_USERS'			=> 'Autres utilisateurs ayant publis avec cette adresse IP',
+
+	'PM_REPORT_CLOSED_SUCCESS'	=> 'Le rapport de MP que vous avez slectionn a t ferm avec succs.',
+	'PM_REPORT_DELETED_SUCCESS'	=> 'Le rapport de MP que vous avez slectionn a t supprim avec succs.',
+	'PM_REPORTED_SUCCESS'		=> 'Ce message priv a t rapport avec succs.',
+	'PM_REPORT_TOTAL'			=> 'Au total, il y a <strong>1</strong> rapport de MP  traiter.',
+	'PM_REPORTS_CLOSED_SUCCESS'	=> 'Les rapports de MP que vous avez slectionns ont t ferms avec succs.',
+	'PM_REPORTS_DELETED_SUCCESS'=> 'Les rapport de MP que vous avez slectionns ont t supprims avec succs.',
+	'PM_REPORTS_TOTAL'			=> 'Au total, il y a <strong>%d</strong> rapports de MP  traiter.',
+	'PM_REPORTS_ZERO_TOTAL'		=> 'Il ny a aucun rapport de MP  traiter.',
+	'PM_REPORT_DETAILS'			=> 'Informations sur le rapport de message priv',
+	'POSTER'					=> 'Auteur',
+	'POSTS_APPROVED_SUCCESS'	=> 'Les messages que vous avez slectionns ont t approuvs avec succs.',
+	'POSTS_DELETED_SUCCESS'		=> 'Les messages que vous avez slectionns ont t supprims de la base de donnes avec succs.',
+	'POSTS_DISAPPROVED_SUCCESS'	=> 'Les messages que vous avez slectionns ont t dsapprouvs avec succs.',
+	'POSTS_LOCKED_SUCCESS'		=> 'Les messages que vous avez slectionns ont t verrouills avec succs.',
+	'POSTS_MERGED_SUCCESS'		=> 'Les messages que vous avez slectionns ont t fusionns avec succs.',
+	'POSTS_UNLOCKED_SUCCESS'	=> 'Les messages que vous avez slectionns ont t dverrouills avec succs.',
+	'POSTS_PER_PAGE'			=> 'Messages par page ',
+	'POSTS_PER_PAGE_EXPLAIN'	=> 'Rglez cette valeur sur 0 afin de consulter tous les messages.',
+	'POST_APPROVED_SUCCESS'		=> 'Le message que vous avez slectionn a t approuv avec succs.',
+	'POST_DELETED_SUCCESS'		=> 'Le message que vous avez slectionn a t supprim de la base de donnes avec succs.',
+	'POST_DISAPPROVED_SUCCESS'	=> 'Le message que vous avez slectionn a t dsapprouv avec succs.',
+	'POST_LOCKED_SUCCESS'		=> 'Le message a t verrouill avec succs.',
+	'POST_NOT_EXIST'			=> 'Le message que vous souhaitez consulter nexiste pas.',
+	'POST_REPORTED_SUCCESS'		=> 'Ce message a t rapport avec succs.',
+	'POST_UNLOCKED_SUCCESS'		=> 'Le message a t dverrouill avec succs.',
+
+	'READ_USERNOTES'			=> 'Note(s) sur lutilisateur',
+	'READ_WARNINGS'				=> 'Avertissements de lutilisateur',
+	'REPORTER'					=> 'Auteur du rapport',
+	'REPORTED'					=> 'Rapport',
+	'REPORTED_BY'				=> 'Rapport par',
+	'REPORTED_ON_DATE'			=> 'le',
+	'REPORTS_CLOSED_SUCCESS'	=> 'Les rapports que vous avez slectionns ont t ferms avec succs.',
+	'REPORTS_DELETED_SUCCESS'	=> 'Les rapports que vous avez slectionns ont t supprims avec succs.',
+	'REPORTS_TOTAL'				=> 'Au total, il y a <strong>%d</strong> rapports  traiter.',
+	'REPORTS_ZERO_TOTAL'		=> 'Il ny a aucun rapport  traiter.',
+	'REPORT_CLOSED'				=> 'Ce rapport a dj t ferm.',
+	'REPORT_CLOSED_SUCCESS'		=> 'Le rapport que vous avez slectionn a t ferm avec succs.',
+	'REPORT_DELETED_SUCCESS'	=> 'Le rapport que vous avez slectionn a t supprim avec succs.',
+	'REPORT_DETAILS'			=> 'Informations sur le rapport',
+	'REPORT_MESSAGE'			=> 'Rapporter ce message',
+	'REPORT_MESSAGE_EXPLAIN'	=> 'Utilisez ce formulaire afin de rapporter le message priv que vous avez slectionn. Seuls les messages violant des rgles du forum devraient tre rapports. <strong>Lorsquun message priv est rapport, son contenu est rendu visible  tous les modrateurs.</strong>',
+	'REPORT_NOTIFY'				=> 'Mavertir',
+	'REPORT_NOTIFY_EXPLAIN'		=> 'Vous avertir lorsque votre rapport sera trait.',
+	'REPORT_POST_EXPLAIN'		=> 'Utilisez ce formulaire afin de rapporter le message que vous avez slectionn aux modrateurs et aux administrateurs du forum. Seuls les messages violant des rgles du forum devraient tre rapports.',
+	'REPORT_REASON'				=> 'Raison du rapport',
+	'REPORT_TIME'				=> 'Date du rapport',
+	'REPORT_TOTAL'				=> 'Au total, il y a <strong>1</strong> rapport  traiter.',
+	'RESYNC'					=> 'Resynchroniser',
+	'RETURN_MESSAGE'			=> '%sRetour au message%s',
+	'RETURN_NEW_FORUM'			=> '%sAller sur le nouveau forum%s',
+	'RETURN_NEW_TOPIC'			=> '%sAller sur le nouveau sujet%s',
+	'RETURN_PM'					=> '%sRetour au message priv%s',
+	'RETURN_POST'				=> '%sRetour au message%s',
+	'RETURN_QUEUE'				=> '%sRetour  la file dattente%s',
+	'RETURN_REPORTS'			=> '%sRetour aux rapports%s',
+	'RETURN_TOPIC_SIMPLE'		=> '%sRetour au sujet%s',
+
+	'SEARCH_POSTS_BY_USER'				=> 'Rechercher les messages par',
+	'SELECT_ACTION'						=> 'Slectionner une action souhaite',
+	'SELECT_FORUM_GLOBAL_ANNOUNCEMENT'	=> 'Veuillez slectionner le forum dans lequel vous souhaitez afficher cette annonce globale.',
+	'SELECT_FORUM_GLOBAL_ANNOUNCEMENTS'	=> 'Un ou plusieurs sujets que vous avez slectionn(s) sont des annonces globales. Veuillez slectionner le forum dans lequel vous souhaitez quelles soient affiches.',
+	'SELECT_MERGE'						=> 'Slectionner pour la fusion',
+	'SELECT_TOPICS_FROM'				=> 'Slectionner les sujets de',
+	'SELECT_TOPIC'						=> 'Slectionner le sujet',
+	'SELECT_USER'						=> 'Slectionner lutilisateur ',
+	'SORT_ACTION'						=> 'Historique',
+	'SORT_DATE'							=> 'Date',
+	'SORT_IP'							=> 'Adresse IP',
+	'SORT_WARNINGS'						=> 'Avertissements',
+	'SPLIT_AFTER'						=> 'Diviser le sujet  partir du message slectionn',
+	'SPLIT_FORUM'						=> 'Forum du nouveau sujet ',
+	'SPLIT_POSTS'						=> 'Diviser les messages slectionns',
+	'SPLIT_SUBJECT'						=> 'Titre du nouveau sujet ',
+	'SPLIT_TOPIC_ALL'					=> 'Diviser le sujet  partir des messages slectionns',
+	'SPLIT_TOPIC_ALL_CONFIRM'			=> 'tes-vous sr de vouloir diviser ce sujet ?',
+	'SPLIT_TOPIC_BEYOND'				=> 'Diviser le sujet  partir du message slectionn',
+	'SPLIT_TOPIC_BEYOND_CONFIRM'		=> 'tes-vous sr de vouloir diviser ce sujet  partir du message que vous avez slectionn ?',
+	'SPLIT_TOPIC_EXPLAIN'				=> 'En utilisant le formulaire ci-dessous, vous pouvez diviser un sujet en deux. Pour ce faire, slectionnez de manire individuelle les sujets ou divisez le sujet  partir dun message que vous avez slectionn.',
+
+	'THIS_PM_IP'				=> 'IP de ce message priv ',
+	'THIS_POST_IP'				=> 'IP de ce message ',
+	'TOPICS_APPROVED_SUCCESS'	=> 'Les sujets que vous avez slectionns ont t approuvs avec succs.',
+	'TOPICS_DELETED_SUCCESS'	=> 'Les sujets que vous avez slectionns ont t supprims de la base de donnes avec succs.',
+	'TOPICS_DISAPPROVED_SUCCESS'=> 'Les sujets que vous avez slectionns ont t dsapprouvs avec succs.',
+	'TOPICS_FORKED_SUCCESS'		=> 'Les sujets que vous avez slectionns ont t copis avec succs.',
+	'TOPICS_LOCKED_SUCCESS'		=> 'Les sujets que vous avez slectionns ont t verrouills avec succs.',
+	'TOPICS_MOVED_SUCCESS'		=> 'Les sujets que vous avez slectionns ont t dplacs avec succs.',
+	'TOPICS_RESYNC_SUCCESS'		=> 'Les sujets que vous avez slectionns ont t resynchroniss avec succs.',
+	'TOPICS_TYPE_CHANGED'		=> 'Les types de sujet ont t modifis avec succs.',
+	'TOPICS_UNLOCKED_SUCCESS'	=> 'Les sujets que vous avez slectionns ont t dverrouills avec succs.',
+	'TOPIC_APPROVED_SUCCESS'	=> 'Le sujet que vous avez slectionn a t approuv avec succs.',
+	'TOPIC_DELETED_SUCCESS'		=> 'Le sujet que vous avez slectionn a t supprim de la base de donnes avec succs.',
+	'TOPIC_DISAPPROVED_SUCCESS'	=> 'Le sujet que vous avez slectionn a t dsapprouv avec succs.',
+	'TOPIC_FORKED_SUCCESS'		=> 'Le sujet que vous avez slectionn a t copi avec succs.',
+	'TOPIC_LOCKED_SUCCESS'		=> 'Le sujet que vous avez slectionn a t verrouill avec succs.',
+	'TOPIC_MOVED_SUCCESS'		=> 'Le sujet que vous avez slectionn a t dplac avec succs.',
+	'TOPIC_NOT_EXIST'			=> 'Le sujet que vous souhaitez consulter nexiste pas.',
+	'TOPIC_RESYNC_SUCCESS'		=> 'Le sujet que vous avez slectionn a t resynchronis avec succs.',
+	'TOPIC_SPLIT_SUCCESS'		=> 'Le sujet que vous avez slectionn a t divis avec succs.',
+	'TOPIC_TIME'				=> 'Heure du sujet',
+	'TOPIC_TYPE_CHANGED'		=> 'Le type de sujet a t modifi avec succs.',
+	'TOPIC_UNLOCKED_SUCCESS'	=> 'Le sujet que vous avez slectionn a t dverrouill avec succs.',
+	'TOTAL_WARNINGS'			=> 'Nombre total davertissements',
+
+	'UNAPPROVED_POSTS_TOTAL'		=> 'Au total, il y a <strong>%d</strong> messages en attente dapprobation.',
+	'UNAPPROVED_POSTS_ZERO_TOTAL'	=> 'Aucun message nest en attente dapprobation.',
+	'UNAPPROVED_POST_TOTAL'			=> 'Au total, il y a <strong>1</strong> message en attente dapprobation.',
+	'UNLOCK'						=> 'Dverrouiller',
+	'UNLOCK_POST'					=> 'Dverrouiller le message',
+	'UNLOCK_POST_EXPLAIN'			=> 'Autoriser ldition',
+	'UNLOCK_POST_POST'				=> 'Dverrouiller le message',
+	'UNLOCK_POST_POST_CONFIRM'		=> 'tes-vous sr de vouloir autoriser ldition de ce message ?',
+	'UNLOCK_POST_POSTS'				=> 'Dverrouiller les messages slectionns',
+	'UNLOCK_POST_POSTS_CONFIRM'		=> 'tes-vous sr de vouloir autoriser ldition des messages que vous avez slectionns ?',
+	'UNLOCK_TOPIC'					=> 'Dverrouiller le sujet',
+	'UNLOCK_TOPIC_CONFIRM'			=> 'tes-vous sr de vouloir dverrouiller ce sujet ?',
+	'UNLOCK_TOPICS'					=> 'Dverrouiller les sujets slectionns',
+	'UNLOCK_TOPICS_CONFIRM'			=> 'tes-vous sr de vouloir dverrouiller tous les sujets que vous avez slectionns ?',
+	'USER_CANNOT_POST'				=> 'Vous ne pouvez pas publier de message dans ce forum.',
+	'USER_CANNOT_REPORT'			=> 'Vous ne pouvez pas rapporter les messages de ce forum.',
+	'USER_FEEDBACK_ADDED'			=> 'La remarque a t ajout sur lutilisateur avec succs.',
+	'USER_WARNING_ADDED'			=> 'Lutilisateur a t averti avec succs.',
+
+	'VIEW_DETAILS'			=> 'Consulter les informations',
+	'VIEW_PM'				=> 'Consulter le message priv',
+	'VIEW_POST'				=> 'Consulter le message',
+
+	'WARNED_USERS'			=> 'Utilisateurs avertis',
+	'WARNED_USERS_EXPLAIN'	=> 'Ceci est la liste des utilisateurs avertis dont la priode na pas encore expire.',
+	'WARNING_PM_BODY'		=> 'Ceci est un avertissement prononc  votre encontre par un administrateur ou un modrateur de ce forum.[quote]%s[/quote]',
+	'WARNING_PM_SUBJECT'	=> 'Avertissement',
+	'WARNING_POST_DEFAULT'	=> 'Ceci est un avertissement concernant votre message suivant : %s .',
+	'WARNINGS_ZERO_TOTAL'	=> 'Aucun avertissement nexiste.',
+
+	'YOU_SELECTED_TOPIC'	=> 'Vous avez slectionn le sujet numro %d : %s.',
+
+	'report_reasons'		=> array(
+		'TITLE'	=> array(
+			'WAREZ'		=> 'Piratage',
+			'SPAM'		=> 'Pourriel',
+			'OFF_TOPIC'	=> 'Hors-sujet',
+			'OTHER'		=> 'Autre',
+		),
+		'DESCRIPTION' => array(
+			'WAREZ'		=> 'Le message rapport contient un ou plusieurs liens dirigeant vers des ressources illgales ou des logiciels pirats.',
+			'SPAM'		=> 'Le message rapport contient de la publicit visant  promouvoir un site internet ou un produit.',
+			'OFF_TOPIC'	=> 'Le message rapport est hors-sujet.',
+			'OTHER'		=> 'Le message rapport ne correspond  aucune catgorie, veuillez utiliser le champ dinformation supplmentaire.',
+		)
+	),
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/memberlist.php phpBB3/language/fr/memberlist.php
--- phpBB3-init/language/fr/memberlist.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/memberlist.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,151 @@
+<?php
+/**
+*
+* memberlist [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ABOUT_USER'			=> 'Profil',
+	'ACTIVE_IN_FORUM'		=> 'Forum le plus actif ',
+	'ACTIVE_IN_TOPIC'		=> 'Sujet le plus actif ',
+	'ADD_FOE'				=> 'Ajouter un ignor',
+	'ADD_FRIEND'			=> 'Ajouter un ami',
+	'AFTER'					=> 'Aprs',
+
+	'ALL'					=> 'Tous',
+
+	'BEFORE'				=> 'Avant',
+
+	'CC_EMAIL'				=> 'Senvoyer une copie de ce courriel.',
+	'CONTACT_USER'			=> 'Contacter',
+
+	'DEST_LANG'				=> 'Langue',
+	'DEST_LANG_EXPLAIN'		=> 'Slectionnez une langue approprie, si elle existe, concernant le destinataire de ce message.',
+
+	'EMAIL_BODY_EXPLAIN'	=> 'Ce message sera envoy en texte brut, ny incluez aucun code HTML ou BBCode. Ladresse de retour de ce message correspond  votre adresse de courrier lectronique.',
+	'EMAIL_DISABLED'		=> 'Toutes les fonctionnalits lies aux courriels ont t dsactives.',
+	'EMAIL_SENT'			=> 'Le courriel a t envoy avec succs.',
+	'EMAIL_TOPIC_EXPLAIN'	=> 'Ce message sera envoy en texte brut, ny incluez aucun code HTML ou BBCode. Veuillez noter que le contenu du sujet est dj intgr au message. Ladresse de retour de ce message correspond  votre adresse de courrier lectronique.',
+	'EMPTY_ADDRESS_EMAIL'	=> 'Vous devez fournir une adresse de courrier lectronique correcte concernant le destinataire.',
+	'EMPTY_MESSAGE_EMAIL'	=> 'Vous devez saisir un message afin denvoyer un courriel.',
+	'EMPTY_MESSAGE_IM'		=> 'Vous devez saisir le contenu du message afin de lenvoyer.',
+	'EMPTY_NAME_EMAIL'		=> 'Vous devez saisir le nom rel du destinataire.',
+	'EMPTY_SUBJECT_EMAIL'	=> 'Vous devez spcifier le sujet du courriel.',
+	'EQUAL_TO'				=> 'gal ',
+
+	'FIND_USERNAME_EXPLAIN'	=> 'Utilisez ce formulaire afin de rechercher des membres spcifiques. Vous navez pas besoin de complter tous les champs. Pour utiliser partiellement une donne, utilisez * comme joker. Lorsque vous saisissez une date, utilisez le format <kbd>AAAA-MM-JJ</kbd>, comme par exemple <samp>2004-02-29</samp>. Utilisez les cases  cocher afin de slectionner un ou plusieurs noms dutilisateurs, puis cliquez sur le bouton  Slectionner la slection  afin de retourner au formulaire prcdent.',
+	'FLOOD_EMAIL_LIMIT'		=> 'Vous ne pouvez pas envoyer dautres courriels actuellement. Veuillez ressayer ultrieurement.',
+
+	'GROUP_LEADER'			=> 'Responsable du groupe',
+
+	'HIDE_MEMBER_SEARCH'	=> 'Masquer la recherche des membres',
+
+	'IM_ADD_CONTACT'		=> 'Ajouter un contact',
+	'IM_AIM'				=> 'Veuillez noter que vous avez besoin dAOL Instant Messenger afin dutiliser cette fonctionnalit.',
+	'IM_AIM_EXPRESS'		=> 'AIM Express',
+	'IM_DOWNLOAD_APP'		=> 'Tlcharger lapplication',
+	'IM_ICQ'				=> 'Veuillez noter que des utilisateurs ont pu choisir de ne pas recevoir de messages instantans non sollicits.',
+	'IM_JABBER'				=> 'Veuillez noter que des utilisateurs ont pu choisir de ne pas recevoir de messages instantans non sollicits.',
+	'IM_JABBER_SUBJECT'		=> 'Ceci est un message automatique, merci de ne pas y rpondre ! Message de lutilisateur %1$s le %2$s.',
+	'IM_MESSAGE'			=> 'Votre message',
+	'IM_MSNM'				=> 'Veuillez noter que vous avez besoin de Windows Messenger afin dutiliser cette fonctionnalit.',
+	'IM_MSNM_BROWSER'		=> 'Votre navigateur ne supporte pas cela.',
+	'IM_MSNM_CONNECT'		=> 'MSNM nest pas connect.\nVous devez vous connecter  MSNM afin de continuer.',
+	'IM_NAME'				=> 'Votre nom',
+	'IM_NO_DATA'			=> 'Il ny a aucune information de contact approprie concernant cet utilisateur.',
+	'IM_NO_JABBER'			=> 'La transmission de messages instantans vers des utilisateurs de Jabber nest pas supporte sur ce forum. Vous avez besoin dinstaller un client Jabber sur votre systme afin de contacter le destinataire ci-dessus.',
+	'IM_RECIPIENT'			=> 'Destinataire',
+	'IM_SEND'				=> 'Envoyer un message',
+	'IM_SEND_MESSAGE'		=> 'Envoyer un message',
+	'IM_SENT_JABBER'		=> 'Votre message destin  %1$s a t envoy avec succs.',
+	'IM_USER'				=> 'Envoyer un message instantan',
+
+	'LAST_ACTIVE'				=> 'Dernire visite le ',
+	'LESS_THAN'					=> 'Moins que',
+	'LIST_USER'					=> '1 utilisateur',
+	'LIST_USERS'				=> '%d utilisateurs',
+	'LOGIN_EXPLAIN_LEADERS'		=> 'Vous devez vous inscrire et vous connecter afin de pouvoir consulter la liste de lquipe.',
+	'LOGIN_EXPLAIN_MEMBERLIST'	=> 'Vous devez vous inscrire et vous connecter afin de pouvoir consulter la liste des membres.',
+	'LOGIN_EXPLAIN_SEARCHUSER'	=> 'Vous devez vous inscrire et vous connecter afin de pouvoir rechercher des utilisateurs.',
+	'LOGIN_EXPLAIN_VIEWPROFILE'	=> 'Vous devez vous inscrire et vous connecter afin de pouvoir consulter des profils.',
+
+	'MORE_THAN'				=> 'Plus que',
+
+	'NO_EMAIL'				=> 'Vous ntes pas autoris  envoyer un courriel  cet utilisateur.',
+	'NO_VIEW_USERS'			=> 'Vous ntes pas autoris  consulter la liste des membres ou leurs profils.',
+
+	'ORDER'					=> 'Ordre',
+	'OTHER'					=> 'Autre',
+
+	'POST_IP'				=> 'Publi depuis le domaine/IP',
+
+	'RANK'					=> 'Rang',
+	'REAL_NAME'				=> 'Nom du destinataire',
+	'RECIPIENT'				=> 'Destinataire',
+	'REMOVE_FOE'			=> 'Retirer un ignor',
+	'REMOVE_FRIEND'			=> 'Retirer un ami',
+
+	'SELECT_MARKED'			=> 'Slectionner la slection',
+	'SELECT_SORT_METHOD'	=> 'Slectionner la mthode de tri',
+	'SEND_AIM_MESSAGE'		=> 'Envoyer un message AIM',
+	'SEND_ICQ_MESSAGE'		=> 'Envoyer un message ICQ',
+	'SEND_IM'				=> 'Messagerie instantane',
+	'SEND_JABBER_MESSAGE'	=> 'Envoyer un message Jabber',
+	'SEND_MESSAGE'			=> 'Message',
+	'SEND_MSNM_MESSAGE'		=> 'Envoyer un message MSNM/WLM',
+	'SEND_YIM_MESSAGE'		=> 'Envoyer un message YIM',
+	'SORT_EMAIL'			=> 'Adresse de courrier lectronique',
+	'SORT_LAST_ACTIVE'		=> 'Dernire activit',
+	'SORT_POST_COUNT'		=> 'Nombre de messages',
+
+	'USERNAME_BEGINS_WITH'	=> 'Noms dutilisateurs commenant par ',
+	'USER_ADMIN'			=> 'Administrer lutilisateur',
+	'USER_BAN'				=> 'Bannissement',
+	'USER_FORUM'			=> 'Statistiques de lutilisateur',
+	'USER_LAST_REMINDED'	=> array(
+		0		=> 'Aucun rappel na t envoy pour le moment',
+		1		=> '%1$d rappel(s) envoy(s)<br /> %2$s',
+	),
+	'USER_ONLINE'			=> 'En ligne',
+	'USER_PRESENCE'			=> 'Prsence sur le forum',
+
+	'VIEWING_PROFILE'		=> 'Consulte un profil - %s',
+	'VISITED'				=> 'Dernire visite le ',
+
+	'WWW'					=> 'Site internet ',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/mods/auth_cas.php phpBB3/language/fr/mods/auth_cas.php
--- phpBB3-init/language/fr/mods/auth_cas.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/mods/auth_cas.php	2013-01-28 17:31:47.716708650 +0100
@@ -0,0 +1,44 @@
+<?php
+/** 
+* phpBB CAS Authentication plugin.
+*
+* @package language
+* @version $Id$
+* @copyright (c) 2012 Anelis
+* @author Gregoire Astruc <gregoire.astruc@anelis.isima.fr>
+* @license http://opensource.org/licenses/LGPL-2.1 LGPL v2.1
+*
+*/
+                    
+/**
+* DO NOT CHANGE
+*/
+if (empty($lang) || !is_array($lang))
+{
+    $lang = array();
+}
+                        
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+                        
+$lang = array_merge($lang, array(
+    'CAS_SERVER'    => 'CAS server name',
+        'CAS_SERVER_EXPLAIN' => 'CAS server name, such as: cas.foo.biz',
+    'CAS_PORT'      => 'CAS server port',
+        'CAS_PORT_EXPLAIN' => 'Port on which the CAS server is listening to.',
+    'CAS_URI'       => 'CAS URI',
+        'CAS_URI_EXPLAIN' => 'Base URI of the cas server. Such as: /login, /cas...',
+    'CAS_VALIDATE'       => 'Valider le certificat du serveur CAS',
+        'CAS_VALIDATE_EXPLAIN' => 'Active/Dsactive la validation du certificat SSL du serveur CAS',
+));
+            
+?>
diff -rNU5 phpBB3-init/language/fr/mods/index.htm phpBB3/language/fr/mods/index.htm
--- phpBB3-init/language/fr/mods/index.htm	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/mods/index.htm	2011-08-23 19:32:52.000000000 +0200
@@ -0,0 +1,10 @@
+<html>
+<head>
+<title></title>
+<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
+</head>
+
+<body bgcolor="#FFFFFF" text="#000000">
+
+</body>
+</html>
diff -rNU5 phpBB3-init/language/fr/posting.php phpBB3/language/fr/posting.php
--- phpBB3-init/language/fr/posting.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/posting.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,227 @@
+<?php
+/**
+*
+* posting [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ADD_ATTACHMENT'			=> 'Transfrer une pice jointe',
+	'ADD_ATTACHMENT_EXPLAIN'	=> 'Si vous souhaitez insrer un ou plusieurs fichiers, veuillez complter les informations ci-dessous.',
+	'ADD_FILE'					=> 'Ajouter le fichier',
+	'ADD_POLL'					=> 'Cration dun sondage',
+	'ADD_POLL_EXPLAIN'			=> 'Laissez ces champs vides si vous ne souhaitez pas ajouter de sondage  votre sujet.',
+	'ALREADY_DELETED'			=> 'Ce message a dj t supprim.',
+	'ATTACH_QUOTA_REACHED'		=> 'La limite du nombre de pices jointes sur le forum a t atteinte.',
+	'ATTACH_SIG'				=> 'Insrer une signature (modifiable depuis le panneau de contrle de lutilisateur)',
+
+	'BBCODE_A_HELP'				=> 'Insrer une pice jointe dans la ligne : [attachment=]nomdufichier.ext[/attachment]',
+	'BBCODE_B_HELP'				=> 'Texte en gras : [b]texte[/b]',
+	'BBCODE_C_HELP'				=> 'Afficher un code : [code]code[/code]',
+	'BBCODE_E_HELP'				=> 'Liste : ajouter une liste dobjets',
+	'BBCODE_F_HELP'				=> 'Taille de la police de caractres : [size=85]texte de petite taille[/size]',
+	'BBCODE_IS_OFF'				=> 'Le %sBBCode%s est <em>dsactiv</em>',
+	'BBCODE_IS_ON'				=> 'Le %sBBCode%s est <em>activ</em>',
+	'BBCODE_I_HELP'				=> 'Texte en italique : [i]texte[/i]',
+	'BBCODE_L_HELP'				=> 'Liste : [list]texte[/list]',
+	'BBCODE_LISTITEM_HELP'		=> 'Objet dune liste : [*]texte[/*]',
+	'BBCODE_O_HELP'				=> 'Liste ordonne : [list=]texte[/list]',
+	'BBCODE_P_HELP'				=> 'Insrer une image : [img]http://lien_de_l_image[/img]',
+	'BBCODE_Q_HELP'				=> 'Citer un texte : [quote]texte[/quote]',
+	'BBCODE_S_HELP'				=> 'Couleur de la police de caractres : [color=red]texte[/color] ou [color=#FF0000]texte[/color]',
+	'BBCODE_U_HELP'				=> 'Souligner un texte : [u]texte[/u]',
+	'BBCODE_W_HELP'				=> 'Insrer un lien : [url]http://lien[/url] ou [url=http://lien]texte du lien[/url]',
+	'BBCODE_D_HELP'				=> 'Flash : [flash=largeur,hauteur]http://lien[/flash]',
+	'BUMP_ERROR'				=> 'Vous ne pouvez pas remonter ce sujet aussitt aprs en avoir publi un.',
+
+	'CANNOT_DELETE_REPLIED'		=> 'Vous ne pouvez pas supprimer les messages qui comportent une ou plusieurs rponses.',
+	'CANNOT_EDIT_POST_LOCKED'	=> 'Ce message a t verrouill, vous ne pouvez dsormais plus lditer.',
+	'CANNOT_EDIT_TIME'			=> 'Vous ne pouvez dsormais plus diter ou supprimer ce message.',
+	'CANNOT_POST_ANNOUNCE'		=> 'Vous ntes pas autoris  publier des annonces.',
+	'CANNOT_POST_STICKY'		=> 'Vous ntes pas autoris  publier des notes.',
+	'CHANGE_TOPIC_TO'			=> 'Modifier le type de sujet en ',
+	'CLOSE_TAGS'				=> 'Fermer les balises',
+	'CURRENT_TOPIC'				=> 'Sujet actuel',
+
+	'DELETE_FILE'				=> 'Supprimer le fichier',
+	'DELETE_MESSAGE'			=> 'Supprimer le message ',
+	'DELETE_MESSAGE_CONFIRM'	=> 'tes-vous sr de vouloir supprimer ce message ?',
+	'DELETE_OWN_POSTS'			=> 'Vous ntes autoris  supprimer que vos propres messages.',
+	'DELETE_POST_CONFIRM'		=> 'tes-vous sr de vouloir supprimer ce message ?',
+	'DELETE_POST_WARN'			=> 'Une fois supprim, le message ne pourra pas tre restaur',
+	'DISABLE_BBCODE'			=> 'Dsactiver le BBCode',
+	'DISABLE_MAGIC_URL'			=> 'Ne pas complter automatiquement les liens',
+	'DISABLE_SMILIES'			=> 'Dsactiver les moticnes',
+	'DISALLOWED_CONTENT'		=> 'Le transfert a t rejet car le fichier transfr a t identifi comme un vecteur dattaque possible.',
+	'DISALLOWED_EXTENSION'		=> 'Lextension %s nest pas autorise.',
+	'DRAFT_LOADED'				=> 'Le brouillon a t charg dans la zone de rdaction, vous pouvez  prsent terminer votre message.<br />Votre brouillon sera supprim aprs lenvoi de ce message.',
+	'DRAFT_LOADED_PM'			=> 'Le brouillon a t charg dans la zone de rdaction, vous pouvez  prsent terminer votre message priv.<br />Votre brouillon sera supprim aprs lenvoi de ce message priv.',
+	'DRAFT_SAVED'				=> 'Le brouillon a t sauvegard avec succs.',
+	'DRAFT_TITLE'				=> 'Titre du brouillon',
+
+	'EDIT_REASON'				=> 'Raison de ldition de ce message ',
+	'EMPTY_FILEUPLOAD'			=> 'Le fichier transfr est vide.',
+	'EMPTY_MESSAGE'				=> 'Vous devez saisir un message si vous souhaitez en publier un.',
+	'EMPTY_REMOTE_DATA'			=> 'Le fichier na pas pu tre transfr, veuillez essayer de le transfrer manuellement.',
+
+	'FLASH_IS_OFF'				=> 'La balise [flash] est <em>dsactive</em>',
+	'FLASH_IS_ON'				=> 'La balise [flash] est <em>active</em>',
+	'FLOOD_ERROR'				=> 'Vous ne pouvez pas rdiger de message aussitt aprs en avoir publi un.',
+	'FONT_COLOR'				=> 'Couleur de la police',
+	'FONT_COLOR_HIDE'			=> 'Masquer la colorisation de la police',
+	'FONT_HUGE'					=> 'norme',
+	'FONT_LARGE'				=> 'Grande',
+	'FONT_NORMAL'				=> 'Normale',
+	'FONT_SIZE'					=> 'Taille de la police de caractres ',
+	'FONT_SMALL'				=> 'Petite',
+	'FONT_TINY'					=> 'Minuscule',
+
+	'GENERAL_UPLOAD_ERROR'		=> 'Impossible de transfrer la pice jointe sur %s.',
+
+	'IMAGES_ARE_OFF'			=> 'La balise [img] est <em>dsactive</em>',
+	'IMAGES_ARE_ON'				=> 'La balise [img] est <em>active</em>',
+	'INVALID_FILENAME'			=> '%s est un nom de fichier invalide.',
+
+	'LOAD'						=> 'Charger',
+	'LOAD_DRAFT'				=> 'Charger un brouillon',
+	'LOAD_DRAFT_EXPLAIN'		=> 'Vous pouvez slectionner ici le brouillon que vous souhaitez continuer  rdiger. Votre message actuel sera annul et tout son contenu sera supprim. Vous pouvez consulter, diter et supprimer vos brouillons depuis le panneau de contrle de lutilisateur.',
+	'LOGIN_EXPLAIN_BUMP'		=> 'Vous devez vous connecter afin de pouvoir remonter les sujets de ce forum.',
+	'LOGIN_EXPLAIN_DELETE'		=> 'Vous devez vous connecter afin de pouvoir supprimer les sujets de ce forum.',
+	'LOGIN_EXPLAIN_POST'		=> 'Vous devez vous connecter afin de pouvoir publier des messages dans ce forum.',
+	'LOGIN_EXPLAIN_QUOTE'		=> 'Vous devez vous connecter afin de pouvoir citer des messages dans ce forum.',
+	'LOGIN_EXPLAIN_REPLY'		=> 'Vous devez vous connecter afin de pouvoir rpondre aux sujets de ce forum.',
+
+	'MAX_FONT_SIZE_EXCEEDED'	=> 'Vous ne devez utiliser que les polices de caractres dont la taille est infrieure  %1$d.',
+	'MAX_FLASH_HEIGHT_EXCEEDED'	=> 'Vos fichiers Flash ne doivent pas dpasser %1$d pixels de haut.',
+	'MAX_FLASH_WIDTH_EXCEEDED'	=> 'Vos fichiers Flash ne doivent pas dpasser %1$d pixels de large.',
+	'MAX_IMG_HEIGHT_EXCEEDED'	=> 'Vos images ne doivent pas dpasser %1$d pixels de haut.',
+	'MAX_IMG_WIDTH_EXCEEDED'	=> 'Vos images ne doivent pas dpasser %1$d pixels de large.',
+
+	'MESSAGE_BODY_EXPLAIN'		=> 'Saisissez votre message ici. Il ne doit pas contenir plus de <strong>%d</strong> caractres.',
+	'MESSAGE_DELETED'			=> 'Ce message a t supprim avec succs.',
+	'MORE_SMILIES'				=> 'Accder  davantage dmoticnes',
+
+	'NOTIFY_REPLY'				=> 'Mavertir lorsquune rponse a t publie',
+	'NOT_UPLOADED'				=> 'Le fichier na pas pu tre transfr.',
+	'NO_DELETE_POLL_OPTIONS'	=> 'Vous ne pouvez pas supprimer les options dj en place sur un sondage.',
+	'NO_PM_ICON'				=> 'Aucune icne de MP',
+	'NO_POLL_TITLE'				=> 'Vous devez saisir le titre du sondage.',
+	'NO_POST'					=> 'Le message que vous souhaitez consulter nexiste pas.',
+	'NO_POST_MODE'				=> 'Aucun mode de message na t spcifi.',
+
+	'PARTIAL_UPLOAD'			=> 'Le fichier na t que partiellement transfr.',
+	'PHP_SIZE_NA'				=> 'La taille de la pice jointe est trop importante.<br />La taille maximale autorise, situe dans le fichier php.ini, na pas pu tre dtermine.',
+	'PHP_SIZE_OVERRUN'			=> 'La taille de la pice jointe est trop importante, la taille maximale autorise est de %1$d %2$s.<br />Veuillez noter que ce rglage est situ dans le fichier php.ini et quil ne peut pas tre cras.',
+	'PLACE_INLINE'				=> 'Insrer dans la ligne',
+	'POLL_DELETE'				=> 'Supprimer le sondage',
+	'POLL_FOR'					=> 'Conserver le sondage pendant ',
+	'POLL_FOR_EXPLAIN'			=> 'Saisissez  0  ou laissez vide afin de ne jamais terminer le sondage.',
+	'POLL_MAX_OPTIONS'			=> 'Option(s) par utilisateur ',
+	'POLL_MAX_OPTIONS_EXPLAIN'	=> 'Ceci est le nombre doption(s) que chaque utilisateur peut slectionner lors de leur vote.',
+	'POLL_OPTIONS'				=> 'Option(s) du sondage ',
+	'POLL_OPTIONS_EXPLAIN'		=> 'Insrez chaque option sur une nouvelle ligne. Vous pouvez slectionner jusqu <strong>%d</strong> options.',
+	'POLL_OPTIONS_EDIT_EXPLAIN'	=> 'Insrez chaque option sur une nouvelle ligne. Vous pouvez slectionner jusqu <strong>%d</strong> options. Si vous supprimez ou ajoutez une ou plusieurs options, tous les votes ayant t effectus seront rinitialiss.',
+	'POLL_QUESTION'				=> 'Question du sondage ',
+	'POLL_TITLE_TOO_LONG'		=> 'Le titre du sondage ne doit pas dpasser 100 caractres.',
+	'POLL_TITLE_COMP_TOO_LONG'	=> 'La taille du titre de votre sondage est trop importante. Sachez que les BBCodes ou les moticnes se sont pas pris en compte et quils devraient par consquent tre supprims.',
+	'POLL_VOTE_CHANGE'			=> 'Autoriser les votes multiples ',
+	'POLL_VOTE_CHANGE_EXPLAIN'	=> 'Si cette option est active, les utilisateurs pourront modifier leur(s) vote(s).',
+	'POSTED_ATTACHMENTS'		=> 'Pices jointes publies',
+	'POST_APPROVAL_NOTIFY'		=> 'Vous serez averti lorsque votre message sera approuv.',
+	'POST_CONFIRMATION'			=> 'Confirmation du message',
+	'POST_CONFIRM_EXPLAIN'		=> 'Pour viter la publication de messages automatiss, vous devez saisir un code de confirmation. Le code est affich dans limage que vous devriez voir ci-dessous. Si vous tes visuellement dficient ou que vous prouvez des difficults  lire ce code correctement, veuillez contacter l%sadministrateur du forum%s.',
+	'POST_DELETED'				=> 'Ce message a t supprim avec succs.',
+	'POST_EDITED'				=> 'Ce message a t dit avec succs.',
+	'POST_EDITED_MOD'			=> 'Ce message a t dit avec succs mais il doit tre approuv par un modrateur afin dtre visible publiquement.',
+	'POST_GLOBAL'				=> 'Annonce globale',
+	'POST_ICON'					=> 'Icne du message ',
+	'POST_NORMAL'				=> 'Normal',
+	'POST_REVIEW'				=> 'Prvisualisation du message',
+	'POST_REVIEW_EDIT'			=> 'Prvisualisation du message',
+	'POST_REVIEW_EDIT_EXPLAIN'	=> 'Ce message a t modifi par un autre utilisateur lorsque vous tiez en train de lditer. Si vous le souhaitez, vous pouvez prvisualiser la version actuelle de ce message et ajuster vos modifications.',
+	'POST_REVIEW_EXPLAIN'		=> 'Au moins un nouveau message a t publi  partir de ce sujet. Si vous le souhaitez, vous pouvez consulter votre message qui apparatra en surbrillance.',
+	'POST_STORED'				=> 'Ce message a t publi avec succs.',
+	'POST_STORED_MOD'			=> 'Ce message a t envoy avec succs mais il doit tre approuv par un modrateur afin dtre visible publiquement.',
+	'POST_TOPIC_AS'				=> 'Publier le sujet en tant que ',
+	'PROGRESS_BAR'				=> 'Barre de progression',
+
+	'QUOTE_DEPTH_EXCEEDED'		=> 'Vous ne pouvez insrer que %1$d citations imbriques.',
+
+	'SAVE'						=> 'Sauvegarder',
+	'SAVE_DATE'					=> 'Sauvegard le',
+	'SAVE_DRAFT'				=> 'Sauvegarder le brouillon',
+	'SAVE_DRAFT_CONFIRM'		=> 'Veuillez noter que les brouillons sauvegards nincluent que le sujet et le message, tout autre lment sera supprim. Souhaitez-vous sauvegarder votre brouillon ds  prsent ?',
+	'SMILIES'					=> 'moticnes',
+	'SMILIES_ARE_OFF'			=> 'Les moticnes sont <em>dsactives</em>',
+	'SMILIES_ARE_ON'			=> 'Les moticnes sont <em>actives</em>',
+	'STICKY_ANNOUNCE_TIME_LIMIT'=> 'Dure limite de la note/annonce ',
+	'STICK_TOPIC_FOR'			=> 'Dure limite de la note ',
+	'STICK_TOPIC_FOR_EXPLAIN'	=> 'Saisissez  0  ou laissez cette case vide afin de ne jamais terminer la note ou lannonce. Veuillez noter que ce nombre est relatif  la date du message.',
+	'STYLES_TIP'				=> 'Astuce : les mises en forme peuvent rapidement tre appliques en slectionnant le texte.',
+
+	'TOO_FEW_CHARS'				=> 'Votre message ne contient pas assez de caractres.',
+	'TOO_FEW_CHARS_LIMIT'		=> 'Votre message contient %1$d caractres. Vous devez saisir au moins %2$d caractres.',
+	'TOO_FEW_POLL_OPTIONS'		=> 'Vous devez saisir au moins deux options afin de crer le sondage.',
+	'TOO_MANY_ATTACHMENTS'		=> 'Impossible dajouter une nouvelle pice jointe, la limite maximale est de %d.',
+	'TOO_MANY_CHARS'			=> 'Votre message contient trop de caractres.',
+	'TOO_MANY_CHARS_POST'		=> 'Votre message contient %1$d caractres. Le nombre maximum de caractres autoriss est de %2$d.',
+	'TOO_MANY_CHARS_SIG'		=> 'Votre signature contient %1$d caractres. Le nombre maximum de caractres autoriss est de %2$d.',
+	'TOO_MANY_POLL_OPTIONS'		=> 'Vous avez essay de voter pour un trop grand nombre doptions.',
+	'TOO_MANY_SMILIES'			=> 'Votre message contient trop dmoticnes. Le nombre maximum dmoticnes autorises est de %d.',
+	'TOO_MANY_URLS'				=> 'Votre message contient trop de liens. Le nombre maximum de liens autoriss est de %d.',
+	'TOO_MANY_USER_OPTIONS'		=> 'Vous ne pouvez pas spcifier autant doptions par utilisateur car le sondage en contient moins.',
+	'TOPIC_BUMPED'				=> 'Le sujet a t remont avec succs.',
+
+	'UNAUTHORISED_BBCODE'		=> 'Vous ne pouvez pas utiliser certains BBCodes : %s.',
+	'UNGLOBALISE_EXPLAIN'		=> 'Pour rtablir cette annonce globale en sujet standard, vous devez slectionner le forum dans lequel vous souhaitez que ce sujet soit affich.',
+	'UPDATE_COMMENT'			=> 'Mettre  jour la description',
+	'URL_INVALID'				=> 'Le lien que vous avez spcifi est incorrect.',
+	'URL_NOT_FOUND'				=> 'Le fichier que vous avez spcifi est introuvable.',
+	'URL_IS_OFF'				=> 'La balise [url] est <em>dsactive</em>',
+	'URL_IS_ON'					=> 'La balise [url] est <em>active</em>',
+	'USER_CANNOT_BUMP'			=> 'Vous ne pouvez pas remonter les sujets de ce forum.',
+	'USER_CANNOT_DELETE'		=> 'Vous ne pouvez pas supprimer les messages de ce forum.',
+	'USER_CANNOT_EDIT'			=> 'Vous ne pouvez pas diter les messages de ce forum.',
+	'USER_CANNOT_REPLY'			=> 'Vous ne pouvez pas rpondre aux messages de ce forum.',
+	'USER_CANNOT_FORUM_POST'	=> 'Vous ntes pas autoris  publier des messages dans ce type de forum.',
+
+	'VIEW_MESSAGE'				=> '%sConsulter le message que vous avez envoy%s',
+	'VIEW_PRIVATE_MESSAGE'		=> '%sConsulter le message priv que vous avez envoy%s',
+
+	'WRONG_FILESIZE'			=> 'Le fichier est trop lourd, la taille maximale autorise est de %1d %2s.',
+	'WRONG_SIZE'				=> 'La taille de limage doit mesurer moins de %1$d pixels de large et %2$d pixels de haut et plus de %3$d pixels de large et %4$d pixels de haut. Limage que vous avez envoye mesure %5$d pixels de large et %6$d pixels de haut.',
+));
+
+?>
diff -rNU5 phpBB3-init/language/fr/search_ignore_words.php phpBB3/language/fr/search_ignore_words.php
--- phpBB3-init/language/fr/search_ignore_words.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/search_ignore_words.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,524 @@
+<?php
+/**
+*
+* search_ignore_words [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+$words = array(
+	'a',
+	'',
+	'ge',
+	'ai',
+	'aime',
+	'aim',
+	'aime',
+	'aimes',
+	'aiment',
+	'aimer',
+	'aimeraient',
+	'aimerais',
+	'aimerait',
+	'aimeriez',
+	'aimerions',
+	'aimes',
+	'aims',
+	'aimez',
+	'aimons',
+	'allaient',
+	'allais',
+	'allait',
+	'all',
+	'alle',
+	'alles',
+	'alls',
+	'allez',
+	'alliez',
+	'allions',
+	'allons',
+	'aprs',
+	'as',
+	'attend',
+	'attendaient',
+	'attendais',
+	'attendait',
+	'attendent',
+	'attendez',
+	'attendiez',
+	'attendions',
+	'attendons',
+	'attendra',
+	'attendrai',
+	'attendrais',
+	'attendras',
+	'attendre',
+	'attendrez',
+	'attendrons',
+	'attendront',
+	'attends',
+	'attendu',
+	'attendue',
+	'attendues',
+	'attendus',
+	'aucun',
+	'aucuns',
+	'aura',
+	'aurai',
+	'aurais',
+	'auras',
+	'aurez',
+	'aurons',
+	'auront',
+	'aussi',
+	'autour',	
+	'autre',
+	'autres',
+	'avant',
+	'avec',
+	'avez',
+	'avoir',
+	'avons',
+	'beaucoup',
+	'bien',
+	'bientt',
+	'bon',
+	'bonjour',
+	'bonsoir',
+	'car',
+	'ce',
+	'celles',
+	'ces',
+	'cette',
+	'ceux',
+	'chaque',
+	'chaques',
+	'chemin',
+	'chose',
+	'choses',
+	'commentaire',
+	'commentaires',
+	'connais',
+	'connaissaient',
+	'connaissais',
+	'connaissait',
+	'connaissent',
+	'connaissez',
+	'connaissiez',
+	'connaissions',
+	'connaissons',
+	'connait',
+	'connat',
+	'connaitre',
+	'connatre',
+	'connu',
+	'connue',
+	'connues',
+	'connus',
+	'court',
+	'dans',
+	'de',
+	'dehors',
+	'demandaient',
+	'demandais',
+	'demandait',
+	'demande',
+	'demand',
+	'demande',
+	'demandes',
+	'demandent',
+	'demander',
+	'demandera',
+	'demanderai',
+	'demanderais',
+	'demanderas',
+	'demandes',
+	'demands',
+	'demandez',
+	'demandiez',
+	'demandions',
+	'demandons',
+	'des',
+	'devaient',
+	'devais',
+	'devait',
+	'devez',
+	'deviez',
+	'devions',
+	'devoir',
+	'devons',
+	'devra',
+	'devrai',
+	'devrais',
+	'devras',
+	'devrez',
+	'devrons',
+	'devront',
+	'dira',
+	'dirai',
+	'dirais',
+	'diras',
+	'dire',
+	'direz',
+	'dirons',
+	'diront',
+	'dis',
+	'disaient',
+	'disais',
+	'disait',
+	'disent',
+	'disiez',
+	'disions',
+	'disons',
+	'dit',
+	'dite',
+	'dites',
+	'dois',
+	'doit',
+	'doivent',
+	'donc',
+	'd',
+	'de',
+	'des',
+	'ds',
+	'crira',
+	'crirai',
+	'crirais',
+	'criras',
+	'crire',
+	'crirez',
+	'crirons',
+	'criront',
+	'cris',
+	'crit',
+	'crivaient',
+	'crivais',
+	'crivait',
+	'crivent',
+	'crivez',
+	'criviez',
+	'crivions',
+	'crivons',
+	'gal',
+	'gale',
+	'entre',
+	'es',
+	'est',
+	'et',
+	'taient',
+	'tais',
+	'tait',
+	'etc',
+	'tes',
+	'tiez',
+	'tions',
+	'tre',
+	'faire',
+	'fais',
+	'faisaient',
+	'faisais',
+	'faisait',
+	'faisiez',
+	'faisions',
+	'faisons',
+	'fait',
+	'faites',
+	'fera',
+	'ferai',
+	'ferais',
+	'feras',
+	'ferez',
+	'ferons',
+	'feront',
+	'fois',
+	'font',
+	'grand',
+	'gros',
+	'grosse',
+	'haut',
+	'heure',
+	'heures',
+	'ici',
+	'il',
+	'ils',
+	'jamais',
+	'je',
+	'jour',
+	'jours',
+	'juste',
+	'la',
+	'large',
+	'le',
+	'les',
+	'leur',
+	'leurs',
+	'loin',
+	'lol',
+	'long',
+	'lui',
+	'ma',
+	'maigre',
+	'maintenant',
+	'mais',
+	'maison',
+	'mauvais',
+	'mdr',
+	'meilleur',
+	'meilleure',
+	'merci',
+	'mes',
+	'met',
+	'mets',
+	'mettaient',
+	'mettais',
+	'mettait',
+	'mettent',
+	'mettez',
+	'mettiez',
+	'mettions',
+	'mettons',
+	'mettra',
+	'mettrai',
+	'mettrais',
+	'mettras',
+	'mettre',
+	'mettrez',
+	'mettrons',
+	'mettront',
+	'mis',
+	'mise',
+	'mises',
+	'moi',
+	'moins',
+	'mon',
+	'monde',
+	'ni',
+	'non',
+	'nos',
+	'notre',
+	'nous',
+	'nouveau',
+	'nouveaut',
+	'nouveauts',
+	'nouveaux',
+	'nouvel',
+	'nouvelle',
+	'nouvelles',	
+	'ont',
+	'or',
+	'ou',
+	'o',
+	'oui',
+	'oups',
+	'page',
+	'par',
+	'parceque',
+	'pas',
+	'personne',
+	'petit',
+	'peu',
+	'peut',
+	'peut-tre',
+	'peuvent',
+	'peux',
+	'plus',
+	'plutt',
+	'pour',
+	'pourquoi',
+	'pourra',
+	'pourrai',
+	'pourras',
+	'pourrez',
+	'pourrons',
+	'pourront',
+	'pouvaient',
+	'pouvais',
+	'pouvait',
+	'pouvez',
+	'pouviez',
+	'pouvions',
+	'pouvoir',
+	'pouvons',
+	'prenaient',
+	'prenais',
+	'prenait',
+	'prend',
+	'prendra',
+	'prendrai',
+	'prendras',
+	'prendre',
+	'prendrez',
+	'prendrons',
+	'prendront',
+	'prends',
+	'prenez',
+	'preniez',
+	'prenions',
+	'prennent',
+	'prenons',
+	'prs',
+	'presque',
+	'prt',
+	'pris',
+	'prise',
+	'prises',
+	'pu',
+	'quand',
+	'que',
+	'quel',
+	'quelconque',	
+	'quels',
+	'question',
+	'questions',
+	'qui',
+	'quiconque',
+	'quoi',
+	'rcent',
+	'rponse',
+	'rien',
+	'sa',
+	'sache',
+	'sachent',
+	'saches',
+	'sachiez',
+	'sachions',
+	'sais',
+	'sait',
+	'salut',
+	'sans',
+	'saura',
+	'saurai',
+	'saurais',
+	'sauras',
+	'saurez',
+	'saurons',
+	'sauront',
+	'savaient',
+	'savais',
+	'savait',
+	'savent',
+	'savez',
+	'saviez',
+	'savions',
+	'savoir',
+	'savons',
+	'sera',
+	'serai',
+	'seraient',
+	'serais',
+	'serait',
+	'seras',
+	'serez',
+	'seriez',
+	'serions',
+	'serons',
+	'seront',
+	'ses',
+	'seulement',
+	'si',
+	'site',
+	'sites',
+	'slt',
+	'sommes',
+	'son',
+	'sont',
+	'sous',
+	'souvent',
+	'su',
+	'suis',
+	'sur',
+	'sr',
+	'svp',
+	'ta',
+	'temps',
+	'tes',
+	'toi',
+	'ton',
+	'toujours',
+	'tous',
+	'tout',
+	'toutes',
+	'trs',
+	'trouvaient',
+	'trouvais',
+	'trouvait',
+	'trouve',
+	'trouv',
+	'trouve',
+	'trouves',
+	'trouvent',
+	'trouver',
+	'trouves',
+	'trouvs',
+	'trouvez',
+	'trouviez',
+	'trouvions',
+	'trouvons',
+	'tu',
+	'un',
+	'une',
+	'utilisateur',
+	'utilisateurs',
+	'va',
+	'vais',
+	'vas',
+	'verra',
+	'verrai',
+	'verrais',
+	'verras',
+	'verrez',
+	'verrons',
+	'verront',
+	'version',
+	'veulent',
+	'veut',
+	'veux',
+	'via',
+	'voient',
+	'voir',
+	'vois',
+	'voit',
+	'vont',
+	'vos',
+	'votre',
+	'voulaient',
+	'voulais',
+	'voulait',
+	'voulez',
+	'vouliez',
+	'voulions',
+	'vouloir',
+	'voulons',
+	'voulu',
+	'voulue',
+	'voulues',
+	'voulus',
+	'vous',
+	'voyaient',
+	'voyais',
+	'voyait',
+	'voyez',
+	'voyiez',
+	'voyions',
+	'voyons',
+	'vrai',
+	'vraiment',
+	'vu',
+	'vue',
+	'vues',
+	'vus',
+	'www',
+);
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/search.php phpBB3/language/fr/search.php
--- phpBB3-init/language/fr/search.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/search.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,108 @@
+<?php
+/**
+*
+* search [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ALL_AVAILABLE'			=> 'Tous disponibles',
+	'ALL_RESULTS'			=> 'Tous les rsultats',
+
+	'DISPLAY_RESULTS'		=> 'Afficher les rsultats sous forme de ',
+
+	'FOUND_SEARCH_MATCH'		=> 'La recherche a retourn %d rsultat',
+	'FOUND_SEARCH_MATCHES'		=> 'La recherche a retourn %d rsultats',
+	'FOUND_MORE_SEARCH_MATCHES'	=> 'La recherche a retourn plus de %d rsultats',
+
+	'GLOBAL'				=> 'Annonce globale',
+
+	'IGNORED_TERMS'			=> 'ignors',
+	'IGNORED_TERMS_EXPLAIN'	=> 'Les mots suivants ont t ignors lors de votre recherche car ils sont considrs comme trop courants : <strong>%s</strong>.',
+
+	'JUMP_TO_POST'			=> 'Sauter vers le message',
+
+	'LOGIN_EXPLAIN_EGOSEARCH'	=> 'Vous devez vous inscrire et vous connecter afin de consulter vos messages.',
+	'LOGIN_EXPLAIN_UNREADSEARCH'=> 'Vous devez vous inscrire et vous connecter afin de consulter vos messages non lus.',
+	'LOGIN_EXPLAIN_NEWPOSTS'	=> 'Vous devez vous inscrire et vous connecter afin de consulter les nouveaux messages qui ont t publis depuis votre dernire visite.',
+
+	'MAX_NUM_SEARCH_KEYWORDS_REFINE'	=> 'Vous avez spcifi un trop grand nombre de mots  rechercher. Veuillez vous limiter  %1$d mots.',
+
+	'NO_KEYWORDS'			=> 'Vous devez spcifier au moins un mot afin deffectuer une recherche. Chaque mot doit tre compos dau moins %d caractres et ne doit pas contenir plus de %d caractres, en excluant les jokers.',
+	'NO_RECENT_SEARCHES'	=> 'Aucune recherche na t effectue rcemment.',
+	'NO_SEARCH'				=> 'Vous ntes pas autoris  utiliser le systme de recherche.',
+	'NO_SEARCH_RESULTS'		=> 'Aucun rsultat ne correspond au(x) terme(s) que vous avez spcifi(s).',
+	'NO_SEARCH_TIME'		=> 'Vous ne pouvez pas utiliser le systme de recherche actuellement. Veuillez ressayer ultrieurement.',
+	'NO_SEARCH_UNREADS'		=> 'Le systme de recherche des messages non lus a t dsactiv sur ce forum.',
+	'WORD_IN_NO_POST'		=> 'Aucun message na t trouv car le mot <strong>%s</strong> nest prsent dans aucun message.',
+	'WORDS_IN_NO_POST'		=> 'Aucun message na t trouv car les mots <strong>%s</strong> ne sont prsents dans aucun message.',
+
+	'POST_CHARACTERS'		=> 'caractre(s) des messages',
+
+	'RECENT_SEARCHES'		=> 'Recherches rcentes',
+	'RESULT_DAYS'			=> 'Limiter les rsultats dans le temps ',
+	'RESULT_SORT'			=> 'Trier les rsultats par ',
+	'RETURN_FIRST'			=> 'Retourner le(s) premier(s) ',
+	'RETURN_TO_SEARCH_ADV'	=> 'Retour  la recherche avance',
+
+	'SEARCHED_FOR'				=> 'Rechercher les termes utiliss',
+	'SEARCHED_TOPIC'			=> 'Sujet recherch',
+	'SEARCH_ALL_TERMS'			=> 'Rechercher tous les termes ou utiliser une question comme entre',
+	'SEARCH_ANY_TERMS'			=> 'Rechercher nimporte quels de ces termes',
+	'SEARCH_AUTHOR'				=> 'Rechercher par auteur ',
+	'SEARCH_AUTHOR_EXPLAIN'		=> 'Utilisez * comme joker si vous souhaitez effectuer des recherches partielles.',
+	'SEARCH_FIRST_POST'			=> 'Le premier message des sujets uniquement',
+	'SEARCH_FORUMS'				=> 'Rechercher dans le(s) forum(s) ',
+	'SEARCH_FORUMS_EXPLAIN'		=> 'Slectionnez le forum ou les forums dans le(s)quel(s) vous souhaitez effectuer une recherche. Les sous-forums seront automatiquement inclus dans la recherche si vous ne dsactivez pas loption  Rechercher dans les sous-forums  affiche ci-dessous.',
+	'SEARCH_IN_RESULTS'			=> 'Rechercher dans ces rsultats',
+	'SEARCH_KEYWORDS_EXPLAIN'	=> 'Insrez <strong>+</strong> devant un mot qui doit tre trouv et <strong>-</strong> devant un mot qui doit tre ignor. Insrez une liste de mots spars entre des barres verticales discontinues <strong>|</strong> si seul un des mots doit tre trouv. Utilisez * comme joker si vous souhaitez effectuer des recherches partielles.',
+	'SEARCH_MSG_ONLY'			=> 'Le contenu des messages uniquement',
+	'SEARCH_OPTIONS'			=> 'Options de la recherche',
+	'SEARCH_QUERY'				=> 'Question de la recherche',
+	'SEARCH_SUBFORUMS'			=> 'Rechercher dans les sous-forums ',
+	'SEARCH_TITLE_MSG'			=> 'Les titres des sujets et le contenu des messages',
+	'SEARCH_TITLE_ONLY'			=> 'Les titres des sujets uniquement',
+	'SEARCH_WITHIN'				=> 'Rechercher dans ',
+	'SORT_ASCENDING'			=> 'Croissant',
+	'SORT_AUTHOR'				=> 'Auteur',
+	'SORT_DESCENDING'			=> 'Dcroissant',
+	'SORT_FORUM'				=> 'Forum',
+	'SORT_POST_SUBJECT'			=> 'Sujet du message',
+	'SORT_TIME'					=> 'Heure du message',
+
+	'TOO_FEW_AUTHOR_CHARS'	=> 'Vous devez spcifier au moins %d caractres du nom des auteurs.',
+));
+
+?>
diff -rNU5 phpBB3-init/language/fr/search_synonyms.php phpBB3/language/fr/search_synonyms.php
--- phpBB3-init/language/fr/search_synonyms.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/search_synonyms.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,478 @@
+<?php
+/**
+*
+* search_synonyms [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+$synonyms = array(
+	' posteriori'	=> ' postriori',	// Or a posteriori
+	'abbattage'		=> 'abattage',
+	'abbrviation'	=> 'abrviation',
+	'abcisse'		=> 'abscisse',
+	'abondament'	=> 'abondamment',
+	'abrvation'	=> 'abrviation',
+	'absisse'		=> 'abscisse',
+	'absorbtion'	=> 'absorption',
+	'acalmie'		=> 'accalmie',
+	'acceuil'		=> 'accueil',
+	'accs'			=> 'accs',
+	'accomodation'	=> 'accommodation',
+	'accompte'		=> 'acompte',
+	'accoustique'	=> 'acoustique',
+	'acenseur'		=> 'ascenseur',
+	'acqueux'		=> 'aqueux',
+	'addresse'		=> 'adresse',
+	'adiction'		=> 'addiction',
+	'aropage'		=> 'aropage',
+	'afaires'		=> 'affaires',
+	'afiliation'	=> 'affiliation',
+	'afirmer'		=> 'affirmer',
+	'aggio'			=> 'agio',
+	'aggression'	=> 'agression',
+	'aigu'			=> 'aigu',
+	'aig'			=> 'aigu',
+	'aige'			=> 'aigu',
+	'alocation'		=> 'allocation',
+	'ambigu'		=> 'ambigu',
+	'ambig'		=> 'ambigu',
+	'ambige'		=> 'ambigu',
+	'ambiguit'		=> 'ambigut',
+	'ambigit'		=> 'ambigut',
+	'amorticement'	=> 'amortissement',
+	'animeaux'		=> 'animaux',
+	'annuller'		=> 'annuler',
+	'anonces'		=> 'annonces',
+	'anotation'		=> 'annotation',
+	'Antartique'	=> 'Antarctique',
+	'antcdant'	=> 'antcdent',
+	'antologie'		=> 'anthologie',
+	'apareil'		=> 'appareil',
+	'apel'			=> 'appel',
+	'apell'		=> 'appel',
+	'apelle'		=> 'appele',
+	'apelles'		=> 'appeles',
+	'apells'		=> 'appels',
+	'apparamment'	=> 'apparemment',
+	'apparement'	=> 'apparemment',
+	'appellant'		=> 'appelant',
+	'appellante'	=> 'appelante',
+	'appellantes'	=> 'appelantes',
+	'appellants'	=> 'appelants',
+	'appeller'		=> 'appeler',
+	'appercevoir'	=> 'apercevoir',
+	'aprendre'		=> 'apprendre',
+	'aproche'		=> 'approche',
+	'aqurir'		=> 'acqurir',
+	'aquisition'	=> 'acquisition',
+	'arborigne'	=> 'aborigne',
+	'ardement'		=> 'ardemment',
+	'armoirie'		=> 'armoiries',
+	'associal'		=> 'asocial',
+	'atribuer'		=> 'attribuer',
+	'au dessous'	=> 'au-dessous',
+	'au dessus'		=> 'au-dessus',
+	'audios'		=> 'audio',
+	'autours'		=> 'autour',
+	'avion'			=> 'aroplane',
+	'ayant-droits'	=> 'ayants droit',
+
+	'baillage'		=> 'bailliage',
+	'baillonette'	=> 'baonnette',
+	'ballade'		=> 'balade',	// Ballade exist, but that does not mean a walk
+	'banquaire'		=> 'bancaire',
+	'basalmique'	=> 'balsamique',
+	'Bnlux'		=> 'Benelux',
+	'bisextile'		=> 'bissextile',
+	'bizard'		=> 'bizarre',
+	'blanchiement'	=> 'blanchiment',
+	'blizard'		=> 'blizzard',
+	'bloquage'		=> 'blocage',
+	'boite'			=> 'bote',
+	'boitier'		=> 'botier',
+	'bookmark'		=> 'signet',
+	'boudhisme'		=> 'bouddhisme',
+	'boudhiste'		=> 'bouddhiste',
+	'boudhistes'	=> 'bouddhistes',
+	'brillament'	=> 'brillamment',
+	'britanique'	=> 'britannique',
+	'britaniques'	=> 'britanniques',
+	'bruyament'		=> 'bruyamment',
+
+	''			=> 'a',	//  exist, but that means here, in the French expression  et l
+	'cable'			=> 'cble',
+	'cantonnais'	=> 'cantonais',
+	'capoiera'		=> 'capoeira',
+	'caroussel'		=> 'carrousel',
+	'Carpathes'		=> 'Carpates',
+	'carroussel'	=> 'carrousel',
+	'cauchemard'	=> 'cauchemar',
+	'cel'			=> 'cela',
+	'ceuillir'		=> 'cueillir',
+	'chaptre'		=> 'chapitre',
+	'chateau'		=> 'chteau',
+	'chret'		=> 'chert',
+	'cme'			=> 'cime',
+	'Clmenceau'	=> 'Clemenceau',
+	'coallition'	=> 'coalition',
+	'comme mme'	=> 'quand mme',
+	'complaisament'	=> 'complaisamment',
+	'comunication'	=> 'communication',
+	'comunications'	=> 'communications',
+	'conaisance'	=> 'connaissance',
+	'conaissance'	=> 'connaissance',
+	'conjuguaison'	=> 'conjugaison',
+	'connaisance'	=> 'connaissance',
+	'connection'	=> 'connexion',
+	'connections'	=> 'connexions',
+	'consciement'	=> 'consciemment',
+	'consequent'	=> 'consquent',
+	'consonnance'	=> 'consonance',
+	'constament'	=> 'constamment',
+	'contreverse'	=> 'controverse',
+	'contrevers'	=> 'controvers',
+	'contreverse'	=> 'controverse',
+	'contreverses'	=> 'controverses',
+	'contreverses'	=> 'controverses',
+	'contreverss'	=> 'controverss',
+	'corolaire'		=> 'corollaire',
+	'corolaires'	=> 'corollaires',
+	'corrolaire'	=> 'corollaire',
+	'corrolaires'	=> 'corollaires',
+	'corrollaire'	=> 'corollaire',
+	'corrollaires'	=> 'corollaires',
+	'cteau'		=> 'coteau',
+	'courament'		=> 'couramment',
+	'courrir'		=> 'courir',
+	'croyent'		=> 'croient',
+	'cygogne'		=> 'cigogne',
+
+	'dance'				=> 'danse',
+	'dconnection'		=> 'dconnexion',
+	'ddicasse'			=> 'ddicace',
+	'descrition'		=> 'description',
+	'dvellop'			=> 'dvelopp',
+	'dvellope'		=> 'dveloppe',
+	'dvellopes'		=> 'dveloppes',
+	'dvellopement'		=> 'dveloppement',
+	'dvelloper'		=> 'dvelopper',
+	'dvelloper'		=> 'dvelopper',
+	'dvellops'		=> 'dvelopps',
+	'dvellopp'		=> 'dvelopp',
+	'dvelloppe'		=> 'dveloppe',
+	'dvelloppes'		=> 'dveloppes',
+	'dvelloppement'	=> 'dveloppement',
+	'dvellopper'		=> 'dvelopper',
+	'dvellopps'		=> 'dvelopps',
+	'dvelop'			=> 'dvelopp',
+	'dvelopement'		=> 'dveloppement',
+	'dvelopeur'		=> 'dveloppeur',
+	'dilemne'			=> 'dilemme',
+	'dilemnes'			=> 'dilemmes',
+	'diligement'		=> 'diligemment',
+	'dilluvien'			=> 'diluvien',
+	'dioxyne'			=> 'dioxine',
+	'discourt'			=> 'discours',
+	'discution'			=> 'discussion',
+	'disfonctionnement'	=> 'dysfonctionnement',
+
+	'e-mail'		=> 'courriel',
+	'lgament'		=> 'lgamment',
+	'email'			=> 'courriel',
+	'emnager'		=> 'emmnager',
+	'emental'		=> 'emmental',
+	'emoticne'		=> 'moticne',
+	'moticone'		=> 'moticne',
+	'emoticone'		=> 'moticne',
+	'emoticnes'	=> 'moticnes',
+	'moticones'	=> 'moticnes',
+	'emoticones'	=> 'moticnes',
+	'ennivr'		=> 'enivr',
+	'thymologie'	=> 'tymologie',
+	'ethymologies'	=> 'tymologies',
+	'eux-mme'		=> 'eux-mmes',
+	'vnement'		=> 'vnement',
+	'vidamment'	=> 'videmment',
+	'example'		=> 'exemple',
+	'examples'		=> 'exemples',
+	'exangue'		=> 'exsangue',
+	'exaustif'		=> 'exhaustif',
+	'exhaucer'		=> 'exaucer',
+	'xcut'		=> 'excut',
+	'xcuter'		=> 'excuter',
+	'exhorbitant'	=> 'exorbitant',
+	'existance'		=> 'existence',
+	'existances'	=> 'existences',
+
+	'fabriquant'	=> 'fabricant',
+	'faignant'		=> 'fainant',	// According to fait (verbal form to faire) and nant, cf. the French Academy
+	'famillial'		=> 'familial',
+	'fatiguant'		=> 'fatigant',
+	'feignant'		=> 'fainant',	// According to fait (verbal form to faire) and nant, cf. the French Academy
+	'filliale'		=> 'filiale',
+	'filigramme'	=> 'filigrane',
+	'finallement'	=> 'finalement',
+	'fratras'		=> 'fatras',
+	'frquement'	=> 'frquemment',
+	'frustre'		=> 'fruste',
+	'fuschia'		=> 'fuchsia',
+
+	'galament'				=> 'galamment',
+	'gallerie'				=> 'galerie',
+	'gauffre'				=> 'gaufre',
+	'gnralment'			=> 'gnralement',
+	'Gnse'				=> 'Gense',
+	'gratte-ciels'			=> 'gratte-ciel',
+	'grattes-ciel'			=> 'gratte-ciel',
+	'grattes-ciels'			=> 'gratte-ciel',
+	'gravage'				=> 'gravure',
+	'gravitationel'			=> 'gravitationnel',
+	'gravitationelle'		=> 'gravitationnelle',
+	'gravitationellement'	=> 'gravitationnellement',
+	'grs'					=> 'gr',
+	'Gronland'				=> 'Groenland',	// Except the old French before the first half of the XIXe century
+	'groseiller'			=> 'groseillier',
+	'Guyanne'				=> 'Guyane',
+
+	'hauts-parleurs'	=> 'haut-parleurs',
+	'Hawai'				=> 'Hawaii',	// The Hawaii form is the English official writing
+	'Hawaii'			=> 'Hawa',	// Some dictionaries preach this form which explicitly prohibits any French digraph between the a and i character
+	'hazard'			=> 'hasard',
+	'hermite'			=> 'ermite',
+	'hormi'				=> 'hormis',
+	'hugenot'			=> 'huguenot',
+	'hydrolique'		=> 'hydraulique',
+
+	'ii'				=> 'ici',
+	'imbcilit'		=> 'imbcillit',
+	'impatiement'		=> 'impatiemment',
+	'impertinement'		=> 'impertinemment',
+	'impossiblit'		=> 'impossibilit',
+	'impressionisme'	=> 'impressionnisme',
+	'impressioniste'	=> 'impressionniste',
+	'impressionistes'	=> 'impressionnistes',
+	'inclu'				=> 'inclus',
+	'incluera'			=> 'inclura',
+	'inconsciement'		=> 'inconsciemment',
+	'indpendemment'	=> 'indpendamment',
+	'innquation'		=> 'inquation',
+	'innondation'		=> 'inondation',
+	'instalation'		=> 'installation',
+	'intelligement'		=> 'intelligemment',
+	'intentionelement'	=> 'intentionnellement',
+	'intentionellement'	=> 'intentionnellement',
+	'intentionnelement'	=> 'intentionnellement',
+	'interval'			=> 'intervalle',
+	'imbecilit'		=> 'imbcillit',	// Or imbcilit
+
+	'Japonnais'	=> 'Japonais',
+	'journeaux'	=> 'journaux',
+
+	'km2'	=> 'km',
+	'kms'	=> 'km',	// Remains to the singular
+
+	'laisser-passer'	=> 'laissez-passer',	// Laissez is a granted verb
+	'language'			=> 'langage',
+	'license'			=> 'licence',
+	'litrature'		=> 'littrature',
+	'litoral'			=> 'littoral',
+	'lorque'			=> 'lorsque',
+	'Lybie'				=> 'Libye',
+
+	'magazin'		=> 'magasin',
+	'malgrs'		=> 'malgr',
+	'maline'		=> 'maligne',
+	'mchament'		=> 'mchamment',
+	'Melle'			=> 'Mlle',
+	'mmotechnique'	=> 'mnmotechnique',
+	'meri'			=> 'merci',
+	'mirroir'		=> 'miroir',
+	'missionaire'	=> 'missionnaire',
+	'missionaires'	=> 'missionaires',
+	'monolyte'		=> 'monolithe',
+	'monolytes'		=> 'monolithes',
+	'monolythe'		=> 'monolithe',
+	'monolythes'	=> 'monolithes',
+	'mourrir'		=> 'mourir',
+	'Mr'			=> 'M.',
+	'marrier'		=> 'marier',
+
+	'napolonnien'	=> 'napolonien',
+	'nammoins'		=> 'nanmoins',
+	'ncesaire'		=> 'ncessaire',
+	'ncssaire'	=> 'ncessaire',
+	'ncssitant'	=> 'ncessitant',
+	'ncssite'		=> 'ncessite',
+	'ncssit'		=> 'ncessit',
+	'non respect'	=> 'non-respect',
+	'non violation'	=> 'non-violation',
+	'notament'		=> 'notamment',
+	'notemment'		=> 'notamment',
+	'nourir'		=> 'nourrir',
+	'nuitament'		=> 'nuitamment',
+
+	'obligeament'	=> 'obligeamment',
+	'obnibul'		=> 'obnubil',
+	'occulaire'		=> 'oculaire',
+	'occurance'		=> 'occurrence',
+	'occurence'		=> 'occurrence',
+	'ocurance'		=> 'occurrence',
+	'ocurence'		=> 'occurrence',
+	'ocurrance'		=> 'occurrence',
+	'ocurrence'		=> 'occurrence',
+	'omnibul'		=> 'obnubil',
+	'omnubil'		=> 'obnubil',
+	'orcheste'		=> 'orchestre',	// Orcheste exists in biology
+	'ornitorinque'	=> 'ornithorynque',
+	'oy'			=> 'oyez',
+
+	'parceque'			=> 'parce que',
+	'parmis'			=> 'parmi',
+	'particuliarit'	=> 'particularit',
+	'particuliarits'	=> 'particularits',
+	'partisant'			=> 'partisan',
+	'patiement'			=> 'patiemment',
+	'pcunier'			=> 'pcuniaire',
+	'pcuniers'			=> 'pcuniaires',
+	'permanance'		=> 'permanence',
+	'personelle'		=> 'personnelle',
+	'pertinement'		=> 'pertinemment',
+	'philarmonique'		=> 'philharmonique',
+	'pillier'			=> 'pilier',
+	'pillule'			=> 'pilule',
+	'pirrogue'			=> 'pirogue',
+	'plaisament'		=> 'plaisamment',
+	'plannification'	=> 'planification',
+	'plateforme'		=> 'plate-forme',
+	'plateformes'		=> 'plates-formes',
+	'plade'			=> 'pliade',
+	'plusieures'		=> 'plusieurs',
+	'poid'				=> 'poids',
+	'polyptique'		=> 'polyptyque',
+	'portuguais'		=> 'portugais',
+	'portuguaise'		=> 'portugaise',
+	'possiblit'		=> 'possibilit',
+	'possiblits'		=> 'possibilits',
+	'pourir'			=> 'pourrir',
+	'precedement'		=> 'prcdemment',
+	'prcedement'		=> 'prcdemment',
+	'precdement'		=> 'prcdemment',
+	'prcdement'		=> 'prcdemment',
+	'prcipitament'		=> 'prcipitamment',
+	'prcisemment'		=> 'prcisment',
+	'prcismment'		=> 'prcisment',
+	'prmice'			=> 'prmisse',	// Or prmices
+	'professionel'		=> 'professionnel',
+	'professionelle'	=> 'professionnelle',
+	'professionelles'	=> 'professionnelles',
+	'professionels'		=> 'professionnels',
+	'proffessionnel'	=> 'professionnel',
+	'puissament'		=> 'puissamment',
+	'puit'				=> 'puits',
+
+	'quand '			=> 'quant ',
+	'quatres'			=> 'quatre',
+	'quatre vingt'		=> 'quatre-vingts',
+	'quattuor'			=> 'quatuor',
+	'Quebecquois'		=> 'Qubcois',
+	'quelques temps'	=> 'quelque temps',
+	'quelques uns'		=> 'quelques-uns',
+
+	'raisonnance'		=> 'rsonance',
+	'rappeller'			=> 'rappeler',
+	'rationnaliser'		=> 'rationaliser',
+	'rebellion'			=> 'rbellion',
+	'rcement'			=> 'rcemment',
+	'receuilir'			=> 'recueillir',
+	'recommendation'	=> 'recommandation',
+	'recommender'		=> 'recommander',
+	'rcurent'			=> 'rcurrent',
+	'rdition'			=> 'reddition',
+	'relement'			=> 'rellement',
+	'remord'			=> 'remords',
+	'renom'			=> 'renomm',
+	'renome'			=> 'renomme',
+	'rouvrir'			=> 'rouvrir',
+	'rsonnance'		=> 'rsonance',
+	'rsoud'			=> 'rsout',
+	'rsouds'			=> 'rsous',
+	'rthorique'		=> 'rhtorique',
+	'rhedodendron'		=> 'rhododendron',
+	'rhytme'			=> 'rythme',
+
+	'scance'		=> 'sance',
+	'scnette'		=> 'saynte',
+	'scnette'		=> 'saynte',
+	'sciement'		=> 'sciemment',
+	'serais gr'	=> 'saurais gr',
+	'sicle'		=> 'sicle',
+	'smiley'		=> 'moticne',
+	'smileys'		=> 'moticnes',
+	'smilie'		=> 'moticne',
+	'smilies'		=> 'moticnes',
+	'soubressaut'	=> 'soubresaut',
+	'soufrir'		=> 'souffrir',
+	'sous-terrain'	=> 'souterrain',
+	'spam'			=> 'pourriel',
+	'succdann'	=> 'succdan',
+	'succde'		=> 'succd',
+	'succdes'		=> 'succd',
+	'succds'		=> 'succd',
+	'succint'		=> 'succinct',
+	'suffisament'	=> 'suffisamment',
+	'suffisemment'	=> 'suffisamment',
+	'suplmentaire'	=> 'supplmentaire',
+	'sybillin'		=> 'sibyllin',
+	'syncrone'		=> 'synchrone',
+	'syndrme'		=> 'syndrome',
+	'syphillis'		=> 'syphilis',
+	'syphon'		=> 'siphon',
+
+	'tanpis'			=> 'tant pis',
+	'tchnique'			=> 'technique',
+	'tlcomunication'	=> 'tlcommunication',
+	'tlcomunications'	=> 'tlcommunications',
+	'Thibet'			=> 'Tibet',
+	'timbres-postes'	=> 'timbres-poste',	// There are only one post office but several stamps
+	'tonnal'			=> 'tonal',
+	'tonnale'			=> 'tonale',
+	'tord'				=> 'tort',
+	'traditionelle'		=> 'traditionnelle',
+	'traffic'			=> 'trafic',
+	'traffics'			=> 'trafics',
+	'trs'				=> 'trs',
+	'tutorial'			=> 'tutoriel',
+	'tuyeau'			=> 'tuyau',
+
+	'util'	=> 'utile',
+
+	'vaillament'			=> 'vaillamment',
+	'vainct'				=> 'vainc',
+	'valeure'				=> 'valeur',
+	'velour'				=> 'velours',
+	'Vnzuela'				=> 'Venezuela',
+	'vertue'				=> 'vertu',
+	'violamment'			=> 'violemment',
+	'voierie'				=> 'voirie',
+	'voiture'				=> 'automobile',
+	'voluptes'				=> 'volutes',	// Of smoke
+	'vraissemblable'		=> 'vraisemblable',
+	'vraissemblablement'	=> 'vraisemblablement',
+
+	'waggon'	=> 'wagon',
+	'Web'		=> 'internet',	// Advised by the French Academy
+	'www'		=> 'internet',
+);
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/ucp.php phpBB3/language/fr/ucp.php
--- phpBB3-init/language/fr/ucp.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/ucp.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,560 @@
+<?php
+/**
+*
+* ucp [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+// Privacy policy and T&C
+$lang = array_merge($lang, array(
+	'TERMS_OF_USE_CONTENT'	=> 'En accdant   %1$s  (dsign ici par  nous ,  notre ,  nos ,  %1$s ,  %2$s ), vous acceptez dtre lgalement responsable des conditions suivantes. Si vous nacceptez pas dtre lgalement responsable de toutes les conditions suivantes, veuillez ne pas utiliser et/ou accder   %1$s . Nous pouvons modifier ces conditions  nimporte quel moment et nous essaierons de vous informer de ces modifications, bien que nous vous conseillons de vrifier rgulirement cela par vous-mme car si vous continuez  participer   %1$s  aprs que les modifications aient t effectues, vous acceptez dtre lgalement responsable des conditions modifies et/ou mises  jour.<br />
+	<br />
+	Nos forums sont propulss par phpBB (dsigns ici par  ils ,  eux ,  leur ,  logiciel phpBB ,  www.phpbb.com ,  phpBB Group ,  quipes de phpBB ) qui est une solution de cration de forums dclare sous la  <a href="http://opensource.org/licenses/gpl-license.php">Licence Publique Gnrale</a>  (dsigne ici par  GPL ) et qui peut tre tlcharge depuis <a href="http://www.phpbb.com/">www.phpbb.com</a> ou <a href="http://www.phpbb.fr/">www.phpbb.fr</a>. Le logiciel phpBB a pour seul but de faciliter les discussions sur internet, le phpBB Group nest en aucun cas responsable de la conduite et/ou du contenu que nous acceptons et/ou que nous nacceptons pas. Si vous souhaitez obtenir plus dinformations concernant phpBB, nous vous invitons  consulter <a href="http://www.phpbb.com/">http://www.phpbb.com/</a> ou <a href="http://www.phpbb.fr/">http://www.phpbb.fr/</a>.<br />
+	<br />
+	Vous acceptez de ne publier aucun contenu  caractre abusif, obscne, vulgaire, diffamatoire, choquant, menaant, pornographique, etc. qui pourrait transgresser les lois de votre pays, le pays o  %1$s  est hberg, ou encore la loi internationale. Si vous ne respectez pas cela, vous vous exposez  un bannissement immdiat et permanent et  un avertissement de la part de votre fournisseur daccs  internet si nous le jugeons ncessaire. Nous enregistrons ladresse IP de tous les messages afin daider au renforcement de ces conditions. Vous acceptez le fait que  %1$s  ait le droit de supprimer, dditer, de dplacer ou de verrouiller nimporte quel sujet  nimporte quel moment si nous estimons que cela est ncessaire. En tant quutilisateur, vous acceptez que toutes les informations que vous avez saisies soient stockes dans notre base de donnes. Bien que cette information ne sera pas diffuse  une tierce partie sans votre consentement, ni  %1$s , ni phpBB, ne pourront tre tenus comme responsables en cas de tentative de piratage visant  compromettre vos donnes.
+	',
+
+	'PRIVACY_POLICY'		=> 'Cette politique de confidentialit explique en dtail comment  %1$s  et ses socits affilies (dsigns ici par  nous ,  notre ,  nos ,  %1$s ,  %2$s ) et phpBB (dsign ici par  ils ,  eux ,  leur ,  logiciel phpBB ,  www.phpbb.com ,  phpBB Group ,  quipes de phpBB ) utilisent toutes les informations qui ont collectes lors des sessions dutilisation de votre part (dsignes ici par  vos informations ).<br />
+	<br />
+	Vos informations sont collectes de deux manires diffrentes. Premirement, en naviguant sur  %1$s , le logiciel phpBB crera un certain nombre de cookies qui sont de petits fichiers texte tlchargs dans les fichiers temporaires du navigateur internet de votre ordinateur. Les deux premiers cookies ne contiennent quun identifiant dutilisateur (dsign ici par  identifiant de lutilisateur ) et un identifiant de session anonyme (dsign ici par  identifiant de la session ) qui vous sont automatiquement assigns par le logiciel phpBB. Un troisime cookie sera cr une fois que vous naviguerez sur les sujets de  %1$s , archivant de ce fait tous les sujets que vous avez consults et permettant damliorer votre confort de navigation en tant quutilisateur.<br />
+	<br />
+	Lors de votre navigation sur  %1$s , nous pouvons galement crer une quatrime sorte de cookies, externes au document qui est prvu pour couvrir uniquement les pages cres par le logiciel phpBB. La seconde manire est de rcuprer les informations que vous nous envoyez et que nous collectons. Ceci peut correspondre mais nest pas limit  la publication de messages en tant quutilisateur anonyme (dsigne ici par  messages anonymes ), linscription sur  %1$s  (dsigne ici par  votre compte ) et les messages que vous publiez aprs votre inscription et lors de votre connexion (dsigns ici par  vos messages ).<br />
+	<br />
+	Votre compte contiendra au minimum un identifiant unique (dsign ici par  votre nom dutilisateur ), un mot de passe personnel vous permettant de vous connecter  votre compte (dsign ici par  votre mot de passe ) et une adresse de courrier letronique personnelle et valide. Les informations de votre compte sur  %1$s  sont protges par les lois de protection des donnes applicables dans le pays qui nous hberge. Toutes les informations, en-dehors de votre nom dutilisateur, de votre mot de passe et de votre adresse de courrier lectronique requis par  %1$s  durant la procdure dinscription, sont obligatoires ou facultatives,  la discrtion de  %1$s . Dans tous les cas, vous pouvez contrler quelles informations de votre compte vous souhaitez rendre publiques ou non. De plus, vous pouvez faire le choix de vous abonner ou non  la liste de diffusion du logiciel phpBB par lintermdiaire dune option disponible dans votre compte.<br />
+	<br />
+	Votre mot de passe est crypt (par un cryptage  sens unique) afin quil soit scuris. Cependant, il est recommand de ne pas utiliser le mme mot de passe sur plusieurs sites internet diffrents. Votre mot de passe est le moyen daccs de votre compte sur  %1$s , veillez  le conservez prcieusement. En aucun cas une personne affilie   %1$s ,  phpBB ou  un site de tierce partie ne peut vous demander lgitimement votre mot de passe. Si vous oubliez le mot de passe de votre compte, vous pouvez utiliser la fonction  Jai perdu mon mot de passe  qui est fournie par le logiciel phpBB. Ce processus vous demandera de spcifier votre nom dutilisateur et votre adresse de courrier lectronique. Le logiciel phpBB gnrera alors un nouveau mot de passe afin que vous puissiez reprendre le contrle de votre compte.<br />
+	',
+));
+
+// Common language entries
+$lang = array_merge($lang, array(
+	'ACCOUNT_ACTIVE'				=> 'Votre compte est  prsent activ. Nous vous remercions de votre inscription.',
+	'ACCOUNT_ACTIVE_ADMIN'			=> 'Le compte est  prsent activ.',
+	'ACCOUNT_ACTIVE_PROFILE'		=> 'Votre compte est  prsent ractiv avec succs.',
+	'ACCOUNT_ADDED'					=> 'Nous vous remercions de votre inscription, votre compte a t cr. Vous pouvez  prsent vous connecter avec votre nom dutilisateur et votre mot de passe.',
+	'ACCOUNT_COPPA'					=> 'Votre compte a t cr mais il ncessite dtre approuv. Veuillez consulter votre messagerie pour plus dinformations.',
+	'ACCOUNT_EMAIL_CHANGED'			=> 'Votre compte a t mis  jour avec succs. Cependant, vous devez le ractiver car vous avez modifi votre adresse de courrier lectronique. Une cl dactivation a t envoye sur la nouvelle adresse de courrier lectronique que vous avez saisie. Veuillez consulter votre messagerie pour plus dinformations.',
+	'ACCOUNT_EMAIL_CHANGED_ADMIN'	=> 'Votre compte a t mis  jour avec succs. Cependant, un des administrateurs doit le ractiver car vous avez modifi votre adresse de courrier lectronique. Un courriel leur a t envoy et vous serez inform de la ractivation de votre compte.',
+	'ACCOUNT_INACTIVE'				=> 'Votre compte a t cr avec succs. Cependant, vous devez activer votre compte. Une cl dactivation a t envoye sur ladresse de courrier lectronique que vous avez saisie. Veuillez consulter votre messagerie pour plus dinformations.',
+	'ACCOUNT_INACTIVE_ADMIN'		=> 'Votre compte a t cr avec succs. Cependant, un des administrateurs doit activer votre compte. Un courriel leur a t envoy et vous serez inform de la ractivation de votre compte.',
+	'ACTIVATION_EMAIL_SENT'			=> 'Le courriel dactivation a t envoy  votre adresse de courrier lectronique.',
+	'ACTIVATION_EMAIL_SENT_ADMIN'	=> 'Le courriel dactivation a t envoy aux adresses de courrier lectronique des administrateurs.',
+	'ADD'							=> 'Ajouter',
+	'ADD_BCC'						=> 'Ajouter [Cci]',
+	'ADD_FOES'						=> 'Ajouter de nouveaux ignors ',
+	'ADD_FOES_EXPLAIN'				=> 'Vous devez saisir chaque nom dutilisateur sur une nouvelle ligne.',
+	'ADD_FOLDER'					=> 'Ajouter un dossier ',
+	'ADD_FRIENDS'					=> 'Ajouter de nouveaux amis ',
+	'ADD_FRIENDS_EXPLAIN'			=> 'Vous devez saisir chaque nom dutilisateur sur une nouvelle ligne.',
+	'ADD_NEW_RULE'					=> 'Ajouter une nouvelle rgle',
+	'ADD_RULE'						=> 'Ajouter une rgle',
+	'ADD_TO'						=> 'Ajouter []',
+	'ADD_USERS_UCP_EXPLAIN'			=> 'Vous pouvez ajouter ici de nouveaux utilisateurs  des groupes. Vous pouvez dcider que ce groupe deviendra le nouveau groupe par dfaut concernant les utilisateurs que vous avez slectionns. Veuillez saisir chaque nom dutilisateur sur une nouvelle ligne.',
+	'ADMIN_EMAIL'					=> 'Autoriser les administrateurs  me contacter par courriel ',
+	'AGREE'							=> 'Jaccepte ces conditions',
+	'ALLOW_PM'						=> 'Autoriser les utilisateurs  me contacter par message priv ',
+	'ALLOW_PM_EXPLAIN'				=> 'Notez que les administrateurs et les modrateurs pourront toujours vous envoyer des messages privs.',
+	'ALREADY_ACTIVATED'				=> 'Vous avez dj activ votre compte.',
+	'ATTACHMENTS_EXPLAIN'			=> 'Ceci correspond  la liste des pices jointes que vous avez insres dans les messages de ce forum.',
+	'ATTACHMENTS_DELETED'			=> 'Les pices jointes ont t supprimes avec succs.',
+	'ATTACHMENT_DELETED'			=> 'La pice jointe a t supprime avec succs.',
+	'AVATAR_CATEGORY'				=> 'Catgorie',
+	'AVATAR_EXPLAIN'				=> 'Dimensions maximales ; %1$d pixels de large, %2$d pixels de haut, %3$.2f Kio.',
+	'AVATAR_FEATURES_DISABLED'		=> 'Les avatars sont actuellement dsactivs.',
+	'AVATAR_GALLERY'				=> 'Galerie locale',
+	'AVATAR_GENERAL_UPLOAD_ERROR'	=> 'Impossible de transfrer lavatar vers %s.',
+	'AVATAR_NOT_ALLOWED'			=> 'Votre avatar ne peut pas tre affich car lutilisation des avatars nest pas autorise.',
+	'AVATAR_PAGE'					=> 'Page',
+	'AVATAR_TYPE_NOT_ALLOWED'		=> 'Votre avatar actuel ne peut pas tre affich car son type nest pas autoris.',
+
+	'BACK_TO_DRAFTS'			=> 'Retour aux brouillons sauvegards',
+	'BACK_TO_LOGIN'				=> 'Retour  lcran de connexion',
+	'BIRTHDAY'					=> 'Anniversaire ',
+	'BIRTHDAY_EXPLAIN'			=> 'Si vous saisissez une anne, votre ge sera affich lors de votre anniversaire.',
+	'BOARD_DATE_FORMAT'			=> 'Mon format de date ',
+	'BOARD_DATE_FORMAT_EXPLAIN'	=> 'La syntaxe utilise est identique  la fonction PHP <a href="http://www.php.net/date">date()</a>.',
+	'BOARD_DST'					=> 'Lheure dt est effective ',
+	'BOARD_LANGUAGE'			=> 'Ma langue ',
+	'BOARD_STYLE'				=> 'Mon style sur le forum ',
+	'BOARD_TIMEZONE'			=> 'Mon fuseau horaire ',
+	'BOOKMARKS'					=> 'Signets',
+	'BOOKMARKS_EXPLAIN'			=> 'Vous pouvez ajouter des sujets  vos signets afin de les consulter ultrieurement. Pour supprimer des signets, cochez les cases des signets que vous souhaitez supprimer, puis cliquez sur le bouton <em>Supprimer les signets slectionns</em>.',
+	'BOOKMARKS_DISABLED'		=> 'La fonctionnalit lie aux signets a t dsactive sur ce forum.',
+	'BOOKMARKS_REMOVED'			=> 'Vos signets ont t supprims avec succs.',
+
+	'CANNOT_EDIT_MESSAGE_TIME'	=> 'Vous ne pouvez dsormais plus diter ou supprimer ce message.',
+	'CANNOT_MOVE_TO_SAME_FOLDER'=> 'Les messages ne peuvent pas tre dplacs dans le dossier que vous souhaitez supprimer.',
+	'CANNOT_MOVE_FROM_SPECIAL'	=> 'Les messages ne peuvent pas tre dplacs de la bote denvoi.',
+	'CANNOT_RENAME_FOLDER'		=> 'Ce dossier ne peut pas tre renomm.',
+	'CANNOT_REMOVE_FOLDER'		=> 'Ce dossier ne peut pas tre supprim.',
+	'CHANGE_DEFAULT_GROUP'		=> 'Modifier le groupe par dfaut',
+	'CHANGE_PASSWORD'			=> 'Modifier le mot de passe',
+	'CLICK_GOTO_FOLDER'			=> '%1$sAller  votre dossier  %3$s %2$s',
+	'CLICK_RETURN_FOLDER'		=> '%1$sRetour  votre dossier  %3$s %2$s',
+	'CONFIRMATION'				=> 'Confirmation dinscription',
+	'CONFIRM_CHANGES'			=> 'Confirmer les modifications',
+	'CONFIRM_EMAIL'				=> 'Confirmer ladresse de courrier lectronique ',
+	'CONFIRM_EMAIL_EXPLAIN'		=> 'Vous ne devez spcifier cela que si vous souhaitez modifier votre adresse de courrier lectronique.',
+	'CONFIRM_EXPLAIN'			=> 'Pour empcher les inscriptions automatises, vous devez saisir un code de confirmation. Le code est affich dans limage que vous devriez voir ci-dessous. Si vous tes visuellement dficient ou que vous prouvez des difficults  lire ce code correctement, veuillez contacter l%sadministrateur du forum%s.',
+	'VC_REFRESH'				=> 'Rafrachir le code de confirmation',
+	'VC_REFRESH_EXPLAIN'		=> 'Si vous prouvez des difficults  lire ce code correctement, vous pouvez en demander un nouveau en cliquant sur le bouton suivant.',
+
+	'CONFIRM_PASSWORD'			=> 'Confirmer le mot de passe ',
+	'CONFIRM_PASSWORD_EXPLAIN'	=> 'Vous ne devez confirmer votre mot de passe que si avez modifi ce dernier ci-dessus.',
+	'COPPA_BIRTHDAY'			=> 'Veuillez nous renseigner votre date de naissance afin de continuer le processus dinscription.',
+	'COPPA_COMPLIANCE'			=> 'Conformit de la COPPA',
+	'COPPA_EXPLAIN'				=> 'Veuillez noter que si vous cliquez sur le bouton <em>Envoyer</em>, cela crera votre compte. Cependant, sachez que celui-ci ne peut tre activ que si un de vos parents ou un tuteur lgal approuve votre inscription. Vous recevrez une copie du formulaire contenant les renseignements  envoyer et  quel endroit le faire.',
+	'CREATE_FOLDER'				=> 'Ajouter un dossier',
+	'CURRENT_IMAGE'				=> 'Image actuelle ',
+	'CURRENT_PASSWORD'			=> 'Mot de passe actuel ',
+	'CURRENT_PASSWORD_EXPLAIN'	=> 'Vous devez confirmer votre mot de passe actuel si vous souhaitez modifier votre mot de passe, votre adresse de courrier lectronique ou votre nom dutilisateur.',
+	'CUR_PASSWORD_ERROR'		=> 'Le mot de passe que vous avez saisi est incorrect.',
+	'CUSTOM_DATEFORMAT'			=> 'Personnaliser',
+
+	'DEFAULT_ACTION'			=> 'Action par dfaut ',
+	'DEFAULT_ACTION_EXPLAIN'	=> 'Cette action sera dclenche si aucune de ce qui la prcde nest applicable.',
+	'DEFAULT_ADD_SIG'			=> 'Insrer ma signature par dfaut ',
+	'DEFAULT_BBCODE'			=> 'Activer le BBCode par dfaut ',
+	'DEFAULT_NOTIFY'			=> 'Mavertir lors des rponses par dfaut ',
+	'DEFAULT_SMILIES'			=> 'Activer les moticnes par dfaut ',
+	'DEFINED_RULES'				=> 'Rgles dfinies',
+	'DELETED_TOPIC'				=> 'Le sujet a t supprim.',
+	'DELETE_ATTACHMENT'			=> 'Supprimer la pice jointe',
+	'DELETE_ATTACHMENTS'		=> 'Supprimer les pices jointes',
+	'DELETE_ATTACHMENT_CONFIRM'	=> 'tes-vous sr de vouloir supprimer cette pice jointe ?',
+	'DELETE_ATTACHMENTS_CONFIRM'=> 'tes-vous sr de vouloir supprimer ces pices jointes ?',
+	'DELETE_AVATAR'				=> 'Supprimer limage',
+	'DELETE_COOKIES_CONFIRM'	=> 'tes-vous sr de vouloir supprimer tous les cookies de ce forum ?',
+	'DELETE_MARKED_PM'			=> 'Supprimer les messages cochs',
+	'DELETE_MARKED_PM_CONFIRM'	=> 'tes-vous sr de vouloir supprimer tous les messages cochs ?',
+	'DELETE_OLDEST_MESSAGES'	=> 'Supprimer les anciens messages',
+	'DELETE_MESSAGE'			=> 'Supprimer le message',
+	'DELETE_MESSAGE_CONFIRM'	=> 'tes-vous sr de vouloir supprimer ce message priv ?',
+	'DELETE_MESSAGES_IN_FOLDER'	=> 'Supprimer tous les messages du dossier que vous souhaitez supprimer',
+	'DELETE_RULE'				=> 'Supprimer la rgle',
+	'DELETE_RULE_CONFIRM'		=> 'tes-vous sr de vouloir supprimer cette rgle ?',
+	'DEMOTE_SELECTED'			=> 'Rtrograder la slection',
+	'DISABLE_CENSORS'			=> 'Activer la censure de mots',
+	'DISPLAY_GALLERY'			=> 'Afficher la galerie',
+	'DOMAIN_NO_MX_RECORD_EMAIL'	=> 'Le domaine de ladresse de courrier lectronique que vous avez saisie ne contient aucun enregistrement MX valide.',
+	'DOWNLOADS'					=> 'Tlchargements',
+	'DRAFTS_DELETED'			=> 'Tous les brouillons que vous avez slectionns ont t supprims avec succs.',
+	'DRAFTS_EXPLAIN'			=> 'Vous pouvez consulter, diter et supprimer ici les brouillons que vous avez sauvegards.',
+	'DRAFT_UPDATED'				=> 'Le brouillon a t mis  jour avec succs.',
+
+	'EDIT_DRAFT_EXPLAIN'		=> 'Vous pouvez diter ici votre brouillon. Les brouillons ne contiennent ni pices jointes, ni sondages.',
+	'EMAIL_BANNED_EMAIL'		=> 'Ladresse de courrier lectronique que vous avez saisie a t bannie de ce forum.',
+	'EMAIL_INVALID_EMAIL'		=> 'Ladresse de courrier lectronique que vous avez saisie nest pas valide.',
+	'EMAIL_REMIND'				=> 'Ceci doit correspondre  ladresse de courrier lectronique qui est associe  votre compte. Si vous ne lavez pas modifi par lintermdiaire de votre panneau de contrle de lutilisateur, il sagit de ladresse de courrier lectronique que vous avez saisie lors de votre inscription.',
+	'EMAIL_TAKEN_EMAIL'			=> 'Ladresse de courrier lectronique que vous avez saisie est dj utilise.',
+	'EMPTY_DRAFT'				=> 'Vous devez saisir un message afin denvoyer vos modifications.',
+	'EMPTY_DRAFT_TITLE'			=> 'Vous devez saisir le titre du brouillon.',
+	'EXPORT_AS_XML'				=> 'Exporter en XML',
+	'EXPORT_AS_CSV'				=> 'Exporter en CSV',
+	'EXPORT_AS_CSV_EXCEL'		=> 'Exporter en CSV (Excel)',
+	'EXPORT_AS_TXT'				=> 'Exporter en TXT',
+	'EXPORT_AS_MSG'				=> 'Exporter en MSG',
+	'EXPORT_FOLDER'				=> 'Exporter le dossier ',
+
+	'FIELD_REQUIRED'					=> 'Le champ  %s  doit tre complt.',
+	'FIELD_TOO_SHORT'					=> 'Le champ  %1$s  est trop court, vous devez saisir plus de %2$d caractres.',
+	'FIELD_TOO_LONG'					=> 'Le champ  %1$s  est trop long, vous devez saisir moins de %2$d caractres.',
+	'FIELD_TOO_SMALL'					=> 'La valeur de  %1$s  est trop faible, vous devez spcifier plus de %2$d.',
+	'FIELD_TOO_LARGE'					=> 'La valeur de  %1$s  est trop importante, vous devez spcifier moins de %2$d.',
+	'FIELD_INVALID_CHARS_NUMBERS_ONLY'	=> 'Le champ  %s  contient des caractres invalides, seuls les nombres sont autoriss.',
+	'FIELD_INVALID_CHARS_ALPHA_ONLY'	=> 'Le champ  %s  contient des caractres invalides, seuls les caractres alphanumriques sont autoriss.',
+	'FIELD_INVALID_CHARS_SPACERS_ONLY'	=> 'Le champ  %s  contient des caractres invalides, seuls les caractres alphanumriques, les espaces ou les signes -+_[] sont autoriss.',
+	'FIELD_INVALID_DATE'				=> 'La date que vous avez spcifie dans le champ  %s  est invalide.',
+	'FIELD_INVALID_VALUE'				=> 'Le champ  %s  contient une valeur invalide.',
+
+	'FOE_MESSAGE'				=> 'Message(s) dun ignor',
+	'FOES_EXPLAIN'				=> 'Les ignors sont des utilisateurs qui seront ignors par dfaut. Les messages que ces utilisateurs publient ne seront pas entirement visibles. Les ignors peuvent nanmoins envoyer des messages privs. Veuillez noter que vous ne pouvez pas ignorer les modrateurs ou les administrateurs.',
+	'FOES_UPDATED'				=> 'Votre liste dignors a t mise  jour avec succs.',
+	'FOLDER_ADDED'				=> 'Le dossier a t ajout avec succs.',
+	'FOLDER_MESSAGE_STATUS'		=> '%1$d message(s) archiv(s) sur %2$d',
+	'FOLDER_NAME_EMPTY'			=> 'Vous devez saisir le nom de ce dossier.',
+	'FOLDER_NAME_EXIST'			=> 'Le dossier <strong>%s</strong> existe dj.',
+	'FOLDER_OPTIONS'			=> 'Options du dossier',
+	'FOLDER_RENAMED'			=> 'Le dossier a t renomm avec succs.',
+	'FOLDER_REMOVED'			=> 'Le dossier a t supprim avec succs.',
+	'FOLDER_STATUS_MSG'			=> 'Le dossier est plein  %1$d%% (%2$d message(s) archiv(s) sur %3$d)',
+	'FORWARD_PM'				=> 'Transfrer le MP',
+	'FORCE_PASSWORD_EXPLAIN'	=> 'Vous devez modifier votre mot de passe afin de continuer  naviguer sur le forum.',
+	'FRIEND_MESSAGE'			=> 'Message(s) dun ami',
+	'FRIENDS'					=> 'Amis',
+	'FRIENDS_EXPLAIN'			=> 'Les amis vous permettent daccder plus rapidement aux membres avec qui vous communiquez frquemment. Si le template que vous utilisez est compatible avec cette fonctionnalit, les messages de vos amis apparatront en surbrillance.',
+	'FRIENDS_OFFLINE'			=> 'Hors-ligne',
+	'FRIENDS_ONLINE'			=> 'En ligne',
+	'FRIENDS_UPDATED'			=> 'Votre liste damis a t mise  jour avec succs.',
+	'FULL_FOLDER_OPTION_CHANGED'=> 'Laction  entreprendre lorsquun dossier est plein a t modifie avec succs.',
+	'FWD_ORIGINAL_MESSAGE'		=> '-------- Message original --------',
+	'FWD_SUBJECT'				=> 'Sujet : %s',
+	'FWD_DATE'					=> 'Date : %s',
+	'FWD_FROM'					=> 'De : %s',
+	'FWD_TO'					=> ' : %s',
+
+	'GLOBAL_ANNOUNCEMENT'		=> 'Annonce globale',
+
+	'HIDE_ONLINE'				=> 'Masquer mon statut en ligne ',
+	'HIDE_ONLINE_EXPLAIN'		=> 'La modification de cette option ne sera prise en compte que lors de votre prochaine visite sur le forum.',
+	'HOLD_NEW_MESSAGES'			=> 'Refuser les nouveaux messages (ils seront mis en attente jusqu ce que vous libriez de lespace)',
+	'HOLD_NEW_MESSAGES_SHORT'	=> 'Les nouveaux messages seront mis en attente',
+
+	'IF_FOLDER_FULL'			=> 'Si le dossier est plein ',
+	'IMPORTANT_NEWS'			=> 'Annonces importantes',
+	'INVALID_USER_BIRTHDAY'			=> 'La date danniversaire que vous avez spcifie nest pas une date valide.',
+	'INVALID_CHARS_USERNAME'	=> 'Le nom dutilisateur que vous avez spcifi contient des caractres non autoriss.',
+	'INVALID_CHARS_NEW_PASSWORD'=> 'Le mot de passe que vous avez spcifi ne contient pas les caractres obligatoires.',
+	'ITEMS_REQUIRED'			=> 'Les champs marqus par * sont  complter obligatoirement.',
+
+	'JOIN_SELECTED'				=> 'Rejoindre la slection',
+
+	'LANGUAGE'					=> 'Langue',
+	'LINK_REMOTE_AVATAR'		=> 'Lien externe ',
+	'LINK_REMOTE_AVATAR_EXPLAIN'=> 'Saisissez le lien o limage de lavatar que vous souhaitez insrer est situ.',
+	'LINK_REMOTE_SIZE'			=> 'Dimensions de lavatar ',
+	'LINK_REMOTE_SIZE_EXPLAIN'	=> 'Spcifiez la largeur et la hauteur de lavatar, laissez vide afin de tenter une vrification automatique.',
+	'LOGIN_EXPLAIN_UCP'			=> 'Veuillez vous connecter afin daccder au panneau de contrle de lutilisateur.',
+	'LOGIN_REDIRECT'			=> 'Vous vous tes connect avec succs.',
+	'LOGOUT_FAILED'				=> 'Vous navez pas t dconnect car la requte na pas fonctionn sur votre session. Si le problme persiste, veuillez contacter ladministrateur du forum.',
+	'LOGOUT_REDIRECT'			=> 'Vous vous tes dconnect avec succs.',
+
+	'MARK_IMPORTANT'				=> '(D)marquer comme important(s)',
+	'MARKED_MESSAGE'				=> 'Message(s) marqu(s) comme important(s)',
+	'MAX_FOLDER_REACHED'			=> 'Le nombre maximum de dossiers autoriss par utilisateur a t atteint.',
+	'MESSAGE_BY_AUTHOR'				=> 'par',
+	'MESSAGE_COLOURS'				=> 'Lgende de couleurs des messages',
+	'MESSAGE_DELETED'				=> 'Le message a t supprim avec succs.',
+	'MESSAGE_HISTORY'				=> 'Historique du message ',
+	'MESSAGE_REMOVED_FROM_OUTBOX'	=> 'Ce message a t supprim par son auteur avant quil ait t dlivr.',
+	'MESSAGE_SENT_ON'				=> 'le',
+	'MESSAGE_STORED'				=> 'Le message a t envoy avec succs.',
+	'MESSAGE_TO'					=> ' ',
+	'MESSAGES_DELETED'				=> 'Les messages ont t supprims avec succs',
+	'MOVE_DELETED_MESSAGES_TO'		=> 'Dplacer les messages du dossier que vous avez supprim vers',
+	'MOVE_DOWN'						=> 'Descendre',
+	'MOVE_MARKED_TO_FOLDER'			=> 'Dplacer la slection vers %s',
+	'MOVE_PM_ERROR'					=> 'Une erreur est survenue lors du dplacement des messages vers le nouveau dossier, seuls %1d des %2d messages ont t dplacs.',
+	'MOVE_TO_FOLDER'				=> 'Dplacer vers le dossier ',
+	'MOVE_UP'						=> 'Monter',
+
+	'NEW_EMAIL_ERROR'				=> 'Les adresses de courrier lectronique que vous avez saisies ne concordent pas.',
+	'NEW_FOLDER_NAME'				=> 'Nom du nouveau dossier',
+	'NEW_PASSWORD'					=> 'Nouveau mot de passe ',
+	'NEW_PASSWORD_ERROR'			=> 'Les mots de passe que vous avez saisis ne concordent pas.',
+	'NOTIFY_METHOD'					=> 'Mthode davertissement',
+	'NOTIFY_METHOD_BOTH'			=> 'Tous les deux',
+	'NOTIFY_METHOD_EMAIL'			=> 'Courriel uniquement',
+	'NOTIFY_METHOD_EXPLAIN'			=> 'La mthode denvoi des messages qui sont envoys par lintermdiaire de ce forum.',
+	'NOTIFY_METHOD_IM'				=> 'Jabber uniquement',
+	'NOTIFY_ON_PM'					=> 'Mavertir lors de la rception de nouveaux messages privs ',
+	'NOT_ADDED_FRIENDS_ANONYMOUS'	=> 'Vous ne pouvez pas ajouter des utilisateurs anonymes  votre liste damis.',
+	'NOT_ADDED_FRIENDS_BOTS'		=> 'Vous ne pouvez pas ajouter des robots  votre liste damis.',
+	'NOT_ADDED_FRIENDS_FOES'		=> 'Vous ne pouvez pas ajouter  votre liste damis des utilisateurs qui sont galement prsents dans votre liste dignors.',
+	'NOT_ADDED_FRIENDS_SELF'		=> 'Vous ne pouvez pas vous ajouter vous-mme  la liste damis.',
+	'NOT_ADDED_FOES_MOD_ADMIN'		=> 'Vous ne pouvez pas ajouter des administrateurs ou des modrateurs  votre liste dignors.',
+	'NOT_ADDED_FOES_ANONYMOUS'		=> 'Vous ne pouvez pas ajouter des utilisateurs anonymes  votre liste dignors.',
+	'NOT_ADDED_FOES_BOTS'			=> 'Vous ne pouvez pas ajouter des robots  votre liste dignors.',
+	'NOT_ADDED_FOES_FRIENDS'		=> 'Vous ne pouvez pas ajouter  votre liste dignors des utilisateurs qui sont galement prsents dans votre liste damis.',
+	'NOT_ADDED_FOES_SELF'			=> 'Vous ne pouvez pas vous ajouter vous-mme  la liste dignors.',
+	'NOT_AGREE'						=> 'Je refuse ces conditions',
+	'NOT_ENOUGH_SPACE_FOLDER'		=> 'Le dossier de destination  %s  semble tre plein. Laction demande na pas t prise en compte.',
+	'NOT_MOVED_MESSAGE'				=> 'Vous avez actuellement 1 message priv en attente car le dossier est plein.',
+	'NOT_MOVED_MESSAGES'			=> 'Vous avez actuellement %d messages privs en attente car le dossier est plein.',
+	'NO_ACTION_MODE'				=> 'Aucune action na t spcifie concernant ce message.',
+	'NO_AUTHOR'						=> 'Aucun auteur na t dfini pour ce message',
+	'NO_AVATAR_CATEGORY'			=> 'Aucune',
+
+	'NO_AUTH_DELETE_MESSAGE'		=> 'Vous ntes pas autoris  supprimer les messages privs.',
+	'NO_AUTH_EDIT_MESSAGE'			=> 'Vous ntes pas autoris  diter les messages privs.',
+	'NO_AUTH_FORWARD_MESSAGE'		=> 'Vous ntes pas autoris  transfrer des messages privs.',
+	'NO_AUTH_GROUP_MESSAGE'			=> 'Vous ntes pas autoris  envoyer des messages privs aux groupes.',
+	'NO_AUTH_PASSWORD_REMINDER'		=> 'Vous ntes pas autoris  demander un nouveau mot de passe.',
+	'NO_AUTH_READ_HOLD_MESSAGE'		=> 'Vous ntes pas autoris  lire les messages privs qui sont en liste dattente.',
+	'NO_AUTH_READ_MESSAGE'			=> 'Vous ntes pas autoris  lire les messages privs.',
+	'NO_AUTH_READ_REMOVED_MESSAGE'	=> 'Vous ntes pas autoris  lire ce message car il a t supprim par son auteur.',
+	'NO_AUTH_SEND_MESSAGE'			=> 'Vous ntes pas autoris  envoyer des messages privs.',
+	'NO_AUTH_SIGNATURE'				=> 'Vous ntes pas autoris  dfinir une signature.',
+
+	'NO_BCC_RECIPIENT'			=> 'Aucun',
+	'NO_BOOKMARKS'				=> 'Vous navez aucun signet.',
+	'NO_BOOKMARKS_SELECTED'		=> 'Vous navez slectionn aucun signet.',
+	'NO_EDIT_READ_MESSAGE'		=> 'Le message priv ne peut dornavant plus tre dit car il a dj t consult.',
+	'NO_EMAIL_USER'				=> 'Ladresse de courrier lectronique ou le nom dutilisateur demand est introuvable.',
+	'NO_FOES'					=> 'Aucun ignor na t spcifi',
+	'NO_FRIENDS'				=> 'Aucun ami na t spcifi',
+	'NO_FRIENDS_OFFLINE'		=> 'Aucun ami nest hors-ligne',
+	'NO_FRIENDS_ONLINE'			=> 'Aucun ami nest en ligne',
+	'NO_GROUP_SELECTED'			=> 'Aucun groupe na t spcifi.',
+	'NO_IMPORTANT_NEWS'			=> 'Aucune annonce importante nest prsente.',
+	'NO_MESSAGE'				=> 'Le message priv est introuvable.',
+	'NO_NEW_FOLDER_NAME'		=> 'Vous devez spcifier un nouveau nom de dossier.',
+	'NO_NEWER_PM'				=> 'Aucun nouveau message.',
+	'NO_OLDER_PM'				=> 'Aucun ancien message.',
+	'NO_PASSWORD_SUPPLIED'		=> 'Vous ne pouvez pas vous connecter sans saisir un mot de passe.',
+	'NO_RECIPIENT'				=> 'Aucun destinataire na t spcifi.',
+	'NO_RULES_DEFINED'			=> 'Aucune rgle na t spcifie.',
+	'NO_SAVED_DRAFTS'			=> 'Aucun brouillon na t sauvegard.',
+	'NO_TO_RECIPIENT'			=> 'Aucun',
+	'NO_WATCHED_FORUMS'			=> 'Vous ntes abonn  aucun forum.',
+	'NO_WATCHED_SELECTED'		=> 'Vous navez slectionn aucun forum ou sujet dont vous tes abonn.',
+	'NO_WATCHED_TOPICS'			=> 'Vous ntes abonn  aucun sujet.',
+
+	'PASS_TYPE_ALPHA_EXPLAIN'	=> 'Le mot de passe doit tre compris entre %1$d et %2$d caractres de long, doit contenir des lettres en majuscules et en minuscules et doit contenir des nombres.',
+	'PASS_TYPE_ANY_EXPLAIN'		=> 'Doit tre compris entre %1$d et %2$d caractres.',
+	'PASS_TYPE_CASE_EXPLAIN'	=> 'Le mot de passe doit tre compris entre %1$d et %2$d caractres de long et doit contenir des lettres en majuscules et en minuscules.',
+	'PASS_TYPE_SYMBOL_EXPLAIN'	=> 'Le mot de passe doit tre compris entre %1$d et %2$d caractres de long, doit contenir des lettres en majuscules et en minuscules, doit contenir des nombres et doit contenir des symboles.',
+	'PASSWORD'					=> 'Mot de passe',
+	'PASSWORD_ACTIVATED'		=> 'Votre nouveau mot de passe a t activ.',
+	'PASSWORD_UPDATED'			=> 'Un nouveau mot de passe a t envoy  ladresse de courrier lectronique que vous avez enregistre.',
+	'PERMISSIONS_RESTORED'		=> 'Les permissions par dfaut ont t restaures avec succs.',
+	'PERMISSIONS_TRANSFERRED'	=> 'Les permissions de <strong>%s</strong> ont t transfres avec succs, vous pouvez  prsent parcourir le forum avec les permissions de cet utilisateur.<br />Veuillez noter que les permissions dadministration ne seront pas transfres. Vous pouvez restaurer vos permissions  tout moment.',
+	'PM_DISABLED'				=> 'La messagerie prive a t dsactive sur ce forum.',
+	'PM_FROM'					=> 'De ',
+	'PM_FROM_REMOVED_AUTHOR'	=> 'Ce message priv a t envoy par un utilisateur qui nest dsormais plus inscrit.',
+	'PM_ICON'					=> 'Icne du MP ',
+	'PM_INBOX'					=> 'Bote de rception',
+	'PM_NO_USERS'				=> 'Les utilisateurs que vous souhaitez ajouter nexistent pas.',
+	'PM_OUTBOX'					=> 'Bote denvoi',
+	'PM_SENTBOX'				=> 'Message(s) envoy(s)',
+	'PM_SUBJECT'				=> 'Sujet du message ',
+	'PM_TO'						=> 'Envoyer ',
+	'PM_USERS_REMOVED_NO_PM'	=> 'Certains utilisateurs ne peuvent pas tre ajouts car ils ont dsactivs la rception de messages privs.',
+	'POPUP_ON_PM'				=> 'Afficher une fentre intruse lors de la rception dun nouveau message priv ',
+	'POST_EDIT_PM'				=> 'diter le message',
+	'POST_FORWARD_PM'			=> 'Transfrer le message',
+	'POST_NEW_PM'				=> 'Composer un message',
+	'POST_PM_LOCKED'			=> 'La messagerie prive est verrouille.',
+	'POST_PM_POST'				=> 'Citer le message',
+	'POST_QUOTE_PM'				=> 'Citer le message',
+	'POST_REPLY_PM'				=> 'Rpondre au message',
+	'PRINT_PM'					=> 'Aperu avant impression',
+	'PREFERENCES_UPDATED'		=> 'Vos prfrences ont t mises  jour.',
+	'PROFILE_INFO_NOTICE'		=> 'Veuillez noter que ces informations peuvent tre visibles aux autres membres. Soyez prudent lors de la saisie dinformations personnelles. Tous les champs marqus par * sont obligatoires.',
+	'PROFILE_UPDATED'			=> 'Votre profil a t mis  jour avec succs.',
+
+	'RECIPIENT'							=> 'Destinataire',
+	'RECIPIENTS'						=> 'Destinataires',
+	'REGISTRATION'						=> 'Inscription',
+	'RELEASE_MESSAGES'					=> '%sRendre disponible tous les messages en liste dattente%s Ils seront tris de nouveau dans les dossiers appropris si assez despace est libr.',
+	'REMOVE_ADDRESS'					=> 'Supprimer ladresse',
+	'REMOVE_SELECTED_BOOKMARKS'			=> 'Supprimer les signets slectionns',
+	'REMOVE_SELECTED_BOOKMARKS_CONFIRM'	=> 'tes-vous sr de vouloir supprimer tous les signets que vous avez slectionns ?',
+	'REMOVE_BOOKMARK_MARKED'			=> 'Supprimer les signets slectionns',
+	'REMOVE_FOLDER'						=> 'Supprimer le dossier',
+	'REMOVE_FOLDER_CONFIRM'				=> 'tes-vous sr de vouloir supprimer ce dossier ?',
+	'RENAME'							=> 'Renommer',
+	'RENAME_FOLDER'						=> 'Renommer le dossier',
+	'REPLIED_MESSAGE'					=> 'Message(s) rpondu(s)',
+	'REPLY_TO_ALL'						=> 'Rpondre  lexpditeur et  tous les destinataires.',
+	'REPORT_PM'							=> 'Rapporter le message priv',
+	'RESIGN_SELECTED'					=> 'Dcocher la slection',
+	'RETURN_FOLDER'						=> '%1$sRetour au dossier prcdent%2$s',
+	'RETURN_UCP'						=> '%sRetour au panneau de contrle de lutilisateur%s',
+	'RULE_ADDED'						=> 'La rgle a t ajoute avec succs.',
+	'RULE_ALREADY_DEFINED'				=> 'Cette rgle a dj t spcifie antrieurement.',
+	'RULE_DELETED'						=> 'La rgle a t supprime avec succs.',
+	'RULE_NOT_DEFINED'					=> 'La rgle nest pas correctement spcifie.',
+	'RULE_REMOVED_MESSAGE'				=> 'Un message priv a t supprim par les filtres de la messagerie prive.',
+	'RULE_REMOVED_MESSAGES'				=> '%d messages privs ont t supprims par les filtres de la messagerie prive.',
+
+	'SAME_PASSWORD_ERROR'		=> 'Le mot de passe que vous avez saisi est identique  votre mot de passe actuel.',
+	'SEARCH_YOUR_POSTS'			=> 'Afficher vos messages',
+	'SEND_PASSWORD'				=> 'Envoyer le mot de passe',
+	'SENT_AT'					=> 'Envoy le ',			// Used before dates in private messages
+	'SHOW_EMAIL'				=> 'Les utilisateurs peuvent me contacter par courriel ',
+	'SIGNATURE_EXPLAIN'			=> 'Ceci est un bloc de texte qui sera ajout en bas de tous les messages que vous rdigez. Il est limit  %d caractres.',
+	'SIGNATURE_PREVIEW'			=> 'Votre signature apparatra ainsi dans tous vos messages',
+	'SIGNATURE_TOO_LONG'		=> 'Votre signature est trop longue.',
+	'SORT'						=> 'Trier par',
+	'SORT_COMMENT'				=> 'Description du fichier',
+	'SORT_DOWNLOADS'			=> 'Tlchargements',
+	'SORT_EXTENSION'			=> 'Extension',
+	'SORT_FILENAME'				=> 'Nom du fichier',
+	'SORT_POST_TIME'			=> 'Date de publication',
+	'SORT_SIZE'					=> 'Taille du fichier',
+
+	'TIMEZONE'					=> 'Fuseau horaire',
+	'TO'						=> ' ',
+	'TOO_MANY_RECIPIENTS'		=> 'Vous ne pouvez pas envoyer de message priv  autant de destinataires.',
+	'TOO_MANY_REGISTERS'		=> 'Vous avez dpass le nombre maximum de tentatives dinscriptions lors de cette session. Veuillez ressayer ultrieurement.',
+
+	'UCP'						=> 'Panneau de contrle de lutilisateur',
+	'UCP_ACTIVATE'				=> 'Activer le compte',
+	'UCP_ADMIN_ACTIVATE'		=> 'Veuillez noter que vous devez saisir une adresse de courrier lectronique valide afin que votre compte soit activ. Ladministrateur vrifiera votre compte et sil est approuv, vous recevrez un courriel  ladresse de courrier lectronique que vous avez spcifie.',
+	'UCP_AIM'					=> 'AOL Instant Messenger ',
+	'UCP_ATTACHMENTS'			=> 'Pices jointes',
+	'UCP_COPPA_BEFORE'			=> 'Avant le %s',
+	'UCP_COPPA_ON_AFTER'		=> 'Le ou aprs le %s',
+	'UCP_EMAIL_ACTIVATE'		=> 'Veuillez noter que vous devez saisir une adresse de courrier lectronique valide afin que votre compte soit activ. Vous recevrez un courriel qui contiendra le lien dactivation  ladresse de courrier lectronique que vous avez spcifie.',
+	'UCP_ICQ'					=> 'Numro ICQ ',
+	'UCP_JABBER'				=> 'Adresse Jabber ',
+
+	'UCP_MAIN'					=> 'Vue densemble',
+	'UCP_MAIN_ATTACHMENTS'		=> 'Grer les pices jointes',
+	'UCP_MAIN_BOOKMARKS'		=> 'Grer les signets',
+	'UCP_MAIN_DRAFTS'			=> 'Grer les brouillons',
+	'UCP_MAIN_FRONT'			=> 'Page principale',
+	'UCP_MAIN_SUBSCRIBED'		=> 'Grer les abonnements',
+
+	'UCP_MSNM'					=> 'WL/MSN Messenger ',
+	'UCP_NO_ATTACHMENTS'		=> 'Vous navez publi aucun fichier.',
+
+	'UCP_PREFS'					=> 'Prfrences du forum',
+	'UCP_PREFS_PERSONAL'		=> 'diter les rglages globaux',
+	'UCP_PREFS_POST'			=> 'diter la publication par dfaut',
+	'UCP_PREFS_VIEW'			=> 'diter les options daffichage',
+
+	'UCP_PM'					=> 'Messages privs',
+	'UCP_PM_COMPOSE'			=> 'Composer un message',
+	'UCP_PM_DRAFTS'				=> 'Grer les brouillons de MP',
+	'UCP_PM_OPTIONS'			=> 'Rgles, dossiers &amp; rglages',
+	'UCP_PM_POPUP'				=> 'Messages privs',
+	'UCP_PM_POPUP_TITLE'		=> 'Fentre intruse de message priv',
+	'UCP_PM_UNREAD'				=> 'Messages non lus',
+	'UCP_PM_VIEW'				=> 'Consulter les messages',
+
+	'UCP_PROFILE'				=> 'Profil',
+	'UCP_PROFILE_AVATAR'		=> 'diter lavatar',
+	'UCP_PROFILE_PROFILE_INFO'	=> 'diter le profil',
+	'UCP_PROFILE_REG_DETAILS'	=> 'diter les rglages du compte',
+	'UCP_PROFILE_SIGNATURE'		=> 'diter la signature',
+
+	'UCP_USERGROUPS'			=> 'Groupes dutilisateurs',
+	'UCP_USERGROUPS_MEMBER'		=> 'diter les adhsions',
+	'UCP_USERGROUPS_MANAGE'		=> 'Grer les groupes',
+
+	'UCP_REGISTER_DISABLE'			=> 'La cration de nouveaux comptes est actuellement dsactive.',
+	'UCP_REMIND'					=> 'Envoyer le mot de passe',
+	'UCP_RESEND'					=> 'Envoyer le courriel dactivation',
+	'UCP_WELCOME'					=> 'Bienvenue sur le panneau de contrle de lutilisateur. Vous pouvez surveiller, consulter et mettre  jour ici votre profil, vos prfrences et vos abonnements aux forums et aux sujets. Vous pouvez galement, si cela est autoris, envoyer des messages aux autres utilisateurs. Veuillez vous assurer davoir consult toutes les annonces avant de continuer.',
+	'UCP_YIM'						=> 'Yahoo Messenger ',
+	'UCP_ZEBRA'						=> 'Amis &amp; ignors',
+	'UCP_ZEBRA_FOES'				=> 'Grer les ignors',
+	'UCP_ZEBRA_FRIENDS'				=> 'Grer les amis',
+	'UNDISCLOSED_RECIPIENT'			=> 'Destinataire confidentiel',
+	'UNKNOWN_FOLDER'				=> 'Dossier inconnu',
+	'UNWATCH_MARKED'				=> 'Ne plus surveiller la slection',
+	'UPLOAD_AVATAR_FILE'			=> 'Transfrer depuis votre ordinateur ',
+	'UPLOAD_AVATAR_URL'				=> 'Transfrer depuis un lien ',
+	'UPLOAD_AVATAR_URL_EXPLAIN'		=> 'Saisissez le lien de limage. Limage sera ensuite copie sur ce site.',
+	'USERNAME_ALPHA_ONLY_EXPLAIN'	=> 'Le nom dutilisateur doit tre compris entre %1$d et %2$d caractres de long et ne doit contenir que des caractres alphanumriques.',
+	'USERNAME_ALPHA_SPACERS_EXPLAIN'=> 'Le nom dutilisateur doit tre compris entre %1$d et %2$d caractres de long et doit contenir des caractres alphanumriques, des espaces ou des caractres que sont -, +, _, [, et ].',
+	'USERNAME_ASCII_EXPLAIN'		=> 'Le nom dutilisateur doit tre compris entre %1$d et %2$d caractres de long et ne doit contenir aucun symbole spcial, seulement des caractres ASCII.',
+	'USERNAME_LETTER_NUM_EXPLAIN'	=> 'Le nom dutilisateur doit tre compris entre %1$d et %2$d caractres de long et ne doit contenir que des lettres ou des nombres.',
+	'USERNAME_LETTER_NUM_SPACERS_EXPLAIN'=> 'Le nom dutilisateur doit tre compris entre %1$d et %2$d caractres de long et doit contenir des lettres, des nombres, des espaces ou des caractres que sont -, +, _, [, et ].',
+	'USERNAME_CHARS_ANY_EXPLAIN'	=> 'La longueur doit tre comprise entre %1$d et %2$d caractres.',
+	'USERNAME_TAKEN_USERNAME'		=> 'Le nom dutilisateur que vous avez saisi est dj utilis, veuillez en slectionner un autre.',
+	'USERNAME_DISALLOWED_USERNAME'	=> 'Le nom dutilisateur que vous avez saisi a t interdit ou contient un mot interdit, veuillez en slectionner un autre.',
+	'USER_NOT_FOUND_OR_INACTIVE'	=> 'Les noms dutilisateurs que vous avez spcifis sont introuvables ou ces utilisateurs ne sont pas encore activs.',
+
+	'VIEW_AVATARS'				=> 'Afficher les avatars ',
+	'VIEW_EDIT'					=> 'Consulter et/ou diter',
+	'VIEW_FLASH'				=> 'Afficher les animations Flash ',
+	'VIEW_IMAGES'				=> 'Afficher les images dans les messages ',
+	'VIEW_NEXT_HISTORY'			=> 'Prochain MP dans lordre chronologique',
+	'VIEW_NEXT_PM'				=> 'Prochain MP',
+	'VIEW_PM'					=> 'Consulter le message',
+	'VIEW_PM_INFO'				=> 'Informations sur le message',
+	'VIEW_PM_MESSAGE'			=> '1 message',
+	'VIEW_PM_MESSAGES'			=> '%d message(s)',
+	'VIEW_PREVIOUS_HISTORY'		=> 'Prcdent MP dans lordre chronologique',
+	'VIEW_PREVIOUS_PM'			=> 'Prcdent MP',
+	'VIEW_SIGS'					=> 'Afficher les signatures ',
+	'VIEW_SMILIES'				=> 'Afficher les moticnes comme des images ',
+	'VIEW_TOPICS_DAYS'			=> 'Afficher les sujets des jours antrieurs ',
+	'VIEW_TOPICS_DIR'			=> 'Afficher les sujets tris par ordre ',
+	'VIEW_TOPICS_KEY'			=> 'Afficher les sujets tris par ',
+	'VIEW_POSTS_DAYS'			=> 'Afficher les messages des jours antrieurs ',
+	'VIEW_POSTS_DIR'			=> 'Afficher les messages tris par ordre ',
+	'VIEW_POSTS_KEY'			=> 'Afficher les messages tris par ',
+
+	'WATCHED_EXPLAIN'			=> 'La liste ci-dessous vous informe sur les forums et les sujets auxquels vous tes abonn. Vous serez averti lorsque de nouveaux messages seront publis dans ces derniers. Pour vous dsabonner, slectionnez le forum ou le sujet souhait, puis cliquez sur le bouton <em>Ne plus surveiller la slection</em>.',
+	'WATCHED_FORUMS'			=> 'Forums surveills',
+	'WATCHED_TOPICS'			=> 'Sujets surveills',
+	'WRONG_ACTIVATION'			=> 'La cl dactivation que vous avez spcifie nest pas valide car elle est inconnue de la base de donnes.',
+
+	'YOUR_DETAILS'				=> 'Votre activit ',
+	'YOUR_FOES'					=> 'Vos ignors ',
+	'YOUR_FOES_EXPLAIN'			=> 'Pour supprimer des noms dutilisateurs, slectionnez-les et cliquez sur le bouton <em>Envoyer</em>.',
+	'YOUR_FRIENDS'				=> 'Vos amis ',
+	'YOUR_FRIENDS_EXPLAIN'		=> 'Pour supprimer des noms dutilisateurs, slectionnez-les et cliquez sur le bouton <em>Envoyer</em>.',
+	'YOUR_WARNINGS'				=> 'Votre niveau davertissement ',
+
+	'PM_ACTION' => array(
+		'PLACE_INTO_FOLDER'	=> 'Placer dans le dossier',
+		'MARK_AS_READ'		=> 'Marquer comme lu',
+		'MARK_AS_IMPORTANT'	=> 'Marquer le message',
+		'DELETE_MESSAGE'	=> 'Supprimer le message'
+	),
+	'PM_CHECK' => array(
+		'SUBJECT'	=> 'Sujet',
+		'SENDER'	=> 'Expditeur',
+		'MESSAGE'	=> 'Message',
+		'STATUS'	=> 'Statut du message',
+		'TO'		=> 'Envoy '
+	),
+	'PM_RULE' => array(
+		'IS_LIKE'		=> 'est comme',
+		'IS_NOT_LIKE'	=> 'nest pas comme',
+		'IS'			=> 'est',
+		'IS_NOT'		=> 'nest pas',
+		'BEGINS_WITH'	=> 'commence par',
+		'ENDS_WITH'		=> 'termine par',
+		'IS_FRIEND'		=> 'est un ami',
+		'IS_FOE'		=> 'est un ignor',
+		'IS_USER'		=> 'est un utilisateur',
+		'IS_GROUP'		=> 'est dans un groupe dutilisateurs',
+		'ANSWERED'		=> 'rpondu',
+		'FORWARDED'		=> 'transfr',
+		'TO_GROUP'		=> ' mon groupe dutilisateurs par dfaut',
+		'TO_ME'			=> ' moi'
+	),
+
+
+	'GROUPS_EXPLAIN'	=> 'Les groupes dutilisateurs permettent aux administrateurs de mieux administrer les utilisateurs. Par dfaut, vous serez plac dans un groupe dutilisateurs spcifique qui correspond  votre groupe par dfaut. Ce groupe dfini comment vous apparatrez aux autres utilisateurs, grce , par exemple, une colorisation de votre nom dutilisateur, une utilisation dun avatar ou dun rang spcifique, etc. Selon la politique de ladministrateur, vous pouvez tre autoris  modifier votre groupe par dfaut. Vous pouvez galement tre membre dautres groupes dutilisateurs et tre autoris  en rejoindre de nouveaux. Certains groupes dutilisateurs peuvent vous procurer des permissions supplmentaires afin de consulter un contenu exclusif ou augmenter vos fonctionnalits dans dautres domaines.',
+	'GROUP_LEADER'		=> 'Responsables',
+	'GROUP_MEMBER'		=> 'Membres',
+	'GROUP_PENDING'		=> 'Membres en attente',
+	'GROUP_NONMEMBER'	=> 'Non membres',
+	'GROUP_DETAILS'		=> 'Informations sur le groupe',
+
+	'NO_LEADER'		=> 'Aucun responsable du groupe',
+	'NO_MEMBER'		=> 'Aucun membre du groupe',
+	'NO_PENDING'	=> 'Aucun membre en attente',
+	'NO_NONMEMBER'	=> 'Aucun non membre du groupe',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/viewforum.php phpBB3/language/fr/viewforum.php
--- phpBB3-init/language/fr/viewforum.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/viewforum.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,73 @@
+<?php
+/**
+*
+* viewforum [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ACTIVE_TOPICS'			=> 'Sujets actifs',
+	'ANNOUNCEMENTS'			=> 'Annonce(s)',
+
+	'FORUM_PERMISSIONS'		=> 'Permissions du forum',
+
+	'ICON_ANNOUNCEMENT'		=> 'Annonce',
+	'ICON_STICKY'			=> 'Note',
+
+	'LOGIN_NOTIFY_FORUM'	=> 'Vous avez t averti  propos de ce forum, veuillez vous connecter afin de le consulter.',
+
+	'MARK_TOPICS_READ'		=> 'Marquer les sujets comme lus',
+
+	'NEW_POSTS_HOT'			=> 'Nouveau(x) message(s) [ Populaire(s) ]',	// Not used anymore
+	'NEW_POSTS_LOCKED'		=> 'Nouveau(x) message(s) [ Verrouill(s) ]',	// Not used anymore
+	'NO_NEW_POSTS_HOT'		=> 'Aucun nouveau message [ Populaire ]',	// Not used anymore
+	'NO_NEW_POSTS_LOCKED'	=> 'Aucun nouveau message [ Verrouill ]',	// Not used anymore
+	'NO_READ_ACCESS'		=> 'Vous ntes pas autoris  consulter les sujets de ce forum.',
+	'NO_UNREAD_POSTS_HOT'		=> 'Aucun message non lu [ Populaire ]',
+	'NO_UNREAD_POSTS_LOCKED'	=> 'Aucun message non lu [ Verrouill ]',
+
+	'POST_FORUM_LOCKED'		=> 'Le forum est verrouill',
+
+	'TOPICS_MARKED'			=> 'Les sujets de ce forum ont t marqus comme lus avec succs.',
+
+	'UNREAD_POSTS_HOT'		=> 'Message(s) non lu(s) [ Populaire(s) ]',
+	'UNREAD_POSTS_LOCKED'	=> 'Message(s) non lu(s) [ Verrouill(s) ]',
+
+	'VIEW_FORUM'			=> 'Consulter le forum',
+	'VIEW_FORUM_TOPIC'		=> '1 sujet',
+	'VIEW_FORUM_TOPICS'		=> '%d sujets',
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/language/fr/viewtopic.php phpBB3/language/fr/viewtopic.php
--- phpBB3-init/language/fr/viewtopic.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/language/fr/viewtopic.php	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,119 @@
+<?php
+/**
+*
+* viewtopic [French]
+*
+* @package language
+* @version 1.1.1
+* @author Mal Soucaze (Mal Soucaze) <maelsoucaze@phpbb.com> http://mael.soucaze.com/
+* @author Elglobo (Mickal Salfati) <elglobo@phpbb.com> http://www.phpbb-services.com/
+* @copyright (c) 2005 phpBB Group, 2005 phpBB.fr
+* @license http://opensource.org/licenses/gpl-license.php GNU Public License
+*
+*/
+
+/**
+* DO NOT CHANGE
+*/
+if (!defined('IN_PHPBB'))
+{
+	exit;
+}
+
+if (empty($lang) || !is_array($lang))
+{
+	$lang = array();
+}
+
+// DEVELOPERS PLEASE NOTE
+//
+// All language files should use UTF-8 as their encoding and the files must not contain a BOM.
+//
+// Placeholders can now contain order information, e.g. instead of
+// 'Page %s of %s' you can (and should) write 'Page %1$s of %2$s', this allows
+// translators to re-order the output of data while ensuring it remains correct
+//
+// You do not need this where single placeholders are used, e.g. 'Message %d' is fine
+// equally where a string contains only two placeholders which are used to wrap text
+// in a url you again do not need to specify an order e.g., 'Click %sHERE%s' is fine
+
+$lang = array_merge($lang, array(
+	'ATTACHMENT'						=> 'Pice jointe',
+	'ATTACHMENT_FUNCTIONALITY_DISABLED'	=> 'La fonctionnalit des pices jointes est dsactive.',
+
+	'BOOKMARK_ADDED'		=> 'Le sujet a t ajout aux sujets avec succs.',
+	'BOOKMARK_ERR'			=> 'Le signetage du sujet a chou. Veuillez ressayer ultrieurement.',
+	'BOOKMARK_REMOVED'		=> 'Le sujet a t supprim des signets avec succs.',
+	'BOOKMARK_TOPIC'		=> 'Ajouter ce sujet aux signets',
+	'BOOKMARK_TOPIC_REMOVE'	=> 'Supprimer des signets',
+	'BUMPED_BY'				=> 'Dernire remonte par %1$s le %2$s.',
+	'BUMP_TOPIC'			=> 'Remonter le sujet',
+
+	'CODE'					=> 'Code ',
+	'COLLAPSE_QR'			=> 'Masquer la rponse rapide',
+
+	'DELETE_TOPIC'			=> 'Supprimer le sujet',
+	'DOWNLOAD_NOTICE'		=> 'Vous ntes pas autoris  consulter les fichiers insrs  ce message.',
+
+	'EDITED_TIMES_TOTAL'	=> 'Dernire dition par %1$s le %2$s, dit %3$d fois.',
+	'EDITED_TIME_TOTAL'		=> 'Dernire dition par %1$s le %2$s, dit %3$d fois.',
+	'EMAIL_TOPIC'			=> 'Envoyer par courriel  un ami',
+	'ERROR_NO_ATTACHMENT'	=> 'La pice jointe que vous avez slectionne nexiste plus.',
+
+	'FILE_NOT_FOUND_404'	=> 'Le fichier <strong>%s</strong> nexiste pas.',
+	'FORK_TOPIC'			=> 'Copier le sujet',
+	'FULL_EDITOR'			=> 'diteur avanc',
+	
+	'LINKAGE_FORBIDDEN'		=> 'Vous ntes pas autoris  consulter, tlcharger ou insrer un lien vers ce site.',
+	'LOGIN_NOTIFY_TOPIC'	=> 'Vous avez t averti  propos de ce sujet, veuillez vous connecter afin de le consulter.',
+	'LOGIN_VIEWTOPIC'		=> 'Vous devez tre inscrit et connect afin de consulter ce sujet.',
+
+	'MAKE_ANNOUNCE'				=> 'Modifier en  annonce ',
+	'MAKE_GLOBAL'				=> 'Modifier en  annonce globale ',
+	'MAKE_NORMAL'				=> 'Modifier en  sujet standard ',
+	'MAKE_STICKY'				=> 'Modifier en  note ',
+	'MAX_OPTIONS_SELECT'		=> 'Vous pouvez slectionner jusqu <strong>%d</strong> options',
+	'MAX_OPTION_SELECT'			=> 'Vous pouvez slectionner <strong>1</strong> option',
+	'MISSING_INLINE_ATTACHMENT'	=> 'La pice jointe <strong>%s</strong> nest plus disponible',
+	'MOVE_TOPIC'				=> 'Dplacer le sujet',
+
+	'NO_ATTACHMENT_SELECTED'=> 'Vous navez slectionn aucune pice jointe  tlcharger ou  consulter.',
+	'NO_NEWER_TOPICS'		=> 'Il ny a aucun nouveau sujet dans ce forum.',
+	'NO_OLDER_TOPICS'		=> 'Il ny a aucun ancien sujet dans ce forum.',
+	'NO_UNREAD_POSTS'		=> 'Il ny a aucun message non lu dans ce sujet.',
+	'NO_VOTE_OPTION'		=> 'Vous devez spcifier une option lors du vote.',
+	'NO_VOTES'				=> 'Aucun vote',
+
+	'POLL_ENDED_AT'			=> 'Le sondage sest cltur le %s',
+	'POLL_RUN_TILL'			=> 'Le sondage est ouvert jusquau %s',
+	'POLL_VOTED_OPTION'		=> 'Vous avez vot pour cette option',
+	'PRINT_TOPIC'			=> 'Aperu avant impression',
+
+	'QUICK_MOD'				=> 'Outils de modration rapide ',
+	'QUICKREPLY'			=> 'Rponse rapide',
+	'QUOTE'					=> 'Citer',
+
+	'REPLY_TO_TOPIC'		=> 'Rpondre au sujet',
+	'RETURN_POST'			=> '%sRetour au message%s',
+
+	'SHOW_QR'				=> 'Rponse rapide',
+	'SUBMIT_VOTE'			=> 'Voter',
+
+	'TOTAL_VOTES'			=> 'Nombre total de votes',
+
+	'UNLOCK_TOPIC'			=> 'Dverrouiller le sujet',
+
+	'VIEW_INFO'				=> 'Informations sur le message',
+	'VIEW_NEXT_TOPIC'		=> 'Sujet suivant',
+	'VIEW_PREVIOUS_TOPIC'	=> 'Sujet prcdent',
+	'VIEW_RESULTS'			=> 'Consulter les rsultats',
+	'VIEW_TOPIC_POST'		=> '1 message',
+	'VIEW_TOPIC_POSTS'		=> '%d messages',
+	'VIEW_UNREAD_POST'		=> 'Premier message non lu',
+	'VISIT_WEBSITE'			=> 'Site internet',
+	'VOTE_SUBMITTED'		=> 'Votre vote a bien t pris en compte.',
+	'VOTE_CONVERTED'		=> 'Il est impossible de modifier les votes dun sondage qui a t converti.',
+
+));
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/0001-Fix-12312-NuSOAP-web-description-XSS-vulnerability.patch phpBB3/library/nusoap/0001-Fix-12312-NuSOAP-web-description-XSS-vulnerability.patch
--- phpBB3-init/library/nusoap/0001-Fix-12312-NuSOAP-web-description-XSS-vulnerability.patch	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/0001-Fix-12312-NuSOAP-web-description-XSS-vulnerability.patch	2013-01-28 17:31:47.716708650 +0100
@@ -0,0 +1,119 @@
+From edb817991b99cd5538f102be26865fde7c6b7212 Mon Sep 17 00:00:00 2001
+From: David Hicks <hickseydr@optusnet.com.au>
+Date: Thu, 2 Sep 2010 21:51:21 +1000
+Subject: [PATCH] Fix #12312: NuSOAP web description XSS vulnerability
+
+Bogdan Calin from Acunetix discovered a number of XSS vulnerabilities in
+NuSOAP 0.9.5 (bundled with MantisBT) relating to improperly escaped
+URLs.
+
+A sample exploit URL is:
+/api/soap/mantisconnect.php?1<ScRiPt>prompt(923395)</ScRiPt>
+
+The upstream report for these XSS flaws in NuSOAP is located at the
+following URL:
+http://sourceforge.net/projects/nusoap/forums/forum/193579/topic/3834005
+
+This patch provides an interim fix for MantisBT users until upstream
+makes a new release.
+---
+ library/nusoap/class.wsdl.php |   16 ++++++++--------
+ library/nusoap/nusoap.php     |   14 +++++++-------
+ 2 files changed, 15 insertions(+), 15 deletions(-)
+
+diff --git a/library/nusoap/class.wsdl.php b/library/nusoap/class.wsdl.php
+index 6d2a693..7dcc307 100644
+--- a/library/nusoap/class.wsdl.php
++++ b/library/nusoap/class.wsdl.php
+@@ -842,9 +842,9 @@ class wsdl extends nusoap_base {
+ 		<body>
+ 		<div class=content>
+ 			<br><br>
+-			<div class=title>'.$this->serviceName.'</div>
++			<div class=title>'.htmlentities($this->serviceName).'</div>
+ 			<div class=nav>
+-				<p>View the <a href="'.$PHP_SELF.'?wsdl">WSDL</a> for the service.
++				<p>View the <a href="'.htmlentities($PHP_SELF).'?wsdl">WSDL</a> for the service.
+ 				Click on an operation name to view it&apos;s details.</p>
+ 				<ul>';
+ 				foreach($this->getOperations() as $op => $data){
+@@ -854,21 +854,21 @@ class wsdl extends nusoap_base {
+ 				    <a href='#' onclick='popout()'><font color='#ffffff'>Close</font></a><br><br>";
+ 				    foreach($data as $donnie => $marie){ // loop through opdata
+ 						if($donnie == 'input' || $donnie == 'output'){ // show input/output data
+-						    $b .= "<font color='white'>".ucfirst($donnie).':</font><br>';
++						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).':</font><br>';
+ 						    foreach($marie as $captain => $tenille){ // loop through data
+ 								if($captain == 'parts'){ // loop thru parts
+-								    $b .= "&nbsp;&nbsp;$captain:<br>";
++								    $b .= "&nbsp;&nbsp;".htmlentities($captain).":<br>";
+ 					                //if(is_array($tenille)){
+ 								    	foreach($tenille as $joanie => $chachi){
+-											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;$joanie: $chachi<br>";
++											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;".htmlentities($joanie).": ".htmlentities($chachi)."<br>";
+ 								    	}
+ 					        		//}
+ 								} else {
+-								    $b .= "&nbsp;&nbsp;$captain: $tenille<br>";
++								    $b .= "&nbsp;&nbsp;".htmlentities($captain).": ".htmlentities($tenille)."<br>";
+ 								}
+ 						    }
+ 						} else {
+-						    $b .= "<font color='white'>".ucfirst($donnie).":</font> $marie<br>";
++						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).":</font> ".htmlentities($marie)."<br>";
+ 						}
+ 				    }
+ 					$b .= '</div>';
+@@ -1935,4 +1935,4 @@ class wsdl extends nusoap_base {
+ 	} 
+ }
+ 
+-?>
+\ No newline at end of file
++?>
+diff --git a/library/nusoap/nusoap.php b/library/nusoap/nusoap.php
+index 4973532..10750aa 100644
+--- a/library/nusoap/nusoap.php
++++ b/library/nusoap/nusoap.php
+@@ -5424,9 +5424,9 @@ class wsdl extends nusoap_base {
+ 		<body>
+ 		<div class=content>
+ 			<br><br>
+-			<div class=title>'.$this->serviceName.'</div>
++			<div class=title>'.htmlentities($this->serviceName).'</div>
+ 			<div class=nav>
+-				<p>View the <a href="'.$PHP_SELF.'?wsdl">WSDL</a> for the service.
++				<p>View the <a href="'.htmlentities($PHP_SELF).'?wsdl">WSDL</a> for the service.
+ 				Click on an operation name to view it&apos;s details.</p>
+ 				<ul>';
+ 				foreach($this->getOperations() as $op => $data){
+@@ -5436,21 +5436,21 @@ class wsdl extends nusoap_base {
+ 				    <a href='#' onclick='popout()'><font color='#ffffff'>Close</font></a><br><br>";
+ 				    foreach($data as $donnie => $marie){ // loop through opdata
+ 						if($donnie == 'input' || $donnie == 'output'){ // show input/output data
+-						    $b .= "<font color='white'>".ucfirst($donnie).':</font><br>';
++						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).':</font><br>';
+ 						    foreach($marie as $captain => $tenille){ // loop through data
+ 								if($captain == 'parts'){ // loop thru parts
+-								    $b .= "&nbsp;&nbsp;$captain:<br>";
++								    $b .= "&nbsp;&nbsp;".htmlentities($captain).":<br>";
+ 					                //if(is_array($tenille)){
+ 								    	foreach($tenille as $joanie => $chachi){
+-											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;$joanie: $chachi<br>";
++											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;".htmlentities($joanie).": ".htmlentities($chachi)."<br>";
+ 								    	}
+ 					        		//}
+ 								} else {
+-								    $b .= "&nbsp;&nbsp;$captain: $tenille<br>";
++								    $b .= "&nbsp;&nbsp;".htmlentities($captain).": ".htmlentities($tenille)."<br>";
+ 								}
+ 						    }
+ 						} else {
+-						    $b .= "<font color='white'>".ucfirst($donnie).":</font> $marie<br>";
++						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).":</font> ".htmlentities($marie)."<br>";
+ 						}
+ 				    }
+ 					$b .= '</div>';
+-- 
+1.7.2.2
+
diff -rNU5 phpBB3-init/library/nusoap/changelog phpBB3/library/nusoap/changelog
--- phpBB3-init/library/nusoap/changelog	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/changelog	2013-01-28 17:31:47.724708650 +0100
@@ -0,0 +1,648 @@
+2003-07-21, version 0.6.5
+- soap_transport_http: SOAPAction header is quoted again, fixes problem w/ Weblogic Server
+- applied Jason Levitt patch for proper array serialization, fixes problem w/ Amazon shopping cart services
+- fixed null value serialization
+- applied patch from "BZC ToOn'S" - fixes wsdl serialization when no parameters
+- applied John's patch, implementing compression for the server
+
+2003-07-22, version 0.6.5
+- soap_server: fixed bug causing charset encoding not to be passed to the parser
+- soap_fault: added default encoding to the fault serialization
+- soap_parser: changed the parser to pre-load the parent's result array when processing scalar values. This increases parsing speed.
+
+2003-07-23, version 0.6.5
+- soap_base: fix code that overwrites user-supplied attributes in serialize_val
+- soap_base: use arrays-of-arrays rather than attempting multi-dimensional in serialize_val
+- xmlschema: emit import statements and qualify all elements with prefix in serializeSchema (better interop with validation tools)
+- soapclient: get xml character encoding from HTTP Content-Type header if provided, e.g. text/xml;charset="UTF-8"
+- soapclient: use headers in call if provided (previously ignored this parameter)
+- soap_server: in parse_request, if neither getallheaders nor $_SERVER are available, use $HTTP_SERVER_VARS to get SOAPAction and xml encoding
+
+2003-07-24, version 0.6.5
+- soap_transport_http: apply patch from Steven Brown "if the server closes connection prematurely, nusoap would spin trying to read data that isn't there"
+
+2003-07-25, version 0.6.5
+- wsdl: apply patch from Sven to workaround single schema limitation
+- wsdl: apply a variant of the patch from Holger to handle empty values for array by serializing an array with 0 elements
+- xmlschema: remove the redundant default namespace attribute on the schema element; everything in xsd is explicitly specified as being from xsd
+- soap_transport_http: fix setCredentials and add TODO comments in sendHTTPS about what to change if this setCredentials stays
+
+2003-07-30, version 0.6.5
+- nusoap_base: change documentation of soap_defencoding to specify it is the encoding for outgoing messages
+- nusoap_base: only change &, <, > to entities, not all HTML entities
+- soap_transport_http: update the Content-Type header in sendRequest, since soap_defencoding could be changed after ctor is called
+- soap_server: use soap_defencoding instead of charset_encoding
+- soap_server: read encoding from _SERVER if available
+- nusoap_base: do entity translation for string parameters with an xsd type specified (thanks David Derr)
+
+2003-07-31, version 0.6.5
+- soap_transport_http: add proxy authentication
+- soap_transport_http: build payload the same way for http and https
+- wsdl: add proxy authentication
+- soapclient: add proxy authentication
+- soapclient: allow proxy information in ctor, so that it can be used for wsdl
+
+2003-08-01, version 0.6.5
+- soap_transport_http: close a persistent connection that's at EOF
+- soap_transport_http: prevent conflicts between setEncoding and usePersistentConnection
+- soap_transport_http: fix use of $headers instead of $this->incoming_headers in getResponse
+- soapclient: improve handling of persistent connections
+- soapclient: force xml_encoding to upper case
+- soap_server: let the Web server decide whether to close the connection (no Connection: close header)
+- soap_server: force xml_encoding to upper case
+
+2003-08-04, version 0.6.5
+- soap_parser: use XML type information to pick a PHP data type; also decode base64
+- soap_server: read all HTTP headers when using _SERVER or HTTP_SERVER_VARS
+- soap_server: add gzip encoding support for outgoing messages
+- soap_transport_http: deflate is gzcompress/gzuncompress (cf. http://archive.develooper.com/libwww@perl.org/msg04650.html)
+- soap_transport_http: clean use of persistentConnection so it's always a set boolean
+- soapclient: add responseData member to access deflated/gunzipped payload
+
+2003-08-05, version 0.6.5
+- soap_server: look multiple places when setting debug_flag
+
+2003-08-07, version 0.6.5
+- nusoap_base: serialize specified type (e.g. ArrayOfString) even for simple array
+- wsdl: only specify encodingStyle in the input/output soap bindings when it is not empty (thanks Guillaume)
+
+2003-08-15, version 0.6.5
+- soap_parser: fix parsing of elements with no XSD type specified
+- soap_parser: use PHP string type for XSD long and unsignedLong types
+
+2003-08-16, version 0.6.5
+- soap_parser: fix code generating warning (thanks Torsten)
+
+2003-08-19, version 0.6.5
+- soap_parser: fix another line of code generating a warning (thanks Torsten)
+
+2003-08-22, version 0.6.5
+- soap_server: remove all '--' from debug_str; previous code changed '---' to '- --'
+- wsdl, soapclient, soap_parser: patch submitted by Mark Spavin as described by
+                                 the following...
+> Changes for the multiple/nested imports from the wsdl file. This builds an
+> array of files not just the last one and also checks for relative paths to
+> the parent. This will then get the imported files from the remote site
+> instead of your local disk. Local wsdl files should still work (untested).
+>
+> Changes for multiple encoding sytles as previously posted
+
+2003-08-24, version 0.6.5
+- wsdl, soapclient: fix some PHP notices from previous update
+
+2003-08-26, version 0.6.5
+- wsdl: support multiple SOAP ports
+- soapclient, soap_server: when no charset is specified, use UTF-8, even though HTTP specifies US-ASCII.
+- soap_transport_http: do not prepend $host with 'ssl://' for https (is this required for older cURL versions?)
+
+2003-08-27, version 0.6.5
+- soap_server: support compressed request messages (thanks John Huong)
+- soap_parser: deserialize Apache Vector as an array
+- xmlschema: use $this->typemap in getPHPType (which is not used)
+- soapclient, wsdl: check for WSDL errors after serializing parameters
+- nusoap_base: add serialization of Apache Map (when not using WSDL)
+- wsdl: add serialization of Apache Map (when using WSDL)
+- wsdl: only change &, <, > to entities, not all HTML entities
+
+2003-08-28, version 0.6.5
+- soap_transport_http: disable cURL verification of peer and server (formerly the cURL default)
+- soap_transport_http: mingle cURL code with straight http, so sendHTTP is no longer needed
+
+2003-08-29, version 0.6.6
+- soap_transport_http: add setContentType
+- soapclient: call setContentType using new getHTTPContentType and getHTTPContentTypeCharset
+
+2003-09-05, version 0.6.6
+- wsdl: add some more code to handle null/nil values (but there's still a way to go)
+
+2003-10-21, version 0.6.6
+- soap_transport_http: only include port in Host header if it was specified in the URL
+- soap_transport_http: add some code to use OpenSSL for PHP ssl:// scheme, but comment out since it's not ready
+- soap_server: use $_SERVER['PHP_SELF'] if $GLOBALS['PHP_SELF'] is not set
+- wsdl: add WSDL request and response and transport debug to debug
+- wsdl: handle custom type extending xmlschema namespace (GLUE ... Thanks Matt)
+- soap_parser: add param to docs
+- soapclient: add getHTTPBody, getHTTPContentType, getHTTPContentTypeCharset (anticipating MIME subclass)
+
+2003-10-28, version 0.6.6
+- nusoap_base: add expandEntities method
+- wsdl: use expandEntities
+- soap_fault: use expandEntities
+- soap_transport_http: Allow credentials to be included in URL, rather than requiring setCredentials
+- soap_transport_http: Merge HTTP headers that span multiple lines
+- soap_parser: Properly set errors in ctor
+- soapclient: Pass headers to parseResponse and parse them in that method
+
+2003-10-30, version 0.6.6
+- xmlschema: Add some information for the related type to an element
+
+2003-12-09, version 0.6.6
+- nusoap_base: Add some namespace methods previously in xmlschema
+- xmlschema: Improve parsing of complexType, element and simpleType
+- xmlschema: Improve serialization
+- xmlschema: Track imports
+- xmlschema: Track elementFormDefault and form attributes
+- wsdl: Support multiple <schema> (note that setting $server->wsdl->schemaTargetNamespace no longer does anything!  Use configureWSDL instead.)
+- wsdl: Use form attribute of element to control namespace specification
+- wsdl: Support chained imports (A imports B which imports C)
+- wsdl: Include port in endpoint address when serializing
+- soap_server: Fix use of style (rpc|document) and use (encoded|literal)
+- soap_server: Support _SERVER[CONTENT_TYPE] in addition to _SERVER[HTTP_CONTENT_TYPE]
+- soap_server: Support wsdl with multiple <schema>
+- soap_client: Remove a var_dump
+- soap_client: Add style and use parameters to call method to support doc/lit without WSDL
+- soap_transport_http: Check that $this->fp exists when doing persistent connections
+
+2003-12-17, version 0.6.6
+- soap_server: pass namespaces to xmlschema constructor
+- wsdl: post-process after all imports
+- wsdl: remove some debug, add some error handling
+- xmlschema: allow enclosing namespaces to be specified in constructor
+- xmlschema: improve handling of compositors and simple types
+
+2004-01-08, version 0.6.6
+- soap_server: when requested WSDL is in a file, return to client using passthru (thanks Ingo Fischer)
+- soapclient: have proxy inherit more client state
+- soapclient: allow timeout and response timeout to be specified in the constructor
+- wsdl: allow timeout and response timeout to be specified in the constructor
+- soap_transport_http: allow response timeout to be specified in send and sendHTTPS
+
+2004-01-28, version 0.6.6
+- wsdl: add namespace for array and scalar when form is qualified
+- wsdl: fix a bug in which data type of complexType elements were ignored in serialization
+- wsdl: enhance handling of URLs with file scheme
+- wsdl: add addSimpleType
+- xmlschema: add addSimpleType
+- xmlschema: always set phpType elements
+- soapclient: allow a wsdl instance to be specified in constructor
+- soap_server: allow a wsdl instance to be specified in constructor (not tested!)
+- soap_server: fix default SOAPAction created in register method
+- soap_transport_http: accept chunking with LF separators in addition to CRLF.
+- wsdlcache: added class
+- nusoapmime: fix comments
+
+2004-02-23, version 0.6.6
+- soap_transport_http: don't try to unchunk cURL data, since cURL already does it
+- soap_transport_http: append CVS revision to version in User-Agent
+- wsdl: serialize boolean as true|false, not 1|0, to agree with XML Schema
+- soap_server: always exit() after returning WSDL
+- soap_server: use the WSDL URL scheme as the default endpoint URL scheme
+- soap_server: append CVS revision to version in X-SOAP-Server
+- nusoap_base: add (CVS) revision
+- wsdlcache: synchronize using a per-WSDL lock file (Thanks Ingo)
+- wsdlcache: add cache lifetime, after which cache contents are invalidated (Thanks Ingo)
+
+2004-03-15, version 0.6.6
+- nusoap_base: add isArraySimpleOrStruct method
+- soap_server: improve WSDL URL scheme determination
+- soap_server: only deflate/gzip payloads > 1024 bytes
+- soap_server: fix parameter order in fault method (always used as faultcode, faultstring)
+- soap_server: refactor parse_request into multiple functions (for sanity)
+- soap_server: set the namespace on the Response element to the same as the request
+- soap_server: name the return value element 'return' by default
+- soap_server: added and documented data fields, so that service programmers can use them if desired
+- soap_parser: standardize parsing error message
+- soap_parser: fix document and responseHeaders so they are the correct XML text (as documented)
+- soap_transport_http: fix read from persistent connection
+- soapclient: clean up debugging for persistent connection
+- wsdl: enforce correct naming of messages parts when an associative array is used for parameters
+- wsdl: better serialization of null values
+- wsdl: standardize parsing error message
+- xmlschema: standardize parsing error message
+
+2004-03-24, version 0.6.7
+- soap_transport_http: add digest authentication (based on code by Kevin A. Miller)
+- xmlschema: improve parsing of import elements
+- wsdl: do schema imports even if there are no wsdl imports
+
+2004-04-12, version 0.6.7
+- wsdl: serialize multiple elements when maxOccurs="unbounded" and value is an array
+- wsdl: serialize soapval values (used to force an XML type, e.g. when WSDL uses an abstract type)
+- nusoapmime: do not require nusoap.php (it is now the programmer's responsibility)
+
+2004-04-21, version 0.6.7
+- soap_parser: parse repeated element name into an array (de-serializes doc/lit array into a PHP array when there is more than 1 array element)
+- soap_server: do not wrap response in a response element for a document style service
+
+2004-04-30, version 0.6.7
+- soap_transport_http: allow digest auth params to be separated by "," as well as ", "
+- soap_transport_http: re-initialize incoming headers for each response
+- soap_server: add methodreturnisliteralxml property to allow service function to return XML as a string
+- soapclient: improve rpc/literal support
+- soapclient: allow XML string as call params in addition to array
+- soapclient: support document style and literal encoding when not using WSDL
+
+2004-05-05, version 0.6.7
+- wsdl: serialize PHP objects for WSDL XML Schema complexTypes, in addition to associative arrays
+- wsdl: fix WSDL generation when there is no encodingStyle
+- soap_transport_http: suppress fsockopen warnings
+- soap_transport_http: detect socket timeouts when reading (0 bytes returned)
+- soap_transport_http: read chunked content "in-line" so it works on a persistent connection
+- nusoap_base: serialize boolean as true|false, not 1|0, to agree with XML Schema
+- nusoap_base: serialize array of struct differently than array of array
+
+2004-06-25, version 0.6.8
+- soap_server: prefer gzip to deflate, since IE does not like our deflate
+- soap_server: move webDescription to the wsdl class
+- soap_server: allow class and instance method calls for service (thanks Ingo Fischer and Roland Knall)
+- wsdl: get webDescription from the soap_server class
+- wsdl: allow compression from the server
+- wsdl: fix serialization of soapval without a type
+- wsdl: propagate debug value from query string to SOAP endpoint in programmatic WSDL generation
+- nusoap_base: add anyType, anySimpleType for 2001 XML Schema
+- nusoap_base: provide additional debug functions
+- soap_transport_http: ignore Content-Length when chunked encoding is used
+- soap_transport_http: remove ':' from username for Basic authentication (cf. RFC 2617)
+- soap_transport_http: urldecode username and password taken from URL
+- soap_transport_http: use raw inflate/deflate for IE/IIS compatibility, rather than having Zlib headers according to HTTP 1.1 spec
+- soap_transport_http: attempt to handle the case when both the service application and Web server compress the response
+- soapclient: when creating proxy methods, replace '.' in operation name with '__' in function name
+- soapclient: initialize requestHeaders in proxy
+- general: use new debug methods; never access debug_str directly
+
+2004-09-30, version 0.6.8
+- soapclient: do not allow getProxy call when WSDL is not used
+- soapclient: use ISO-8859-1 as the charset if not specified in the Content-Type header
+- soapclient: when an empty string is specified for the call namespace, do not put the method element in a namespace
+- soapclient: let soap_transport_http check for SSL support
+- soapclient: have proxy inherit soap_defencoding from the client from which it is generated
+- soapclient: do not assume that 'ns1' is an unused namespace prefix; always generate namespace prefixes randomly
+- soap_parser: compare any encoding in the XML declaration to the charset from the HTTP Content-Type header (thanks Ingo Fischer)
+- soap_parser: improve parse repeated element name into an array (de-serializes doc/lit array into a PHP array when there is more than 1 array element)
+- soap_server: use ISO-8859-1 as the charset if not specified in the Content-Type header
+- soap_server: allow suppression of automatic UTF-8 decoding
+- soap_server: fix a bug when call_user_func_array() is used
+- soap_transport_http: correct digest authentication through a proxy
+- wsdl: serialize SOAP-ENC types similarly to XSD types
+- xmlschema: force unprefixed type into default namespace
+- xmlschema: fix serialization of definition of simple types
+
+2004-10-01, version 0.6.8
+- soap_parser: handle default namespace attributes
+- soap_server: add default_utf8 field
+- soap_server: support literal encoding (with RPC style)
+- soap_transport_http: parse HTTP status and generate error for 300, 302-307, 400, 401-417, 501-505 (thanks for the idea Ghislain)
+- soap_transport_http: follow HTTP redirection (HTTP status 301 and Location header) (thanks for the idea Ghislain)
+- xmlschema: allow any attributes to be specified in an element of a complexType, e.g., abstract, default, form, minOccurs, maxOccurs, nillable (thanks Jirka Pech for the original patch)
+
+2004-10-02, version 0.6.8
+- soapclient: read/write cookies (thanks Ingo)
+- soap_server: change faultcode on non-resendable faults to Client
+- soap_transport_http: read/write cookies (thanks Ingo)
+
+2004-10-05, version 0.6.8
+- wsdl: add addElement method
+- wsdl: support the document style in the register method
+- xmlschema: parse unnamed simpleTypes, rather than ignoring them
+- xmlschema: include untyped elements when parsing a complexType
+- xmlschema: add addElement method
+
+2004-10-14, version 0.6.8
+- soapclient: support client certificates
+- soap_parser: deserialize attributes, prefixing names with "!"
+- soap_server: notify the client with HTML when WSDL is requested but not supported by service
+- soap_transport_http: support client certificates
+- wsdl: support defaults for elements of a complexType
+- wsdl: serialize elements from complexType extension base
+- wsdl: serialize data (associative array elements) as attributes according to XML Schema
+- xmlschema: record extension base if present for a complexType
+
+2004-12-15, version 0.6.8
+- nusoap_base: add 2000 XML Schema (rare, but used by Akamai)
+- soap_parser: avoid deserializing more common attributes that are not data
+- soap_parser: be lax when HTTP specifies ISO-8859-1 (the default) and XML specifies UTF-8 (the norm)
+- soap_server: account for the fact that get_class_methods returns methods in all lower case (thanks Steve Haldane)
+- soap_transport_http: parse digest info that includes '=' in the data (thanks Jinsuk Kim)
+- wsdl: feably handle some cases for literal serialization of form="unqualified" elements
+- wsdl: don't serialize the decimal portion of a PHP double when the XML type is long
+- wsdl: fix serialization of attributes for complexType that is an extension
+- wsdlcache: enhance diagnostics
+- xmlschema: handle untyped elements
+- xmlschema: handle WSDL for SOAP Array that uses the base attribute plus a sequence of element
+
+2005-01-22, version 0.6.8
+- wsdl: allow an element in one schema to have a type from another schema
+
+2005-01-24, version 0.6.8
+- xmlschema: correctly parse nested complexType definitions
+
+2005-02-14, version 0.6.8
+- nusoap_base: fix a bug in which attributes were sometimes not serialized with a value
+- nusoap_base: improve serialization of null values (thanks Dominique Stender)
+- soap_parser: parse null values by handling the nil attribute (thanks Dominique Stender)
+- soap_server: set character encoding for a fault to be the same as for the server (thanks Mark Scott)
+- soap_server: correctly check for null value returned from method when WSDL is used (without WSDL, cannot distinguish whether NULL or void return is desired)
+- soapclient: for document style, call should always return an array rooted at the response part (all bets are off when there are multiple parts)
+- xmlschema: save enumeration values parsed from WSDL
+
+2005-02-10, version 0.6.9
+- soapclient: only set SOAP headers when they are specified in call params (so setHeaders still works)
+
+2005-04-04, version 0.6.9
+- soap_server: use get_class instead of is_a (thanks Thomas Noel)
+- soapclient: use get_class instead of is_a (thanks Thomas Noel)
+- soapclient: add setEndpoint method
+- soap_transport_http: fix client certificates (thanks Doug Anarino and Eryan Eriobowo)
+
+2005-04-29, version 0.6.9
+- nusoap_base: add global variable and methods for setting debug level
+- nusoap_base: use xsd:anyType instead of xsd:ur-type to serialize arrays with multiple element types (thanks Ingo Fischer)
+- nusoap_base: expand entities in attributes (thanks Gaetano Giunta)
+- soapclient: call parent constructor
+- soapval: call parent constructor
+- soap_fault: call parent constructor
+- soap_parser: call parent constructor
+- soap_server: assume get_class_methods always returns lower case for PHP 4.x only
+- soap_server: call parent constructor
+- soap_transport_http: do nothing in setEncoding if gzdeflate is not present (thanks Franck Touanen for pointing this out)
+- soap_transport_http: fix check for server request for digest authentication (thanks Mark Spavin)
+- soap_transport_http: call parent constructor
+- wsdl: fix documentation page popup of one method after another (thanks Owen)
+- wsdl: call parent constructor
+- wsdl: expand entities in attributes (thanks Gaetano Giunta)
+- xmlschema: call parent constructor
+
+2005-06-03, version 0.6.9
+- nusoap_base: serialize empty arrays as having elements xsd:anyType[0]
+- nusoap_base: add encodingStyle parameter to serializeEnvelope
+- nusoap_base: serialize xsi:type with nil values
+- nusoap_base: improve debug and comments
+- soap_parser: correctly parse an empty array to an empty array, not an empty string
+- soap_parser: improve debug and comments
+- soap_server: specify encodingStyle for envelope when WSDL is used
+- soapclient: factor out new getProxyClassCode method
+- soapclient: specify encodingStyle for envelope
+- soapclient: improve debug and comments
+- wsdl: add namespace for Apache SOAP types if a variable of such type is serialized
+- wsdl: serialize nil value for nillable elements when no value is provided
+- wsdl: serialize xsi:type with nil values
+- wsdl: copy attributes as well as elements to an element from its complexType
+- wsdl: specify encodingStyle for operations
+- wsdl: improve debug and comments
+- xmlschema: improve debug and comments
+
+2005-06-03, version 0.7.0
+- nusoap_base: improve debug and comments
+- nusoap_base: fix version, which should have been 0.7.0 since 2005-03-04
+
+2005-06-06, version 0.7.1
+- nusoap_base: adjust numeric element names for serialization, instead of forcing them to 'soapVal'
+- nusoapmime: add type=text/xml to multipart/related (thanks Emmanuel Cordonnier)
+- soap_fault: fix serialization of detail
+- soap_server: check required parameters for register method
+- soap_server: when getallheaders is used, massage header names
+- soap_server: use SOAPAction to determine operation when doc/lit service does not wrap parameters in an element with the method name (thanks Peter Hrastnik)
+- soap_transport_http: correctly handle multiple HTTP/1.1 100 responses for https (thanks Jan Slabon)
+- wsdl: fixed documentation for addComplexType (thanks Csintalan dm)
+- wsdl: serialize array data when maxOccurs = 'unbounded' OR maxOccurs > 1 (thanks Dominique Schreckling)
+- wsdl: when serializing a string == 'false' as a boolean, set the value to false
+- wsdl: when serializing a complexType, require the PHP value supplied to be an array
+
+2005-07-01, version 0.7.1
+- nusoap_base: Allow SOAP headers to be supplied as an array like parameters
+- soap_parser: de-serialize simpleContent that accompanies complexContent
+- soap_server: append debug information when programmatically-defined WSDL is returned
+- soap_transport_http: Add debug when an outgoing header is set
+- soapclient: Allow SOAP headers to be supplied as an array like parameters
+- xmlschema: serialize attributes more generally, rather than assuming they are for SOAP 1.1 Array
+- wsdl: when serializing, look up types by namespace, not prefix (simple programmatic doc/lit WSDL now seems to work)
+- wsdl: process namespace declarations first when parsing an element
+
+2005-07-27, version 0.7.1
+- nusoap_base: do not override supplied element name with class name when serializing an object in serialize_val
+- nusoap_base: remove http://soapinterop.org/xsd (si) from namespaces array
+- nusoapmime: add nusoapservermime class to implement MIME attachments on the server
+- soap_fault: improve documentation
+- soap_server: improve documentation
+- soap_server: make consistent use of _SERVER and HTTP_SERVER_VARS
+- soap_server: make all incoming HTTP header keys lower case
+- soap_server: add hook functions to support subclassing for MIME attachments
+- soap_transport_http: remove an unnecessary global statement
+- soapclient: when creating a proxy, make $params within each function an associative array
+- soapval: improve documentation
+- wsdl: when serializing complexType elements, used typed serialization if there is either a type or a reference for the element
+- wsdl: allow PHP objects to be serialized as SOAP structs in serializeType
+- wsdl: for WSDL and XML Schema imports, don't forget to use the TCP port number (thanks Luca GIOPPO)
+- wsdl: make consistent use of _SERVER and HTTP_SERVER_VARS
+- xmlschema: improve documentation
+
+2005-07-31, version 0.7.2
+- nusoap_base: correctly serialize attributes in serialize_val (thanks Hidran Arias)
+- soap_parser: when resolving references, do not assume that buildVal returns an array (thanks Akshell)
+- soap_parser: removed decode_entities, which does not work (thanks Martin Sarsale)
+- soap_server: fix a bug parsing headers from _SERVER and HTTP_SERVER_VARS (thanks Bert Catsburg)
+- soap_server: parse all "headers" from HTTP_SERVER_VARS (not just HTTP_*)
+- soap_server: use PHP_SELF instead of SCRIPT_NAME for WSDL endpoint
+- soap_server: when generating a fault while debug_flag is true, put debug into faultdetail
+- wsdl: add enumeration parameter to addSimpleType
+- xmlschema: add enumeration parameter to addSimpleType
+
+2006-02-02, version 0.7.2
+- soapclient: initialize paramArrayStr to improve proxy generation
+- soap_parser: handle PHP5 soapclient's incorrect transmission of WSDL-described SOAP encoded arrays.
+- soap_server: don't assume _SERVER['HTTPS'] is set; try HTTP_SERVER_VARS['HTTPS'] if it is not
+- soap_server: "flatten out" the parameter array to call_user_func_array (thanks Andr Mamitzsch)
+- soap_server: make thrown exceptions conform to specs
+- wsdl: use serialize_val to serialize an array when the XSD type is soapenc:Array (JBoss/Axis does this)
+- wsdl: change formatting of serialized XML for the WSDL
+- xmlschema: change formatting of namespaces when serializing XML for the schema
+
+2006-04-07, version 0.7.2
+- soap_server: if methodparams is not an array, call call_user_func_array with an empty array (thanks Eric Grossi)
+- wsdl: distinguish parts with element specified from those with type specified by suffixing element names with ^
+- wsdl: do a case-insensitive match on schema URI when looking for type
+- xmlschema: only get element (not type) when name has ^ suffix
+
+2006-05-16, version 0.7.2
+- soapclient: add getHeader to get parsed SOAP Header
+- soap_parser: check status when receiving Header or Body element
+- soap_parser: add soapheader
+- soap_server: add requestHeader with parsed SOAP Header
+
+2006-06-15, version 0.7.2
+- wsdl: fix bug in addComplexType (thanks Maarten Meijer)
+- soap_transport_http: change cURL message
+
+2007-03-19, version 0.7.2
+- soapclient: declare as nusoapclient, then also subclass soapclient if SOAP extension not loaded
+- soapclientmime: declare as nusoapclientmime, then also subclass soapclientmime if SOAP extension not loaded
+
+2007-03-28, version 0.7.2
+- nusoap_base: fix serialization of a soapval when its value is a soapval
+- soapval: fix serialization of a soapval when its value is a soapval
+- soapval: add __toString (cf. http://article.gmane.org/gmane.comp.php.nusoap.general/2776)
+- nusoapclient: use lazy retrieval of WSDL instead of always getting it in the constructor
+- nusoapclient: fix getProxy that was broken in last revision
+- wsdl: add ability to set authorization credentials and retrieve WSDL outside of constructor
+
+2007-04-05, version 0.7.2
+- nusoapclientmime: don't rely exclusively on Content-Disposition to distinguish the root part from attachment; also check Content-Type (thanks Ben Bosman)
+- nusoapclientmime: obey RFC 2045 Section 5.1 (thanks Chris Butler)
+- nusoapservermime: don't rely exclusively on Content-Disposition to distinguish the root part from attachment; also check Content-Type (thanks Ben Bosman)
+- nusoapservermime: obey RFC 2045 Section 5.1 (thanks Chris Butler)
+- nusoap_base: remove extra whitespace from some XML elements
+- nusoap_base: allow SOAP headers to be specified as an associative array (thanks Unique)
+- nusoap_base: implement __toString
+- nusoap_base: improve doc accuracy and consistency (thanks Martin K?gler)
+- iso8601_to_timestamp: avoid problem with negative hours after calculation, etc. (thanks Guntram Trebs)
+- nusoapclient: support user-settable cURL options (thanks Ciprian Popovici)
+- nusoapclient: call SOAP 1.2 binding operations if no SOAP 1.1 present (there is no reason to believe this will always work!)
+- nusoapclient: improve doc accuracy and consistency (thanks Martin K?gler)
+- soap_server: don't try to use eval to call function when any parameter is an object
+- soap_server: don't print return value within debug string; returned objects would need __toString in PHP 5.2
+- soap_server: use URL scheme for WSDL access as the scheme in SOAPAction
+- soap_server: strip port number from server name (some FastCGI implementations include port in server name)
+- soap_transport_http: support user-settable cURL options (thanks Ciprian Popovici)
+- soap_transport_http: use cURL for NTLM authentication
+- soap_transport_http: make digest authentication work for GET as well as POST
+- soap_transport_http: improve doc accuracy and consistency (thanks Martin K?gler)
+- soapval: remove __toString
+- wsdl: set operation style if necessary, but do not override one already provided (thanks Raffaele Capobianco)
+- wsdl: check SOAP 1.2 binding operations if no SOAP 1.1 present
+- wsdl: improve doc accuracy and consistency (thanks Martin K?gler)
+- xmlschema: fix simpleType serialization
+- xmlschema: improve doc accuracy and consistency (thanks Martin K?gler)
+
+2007-04-09, version 0.7.2
+- nusoapclient: set decode_utf8 when creating a proxy (thanks Dmitri Dmitrienko)
+- nusoapclient: rename class to nusoap_client
+- soap_fault: also provide a class named nusoap_fault
+- soap_parser: also provide a class named nusoap_parser
+- soap_server: also provide a class named nusoap_server
+- soap_transport_http: skip HTTP responses 301 and 401 when using cURL
+- soap_transport_http: don't force HTTP Connection header when using cURL
+- soap_transport_http: don't set HTTP Host and Content-Length headers when using cURL
+- soap_transport_http: support CURLOPT_SSLCERTPASSWD (thanks David Blanco)
+- wsdl: support user-settable cURL options (thanks Ciprian Popovici)
+- wsdl: serialize parameters for non-SOAP 1.1 binding operations (there is no reason to believe this will always work!)
+- xmlschema: also provide a class named nusoap_xmlschema
+- nusoapclientmime: rename class to nusoap_client_mime
+- nusoapservermime: rename class to nusoap_server_mime
+
+2007-04-11, version 0.7.2
+- nusoap_client: enable cURL usage to be forced (thanks Giunta Gaetano)
+- soap_transport_http: enable cURL proxy usage (thanks Giunta Gaetano)
+- soap_transport_http: enable cURL usage to be forced (thanks Giunta Gaetano)
+- soap_transport_http: use cURL's HTTP authentication options for basic, digest
+- wsdl: enable cURL usage to be forced (thanks Giunta Gaetano)
+
+2007-04-12, version 0.7.2
+- nusoap_client: add debug
+- nusoap_xmlschema: don't add elements of complexTypes to elements array (thanks Heiko Hund)
+- soap_transport_http: set cURL connection timeout if supported
+- soap_transport_http: add debug when setting cURL option
+- soap_transport_http: fix digest authentication broken in previous revision
+- wsdl: add debug
+- wsdlcache: address some issues with non-existing cache-files and PHP Warnings which came in such cases (thanks Ingo Fischer)
+- wsdlcache: change class name to nusoap_wsdlcache
+
+2007-04-13, version 0.7.2
+- wsdl: wrap parameters if unwrapped values are supplied and WSDL specifies Microsoft-style wrapping
+
+2007-04-16, version 0.7.2
+- nusoap_base: avoid warning in getDebugAsXMLComment
+- nusoap_client: small debug change
+- nusoap_client_mime: set responseData when the root part is found
+
+2007-04-17, version 0.7.2
+- soap_transport_http: improve detection of undefined cURL options (thanks Ingo Fischer)
+
+2007-05-28, version 0.7.2
+- soap_transport_http: support digest authentication opaque feature (cf. RFC 2617) (thanks Daniel Lacroix)
+- soap_transport_http: check safe_mode and open_basedir before setting CURLOPT_FOLLOWLOCATION
+- soap_transport_http: skip "HTTP/1.0 200 Connection established" header when cURL returns it (thanks Raimund Jacob)
+- nusoap_client: improve handling when getProxy is called and WSDL is not being used
+- nusoap_base: add comments about which specifications are used/implemented by NuSOAP
+- nusoap_xmlschema: create names for unnamed types that are unique by scope within XML Schema
+
+2007-06-11, version 0.7.2
+- wsdl: wrap return value if unwrapped value is supplied and WSDL specifies Microsoft-style wrapping
+
+2007-06-22, version 0.7.2
+- nusoap_xmlschema: fix serialization of simpleType restriction (thanks Rizwan Tejpar)
+
+2007-07-30, version 0.7.2
+- nusoap_server: Per http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735, rpc/literal accessor elements should not be in a namespace (thanks Kostas Kalevras)
+- nusoap_client: Per http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735, rpc/literal accessor elements should not be in a namespace (thanks Kostas Kalevras)
+
+2007-10-21, version 0.7.2
+- nusoap_server: Per http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735, rpc/literal accessor elements should not be in a namespace (thanks Kostas Kalevras)
+- nusoap_client: Per http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735, rpc/literal accessor elements should not be in a namespace (thanks Kostas Kalevras)
+
+2007-10-26, version 0.7.2
+- nusoap_server: Fix munging of _SERVER variables that start with HTTP_ (thanks Thomas Wieczorek)
+
+2007-10-30, version 0.7.2
+- nusoap_xmlschema: Serialize values for elementFormDefault, attributeFormDefault
+- wsdl: Improve consistency between doc/lit schema auto-wrapping and client's parsed schema
+- nusoap_server: Correct bug that placed encodingType in Envelope for doc/lit
+- nusoap_server: Specify elementFormDefault for schema within doc/lit wsdl
+
+2007-10-31, version 0.7.2
+- wsdl: Fix typo in parametersMatchWrapped (thanks Sam Stepanyan)
+- soap_transport_http: Fix three typos in setProxy (thanks Sam Stepanyan)
+- nusoap_xmlschema: Fix typo in serializeTypeDef (thanks Sam Stepanyan)
+
+2007-11-06, version 1.0rc1
+- wsdl: Improve handling of return values from doc/lit methods
+- nusoap_server: Handle case when method is not in a namespace
+
+2007-11-27, version 1.0rc1
+- nusoap_server: always try to invoke service for a POST
+- nusoap_server: only return Location: for WSDL at http://...
+- nusoap_base: change some syntax associated with globalDebugLevel
+
+2008-01-08, version 1.0rc1
+- nusoap_server: fix a typo where = was used instead of == (thanks J. (Johan) Bosma)
+
+2008-01-10, version 1.0rc1
+- nusoap_client: handle case where request or response has no content-type header (thanks Ingo Fischer)
+- nusoap_server: handle case where request or response has no content-type header (thanks Ingo Fischer)
+- wsdl: change CSS for .title in webDescription (thanks Marcus Uy)
+
+2008-01-25, version 1.0rc1
+- nusoap_xmlschema: when an element is of a complexType that is an extension, copy extensionBase from the type
+- nusoap_xmlschema: do not apply elementFormDefault to globally defined elements
+
+2008-02-11, version 1.0rc1
+- wsdl: internally set form of wrapped parameter elements to unqualified (so server handles correctly)
+
+2008-03-03, version 1.0.rc1
+- nusoap_xmlschema: fix extension when base type has no explicit prefix
+- nusoap_xmlschema: support XML Schema include
+- wsdl: improve support for sequence by serializing inherited attributes and elements first
+
+2008-03-04, version 1.0.rc1
+- wsdl: allow WSDL port name to be specified in getOperations
+- nusoap_client: allow WSDL port name to be specified in ctor
+
+2008-03-06, version 1.0rc1
+- wsdl: fix some port name variable references
+- nusoap_base: change comments regarding preferred mode of support
+- wsdl2nusoap: initial revision
+
+2008-03-14, version 1.0rc1
+- nusoap_base: fix timezone offset in timestamp_to_iso8601 (thanks Mario Trojan)
+
+2008-03-27, version 1.0rc1
+- nusoap_server: fix bug setting encodingStyle in serialize_return (thanks Luca Gobbo)
+
+2008-05-15, version 1.0rc1
+- nusoap_parser: handle case where Header or Body tags are used within SOAP messages (thanks Sergey Zhuravlev)
+
+2008-08-26, version 1.0rc1
+- wsdl: serialize simpleContent for complexType
+- wsdl: avoid serializing complexType elements with no value and minOccurs = 0 regardless of nillability
+
+2010-04-26, version 0.9.5
+- nusoap_xmlschema: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- wsdl: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- soap_transport_http: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- soap_transport_http: remove call to deprecated function set_magic_quotes_runtime
+- nusoap_server: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- nusoap_server: check that value is an object before calling get_class (thanks Pier-Luc Duchaine)
+- nusoap_parser: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- nusoap_client: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- nusoap_client: do not assign the return value of new by reference (it is deprecated) (thanks Pier-Luc Duchaine)
+- nusoap_base: replace regex function calls (ereg, eregi, split) with PCRE calls (preg_match, preg_split) (thanks Pier-Luc Duchaine)
+- nusoapmime: do not assign the return value of new by reference (it is deprecated)
diff -rNU5 phpBB3-init/library/nusoap/class.nusoap_base.php phpBB3/library/nusoap/class.nusoap_base.php
--- phpBB3-init/library/nusoap/class.nusoap_base.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.nusoap_base.php	2013-01-28 17:31:47.724708650 +0100
@@ -0,0 +1,996 @@
+<?php
+
+/*
+$Id: class.nusoap_base.php,v 1.56 2010/04/26 20:15:08 snichol Exp $
+
+NuSOAP - Web Services Toolkit for PHP
+
+Copyright (c) 2002 NuSphere Corporation
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+The NuSOAP project home is:
+http://sourceforge.net/projects/nusoap/
+
+The primary support for NuSOAP is the Help forum on the project home page.
+
+If you have any questions or comments, please email:
+
+Dietrich Ayala
+dietrich@ganx4.com
+http://dietrich.ganx4.com/nusoap
+
+NuSphere Corporation
+http://www.nusphere.com
+
+*/
+
+/*
+ *	Some of the standards implmented in whole or part by NuSOAP:
+ *
+ *	SOAP 1.1 (http://www.w3.org/TR/2000/NOTE-SOAP-20000508/)
+ *	WSDL 1.1 (http://www.w3.org/TR/2001/NOTE-wsdl-20010315)
+ *	SOAP Messages With Attachments (http://www.w3.org/TR/SOAP-attachments)
+ *	XML 1.0 (http://www.w3.org/TR/2006/REC-xml-20060816/)
+ *	Namespaces in XML 1.0 (http://www.w3.org/TR/2006/REC-xml-names-20060816/)
+ *	XML Schema 1.0 (http://www.w3.org/TR/xmlschema-0/)
+ *	RFC 2045 Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies
+ *	RFC 2068 Hypertext Transfer Protocol -- HTTP/1.1
+ *	RFC 2617 HTTP Authentication: Basic and Digest Access Authentication
+ */
+
+/* load classes
+
+// necessary classes
+require_once('class.soapclient.php');
+require_once('class.soap_val.php');
+require_once('class.soap_parser.php');
+require_once('class.soap_fault.php');
+
+// transport classes
+require_once('class.soap_transport_http.php');
+
+// optional add-on classes
+require_once('class.xmlschema.php');
+require_once('class.wsdl.php');
+
+// server class
+require_once('class.soap_server.php');*/
+
+// class variable emulation
+// cf. http://www.webkreator.com/php/techniques/php-static-class-variables.html
+$GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'] = 9;
+
+/**
+*
+* nusoap_base
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.nusoap_base.php,v 1.56 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_base {
+	/**
+	 * Identification for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $title = 'NuSOAP';
+	/**
+	 * Version for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $version = '0.9.5';
+	/**
+	 * CVS revision for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $revision = '$Revision: 1.56 $';
+    /**
+     * Current error string (manipulated by getError/setError)
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $error_str = '';
+    /**
+     * Current debug string (manipulated by debug/appendDebug/clearDebug/getDebug/getDebugAsXMLComment)
+	 *
+	 * @var string
+	 * @access private
+	 */
+    var $debug_str = '';
+    /**
+	 * toggles automatic encoding of special characters as entities
+	 * (should always be true, I think)
+	 *
+	 * @var boolean
+	 * @access private
+	 */
+	var $charencoding = true;
+	/**
+	 * the debug level for this instance
+	 *
+	 * @var	integer
+	 * @access private
+	 */
+	var $debugLevel;
+
+    /**
+	* set schema version
+	*
+	* @var      string
+	* @access   public
+	*/
+	var $XMLSchemaVersion = 'http://www.w3.org/2001/XMLSchema';
+	
+    /**
+	* charset encoding for outgoing messages
+	*
+	* @var      string
+	* @access   public
+	*/
+    var $soap_defencoding = 'ISO-8859-1';
+	//var $soap_defencoding = 'UTF-8';
+
+	/**
+	* namespaces in an array of prefix => uri
+	*
+	* this is "seeded" by a set of constants, but it may be altered by code
+	*
+	* @var      array
+	* @access   public
+	*/
+	var $namespaces = array(
+		'SOAP-ENV' => 'http://schemas.xmlsoap.org/soap/envelope/',
+		'xsd' => 'http://www.w3.org/2001/XMLSchema',
+		'xsi' => 'http://www.w3.org/2001/XMLSchema-instance',
+		'SOAP-ENC' => 'http://schemas.xmlsoap.org/soap/encoding/'
+		);
+
+	/**
+	* namespaces used in the current context, e.g. during serialization
+	*
+	* @var      array
+	* @access   private
+	*/
+	var $usedNamespaces = array();
+
+	/**
+	* XML Schema types in an array of uri => (array of xml type => php type)
+	* is this legacy yet?
+	* no, this is used by the nusoap_xmlschema class to verify type => namespace mappings.
+	* @var      array
+	* @access   public
+	*/
+	var $typemap = array(
+	'http://www.w3.org/2001/XMLSchema' => array(
+		'string'=>'string','boolean'=>'boolean','float'=>'double','double'=>'double','decimal'=>'double',
+		'duration'=>'','dateTime'=>'string','time'=>'string','date'=>'string','gYearMonth'=>'',
+		'gYear'=>'','gMonthDay'=>'','gDay'=>'','gMonth'=>'','hexBinary'=>'string','base64Binary'=>'string',
+		// abstract "any" types
+		'anyType'=>'string','anySimpleType'=>'string',
+		// derived datatypes
+		'normalizedString'=>'string','token'=>'string','language'=>'','NMTOKEN'=>'','NMTOKENS'=>'','Name'=>'','NCName'=>'','ID'=>'',
+		'IDREF'=>'','IDREFS'=>'','ENTITY'=>'','ENTITIES'=>'','integer'=>'integer','nonPositiveInteger'=>'integer',
+		'negativeInteger'=>'integer','long'=>'integer','int'=>'integer','short'=>'integer','byte'=>'integer','nonNegativeInteger'=>'integer',
+		'unsignedLong'=>'','unsignedInt'=>'','unsignedShort'=>'','unsignedByte'=>'','positiveInteger'=>''),
+	'http://www.w3.org/2000/10/XMLSchema' => array(
+		'i4'=>'','int'=>'integer','boolean'=>'boolean','string'=>'string','double'=>'double',
+		'float'=>'double','dateTime'=>'string',
+		'timeInstant'=>'string','base64Binary'=>'string','base64'=>'string','ur-type'=>'array'),
+	'http://www.w3.org/1999/XMLSchema' => array(
+		'i4'=>'','int'=>'integer','boolean'=>'boolean','string'=>'string','double'=>'double',
+		'float'=>'double','dateTime'=>'string',
+		'timeInstant'=>'string','base64Binary'=>'string','base64'=>'string','ur-type'=>'array'),
+	'http://soapinterop.org/xsd' => array('SOAPStruct'=>'struct'),
+	'http://schemas.xmlsoap.org/soap/encoding/' => array('base64'=>'string','array'=>'array','Array'=>'array'),
+    'http://xml.apache.org/xml-soap' => array('Map')
+	);
+
+	/**
+	* XML entities to convert
+	*
+	* @var      array
+	* @access   public
+	* @deprecated
+	* @see	expandEntities
+	*/
+	var $xmlEntities = array('quot' => '"','amp' => '&',
+		'lt' => '<','gt' => '>','apos' => "'");
+
+	/**
+	* constructor
+	*
+	* @access	public
+	*/
+	function nusoap_base() {
+		$this->debugLevel = $GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'];
+	}
+
+	/**
+	* gets the global debug level, which applies to future instances
+	*
+	* @return	integer	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function getGlobalDebugLevel() {
+		return $GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'];
+	}
+
+	/**
+	* sets the global debug level, which applies to future instances
+	*
+	* @param	int	$level	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function setGlobalDebugLevel($level) {
+		$GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'] = $level;
+	}
+
+	/**
+	* gets the debug level for this instance
+	*
+	* @return	int	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function getDebugLevel() {
+		return $this->debugLevel;
+	}
+
+	/**
+	* sets the debug level for this instance
+	*
+	* @param	int	$level	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function setDebugLevel($level) {
+		$this->debugLevel = $level;
+	}
+
+	/**
+	* adds debug data to the instance debug string with formatting
+	*
+	* @param    string $string debug data
+	* @access   private
+	*/
+	function debug($string){
+		if ($this->debugLevel > 0) {
+			$this->appendDebug($this->getmicrotime().' '.get_class($this).": $string\n");
+		}
+	}
+
+	/**
+	* adds debug data to the instance debug string without formatting
+	*
+	* @param    string $string debug data
+	* @access   public
+	*/
+	function appendDebug($string){
+		if ($this->debugLevel > 0) {
+			// it would be nice to use a memory stream here to use
+			// memory more efficiently
+			$this->debug_str .= $string;
+		}
+	}
+
+	/**
+	* clears the current debug data for this instance
+	*
+	* @access   public
+	*/
+	function clearDebug() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		$this->debug_str = '';
+	}
+
+	/**
+	* gets the current debug data for this instance
+	*
+	* @return   debug data
+	* @access   public
+	*/
+	function &getDebug() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		return $this->debug_str;
+	}
+
+	/**
+	* gets the current debug data for this instance as an XML comment
+	* this may change the contents of the debug data
+	*
+	* @return   debug data as an XML comment
+	* @access   public
+	*/
+	function &getDebugAsXMLComment() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		while (strpos($this->debug_str, '--')) {
+			$this->debug_str = str_replace('--', '- -', $this->debug_str);
+		}
+		$ret = "<!--\n" . $this->debug_str . "\n-->";
+    	return $ret;
+	}
+
+	/**
+	* expands entities, e.g. changes '<' to '&lt;'.
+	*
+	* @param	string	$val	The string in which to expand entities.
+	* @access	private
+	*/
+	function expandEntities($val) {
+		if ($this->charencoding) {
+	    	$val = str_replace('&', '&amp;', $val);
+	    	$val = str_replace("'", '&apos;', $val);
+	    	$val = str_replace('"', '&quot;', $val);
+	    	$val = str_replace('<', '&lt;', $val);
+	    	$val = str_replace('>', '&gt;', $val);
+	    }
+	    return $val;
+	}
+
+	/**
+	* returns error string if present
+	*
+	* @return   mixed error string or false
+	* @access   public
+	*/
+	function getError(){
+		if($this->error_str != ''){
+			return $this->error_str;
+		}
+		return false;
+	}
+
+	/**
+	* sets error string
+	*
+	* @return   boolean $string error string
+	* @access   private
+	*/
+	function setError($str){
+		$this->error_str = $str;
+	}
+
+	/**
+	* detect if array is a simple array or a struct (associative array)
+	*
+	* @param	mixed	$val	The PHP array
+	* @return	string	(arraySimple|arrayStruct)
+	* @access	private
+	*/
+	function isArraySimpleOrStruct($val) {
+        $keyList = array_keys($val);
+		foreach ($keyList as $keyListValue) {
+			if (!is_int($keyListValue)) {
+				return 'arrayStruct';
+			}
+		}
+		return 'arraySimple';
+	}
+
+	/**
+	* serializes PHP values in accordance w/ section 5. Type information is
+	* not serialized if $use == 'literal'.
+	*
+	* @param	mixed	$val	The value to serialize
+	* @param	string	$name	The name (local part) of the XML element
+	* @param	string	$type	The XML schema type (local part) for the element
+	* @param	string	$name_ns	The namespace for the name of the XML element
+	* @param	string	$type_ns	The namespace for the type of the element
+	* @param	array	$attributes	The attributes to serialize as name=>value pairs
+	* @param	string	$use	The WSDL "use" (encoded|literal)
+	* @param	boolean	$soapval	Whether this is called from soapval.
+	* @return	string	The serialized element, possibly with child elements
+    * @access	public
+	*/
+	function serialize_val($val,$name=false,$type=false,$name_ns=false,$type_ns=false,$attributes=false,$use='encoded',$soapval=false) {
+		$this->debug("in serialize_val: name=$name, type=$type, name_ns=$name_ns, type_ns=$type_ns, use=$use, soapval=$soapval");
+		$this->appendDebug('value=' . $this->varDump($val));
+		$this->appendDebug('attributes=' . $this->varDump($attributes));
+		
+    	if (is_object($val) && get_class($val) == 'soapval' && (! $soapval)) {
+    		$this->debug("serialize_val: serialize soapval");
+        	$xml = $val->serialize($use);
+			$this->appendDebug($val->getDebug());
+			$val->clearDebug();
+			$this->debug("serialize_val of soapval returning $xml");
+			return $xml;
+        }
+		// force valid name if necessary
+		if (is_numeric($name)) {
+			$name = '__numeric_' . $name;
+		} elseif (! $name) {
+			$name = 'noname';
+		}
+		// if name has ns, add ns prefix to name
+		$xmlns = '';
+        if($name_ns){
+			$prefix = 'nu'.rand(1000,9999);
+			$name = $prefix.':'.$name;
+			$xmlns .= " xmlns:$prefix=\"$name_ns\"";
+		}
+		// if type is prefixed, create type prefix
+		if($type_ns != '' && $type_ns == $this->namespaces['xsd']){
+			// need to fix this. shouldn't default to xsd if no ns specified
+		    // w/o checking against typemap
+			$type_prefix = 'xsd';
+		} elseif($type_ns){
+			$type_prefix = 'ns'.rand(1000,9999);
+			$xmlns .= " xmlns:$type_prefix=\"$type_ns\"";
+		}
+		// serialize attributes if present
+		$atts = '';
+		if($attributes){
+			foreach($attributes as $k => $v){
+				$atts .= " $k=\"".$this->expandEntities($v).'"';
+			}
+		}
+		// serialize null value
+		if (is_null($val)) {
+    		$this->debug("serialize_val: serialize null");
+			if ($use == 'literal') {
+				// TODO: depends on minOccurs
+				$xml = "<$name$xmlns$atts/>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	} else {
+				if (isset($type) && isset($type_prefix)) {
+					$type_str = " xsi:type=\"$type_prefix:$type\"";
+				} else {
+					$type_str = '';
+				}
+				$xml = "<$name$xmlns$type_str$atts xsi:nil=\"true\"/>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	}
+		}
+        // serialize if an xsd built-in primitive type
+        if($type != '' && isset($this->typemap[$this->XMLSchemaVersion][$type])){
+    		$this->debug("serialize_val: serialize xsd built-in primitive type");
+        	if (is_bool($val)) {
+        		if ($type == 'boolean') {
+	        		$val = $val ? 'true' : 'false';
+	        	} elseif (! $val) {
+	        		$val = 0;
+	        	}
+			} else if (is_string($val)) {
+				$val = $this->expandEntities($val);
+			}
+			if ($use == 'literal') {
+				$xml = "<$name$xmlns$atts>$val</$name>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	} else {
+				$xml = "<$name$xmlns xsi:type=\"xsd:$type\"$atts>$val</$name>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	}
+        }
+		// detect type and serialize
+		$xml = '';
+		switch(true) {
+			case (is_bool($val) || $type == 'boolean'):
+		   		$this->debug("serialize_val: serialize boolean");
+        		if ($type == 'boolean') {
+	        		$val = $val ? 'true' : 'false';
+	        	} elseif (! $val) {
+	        		$val = 0;
+	        	}
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:boolean\"$atts>$val</$name>";
+				}
+				break;
+			case (is_int($val) || is_long($val) || $type == 'int'):
+		   		$this->debug("serialize_val: serialize int");
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:int\"$atts>$val</$name>";
+				}
+				break;
+			case (is_float($val)|| is_double($val) || $type == 'float'):
+		   		$this->debug("serialize_val: serialize float");
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:float\"$atts>$val</$name>";
+				}
+				break;
+			case (is_string($val) || $type == 'string'):
+		   		$this->debug("serialize_val: serialize string");
+				$val = $this->expandEntities($val);
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:string\"$atts>$val</$name>";
+				}
+				break;
+			case is_object($val):
+		   		$this->debug("serialize_val: serialize object");
+		    	if (get_class($val) == 'soapval') {
+		    		$this->debug("serialize_val: serialize soapval object");
+		        	$pXml = $val->serialize($use);
+					$this->appendDebug($val->getDebug());
+					$val->clearDebug();
+		        } else {
+					if (! $name) {
+						$name = get_class($val);
+						$this->debug("In serialize_val, used class name $name as element name");
+					} else {
+						$this->debug("In serialize_val, do not override name $name for element name for class " . get_class($val));
+					}
+					foreach(get_object_vars($val) as $k => $v){
+						$pXml = isset($pXml) ? $pXml.$this->serialize_val($v,$k,false,false,false,false,$use) : $this->serialize_val($v,$k,false,false,false,false,$use);
+					}
+				}
+				if(isset($type) && isset($type_prefix)){
+					$type_str = " xsi:type=\"$type_prefix:$type\"";
+				} else {
+					$type_str = '';
+				}
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$pXml</$name>";
+				} else {
+					$xml .= "<$name$xmlns$type_str$atts>$pXml</$name>";
+				}
+				break;
+			break;
+			case (is_array($val) || $type):
+				// detect if struct or array
+				$valueType = $this->isArraySimpleOrStruct($val);
+                if($valueType=='arraySimple' || preg_match('/^ArrayOf/',$type)){
+			   		$this->debug("serialize_val: serialize array");
+					$i = 0;
+					if(is_array($val) && count($val)> 0){
+						foreach($val as $v){
+	                    	if(is_object($v) && get_class($v) ==  'soapval'){
+								$tt_ns = $v->type_ns;
+								$tt = $v->type;
+							} elseif (is_array($v)) {
+								$tt = $this->isArraySimpleOrStruct($v);
+							} else {
+								$tt = gettype($v);
+	                        }
+							$array_types[$tt] = 1;
+							// TODO: for literal, the name should be $name
+							$xml .= $this->serialize_val($v,'item',false,false,false,false,$use);
+							++$i;
+						}
+						if(count($array_types) > 1){
+							$array_typename = 'xsd:anyType';
+						} elseif(isset($tt) && isset($this->typemap[$this->XMLSchemaVersion][$tt])) {
+							if ($tt == 'integer') {
+								$tt = 'int';
+							}
+							$array_typename = 'xsd:'.$tt;
+						} elseif(isset($tt) && $tt == 'arraySimple'){
+							$array_typename = 'SOAP-ENC:Array';
+						} elseif(isset($tt) && $tt == 'arrayStruct'){
+							$array_typename = 'unnamed_struct_use_soapval';
+						} else {
+							// if type is prefixed, create type prefix
+							if ($tt_ns != '' && $tt_ns == $this->namespaces['xsd']){
+								 $array_typename = 'xsd:' . $tt;
+							} elseif ($tt_ns) {
+								$tt_prefix = 'ns' . rand(1000, 9999);
+								$array_typename = "$tt_prefix:$tt";
+								$xmlns .= " xmlns:$tt_prefix=\"$tt_ns\"";
+							} else {
+								$array_typename = $tt;
+							}
+						}
+						$array_type = $i;
+						if ($use == 'literal') {
+							$type_str = '';
+						} else if (isset($type) && isset($type_prefix)) {
+							$type_str = " xsi:type=\"$type_prefix:$type\"";
+						} else {
+							$type_str = " xsi:type=\"SOAP-ENC:Array\" SOAP-ENC:arrayType=\"".$array_typename."[$array_type]\"";
+						}
+					// empty array
+					} else {
+						if ($use == 'literal') {
+							$type_str = '';
+						} else if (isset($type) && isset($type_prefix)) {
+							$type_str = " xsi:type=\"$type_prefix:$type\"";
+						} else {
+							$type_str = " xsi:type=\"SOAP-ENC:Array\" SOAP-ENC:arrayType=\"xsd:anyType[0]\"";
+						}
+					}
+					// TODO: for array in literal, there is no wrapper here
+					$xml = "<$name$xmlns$type_str$atts>".$xml."</$name>";
+				} else {
+					// got a struct
+			   		$this->debug("serialize_val: serialize struct");
+					if(isset($type) && isset($type_prefix)){
+						$type_str = " xsi:type=\"$type_prefix:$type\"";
+					} else {
+						$type_str = '';
+					}
+					if ($use == 'literal') {
+						$xml .= "<$name$xmlns$atts>";
+					} else {
+						$xml .= "<$name$xmlns$type_str$atts>";
+					}
+					foreach($val as $k => $v){
+						// Apache Map
+						if ($type == 'Map' && $type_ns == 'http://xml.apache.org/xml-soap') {
+							$xml .= '<item>';
+							$xml .= $this->serialize_val($k,'key',false,false,false,false,$use);
+							$xml .= $this->serialize_val($v,'value',false,false,false,false,$use);
+							$xml .= '</item>';
+						} else {
+							$xml .= $this->serialize_val($v,$k,false,false,false,false,$use);
+						}
+					}
+					$xml .= "</$name>";
+				}
+				break;
+			default:
+		   		$this->debug("serialize_val: serialize unknown");
+				$xml .= 'not detected, got '.gettype($val).' for '.$val;
+				break;
+		}
+		$this->debug("serialize_val returning $xml");
+		return $xml;
+	}
+
+    /**
+    * serializes a message
+    *
+    * @param string $body the XML of the SOAP body
+    * @param mixed $headers optional string of XML with SOAP header content, or array of soapval objects for SOAP headers, or associative array
+    * @param array $namespaces optional the namespaces used in generating the body and headers
+    * @param string $style optional (rpc|document)
+    * @param string $use optional (encoded|literal)
+    * @param string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+    * @return string the message
+    * @access public
+    */
+    function serializeEnvelope($body,$headers=false,$namespaces=array(),$style='rpc',$use='encoded',$encodingStyle='http://schemas.xmlsoap.org/soap/encoding/'){
+    // TODO: add an option to automatically run utf8_encode on $body and $headers
+    // if $this->soap_defencoding is UTF-8.  Not doing this automatically allows
+    // one to send arbitrary UTF-8 characters, not just characters that map to ISO-8859-1
+
+	$this->debug("In serializeEnvelope length=" . strlen($body) . " body (max 1000 characters)=" . substr($body, 0, 1000) . " style=$style use=$use encodingStyle=$encodingStyle");
+	$this->debug("headers:");
+	$this->appendDebug($this->varDump($headers));
+	$this->debug("namespaces:");
+	$this->appendDebug($this->varDump($namespaces));
+
+	// serialize namespaces
+    $ns_string = '';
+	foreach(array_merge($this->namespaces,$namespaces) as $k => $v){
+		$ns_string .= " xmlns:$k=\"$v\"";
+	}
+	if($encodingStyle) {
+		$ns_string = " SOAP-ENV:encodingStyle=\"$encodingStyle\"$ns_string";
+	}
+
+	// serialize headers
+	if($headers){
+		if (is_array($headers)) {
+			$xml = '';
+			foreach ($headers as $k => $v) {
+				if (is_object($v) && get_class($v) == 'soapval') {
+					$xml .= $this->serialize_val($v, false, false, false, false, false, $use);
+				} else {
+					$xml .= $this->serialize_val($v, $k, false, false, false, false, $use);
+				}
+			}
+			$headers = $xml;
+			$this->debug("In serializeEnvelope, serialized array of headers to $headers");
+		}
+		$headers = "<SOAP-ENV:Header>".$headers."</SOAP-ENV:Header>";
+	}
+	// serialize envelope
+	return
+	'<?xml version="1.0" encoding="'.$this->soap_defencoding .'"?'.">".
+	'<SOAP-ENV:Envelope'.$ns_string.">".
+	$headers.
+	"<SOAP-ENV:Body>".
+		$body.
+	"</SOAP-ENV:Body>".
+	"</SOAP-ENV:Envelope>";
+    }
+
+	/**
+	 * formats a string to be inserted into an HTML stream
+	 *
+	 * @param string $str The string to format
+	 * @return string The formatted string
+	 * @access public
+	 * @deprecated
+	 */
+    function formatDump($str){
+		$str = htmlspecialchars($str);
+		return nl2br($str);
+    }
+
+	/**
+	* contracts (changes namespace to prefix) a qualified name
+	*
+	* @param    string $qname qname
+	* @return	string contracted qname
+	* @access   private
+	*/
+	function contractQname($qname){
+		// get element namespace
+		//$this->xdebug("Contract $qname");
+		if (strrpos($qname, ':')) {
+			// get unqualified name
+			$name = substr($qname, strrpos($qname, ':') + 1);
+			// get ns
+			$ns = substr($qname, 0, strrpos($qname, ':'));
+			$p = $this->getPrefixFromNamespace($ns);
+			if ($p) {
+				return $p . ':' . $name;
+			}
+			return $qname;
+		} else {
+			return $qname;
+		}
+	}
+
+	/**
+	* expands (changes prefix to namespace) a qualified name
+	*
+	* @param    string $qname qname
+	* @return	string expanded qname
+	* @access   private
+	*/
+	function expandQname($qname){
+		// get element prefix
+		if(strpos($qname,':') && !preg_match('/^http:\/\//',$qname)){
+			// get unqualified name
+			$name = substr(strstr($qname,':'),1);
+			// get ns prefix
+			$prefix = substr($qname,0,strpos($qname,':'));
+			if(isset($this->namespaces[$prefix])){
+				return $this->namespaces[$prefix].':'.$name;
+			} else {
+				return $qname;
+			}
+		} else {
+			return $qname;
+		}
+	}
+
+    /**
+    * returns the local part of a prefixed string
+    * returns the original string, if not prefixed
+    *
+    * @param string $str The prefixed string
+    * @return string The local part
+    * @access public
+    */
+	function getLocalPart($str){
+		if($sstr = strrchr($str,':')){
+			// get unqualified name
+			return substr( $sstr, 1 );
+		} else {
+			return $str;
+		}
+	}
+
+	/**
+    * returns the prefix part of a prefixed string
+    * returns false, if not prefixed
+    *
+    * @param string $str The prefixed string
+    * @return mixed The prefix or false if there is no prefix
+    * @access public
+    */
+	function getPrefix($str){
+		if($pos = strrpos($str,':')){
+			// get prefix
+			return substr($str,0,$pos);
+		}
+		return false;
+	}
+
+	/**
+    * pass it a prefix, it returns a namespace
+    *
+    * @param string $prefix The prefix
+    * @return mixed The namespace, false if no namespace has the specified prefix
+    * @access public
+    */
+	function getNamespaceFromPrefix($prefix){
+		if (isset($this->namespaces[$prefix])) {
+			return $this->namespaces[$prefix];
+		}
+		//$this->setError("No namespace registered for prefix '$prefix'");
+		return false;
+	}
+
+	/**
+    * returns the prefix for a given namespace (or prefix)
+    * or false if no prefixes registered for the given namespace
+    *
+    * @param string $ns The namespace
+    * @return mixed The prefix, false if the namespace has no prefixes
+    * @access public
+    */
+	function getPrefixFromNamespace($ns) {
+		foreach ($this->namespaces as $p => $n) {
+			if ($ns == $n || $ns == $p) {
+			    $this->usedNamespaces[$p] = $n;
+				return $p;
+			}
+		}
+		return false;
+	}
+
+	/**
+    * returns the time in ODBC canonical form with microseconds
+    *
+    * @return string The time in ODBC canonical form with microseconds
+    * @access public
+    */
+	function getmicrotime() {
+		if (function_exists('gettimeofday')) {
+			$tod = gettimeofday();
+			$sec = $tod['sec'];
+			$usec = $tod['usec'];
+		} else {
+			$sec = time();
+			$usec = 0;
+		}
+		return strftime('%Y-%m-%d %H:%M:%S', $sec) . '.' . sprintf('%06d', $usec);
+	}
+
+	/**
+	 * Returns a string with the output of var_dump
+	 *
+	 * @param mixed $data The variable to var_dump
+	 * @return string The output of var_dump
+	 * @access public
+	 */
+    function varDump($data) {
+		ob_start();
+		var_dump($data);
+		$ret_val = ob_get_contents();
+		ob_end_clean();
+		return $ret_val;
+	}
+
+	/**
+	* represents the object as a string
+	*
+	* @return	string
+	* @access   public
+	*/
+	function __toString() {
+		return $this->varDump($this);
+	}
+}
+
+// XML Schema Datatype Helper Functions
+
+//xsd:dateTime helpers
+
+/**
+* convert unix timestamp to ISO 8601 compliant date string
+*
+* @param    int $timestamp Unix time stamp
+* @param	boolean $utc Whether the time stamp is UTC or local
+* @return	mixed ISO 8601 date string or false
+* @access   public
+*/
+function timestamp_to_iso8601($timestamp,$utc=true){
+	$datestr = date('Y-m-d\TH:i:sO',$timestamp);
+	$pos = strrpos($datestr, "+");
+	if ($pos === FALSE) {
+		$pos = strrpos($datestr, "-");
+	}
+	if ($pos !== FALSE) {
+		if (strlen($datestr) == $pos + 5) {
+			$datestr = substr($datestr, 0, $pos + 3) . ':' . substr($datestr, -2);
+		}
+	}
+	if($utc){
+		$pattern = '/'.
+		'([0-9]{4})-'.	// centuries & years CCYY-
+		'([0-9]{2})-'.	// months MM-
+		'([0-9]{2})'.	// days DD
+		'T'.			// separator T
+		'([0-9]{2}):'.	// hours hh:
+		'([0-9]{2}):'.	// minutes mm:
+		'([0-9]{2})(\.[0-9]*)?'. // seconds ss.ss...
+		'(Z|[+\-][0-9]{2}:?[0-9]{2})?'. // Z to indicate UTC, -/+HH:MM:SS.SS... for local tz's
+		'/';
+
+		if(preg_match($pattern,$datestr,$regs)){
+			return sprintf('%04d-%02d-%02dT%02d:%02d:%02dZ',$regs[1],$regs[2],$regs[3],$regs[4],$regs[5],$regs[6]);
+		}
+		return false;
+	} else {
+		return $datestr;
+	}
+}
+
+/**
+* convert ISO 8601 compliant date string to unix timestamp
+*
+* @param    string $datestr ISO 8601 compliant date string
+* @return	mixed Unix timestamp (int) or false
+* @access   public
+*/
+function iso8601_to_timestamp($datestr){
+	$pattern = '/'.
+	'([0-9]{4})-'.	// centuries & years CCYY-
+	'([0-9]{2})-'.	// months MM-
+	'([0-9]{2})'.	// days DD
+	'T'.			// separator T
+	'([0-9]{2}):'.	// hours hh:
+	'([0-9]{2}):'.	// minutes mm:
+	'([0-9]{2})(\.[0-9]+)?'. // seconds ss.ss...
+	'(Z|[+\-][0-9]{2}:?[0-9]{2})?'. // Z to indicate UTC, -/+HH:MM:SS.SS... for local tz's
+	'/';
+	if(preg_match($pattern,$datestr,$regs)){
+		// not utc
+		if($regs[8] != 'Z'){
+			$op = substr($regs[8],0,1);
+			$h = substr($regs[8],1,2);
+			$m = substr($regs[8],strlen($regs[8])-2,2);
+			if($op == '-'){
+				$regs[4] = $regs[4] + $h;
+				$regs[5] = $regs[5] + $m;
+			} elseif($op == '+'){
+				$regs[4] = $regs[4] - $h;
+				$regs[5] = $regs[5] - $m;
+			}
+		}
+		return gmmktime($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);
+//		return strtotime("$regs[1]-$regs[2]-$regs[3] $regs[4]:$regs[5]:$regs[6]Z");
+	} else {
+		return false;
+	}
+}
+
+/**
+* sleeps some number of microseconds
+*
+* @param    string $usec the number of microseconds to sleep
+* @access   public
+* @deprecated
+*/
+function usleepWindows($usec)
+{
+	$start = gettimeofday();
+	
+	do
+	{
+		$stop = gettimeofday();
+		$timePassed = 1000000 * ($stop['sec'] - $start['sec'])
+		+ $stop['usec'] - $start['usec'];
+	}
+	while ($timePassed < $usec);
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.soapclient.php phpBB3/library/nusoap/class.soapclient.php
--- phpBB3-init/library/nusoap/class.soapclient.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soapclient.php	2013-01-28 17:31:47.724708650 +0100
@@ -0,0 +1,991 @@
+<?php
+
+
+
+
+/**
+*
+* [nu]soapclient higher level class for easy usage.
+*
+* usage:
+*
+* // instantiate client with server info
+* $soapclient = new nusoap_client( string path [ ,mixed wsdl] );
+*
+* // call method, get results
+* echo $soapclient->call( string methodname [ ,array parameters] );
+*
+* // bye bye client
+* unset($soapclient);
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.soapclient.php,v 1.69 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_client extends nusoap_base  {
+
+	var $username = '';				// Username for HTTP authentication
+	var $password = '';				// Password for HTTP authentication
+	var $authtype = '';				// Type of HTTP authentication
+	var $certRequest = array();		// Certificate for HTTP SSL authentication
+	var $requestHeaders = false;	// SOAP headers in request (text)
+	var $responseHeaders = '';		// SOAP headers from response (incomplete namespace resolution) (text)
+	var $responseHeader = NULL;		// SOAP Header from response (parsed)
+	var $document = '';				// SOAP body response portion (incomplete namespace resolution) (text)
+	var $endpoint;
+	var $forceEndpoint = '';		// overrides WSDL endpoint
+    var $proxyhost = '';
+    var $proxyport = '';
+	var $proxyusername = '';
+	var $proxypassword = '';
+	var $portName = '';				// port name to use in WSDL
+    var $xml_encoding = '';			// character set encoding of incoming (response) messages
+	var $http_encoding = false;
+	var $timeout = 0;				// HTTP connection timeout
+	var $response_timeout = 30;		// HTTP response timeout
+	var $endpointType = '';			// soap|wsdl, empty for WSDL initialization error
+	var $persistentConnection = false;
+	var $defaultRpcParams = false;	// This is no longer used
+	var $request = '';				// HTTP request
+	var $response = '';				// HTTP response
+	var $responseData = '';			// SOAP payload of response
+	var $cookies = array();			// Cookies from response or for request
+    var $decode_utf8 = true;		// toggles whether the parser decodes element content w/ utf8_decode()
+	var $operations = array();		// WSDL operations, empty for WSDL initialization error
+	var $curl_options = array();	// User-specified cURL options
+	var $bindingType = '';			// WSDL operation binding type
+	var $use_curl = false;			// whether to always try to use cURL
+
+	/*
+	 * fault related variables
+	 */
+	/**
+	 * @var      fault
+	 * @access   public
+	 */
+	var $fault;
+	/**
+	 * @var      faultcode
+	 * @access   public
+	 */
+	var $faultcode;
+	/**
+	 * @var      faultstring
+	 * @access   public
+	 */
+	var $faultstring;
+	/**
+	 * @var      faultdetail
+	 * @access   public
+	 */
+	var $faultdetail;
+
+	/**
+	* constructor
+	*
+	* @param    mixed $endpoint SOAP server or WSDL URL (string), or wsdl instance (object)
+	* @param    mixed $wsdl optional, set to 'wsdl' or true if using WSDL
+	* @param    string $proxyhost optional
+	* @param    string $proxyport optional
+	* @param	string $proxyusername optional
+	* @param	string $proxypassword optional
+	* @param	integer $timeout set the connection timeout
+	* @param	integer $response_timeout set the response timeout
+	* @param	string $portName optional portName in WSDL document
+	* @access   public
+	*/
+	function nusoap_client($endpoint,$wsdl = false,$proxyhost = false,$proxyport = false,$proxyusername = false, $proxypassword = false, $timeout = 0, $response_timeout = 30, $portName = ''){
+		parent::nusoap_base();
+		$this->endpoint = $endpoint;
+		$this->proxyhost = $proxyhost;
+		$this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+		$this->timeout = $timeout;
+		$this->response_timeout = $response_timeout;
+		$this->portName = $portName;
+
+		$this->debug("ctor wsdl=$wsdl timeout=$timeout response_timeout=$response_timeout");
+		$this->appendDebug('endpoint=' . $this->varDump($endpoint));
+
+		// make values
+		if($wsdl){
+			if (is_object($endpoint) && (get_class($endpoint) == 'wsdl')) {
+				$this->wsdl = $endpoint;
+				$this->endpoint = $this->wsdl->wsdl;
+				$this->wsdlFile = $this->endpoint;
+				$this->debug('existing wsdl instance created from ' . $this->endpoint);
+				$this->checkWSDL();
+			} else {
+				$this->wsdlFile = $this->endpoint;
+				$this->wsdl = null;
+				$this->debug('will use lazy evaluation of wsdl from ' . $this->endpoint);
+			}
+			$this->endpointType = 'wsdl';
+		} else {
+			$this->debug("instantiate SOAP with endpoint at $endpoint");
+			$this->endpointType = 'soap';
+		}
+	}
+
+	/**
+	* calls method, returns PHP native type
+	*
+	* @param    string $operation SOAP server URL or path
+	* @param    mixed $params An array, associative or simple, of the parameters
+	*			              for the method call, or a string that is the XML
+	*			              for the call.  For rpc style, this call will
+	*			              wrap the XML in a tag named after the method, as
+	*			              well as the SOAP Envelope and Body.  For document
+	*			              style, this will only wrap with the Envelope and Body.
+	*			              IMPORTANT: when using an array with document style,
+	*			              in which case there
+	*                         is really one parameter, the root of the fragment
+	*                         used in the call, which encloses what programmers
+	*                         normally think of parameters.  A parameter array
+	*                         *must* include the wrapper.
+	* @param	string $namespace optional method namespace (WSDL can override)
+	* @param	string $soapAction optional SOAPAction value (WSDL can override)
+	* @param	mixed $headers optional string of XML with SOAP header content, or array of soapval objects for SOAP headers, or associative array
+	* @param	boolean $rpcParams optional (no longer used)
+	* @param	string	$style optional (rpc|document) the style to use when serializing parameters (WSDL can override)
+	* @param	string	$use optional (encoded|literal) the use when serializing parameters (WSDL can override)
+	* @return	mixed	response from SOAP call, normally an associative array mirroring the structure of the XML response, false for certain fatal errors
+	* @access   public
+	*/
+	function call($operation,$params=array(),$namespace='http://tempuri.org',$soapAction='',$headers=false,$rpcParams=null,$style='rpc',$use='encoded'){
+		$this->operation = $operation;
+		$this->fault = false;
+		$this->setError('');
+		$this->request = '';
+		$this->response = '';
+		$this->responseData = '';
+		$this->faultstring = '';
+		$this->faultcode = '';
+		$this->opData = array();
+		
+		$this->debug("call: operation=$operation, namespace=$namespace, soapAction=$soapAction, rpcParams=$rpcParams, style=$style, use=$use, endpointType=$this->endpointType");
+		$this->appendDebug('params=' . $this->varDump($params));
+		$this->appendDebug('headers=' . $this->varDump($headers));
+		if ($headers) {
+			$this->requestHeaders = $headers;
+		}
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError())
+				return false;
+		}
+		// serialize parameters
+		if($this->endpointType == 'wsdl' && $opData = $this->getOperationData($operation)){
+			// use WSDL for operation
+			$this->opData = $opData;
+			$this->debug("found operation");
+			$this->appendDebug('opData=' . $this->varDump($opData));
+			if (isset($opData['soapAction'])) {
+				$soapAction = $opData['soapAction'];
+			}
+			if (! $this->forceEndpoint) {
+				$this->endpoint = $opData['endpoint'];
+			} else {
+				$this->endpoint = $this->forceEndpoint;
+			}
+			$namespace = isset($opData['input']['namespace']) ? $opData['input']['namespace'] :	$namespace;
+			$style = $opData['style'];
+			$use = $opData['input']['use'];
+			// add ns to ns array
+			if($namespace != '' && !isset($this->wsdl->namespaces[$namespace])){
+				$nsPrefix = 'ns' . rand(1000, 9999);
+				$this->wsdl->namespaces[$nsPrefix] = $namespace;
+			}
+            $nsPrefix = $this->wsdl->getPrefixFromNamespace($namespace);
+			// serialize payload
+			if (is_string($params)) {
+				$this->debug("serializing param string for WSDL operation $operation");
+				$payload = $params;
+			} elseif (is_array($params)) {
+				$this->debug("serializing param array for WSDL operation $operation");
+				$payload = $this->wsdl->serializeRPCParameters($operation,'input',$params,$this->bindingType);
+			} else {
+				$this->debug('params must be array or string');
+				$this->setError('params must be array or string');
+				return false;
+			}
+            $usedNamespaces = $this->wsdl->usedNamespaces;
+			if (isset($opData['input']['encodingStyle'])) {
+				$encodingStyle = $opData['input']['encodingStyle'];
+			} else {
+				$encodingStyle = '';
+			}
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			if ($errstr = $this->wsdl->getError()) {
+				$this->debug('got wsdl error: '.$errstr);
+				$this->setError('wsdl error: '.$errstr);
+				return false;
+			}
+		} elseif($this->endpointType == 'wsdl') {
+			// operation not in WSDL
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->setError('operation '.$operation.' not present in WSDL.');
+			$this->debug("operation '$operation' not present in WSDL.");
+			return false;
+		} else {
+			// no WSDL
+			//$this->namespaces['ns1'] = $namespace;
+			$nsPrefix = 'ns' . rand(1000, 9999);
+			// serialize 
+			$payload = '';
+			if (is_string($params)) {
+				$this->debug("serializing param string for operation $operation");
+				$payload = $params;
+			} elseif (is_array($params)) {
+				$this->debug("serializing param array for operation $operation");
+				foreach($params as $k => $v){
+					$payload .= $this->serialize_val($v,$k,false,false,false,false,$use);
+				}
+			} else {
+				$this->debug('params must be array or string');
+				$this->setError('params must be array or string');
+				return false;
+			}
+			$usedNamespaces = array();
+			if ($use == 'encoded') {
+				$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+			} else {
+				$encodingStyle = '';
+			}
+		}
+		// wrap RPC calls with method element
+		if ($style == 'rpc') {
+			if ($use == 'literal') {
+				$this->debug("wrapping RPC request with literal method element");
+				if ($namespace) {
+					// http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735 says rpc/literal accessor elements should not be in a namespace
+					$payload = "<$nsPrefix:$operation xmlns:$nsPrefix=\"$namespace\">" .
+								$payload .
+								"</$nsPrefix:$operation>";
+				} else {
+					$payload = "<$operation>" . $payload . "</$operation>";
+				}
+			} else {
+				$this->debug("wrapping RPC request with encoded method element");
+				if ($namespace) {
+					$payload = "<$nsPrefix:$operation xmlns:$nsPrefix=\"$namespace\">" .
+								$payload .
+								"</$nsPrefix:$operation>";
+				} else {
+					$payload = "<$operation>" .
+								$payload .
+								"</$operation>";
+				}
+			}
+		}
+		// serialize envelope
+		$soapmsg = $this->serializeEnvelope($payload,$this->requestHeaders,$usedNamespaces,$style,$use,$encodingStyle);
+		$this->debug("endpoint=$this->endpoint, soapAction=$soapAction, namespace=$namespace, style=$style, use=$use, encodingStyle=$encodingStyle");
+		$this->debug('SOAP message length=' . strlen($soapmsg) . ' contents (max 1000 bytes)=' . substr($soapmsg, 0, 1000));
+		// send
+		$return = $this->send($this->getHTTPBody($soapmsg),$soapAction,$this->timeout,$this->response_timeout);
+		if($errstr = $this->getError()){
+			$this->debug('Error: '.$errstr);
+			return false;
+		} else {
+			$this->return = $return;
+			$this->debug('sent message successfully and got a(n) '.gettype($return));
+           	$this->appendDebug('return=' . $this->varDump($return));
+			
+			// fault?
+			if(is_array($return) && isset($return['faultcode'])){
+				$this->debug('got fault');
+				$this->setError($return['faultcode'].': '.$return['faultstring']);
+				$this->fault = true;
+				foreach($return as $k => $v){
+					$this->$k = $v;
+					$this->debug("$k = $v<br>");
+				}
+				return $return;
+			} elseif ($style == 'document') {
+				// NOTE: if the response is defined to have multiple parts (i.e. unwrapped),
+				// we are only going to return the first part here...sorry about that
+				return $return;
+			} else {
+				// array of return values
+				if(is_array($return)){
+					// multiple 'out' parameters, which we return wrapped up
+					// in the array
+					if(sizeof($return) > 1){
+						return $return;
+					}
+					// single 'out' parameter (normally the return value)
+					$return = array_shift($return);
+					$this->debug('return shifted value: ');
+					$this->appendDebug($this->varDump($return));
+           			return $return;
+				// nothing returned (ie, echoVoid)
+				} else {
+					return "";
+				}
+			}
+		}
+	}
+
+	/**
+	* check WSDL passed as an instance or pulled from an endpoint
+	*
+	* @access   private
+	*/
+	function checkWSDL() {
+		$this->appendDebug($this->wsdl->getDebug());
+		$this->wsdl->clearDebug();
+		$this->debug('checkWSDL');
+		// catch errors
+		if ($errstr = $this->wsdl->getError()) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->debug('got wsdl error: '.$errstr);
+			$this->setError('wsdl error: '.$errstr);
+		} elseif ($this->operations = $this->wsdl->getOperations($this->portName, 'soap')) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->bindingType = 'soap';
+			$this->debug('got '.count($this->operations).' operations from wsdl '.$this->wsdlFile.' for binding type '.$this->bindingType);
+		} elseif ($this->operations = $this->wsdl->getOperations($this->portName, 'soap12')) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->bindingType = 'soap12';
+			$this->debug('got '.count($this->operations).' operations from wsdl '.$this->wsdlFile.' for binding type '.$this->bindingType);
+			$this->debug('**************** WARNING: SOAP 1.2 BINDING *****************');
+		} else {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->debug('getOperations returned false');
+			$this->setError('no operations defined in the WSDL document!');
+		}
+	}
+
+	/**
+	 * instantiate wsdl object and parse wsdl file
+	 *
+	 * @access	public
+	 */
+	function loadWSDL() {
+		$this->debug('instantiating wsdl class with doc: '.$this->wsdlFile);
+		$this->wsdl = new wsdl('',$this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword,$this->timeout,$this->response_timeout,$this->curl_options,$this->use_curl);
+		$this->wsdl->setCredentials($this->username, $this->password, $this->authtype, $this->certRequest);
+		$this->wsdl->fetchWSDL($this->wsdlFile);
+		$this->checkWSDL();
+	}
+
+	/**
+	* get available data pertaining to an operation
+	*
+	* @param    string $operation operation name
+	* @return	array array of data pertaining to the operation
+	* @access   public
+	*/
+	function getOperationData($operation){
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError())
+				return false;
+		}
+		if(isset($this->operations[$operation])){
+			return $this->operations[$operation];
+		}
+		$this->debug("No data for operation: $operation");
+	}
+
+    /**
+    * send the SOAP message
+    *
+    * Note: if the operation has multiple return values
+    * the return value of this method will be an array
+    * of those values.
+    *
+	* @param    string $msg a SOAPx4 soapmsg object
+	* @param    string $soapaction SOAPAction value
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @return	mixed native PHP types.
+	* @access   private
+	*/
+	function send($msg, $soapaction = '', $timeout=0, $response_timeout=30) {
+		$this->checkCookies();
+		// detect transport
+		switch(true){
+			// http(s)
+			case preg_match('/^http/',$this->endpoint):
+				$this->debug('transporting via HTTP');
+				if($this->persistentConnection == true && is_object($this->persistentConnection)){
+					$http =& $this->persistentConnection;
+				} else {
+					$http = new soap_transport_http($this->endpoint, $this->curl_options, $this->use_curl);
+					if ($this->persistentConnection) {
+						$http->usePersistentConnection();
+					}
+				}
+				$http->setContentType($this->getHTTPContentType(), $this->getHTTPContentTypeCharset());
+				$http->setSOAPAction($soapaction);
+				if($this->proxyhost && $this->proxyport){
+					$http->setProxy($this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword);
+				}
+                if($this->authtype != '') {
+					$http->setCredentials($this->username, $this->password, $this->authtype, array(), $this->certRequest);
+				}
+				if($this->http_encoding != ''){
+					$http->setEncoding($this->http_encoding);
+				}
+				$this->debug('sending message, length='.strlen($msg));
+				if(preg_match('/^http:/',$this->endpoint)){
+				//if(strpos($this->endpoint,'http:')){
+					$this->responseData = $http->send($msg,$timeout,$response_timeout,$this->cookies);
+				} elseif(preg_match('/^https/',$this->endpoint)){
+				//} elseif(strpos($this->endpoint,'https:')){
+					//if(phpversion() == '4.3.0-dev'){
+						//$response = $http->send($msg,$timeout,$response_timeout);
+                   		//$this->request = $http->outgoing_payload;
+						//$this->response = $http->incoming_payload;
+					//} else
+					$this->responseData = $http->sendHTTPS($msg,$timeout,$response_timeout,$this->cookies);
+				} else {
+					$this->setError('no http/s in endpoint url');
+				}
+				$this->request = $http->outgoing_payload;
+				$this->response = $http->incoming_payload;
+				$this->appendDebug($http->getDebug());
+				$this->UpdateCookies($http->incoming_cookies);
+
+				// save transport object if using persistent connections
+				if ($this->persistentConnection) {
+					$http->clearDebug();
+					if (!is_object($this->persistentConnection)) {
+						$this->persistentConnection = $http;
+					}
+				}
+				
+				if($err = $http->getError()){
+					$this->setError('HTTP Error: '.$err);
+					return false;
+				} elseif($this->getError()){
+					return false;
+				} else {
+					$this->debug('got response, length='. strlen($this->responseData).' type='.$http->incoming_headers['content-type']);
+					return $this->parseResponse($http->incoming_headers, $this->responseData);
+				}
+			break;
+			default:
+				$this->setError('no transport found, or selected transport is not yet supported!');
+			return false;
+			break;
+		}
+	}
+
+	/**
+	* processes SOAP message returned from server
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed response data from server
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseResponse($headers, $data) {
+		$this->debug('Entering parseResponse() for data of length ' . strlen($data) . ' headers:');
+		$this->appendDebug($this->varDump($headers));
+    	if (!isset($headers['content-type'])) {
+			$this->setError('Response not of type text/xml (no content-type header)');
+			return false;
+    	}
+		if (!strstr($headers['content-type'], 'text/xml')) {
+			$this->setError('Response not of type text/xml: ' . $headers['content-type']);
+			return false;
+		}
+		if (strpos($headers['content-type'], '=')) {
+			$enc = str_replace('"', '', substr(strstr($headers["content-type"], '='), 1));
+			$this->debug('Got response encoding: ' . $enc);
+			if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+				$this->xml_encoding = strtoupper($enc);
+			} else {
+				$this->xml_encoding = 'US-ASCII';
+			}
+		} else {
+			// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+			$this->xml_encoding = 'ISO-8859-1';
+		}
+		$this->debug('Use encoding: ' . $this->xml_encoding . ' when creating nusoap_parser');
+		$parser = new nusoap_parser($data,$this->xml_encoding,$this->operation,$this->decode_utf8);
+		// add parser debug data to our debug
+		$this->appendDebug($parser->getDebug());
+		// if parse errors
+		if($errstr = $parser->getError()){
+			$this->setError( $errstr);
+			// destroy the parser object
+			unset($parser);
+			return false;
+		} else {
+			// get SOAP headers
+			$this->responseHeaders = $parser->getHeaders();
+			// get SOAP headers
+			$this->responseHeader = $parser->get_soapheader();
+			// get decoded message
+			$return = $parser->get_soapbody();
+            // add document for doclit support
+            $this->document = $parser->document;
+			// destroy the parser object
+			unset($parser);
+			// return decode message
+			return $return;
+		}
+	 }
+
+	/**
+	* sets user-specified cURL options
+	*
+	* @param	mixed $option The cURL option (always integer?)
+	* @param	mixed $value The cURL option value
+	* @access   public
+	*/
+	function setCurlOption($option, $value) {
+		$this->debug("setCurlOption option=$option, value=");
+		$this->appendDebug($this->varDump($value));
+		$this->curl_options[$option] = $value;
+	}
+
+	/**
+	* sets the SOAP endpoint, which can override WSDL
+	*
+	* @param	string $endpoint The endpoint URL to use, or empty string or false to prevent override
+	* @access   public
+	*/
+	function setEndpoint($endpoint) {
+		$this->debug("setEndpoint(\"$endpoint\")");
+		$this->forceEndpoint = $endpoint;
+	}
+
+	/**
+	* set the SOAP headers
+	*
+	* @param	mixed $headers String of XML with SOAP header content, or array of soapval objects for SOAP headers
+	* @access   public
+	*/
+	function setHeaders($headers){
+		$this->debug("setHeaders headers=");
+		$this->appendDebug($this->varDump($headers));
+		$this->requestHeaders = $headers;
+	}
+
+	/**
+	* get the SOAP response headers (namespace resolution incomplete)
+	*
+	* @return	string
+	* @access   public
+	*/
+	function getHeaders(){
+		return $this->responseHeaders;
+	}
+
+	/**
+	* get the SOAP response Header (parsed)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function getHeader(){
+		return $this->responseHeader;
+	}
+
+	/**
+	* set proxy info here
+	*
+	* @param    string $proxyhost
+	* @param    string $proxyport
+	* @param	string $proxyusername
+	* @param	string $proxypassword
+	* @access   public
+	*/
+	function setHTTPProxy($proxyhost, $proxyport, $proxyusername = '', $proxypassword = '') {
+		$this->proxyhost = $proxyhost;
+		$this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+	}
+
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->certRequest = $certRequest;
+	}
+	
+	/**
+	* use HTTP encoding
+	*
+	* @param    string $enc HTTP encoding
+	* @access   public
+	*/
+	function setHTTPEncoding($enc='gzip, deflate'){
+		$this->debug("setHTTPEncoding(\"$enc\")");
+		$this->http_encoding = $enc;
+	}
+	
+	/**
+	* Set whether to try to use cURL connections if possible
+	*
+	* @param	boolean $use Whether to try to use cURL
+	* @access   public
+	*/
+	function setUseCURL($use) {
+		$this->debug("setUseCURL($use)");
+		$this->use_curl = $use;
+	}
+
+	/**
+	* use HTTP persistent connections if possible
+	*
+	* @access   public
+	*/
+	function useHTTPPersistentConnection(){
+		$this->debug("useHTTPPersistentConnection");
+		$this->persistentConnection = true;
+	}
+	
+	/**
+	* gets the default RPC parameter setting.
+	* If true, default is that call params are like RPC even for document style.
+	* Each call() can override this value.
+	*
+	* This is no longer used.
+	*
+	* @return boolean
+	* @access public
+	* @deprecated
+	*/
+	function getDefaultRpcParams() {
+		return $this->defaultRpcParams;
+	}
+
+	/**
+	* sets the default RPC parameter setting.
+	* If true, default is that call params are like RPC even for document style
+	* Each call() can override this value.
+	*
+	* This is no longer used.
+	*
+	* @param    boolean $rpcParams
+	* @access public
+	* @deprecated
+	*/
+	function setDefaultRpcParams($rpcParams) {
+		$this->defaultRpcParams = $rpcParams;
+	}
+	
+	/**
+	* dynamically creates an instance of a proxy class,
+	* allowing user to directly call methods from wsdl
+	*
+	* @return   object soap_proxy object
+	* @access   public
+	*/
+	function getProxy() {
+		$r = rand();
+		$evalStr = $this->_getProxyClassCode($r);
+		//$this->debug("proxy class: $evalStr");
+		if ($this->getError()) {
+			$this->debug("Error from _getProxyClassCode, so return NULL");
+			return null;
+		}
+		// eval the class
+		eval($evalStr);
+		// instantiate proxy object
+		eval("\$proxy = new nusoap_proxy_$r('');");
+		// transfer current wsdl data to the proxy thereby avoiding parsing the wsdl twice
+		$proxy->endpointType = 'wsdl';
+		$proxy->wsdlFile = $this->wsdlFile;
+		$proxy->wsdl = $this->wsdl;
+		$proxy->operations = $this->operations;
+		$proxy->defaultRpcParams = $this->defaultRpcParams;
+		// transfer other state
+		$proxy->soap_defencoding = $this->soap_defencoding;
+		$proxy->username = $this->username;
+		$proxy->password = $this->password;
+		$proxy->authtype = $this->authtype;
+		$proxy->certRequest = $this->certRequest;
+		$proxy->requestHeaders = $this->requestHeaders;
+		$proxy->endpoint = $this->endpoint;
+		$proxy->forceEndpoint = $this->forceEndpoint;
+		$proxy->proxyhost = $this->proxyhost;
+		$proxy->proxyport = $this->proxyport;
+		$proxy->proxyusername = $this->proxyusername;
+		$proxy->proxypassword = $this->proxypassword;
+		$proxy->http_encoding = $this->http_encoding;
+		$proxy->timeout = $this->timeout;
+		$proxy->response_timeout = $this->response_timeout;
+		$proxy->persistentConnection = &$this->persistentConnection;
+		$proxy->decode_utf8 = $this->decode_utf8;
+		$proxy->curl_options = $this->curl_options;
+		$proxy->bindingType = $this->bindingType;
+		$proxy->use_curl = $this->use_curl;
+		return $proxy;
+	}
+
+	/**
+	* dynamically creates proxy class code
+	*
+	* @return   string PHP/NuSOAP code for the proxy class
+	* @access   private
+	*/
+	function _getProxyClassCode($r) {
+		$this->debug("in getProxy endpointType=$this->endpointType");
+		$this->appendDebug("wsdl=" . $this->varDump($this->wsdl));
+		if ($this->endpointType != 'wsdl') {
+			$evalStr = 'A proxy can only be created for a WSDL client';
+			$this->setError($evalStr);
+			$evalStr = "echo \"$evalStr\";";
+			return $evalStr;
+		}
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError()) {
+				return "echo \"" . $this->getError() . "\";";
+			}
+		}
+		$evalStr = '';
+		foreach ($this->operations as $operation => $opData) {
+			if ($operation != '') {
+				// create param string and param comment string
+				if (sizeof($opData['input']['parts']) > 0) {
+					$paramStr = '';
+					$paramArrayStr = '';
+					$paramCommentStr = '';
+					foreach ($opData['input']['parts'] as $name => $type) {
+						$paramStr .= "\$$name, ";
+						$paramArrayStr .= "'$name' => \$$name, ";
+						$paramCommentStr .= "$type \$$name, ";
+					}
+					$paramStr = substr($paramStr, 0, strlen($paramStr)-2);
+					$paramArrayStr = substr($paramArrayStr, 0, strlen($paramArrayStr)-2);
+					$paramCommentStr = substr($paramCommentStr, 0, strlen($paramCommentStr)-2);
+				} else {
+					$paramStr = '';
+					$paramArrayStr = '';
+					$paramCommentStr = 'void';
+				}
+				$opData['namespace'] = !isset($opData['namespace']) ? 'http://testuri.com' : $opData['namespace'];
+				$evalStr .= "// $paramCommentStr
+	function " . str_replace('.', '__', $operation) . "($paramStr) {
+		\$params = array($paramArrayStr);
+		return \$this->call('$operation', \$params, '".$opData['namespace']."', '".(isset($opData['soapAction']) ? $opData['soapAction'] : '')."');
+	}
+	";
+				unset($paramStr);
+				unset($paramCommentStr);
+			}
+		}
+		$evalStr = 'class nusoap_proxy_'.$r.' extends nusoap_client {
+	'.$evalStr.'
+}';
+		return $evalStr;
+	}
+
+	/**
+	* dynamically creates proxy class code
+	*
+	* @return   string PHP/NuSOAP code for the proxy class
+	* @access   public
+	*/
+	function getProxyClassCode() {
+		$r = rand();
+		return $this->_getProxyClassCode($r);
+	}
+
+	/**
+	* gets the HTTP body for the current request.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		return $soapmsg;
+	}
+	
+	/**
+	* gets the HTTP content type for the current request.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current request.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		return 'text/xml';
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current request.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current request.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		return $this->soap_defencoding;
+	}
+
+	/*
+	* whether or not parser should decode utf8 element content
+    *
+    * @return   always returns true
+    * @access   public
+    */
+    function decodeUTF8($bool){
+		$this->decode_utf8 = $bool;
+		return true;
+    }
+
+	/**
+	 * adds a new Cookie into $this->cookies array
+	 *
+	 * @param	string $name Cookie Name
+	 * @param	string $value Cookie Value
+	 * @return	boolean if cookie-set was successful returns true, else false
+	 * @access	public
+	 */
+	function setCookie($name, $value) {
+		if (strlen($name) == 0) {
+			return false;
+		}
+		$this->cookies[] = array('name' => $name, 'value' => $value);
+		return true;
+	}
+
+	/**
+	 * gets all Cookies
+	 *
+	 * @return   array with all internal cookies
+	 * @access   public
+	 */
+	function getCookies() {
+		return $this->cookies;
+	}
+
+	/**
+	 * checks all Cookies and delete those which are expired
+	 *
+	 * @return   boolean always return true
+	 * @access   private
+	 */
+	function checkCookies() {
+		if (sizeof($this->cookies) == 0) {
+			return true;
+		}
+		$this->debug('checkCookie: check ' . sizeof($this->cookies) . ' cookies');
+		$curr_cookies = $this->cookies;
+		$this->cookies = array();
+		foreach ($curr_cookies as $cookie) {
+			if (! is_array($cookie)) {
+				$this->debug('Remove cookie that is not an array');
+				continue;
+			}
+			if ((isset($cookie['expires'])) && (! empty($cookie['expires']))) {
+				if (strtotime($cookie['expires']) > time()) {
+					$this->cookies[] = $cookie;
+				} else {
+					$this->debug('Remove expired cookie ' . $cookie['name']);
+				}
+			} else {
+				$this->cookies[] = $cookie;
+			}
+		}
+		$this->debug('checkCookie: '.sizeof($this->cookies).' cookies left in array');
+		return true;
+	}
+
+	/**
+	 * updates the current cookies with a new set
+	 *
+	 * @param	array $cookies new cookies with which to update current ones
+	 * @return	boolean always return true
+	 * @access	private
+	 */
+	function UpdateCookies($cookies) {
+		if (sizeof($this->cookies) == 0) {
+			// no existing cookies: take whatever is new
+			if (sizeof($cookies) > 0) {
+				$this->debug('Setting new cookie(s)');
+				$this->cookies = $cookies;
+			}
+			return true;
+		}
+		if (sizeof($cookies) == 0) {
+			// no new cookies: keep what we've got
+			return true;
+		}
+		// merge
+		foreach ($cookies as $newCookie) {
+			if (!is_array($newCookie)) {
+				continue;
+			}
+			if ((!isset($newCookie['name'])) || (!isset($newCookie['value']))) {
+				continue;
+			}
+			$newName = $newCookie['name'];
+
+			$found = false;
+			for ($i = 0; $i < count($this->cookies); $i++) {
+				$cookie = $this->cookies[$i];
+				if (!is_array($cookie)) {
+					continue;
+				}
+				if (!isset($cookie['name'])) {
+					continue;
+				}
+				if ($newName != $cookie['name']) {
+					continue;
+				}
+				$newDomain = isset($newCookie['domain']) ? $newCookie['domain'] : 'NODOMAIN';
+				$domain = isset($cookie['domain']) ? $cookie['domain'] : 'NODOMAIN';
+				if ($newDomain != $domain) {
+					continue;
+				}
+				$newPath = isset($newCookie['path']) ? $newCookie['path'] : 'NOPATH';
+				$path = isset($cookie['path']) ? $cookie['path'] : 'NOPATH';
+				if ($newPath != $path) {
+					continue;
+				}
+				$this->cookies[$i] = $newCookie;
+				$found = true;
+				$this->debug('Update cookie ' . $newName . '=' . $newCookie['value']);
+				break;
+			}
+			if (! $found) {
+				$this->debug('Add cookie ' . $newName . '=' . $newCookie['value']);
+				$this->cookies[] = $newCookie;
+			}
+		}
+		return true;
+	}
+}
+
+if (!extension_loaded('soap')) {
+	/**
+	 *	For backwards compatiblity, define soapclient unless the PHP SOAP extension is loaded.
+	 */
+	class soapclient extends nusoap_client {
+	}
+}
+?>
diff -rNU5 phpBB3-init/library/nusoap/class.soap_fault.php phpBB3/library/nusoap/class.soap_fault.php
--- phpBB3-init/library/nusoap/class.soap_fault.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soap_fault.php	2013-01-28 17:31:47.724708650 +0100
@@ -0,0 +1,90 @@
+<?php
+
+
+
+
+/**
+* Contains information for a SOAP fault.
+* Mainly used for returning faults from deployed functions
+* in a server instance.
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @version  $Id: class.soap_fault.php,v 1.14 2007/04/11 15:49:47 snichol Exp $
+* @access public
+*/
+class nusoap_fault extends nusoap_base {
+	/**
+	 * The fault code (client|server)
+	 * @var string
+	 * @access private
+	 */
+	var $faultcode;
+	/**
+	 * The fault actor
+	 * @var string
+	 * @access private
+	 */
+	var $faultactor;
+	/**
+	 * The fault string, a description of the fault
+	 * @var string
+	 * @access private
+	 */
+	var $faultstring;
+	/**
+	 * The fault detail, typically a string or array of string
+	 * @var mixed
+	 * @access private
+	 */
+	var $faultdetail;
+
+	/**
+	* constructor
+    *
+    * @param string $faultcode (SOAP-ENV:Client | SOAP-ENV:Server)
+    * @param string $faultactor only used when msg routed between multiple actors
+    * @param string $faultstring human readable error message
+    * @param mixed $faultdetail detail, typically a string or array of string
+	*/
+	function nusoap_fault($faultcode,$faultactor='',$faultstring='',$faultdetail=''){
+		parent::nusoap_base();
+		$this->faultcode = $faultcode;
+		$this->faultactor = $faultactor;
+		$this->faultstring = $faultstring;
+		$this->faultdetail = $faultdetail;
+	}
+
+	/**
+	* serialize a fault
+	*
+	* @return	string	The serialization of the fault instance.
+	* @access   public
+	*/
+	function serialize(){
+		$ns_string = '';
+		foreach($this->namespaces as $k => $v){
+			$ns_string .= "\n  xmlns:$k=\"$v\"";
+		}
+		$return_msg =
+			'<?xml version="1.0" encoding="'.$this->soap_defencoding.'"?>'.
+			'<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"'.$ns_string.">\n".
+				'<SOAP-ENV:Body>'.
+				'<SOAP-ENV:Fault>'.
+					$this->serialize_val($this->faultcode, 'faultcode').
+					$this->serialize_val($this->faultactor, 'faultactor').
+					$this->serialize_val($this->faultstring, 'faultstring').
+					$this->serialize_val($this->faultdetail, 'detail').
+				'</SOAP-ENV:Fault>'.
+				'</SOAP-ENV:Body>'.
+			'</SOAP-ENV:Envelope>';
+		return $return_msg;
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_fault extends nusoap_fault {
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.soap_parser.php phpBB3/library/nusoap/class.soap_parser.php
--- phpBB3-init/library/nusoap/class.soap_parser.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soap_parser.php	2013-01-28 17:31:47.728708651 +0100
@@ -0,0 +1,643 @@
+<?php
+
+
+
+
+/**
+*
+* nusoap_parser class parses SOAP XML messages into native PHP values
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.soap_parser.php,v 1.42 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_parser extends nusoap_base {
+
+	var $xml = '';
+	var $xml_encoding = '';
+	var $method = '';
+	var $root_struct = '';
+	var $root_struct_name = '';
+	var $root_struct_namespace = '';
+	var $root_header = '';
+    var $document = '';			// incoming SOAP body (text)
+	// determines where in the message we are (envelope,header,body,method)
+	var $status = '';
+	var $position = 0;
+	var $depth = 0;
+	var $default_namespace = '';
+	var $namespaces = array();
+	var $message = array();
+    var $parent = '';
+	var $fault = false;
+	var $fault_code = '';
+	var $fault_str = '';
+	var $fault_detail = '';
+	var $depth_array = array();
+	var $debug_flag = true;
+	var $soapresponse = NULL;	// parsed SOAP Body
+	var $soapheader = NULL;		// parsed SOAP Header
+	var $responseHeaders = '';	// incoming SOAP headers (text)
+	var $body_position = 0;
+	// for multiref parsing:
+	// array of id => pos
+	var $ids = array();
+	// array of id => hrefs => pos
+	var $multirefs = array();
+	// toggle for auto-decoding element content
+	var $decode_utf8 = true;
+
+	/**
+	* constructor that actually does the parsing
+	*
+	* @param    string $xml SOAP message
+	* @param    string $encoding character encoding scheme of message
+	* @param    string $method method for which XML is parsed (unused?)
+	* @param    string $decode_utf8 whether to decode UTF-8 to ISO-8859-1
+	* @access   public
+	*/
+	function nusoap_parser($xml,$encoding='UTF-8',$method='',$decode_utf8=true){
+		parent::nusoap_base();
+		$this->xml = $xml;
+		$this->xml_encoding = $encoding;
+		$this->method = $method;
+		$this->decode_utf8 = $decode_utf8;
+
+		// Check whether content has been read.
+		if(!empty($xml)){
+			// Check XML encoding
+			$pos_xml = strpos($xml, '<?xml');
+			if ($pos_xml !== FALSE) {
+				$xml_decl = substr($xml, $pos_xml, strpos($xml, '?>', $pos_xml + 2) - $pos_xml + 1);
+				if (preg_match("/encoding=[\"']([^\"']*)[\"']/", $xml_decl, $res)) {
+					$xml_encoding = $res[1];
+					if (strtoupper($xml_encoding) != $encoding) {
+						$err = "Charset from HTTP Content-Type '" . $encoding . "' does not match encoding from XML declaration '" . $xml_encoding . "'";
+						$this->debug($err);
+						if ($encoding != 'ISO-8859-1' || strtoupper($xml_encoding) != 'UTF-8') {
+							$this->setError($err);
+							return;
+						}
+						// when HTTP says ISO-8859-1 (the default) and XML says UTF-8 (the typical), assume the other endpoint is just sloppy and proceed
+					} else {
+						$this->debug('Charset from HTTP Content-Type matches encoding from XML declaration');
+					}
+				} else {
+					$this->debug('No encoding specified in XML declaration');
+				}
+			} else {
+				$this->debug('No XML declaration');
+			}
+			$this->debug('Entering nusoap_parser(), length='.strlen($xml).', encoding='.$encoding);
+			// Create an XML parser - why not xml_parser_create_ns?
+			$this->parser = xml_parser_create($this->xml_encoding);
+			// Set the options for parsing the XML data.
+			//xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
+			xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0);
+			xml_parser_set_option($this->parser, XML_OPTION_TARGET_ENCODING, $this->xml_encoding);
+			// Set the object for the parser.
+			xml_set_object($this->parser, $this);
+			// Set the element handlers for the parser.
+			xml_set_element_handler($this->parser, 'start_element','end_element');
+			xml_set_character_data_handler($this->parser,'character_data');
+
+			// Parse the XML file.
+			if(!xml_parse($this->parser,$xml,true)){
+			    // Display an error message.
+			    $err = sprintf('XML error parsing SOAP payload on line %d: %s',
+			    xml_get_current_line_number($this->parser),
+			    xml_error_string(xml_get_error_code($this->parser)));
+				$this->debug($err);
+				$this->debug("XML payload:\n" . $xml);
+				$this->setError($err);
+			} else {
+				$this->debug('in nusoap_parser ctor, message:');
+				$this->appendDebug($this->varDump($this->message));
+				$this->debug('parsed successfully, found root struct: '.$this->root_struct.' of name '.$this->root_struct_name);
+				// get final value
+				$this->soapresponse = $this->message[$this->root_struct]['result'];
+				// get header value
+				if($this->root_header != '' && isset($this->message[$this->root_header]['result'])){
+					$this->soapheader = $this->message[$this->root_header]['result'];
+				}
+				// resolve hrefs/ids
+				if(sizeof($this->multirefs) > 0){
+					foreach($this->multirefs as $id => $hrefs){
+						$this->debug('resolving multirefs for id: '.$id);
+						$idVal = $this->buildVal($this->ids[$id]);
+						if (is_array($idVal) && isset($idVal['!id'])) {
+							unset($idVal['!id']);
+						}
+						foreach($hrefs as $refPos => $ref){
+							$this->debug('resolving href at pos '.$refPos);
+							$this->multirefs[$id][$refPos] = $idVal;
+						}
+					}
+				}
+			}
+			xml_parser_free($this->parser);
+		} else {
+			$this->debug('xml was empty, didn\'t parse!');
+			$this->setError('xml was empty, didn\'t parse!');
+		}
+	}
+
+	/**
+	* start-element handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $name element name
+	* @param    array $attrs associative array of attributes
+	* @access   private
+	*/
+	function start_element($parser, $name, $attrs) {
+		// position in a total number of elements, starting from 0
+		// update class level pos
+		$pos = $this->position++;
+		// and set mine
+		$this->message[$pos] = array('pos' => $pos,'children'=>'','cdata'=>'');
+		// depth = how many levels removed from root?
+		// set mine as current global depth and increment global depth value
+		$this->message[$pos]['depth'] = $this->depth++;
+
+		// else add self as child to whoever the current parent is
+		if($pos != 0){
+			$this->message[$this->parent]['children'] .= '|'.$pos;
+		}
+		// set my parent
+		$this->message[$pos]['parent'] = $this->parent;
+		// set self as current parent
+		$this->parent = $pos;
+		// set self as current value for this depth
+		$this->depth_array[$this->depth] = $pos;
+		// get element prefix
+		if(strpos($name,':')){
+			// get ns prefix
+			$prefix = substr($name,0,strpos($name,':'));
+			// get unqualified name
+			$name = substr(strstr($name,':'),1);
+		}
+		// set status
+		if ($name == 'Envelope' && $this->status == '') {
+			$this->status = 'envelope';
+		} elseif ($name == 'Header' && $this->status == 'envelope') {
+			$this->root_header = $pos;
+			$this->status = 'header';
+		} elseif ($name == 'Body' && $this->status == 'envelope'){
+			$this->status = 'body';
+			$this->body_position = $pos;
+		// set method
+		} elseif($this->status == 'body' && $pos == ($this->body_position+1)) {
+			$this->status = 'method';
+			$this->root_struct_name = $name;
+			$this->root_struct = $pos;
+			$this->message[$pos]['type'] = 'struct';
+			$this->debug("found root struct $this->root_struct_name, pos $this->root_struct");
+		}
+		// set my status
+		$this->message[$pos]['status'] = $this->status;
+		// set name
+		$this->message[$pos]['name'] = htmlspecialchars($name);
+		// set attrs
+		$this->message[$pos]['attrs'] = $attrs;
+
+		// loop through atts, logging ns and type declarations
+        $attstr = '';
+		foreach($attrs as $key => $value){
+        	$key_prefix = $this->getPrefix($key);
+			$key_localpart = $this->getLocalPart($key);
+			// if ns declarations, add to class level array of valid namespaces
+            if($key_prefix == 'xmlns'){
+				if(preg_match('/^http:\/\/www.w3.org\/[0-9]{4}\/XMLSchema$/',$value)){
+					$this->XMLSchemaVersion = $value;
+					$this->namespaces['xsd'] = $this->XMLSchemaVersion;
+					$this->namespaces['xsi'] = $this->XMLSchemaVersion.'-instance';
+				}
+                $this->namespaces[$key_localpart] = $value;
+				// set method namespace
+				if($name == $this->root_struct_name){
+					$this->methodNamespace = $value;
+				}
+			// if it's a type declaration, set type
+        } elseif($key_localpart == 'type'){
+        		if (isset($this->message[$pos]['type']) && $this->message[$pos]['type'] == 'array') {
+        			// do nothing: already processed arrayType
+        		} else {
+	            	$value_prefix = $this->getPrefix($value);
+	                $value_localpart = $this->getLocalPart($value);
+					$this->message[$pos]['type'] = $value_localpart;
+					$this->message[$pos]['typePrefix'] = $value_prefix;
+	                if(isset($this->namespaces[$value_prefix])){
+	                	$this->message[$pos]['type_namespace'] = $this->namespaces[$value_prefix];
+	                } else if(isset($attrs['xmlns:'.$value_prefix])) {
+						$this->message[$pos]['type_namespace'] = $attrs['xmlns:'.$value_prefix];
+	                }
+					// should do something here with the namespace of specified type?
+				}
+			} elseif($key_localpart == 'arrayType'){
+				$this->message[$pos]['type'] = 'array';
+				/* do arrayType ereg here
+				[1]    arrayTypeValue    ::=    atype asize
+				[2]    atype    ::=    QName rank*
+				[3]    rank    ::=    '[' (',')* ']'
+				[4]    asize    ::=    '[' length~ ']'
+				[5]    length    ::=    nextDimension* Digit+
+				[6]    nextDimension    ::=    Digit+ ','
+				*/
+				$expr = '/([A-Za-z0-9_]+):([A-Za-z]+[A-Za-z0-9_]+)\[([0-9]+),?([0-9]*)\]/';
+				if(preg_match($expr,$value,$regs)){
+					$this->message[$pos]['typePrefix'] = $regs[1];
+					$this->message[$pos]['arrayTypePrefix'] = $regs[1];
+	                if (isset($this->namespaces[$regs[1]])) {
+	                	$this->message[$pos]['arrayTypeNamespace'] = $this->namespaces[$regs[1]];
+	                } else if (isset($attrs['xmlns:'.$regs[1]])) {
+						$this->message[$pos]['arrayTypeNamespace'] = $attrs['xmlns:'.$regs[1]];
+	                }
+					$this->message[$pos]['arrayType'] = $regs[2];
+					$this->message[$pos]['arraySize'] = $regs[3];
+					$this->message[$pos]['arrayCols'] = $regs[4];
+				}
+			// specifies nil value (or not)
+			} elseif ($key_localpart == 'nil'){
+				$this->message[$pos]['nil'] = ($value == 'true' || $value == '1');
+			// some other attribute
+			} elseif ($key != 'href' && $key != 'xmlns' && $key_localpart != 'encodingStyle' && $key_localpart != 'root') {
+				$this->message[$pos]['xattrs']['!' . $key] = $value;
+			}
+
+			if ($key == 'xmlns') {
+				$this->default_namespace = $value;
+			}
+			// log id
+			if($key == 'id'){
+				$this->ids[$value] = $pos;
+			}
+			// root
+			if($key_localpart == 'root' && $value == 1){
+				$this->status = 'method';
+				$this->root_struct_name = $name;
+				$this->root_struct = $pos;
+				$this->debug("found root struct $this->root_struct_name, pos $pos");
+			}
+            // for doclit
+            $attstr .= " $key=\"$value\"";
+		}
+        // get namespace - must be done after namespace atts are processed
+		if(isset($prefix)){
+			$this->message[$pos]['namespace'] = $this->namespaces[$prefix];
+			$this->default_namespace = $this->namespaces[$prefix];
+		} else {
+			$this->message[$pos]['namespace'] = $this->default_namespace;
+		}
+        if($this->status == 'header'){
+        	if ($this->root_header != $pos) {
+	        	$this->responseHeaders .= "<" . (isset($prefix) ? $prefix . ':' : '') . "$name$attstr>";
+	        }
+        } elseif($this->root_struct_name != ''){
+        	$this->document .= "<" . (isset($prefix) ? $prefix . ':' : '') . "$name$attstr>";
+        }
+	}
+
+	/**
+	* end-element handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $name element name
+	* @access   private
+	*/
+	function end_element($parser, $name) {
+		// position of current element is equal to the last value left in depth_array for my depth
+		$pos = $this->depth_array[$this->depth--];
+
+        // get element prefix
+		if(strpos($name,':')){
+			// get ns prefix
+			$prefix = substr($name,0,strpos($name,':'));
+			// get unqualified name
+			$name = substr(strstr($name,':'),1);
+		}
+		
+		// build to native type
+		if(isset($this->body_position) && $pos > $this->body_position){
+			// deal w/ multirefs
+			if(isset($this->message[$pos]['attrs']['href'])){
+				// get id
+				$id = substr($this->message[$pos]['attrs']['href'],1);
+				// add placeholder to href array
+				$this->multirefs[$id][$pos] = 'placeholder';
+				// add set a reference to it as the result value
+				$this->message[$pos]['result'] =& $this->multirefs[$id][$pos];
+            // build complexType values
+			} elseif($this->message[$pos]['children'] != ''){
+				// if result has already been generated (struct/array)
+				if(!isset($this->message[$pos]['result'])){
+					$this->message[$pos]['result'] = $this->buildVal($pos);
+				}
+			// build complexType values of attributes and possibly simpleContent
+			} elseif (isset($this->message[$pos]['xattrs'])) {
+				if (isset($this->message[$pos]['nil']) && $this->message[$pos]['nil']) {
+					$this->message[$pos]['xattrs']['!'] = null;
+				} elseif (isset($this->message[$pos]['cdata']) && trim($this->message[$pos]['cdata']) != '') {
+	            	if (isset($this->message[$pos]['type'])) {
+						$this->message[$pos]['xattrs']['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+					} else {
+						$parent = $this->message[$pos]['parent'];
+						if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+							$this->message[$pos]['xattrs']['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+						} else {
+							$this->message[$pos]['xattrs']['!'] = $this->message[$pos]['cdata'];
+						}
+					}
+				}
+				$this->message[$pos]['result'] = $this->message[$pos]['xattrs'];
+			// set value of simpleType (or nil complexType)
+			} else {
+            	//$this->debug('adding data for scalar value '.$this->message[$pos]['name'].' of value '.$this->message[$pos]['cdata']);
+				if (isset($this->message[$pos]['nil']) && $this->message[$pos]['nil']) {
+					$this->message[$pos]['xattrs']['!'] = null;
+				} elseif (isset($this->message[$pos]['type'])) {
+					$this->message[$pos]['result'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				} else {
+					$parent = $this->message[$pos]['parent'];
+					if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+						$this->message[$pos]['result'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+					} else {
+						$this->message[$pos]['result'] = $this->message[$pos]['cdata'];
+					}
+				}
+
+				/* add value to parent's result, if parent is struct/array
+				$parent = $this->message[$pos]['parent'];
+				if($this->message[$parent]['type'] != 'map'){
+					if(strtolower($this->message[$parent]['type']) == 'array'){
+						$this->message[$parent]['result'][] = $this->message[$pos]['result'];
+					} else {
+						$this->message[$parent]['result'][$this->message[$pos]['name']] = $this->message[$pos]['result'];
+					}
+				}
+				*/
+			}
+		}
+		
+        // for doclit
+        if($this->status == 'header'){
+        	if ($this->root_header != $pos) {
+	        	$this->responseHeaders .= "</" . (isset($prefix) ? $prefix . ':' : '') . "$name>";
+	        }
+        } elseif($pos >= $this->root_struct){
+        	$this->document .= "</" . (isset($prefix) ? $prefix . ':' : '') . "$name>";
+        }
+		// switch status
+		if ($pos == $this->root_struct){
+			$this->status = 'body';
+			$this->root_struct_namespace = $this->message[$pos]['namespace'];
+		} elseif ($pos == $this->root_header) {
+			$this->status = 'envelope';
+		} elseif ($name == 'Body' && $this->status == 'body') {
+			$this->status = 'envelope';
+		} elseif ($name == 'Header' && $this->status == 'header') { // will never happen
+			$this->status = 'envelope';
+		} elseif ($name == 'Envelope' && $this->status == 'envelope') {
+			$this->status = '';
+		}
+		// set parent back to my parent
+		$this->parent = $this->message[$pos]['parent'];
+	}
+
+	/**
+	* element content handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $data element content
+	* @access   private
+	*/
+	function character_data($parser, $data){
+		$pos = $this->depth_array[$this->depth];
+		if ($this->xml_encoding=='UTF-8'){
+			// TODO: add an option to disable this for folks who want
+			// raw UTF-8 that, e.g., might not map to iso-8859-1
+			// TODO: this can also be handled with xml_parser_set_option($this->parser, XML_OPTION_TARGET_ENCODING, "ISO-8859-1");
+			if($this->decode_utf8){
+				$data = utf8_decode($data);
+			}
+		}
+        $this->message[$pos]['cdata'] .= $data;
+        // for doclit
+        if($this->status == 'header'){
+        	$this->responseHeaders .= $data;
+        } else {
+        	$this->document .= $data;
+        }
+	}
+
+	/**
+	* get the parsed message (SOAP Body)
+	*
+	* @return	mixed
+	* @access   public
+	* @deprecated	use get_soapbody instead
+	*/
+	function get_response(){
+		return $this->soapresponse;
+	}
+
+	/**
+	* get the parsed SOAP Body (NULL if there was none)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function get_soapbody(){
+		return $this->soapresponse;
+	}
+
+	/**
+	* get the parsed SOAP Header (NULL if there was none)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function get_soapheader(){
+		return $this->soapheader;
+	}
+
+	/**
+	* get the unparsed SOAP Header
+	*
+	* @return	string XML or empty if no Header
+	* @access   public
+	*/
+	function getHeaders(){
+	    return $this->responseHeaders;
+	}
+
+	/**
+	* decodes simple types into PHP variables
+	*
+	* @param    string $value value to decode
+	* @param    string $type XML type to decode
+	* @param    string $typens XML type namespace to decode
+	* @return	mixed PHP value
+	* @access   private
+	*/
+	function decodeSimple($value, $type, $typens) {
+		// TODO: use the namespace!
+		if ((!isset($type)) || $type == 'string' || $type == 'long' || $type == 'unsignedLong') {
+			return (string) $value;
+		}
+		if ($type == 'int' || $type == 'integer' || $type == 'short' || $type == 'byte') {
+			return (int) $value;
+		}
+		if ($type == 'float' || $type == 'double' || $type == 'decimal') {
+			return (double) $value;
+		}
+		if ($type == 'boolean') {
+			if (strtolower($value) == 'false' || strtolower($value) == 'f') {
+				return false;
+			}
+			return (boolean) $value;
+		}
+		if ($type == 'base64' || $type == 'base64Binary') {
+			$this->debug('Decode base64 value');
+			return base64_decode($value);
+		}
+		// obscure numeric types
+		if ($type == 'nonPositiveInteger' || $type == 'negativeInteger'
+			|| $type == 'nonNegativeInteger' || $type == 'positiveInteger'
+			|| $type == 'unsignedInt'
+			|| $type == 'unsignedShort' || $type == 'unsignedByte') {
+			return (int) $value;
+		}
+		// bogus: parser treats array with no elements as a simple type
+		if ($type == 'array') {
+			return array();
+		}
+		// everything else
+		return (string) $value;
+	}
+
+	/**
+	* builds response structures for compound values (arrays/structs)
+	* and scalars
+	*
+	* @param    integer $pos position in node tree
+	* @return	mixed	PHP value
+	* @access   private
+	*/
+	function buildVal($pos){
+		if(!isset($this->message[$pos]['type'])){
+			$this->message[$pos]['type'] = '';
+		}
+		$this->debug('in buildVal() for '.$this->message[$pos]['name']."(pos $pos) of type ".$this->message[$pos]['type']);
+		// if there are children...
+		if($this->message[$pos]['children'] != ''){
+			$this->debug('in buildVal, there are children');
+			$children = explode('|',$this->message[$pos]['children']);
+			array_shift($children); // knock off empty
+			// md array
+			if(isset($this->message[$pos]['arrayCols']) && $this->message[$pos]['arrayCols'] != ''){
+            	$r=0; // rowcount
+            	$c=0; // colcount
+            	foreach($children as $child_pos){
+					$this->debug("in buildVal, got an MD array element: $r, $c");
+					$params[$r][] = $this->message[$child_pos]['result'];
+				    $c++;
+				    if($c == $this->message[$pos]['arrayCols']){
+				    	$c = 0;
+						$r++;
+				    }
+                }
+            // array
+			} elseif($this->message[$pos]['type'] == 'array' || $this->message[$pos]['type'] == 'Array'){
+                $this->debug('in buildVal, adding array '.$this->message[$pos]['name']);
+                foreach($children as $child_pos){
+                	$params[] = &$this->message[$child_pos]['result'];
+                }
+            // apache Map type: java hashtable
+            } elseif($this->message[$pos]['type'] == 'Map' && $this->message[$pos]['type_namespace'] == 'http://xml.apache.org/xml-soap'){
+                $this->debug('in buildVal, Java Map '.$this->message[$pos]['name']);
+                foreach($children as $child_pos){
+                	$kv = explode("|",$this->message[$child_pos]['children']);
+                   	$params[$this->message[$kv[1]]['result']] = &$this->message[$kv[2]]['result'];
+                }
+            // generic compound type
+            //} elseif($this->message[$pos]['type'] == 'SOAPStruct' || $this->message[$pos]['type'] == 'struct') {
+		    } else {
+	    		// Apache Vector type: treat as an array
+                $this->debug('in buildVal, adding Java Vector or generic compound type '.$this->message[$pos]['name']);
+				if ($this->message[$pos]['type'] == 'Vector' && $this->message[$pos]['type_namespace'] == 'http://xml.apache.org/xml-soap') {
+					$notstruct = 1;
+				} else {
+					$notstruct = 0;
+	            }
+            	//
+            	foreach($children as $child_pos){
+            		if($notstruct){
+            			$params[] = &$this->message[$child_pos]['result'];
+            		} else {
+            			if (isset($params[$this->message[$child_pos]['name']])) {
+            				// de-serialize repeated element name into an array
+            				if ((!is_array($params[$this->message[$child_pos]['name']])) || (!isset($params[$this->message[$child_pos]['name']][0]))) {
+            					$params[$this->message[$child_pos]['name']] = array($params[$this->message[$child_pos]['name']]);
+            				}
+            				$params[$this->message[$child_pos]['name']][] = &$this->message[$child_pos]['result'];
+            			} else {
+					    	$params[$this->message[$child_pos]['name']] = &$this->message[$child_pos]['result'];
+					    }
+                	}
+                }
+			}
+			if (isset($this->message[$pos]['xattrs'])) {
+                $this->debug('in buildVal, handling attributes');
+				foreach ($this->message[$pos]['xattrs'] as $n => $v) {
+					$params[$n] = $v;
+				}
+			}
+			// handle simpleContent
+			if (isset($this->message[$pos]['cdata']) && trim($this->message[$pos]['cdata']) != '') {
+                $this->debug('in buildVal, handling simpleContent');
+            	if (isset($this->message[$pos]['type'])) {
+					$params['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				} else {
+					$parent = $this->message[$pos]['parent'];
+					if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+						$params['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+					} else {
+						$params['!'] = $this->message[$pos]['cdata'];
+					}
+				}
+			}
+			$ret = is_array($params) ? $params : array();
+			$this->debug('in buildVal, return:');
+			$this->appendDebug($this->varDump($ret));
+			return $ret;
+		} else {
+        	$this->debug('in buildVal, no children, building scalar');
+			$cdata = isset($this->message[$pos]['cdata']) ? $this->message[$pos]['cdata'] : '';
+        	if (isset($this->message[$pos]['type'])) {
+				$ret = $this->decodeSimple($cdata, $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				$this->debug("in buildVal, return: $ret");
+				return $ret;
+			}
+			$parent = $this->message[$pos]['parent'];
+			if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+				$ret = $this->decodeSimple($cdata, $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+				$this->debug("in buildVal, return: $ret");
+				return $ret;
+			}
+           	$ret = $this->message[$pos]['cdata'];
+			$this->debug("in buildVal, return: $ret");
+           	return $ret;
+		}
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_parser extends nusoap_parser {
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.soap_server.php phpBB3/library/nusoap/class.soap_server.php
--- phpBB3-init/library/nusoap/class.soap_server.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soap_server.php	2013-01-28 17:31:47.728708651 +0100
@@ -0,0 +1,1127 @@
+<?php
+
+
+
+
+/**
+*
+* nusoap_server allows the user to create a SOAP server
+* that is capable of receiving messages and returning responses
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.soap_server.php,v 1.63 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_server extends nusoap_base {
+	/**
+	 * HTTP headers of request
+	 * @var array
+	 * @access private
+	 */
+	var $headers = array();
+	/**
+	 * HTTP request
+	 * @var string
+	 * @access private
+	 */
+	var $request = '';
+	/**
+	 * SOAP headers from request (incomplete namespace resolution; special characters not escaped) (text)
+	 * @var string
+	 * @access public
+	 */
+	var $requestHeaders = '';
+	/**
+	 * SOAP Headers from request (parsed)
+	 * @var mixed
+	 * @access public
+	 */
+	var $requestHeader = NULL;
+	/**
+	 * SOAP body request portion (incomplete namespace resolution; special characters not escaped) (text)
+	 * @var string
+	 * @access public
+	 */
+	var $document = '';
+	/**
+	 * SOAP payload for request (text)
+	 * @var string
+	 * @access public
+	 */
+	var $requestSOAP = '';
+	/**
+	 * requested method namespace URI
+	 * @var string
+	 * @access private
+	 */
+	var $methodURI = '';
+	/**
+	 * name of method requested
+	 * @var string
+	 * @access private
+	 */
+	var $methodname = '';
+	/**
+	 * method parameters from request
+	 * @var array
+	 * @access private
+	 */
+	var $methodparams = array();
+	/**
+	 * SOAP Action from request
+	 * @var string
+	 * @access private
+	 */
+	var $SOAPAction = '';
+	/**
+	 * character set encoding of incoming (request) messages
+	 * @var string
+	 * @access public
+	 */
+	var $xml_encoding = '';
+	/**
+	 * toggles whether the parser decodes element content w/ utf8_decode()
+	 * @var boolean
+	 * @access public
+	 */
+    var $decode_utf8 = true;
+
+	/**
+	 * HTTP headers of response
+	 * @var array
+	 * @access public
+	 */
+	var $outgoing_headers = array();
+	/**
+	 * HTTP response
+	 * @var string
+	 * @access private
+	 */
+	var $response = '';
+	/**
+	 * SOAP headers for response (text or array of soapval or associative array)
+	 * @var mixed
+	 * @access public
+	 */
+	var $responseHeaders = '';
+	/**
+	 * SOAP payload for response (text)
+	 * @var string
+	 * @access private
+	 */
+	var $responseSOAP = '';
+	/**
+	 * method return value to place in response
+	 * @var mixed
+	 * @access private
+	 */
+	var $methodreturn = false;
+	/**
+	 * whether $methodreturn is a string of literal XML
+	 * @var boolean
+	 * @access public
+	 */
+	var $methodreturnisliteralxml = false;
+	/**
+	 * SOAP fault for response (or false)
+	 * @var mixed
+	 * @access private
+	 */
+	var $fault = false;
+	/**
+	 * text indication of result (for debugging)
+	 * @var string
+	 * @access private
+	 */
+	var $result = 'successful';
+
+	/**
+	 * assoc array of operations => opData; operations are added by the register()
+	 * method or by parsing an external WSDL definition
+	 * @var array
+	 * @access private
+	 */
+	var $operations = array();
+	/**
+	 * wsdl instance (if one)
+	 * @var mixed
+	 * @access private
+	 */
+	var $wsdl = false;
+	/**
+	 * URL for WSDL (if one)
+	 * @var mixed
+	 * @access private
+	 */
+	var $externalWSDLURL = false;
+	/**
+	 * whether to append debug to response as XML comment
+	 * @var boolean
+	 * @access public
+	 */
+	var $debug_flag = false;
+
+
+	/**
+	* constructor
+    * the optional parameter is a path to a WSDL file that you'd like to bind the server instance to.
+	*
+    * @param mixed $wsdl file path or URL (string), or wsdl instance (object)
+	* @access   public
+	*/
+	function nusoap_server($wsdl=false){
+		parent::nusoap_base();
+		// turn on debugging?
+		global $debug;
+		global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$this->debug("_SERVER is defined:");
+			$this->appendDebug($this->varDump($_SERVER));
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$this->debug("HTTP_SERVER_VARS is defined:");
+			$this->appendDebug($this->varDump($HTTP_SERVER_VARS));
+		} else {
+			$this->debug("Neither _SERVER nor HTTP_SERVER_VARS is defined.");
+		}
+
+		if (isset($debug)) {
+			$this->debug("In nusoap_server, set debug_flag=$debug based on global flag");
+			$this->debug_flag = $debug;
+		} elseif (isset($_SERVER['QUERY_STRING'])) {
+			$qs = explode('&', $_SERVER['QUERY_STRING']);
+			foreach ($qs as $v) {
+				if (substr($v, 0, 6) == 'debug=') {
+					$this->debug("In nusoap_server, set debug_flag=" . substr($v, 6) . " based on query string #1");
+					$this->debug_flag = substr($v, 6);
+				}
+			}
+		} elseif (isset($HTTP_SERVER_VARS['QUERY_STRING'])) {
+			$qs = explode('&', $HTTP_SERVER_VARS['QUERY_STRING']);
+			foreach ($qs as $v) {
+				if (substr($v, 0, 6) == 'debug=') {
+					$this->debug("In nusoap_server, set debug_flag=" . substr($v, 6) . " based on query string #2");
+					$this->debug_flag = substr($v, 6);
+				}
+			}
+		}
+
+		// wsdl
+		if($wsdl){
+			$this->debug("In nusoap_server, WSDL is specified");
+			if (is_object($wsdl) && (get_class($wsdl) == 'wsdl')) {
+				$this->wsdl = $wsdl;
+				$this->externalWSDLURL = $this->wsdl->wsdl;
+				$this->debug('Use existing wsdl instance from ' . $this->externalWSDLURL);
+			} else {
+				$this->debug('Create wsdl from ' . $wsdl);
+				$this->wsdl = new wsdl($wsdl);
+				$this->externalWSDLURL = $wsdl;
+			}
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			if($err = $this->wsdl->getError()){
+				die('WSDL ERROR: '.$err);
+			}
+		}
+	}
+
+	/**
+	* processes request and returns response
+	*
+	* @param    string $data usually is the value of $HTTP_RAW_POST_DATA
+	* @access   public
+	*/
+	function service($data){
+		global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER['REQUEST_METHOD'])) {
+			$rm = $_SERVER['REQUEST_METHOD'];
+		} elseif (isset($HTTP_SERVER_VARS['REQUEST_METHOD'])) {
+			$rm = $HTTP_SERVER_VARS['REQUEST_METHOD'];
+		} else {
+			$rm = '';
+		}
+
+		if (isset($_SERVER['QUERY_STRING'])) {
+			$qs = $_SERVER['QUERY_STRING'];
+		} elseif (isset($HTTP_SERVER_VARS['QUERY_STRING'])) {
+			$qs = $HTTP_SERVER_VARS['QUERY_STRING'];
+		} else {
+			$qs = '';
+		}
+		$this->debug("In service, request method=$rm query string=$qs strlen(\$data)=" . strlen($data));
+
+		if ($rm == 'POST') {
+			$this->debug("In service, invoke the request");
+			$this->parse_request($data);
+			if (! $this->fault) {
+				$this->invoke_method();
+			}
+			if (! $this->fault) {
+				$this->serialize_return();
+			}
+			$this->send_response();
+		} elseif (preg_match('/wsdl/', $qs) ){
+			$this->debug("In service, this is a request for WSDL");
+			if ($this->externalWSDLURL){
+              if (strpos($this->externalWSDLURL, "http://") !== false) { // assume URL
+				$this->debug("In service, re-direct for WSDL");
+				header('Location: '.$this->externalWSDLURL);
+              } else { // assume file
+				$this->debug("In service, use file passthru for WSDL");
+                header("Content-Type: text/xml\r\n");
+				$pos = strpos($this->externalWSDLURL, "file://");
+				if ($pos === false) {
+					$filename = $this->externalWSDLURL;
+				} else {
+					$filename = substr($this->externalWSDLURL, $pos + 7);
+				}
+                $fp = fopen($this->externalWSDLURL, 'r');
+                fpassthru($fp);
+              }
+			} elseif ($this->wsdl) {
+				$this->debug("In service, serialize WSDL");
+				header("Content-Type: text/xml; charset=ISO-8859-1\r\n");
+				print $this->wsdl->serialize($this->debug_flag);
+				if ($this->debug_flag) {
+					$this->debug('wsdl:');
+					$this->appendDebug($this->varDump($this->wsdl));
+					print $this->getDebugAsXMLComment();
+				}
+			} else {
+				$this->debug("In service, there is no WSDL");
+				header("Content-Type: text/html; charset=ISO-8859-1\r\n");
+				print "This service does not provide WSDL";
+			}
+		} elseif ($this->wsdl) {
+			$this->debug("In service, return Web description");
+			print $this->wsdl->webDescription();
+		} else {
+			$this->debug("In service, no Web description");
+			header("Content-Type: text/html; charset=ISO-8859-1\r\n");
+			print "This service does not provide a Web description";
+		}
+	}
+
+	/**
+	* parses HTTP request headers.
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* headers
+	* request
+	* xml_encoding
+	* SOAPAction
+	*
+	* @access   private
+	*/
+	function parse_http_headers() {
+		global $HTTP_SERVER_VARS;
+
+		$this->request = '';
+		$this->SOAPAction = '';
+		if(function_exists('getallheaders')){
+			$this->debug("In parse_http_headers, use getallheaders");
+			$headers = getallheaders();
+			foreach($headers as $k=>$v){
+				$k = strtolower($k);
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+			// get SOAPAction header
+			if(isset($this->headers['soapaction'])){
+				$this->SOAPAction = str_replace('"','',$this->headers['soapaction']);
+			}
+			// get the character encoding of the incoming request
+			if(isset($this->headers['content-type']) && strpos($this->headers['content-type'],'=')){
+				$enc = str_replace('"','',substr(strstr($this->headers["content-type"],'='),1));
+				if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+					$this->xml_encoding = strtoupper($enc);
+				} else {
+					$this->xml_encoding = 'US-ASCII';
+				}
+			} else {
+				// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+				$this->xml_encoding = 'ISO-8859-1';
+			}
+		} elseif(isset($_SERVER) && is_array($_SERVER)){
+			$this->debug("In parse_http_headers, use _SERVER");
+			foreach ($_SERVER as $k => $v) {
+				if (substr($k, 0, 5) == 'HTTP_') {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', substr($k, 5))));
+				} else {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', $k)));
+				}
+				if ($k == 'soapaction') {
+					// get SOAPAction header
+					$k = 'SOAPAction';
+					$v = str_replace('"', '', $v);
+					$v = str_replace('\\', '', $v);
+					$this->SOAPAction = $v;
+				} else if ($k == 'content-type') {
+					// get the character encoding of the incoming request
+					if (strpos($v, '=')) {
+						$enc = substr(strstr($v, '='), 1);
+						$enc = str_replace('"', '', $enc);
+						$enc = str_replace('\\', '', $enc);
+						if (preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)) {
+							$this->xml_encoding = strtoupper($enc);
+						} else {
+							$this->xml_encoding = 'US-ASCII';
+						}
+					} else {
+						// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+						$this->xml_encoding = 'ISO-8859-1';
+					}
+				}
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+		} elseif (is_array($HTTP_SERVER_VARS)) {
+			$this->debug("In parse_http_headers, use HTTP_SERVER_VARS");
+			foreach ($HTTP_SERVER_VARS as $k => $v) {
+				if (substr($k, 0, 5) == 'HTTP_') {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', substr($k, 5)))); 	                                         $k = strtolower(substr($k, 5));
+				} else {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', $k))); 	                                         $k = strtolower($k);
+				}
+				if ($k == 'soapaction') {
+					// get SOAPAction header
+					$k = 'SOAPAction';
+					$v = str_replace('"', '', $v);
+					$v = str_replace('\\', '', $v);
+					$this->SOAPAction = $v;
+				} else if ($k == 'content-type') {
+					// get the character encoding of the incoming request
+					if (strpos($v, '=')) {
+						$enc = substr(strstr($v, '='), 1);
+						$enc = str_replace('"', '', $enc);
+						$enc = str_replace('\\', '', $enc);
+						if (preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)) {
+							$this->xml_encoding = strtoupper($enc);
+						} else {
+							$this->xml_encoding = 'US-ASCII';
+						}
+					} else {
+						// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+						$this->xml_encoding = 'ISO-8859-1';
+					}
+				}
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+		} else {
+			$this->debug("In parse_http_headers, HTTP headers not accessible");
+			$this->setError("HTTP headers not accessible");
+		}
+	}
+
+	/**
+	* parses a request
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* headers
+	* request
+	* xml_encoding
+	* SOAPAction
+	* request
+	* requestSOAP
+	* methodURI
+	* methodname
+	* methodparams
+	* requestHeaders
+	* document
+	*
+	* This sets the fault field on error
+	*
+	* @param    string $data XML string
+	* @access   private
+	*/
+	function parse_request($data='') {
+		$this->debug('entering parse_request()');
+		$this->parse_http_headers();
+		$this->debug('got character encoding: '.$this->xml_encoding);
+		// uncompress if necessary
+		if (isset($this->headers['content-encoding']) && $this->headers['content-encoding'] != '') {
+			$this->debug('got content encoding: ' . $this->headers['content-encoding']);
+			if ($this->headers['content-encoding'] == 'deflate' || $this->headers['content-encoding'] == 'gzip') {
+		    	// if decoding works, use it. else assume data wasn't gzencoded
+				if (function_exists('gzuncompress')) {
+					if ($this->headers['content-encoding'] == 'deflate' && $degzdata = @gzuncompress($data)) {
+						$data = $degzdata;
+					} elseif ($this->headers['content-encoding'] == 'gzip' && $degzdata = gzinflate(substr($data, 10))) {
+						$data = $degzdata;
+					} else {
+						$this->fault('SOAP-ENV:Client', 'Errors occurred when trying to decode the data');
+						return;
+					}
+				} else {
+					$this->fault('SOAP-ENV:Client', 'This Server does not support compressed data');
+					return;
+				}
+			}
+		}
+		$this->request .= "\r\n".$data;
+		$data = $this->parseRequest($this->headers, $data);
+		$this->requestSOAP = $data;
+		$this->debug('leaving parse_request');
+	}
+
+	/**
+	* invokes a PHP function for the requested SOAP method
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* methodreturn
+	*
+	* Note that the PHP function that is called may also set the following
+	* fields to affect the response sent to the client
+	*
+	* responseHeaders
+	* outgoing_headers
+	*
+	* This sets the fault field on error
+	*
+	* @access   private
+	*/
+	function invoke_method() {
+		$this->debug('in invoke_method, methodname=' . $this->methodname . ' methodURI=' . $this->methodURI . ' SOAPAction=' . $this->SOAPAction);
+
+		//
+		// if you are debugging in this area of the code, your service uses a class to implement methods,
+		// you use SOAP RPC, and the client is .NET, please be aware of the following...
+		// when the .NET wsdl.exe utility generates a proxy, it will remove the '.' or '..' from the
+		// method name.  that is fine for naming the .NET methods.  it is not fine for properly constructing
+		// the XML request and reading the XML response.  you need to add the RequestElementName and
+		// ResponseElementName to the System.Web.Services.Protocols.SoapRpcMethodAttribute that wsdl.exe
+		// generates for the method.  these parameters are used to specify the correct XML element names
+		// for .NET to use, i.e. the names with the '.' in them.
+		//
+		$orig_methodname = $this->methodname;
+		if ($this->wsdl) {
+			if ($this->opData = $this->wsdl->getOperationData($this->methodname)) {
+				$this->debug('in invoke_method, found WSDL operation=' . $this->methodname);
+				$this->appendDebug('opData=' . $this->varDump($this->opData));
+			} elseif ($this->opData = $this->wsdl->getOperationDataForSoapAction($this->SOAPAction)) {
+				// Note: hopefully this case will only be used for doc/lit, since rpc services should have wrapper element
+				$this->debug('in invoke_method, found WSDL soapAction=' . $this->SOAPAction . ' for operation=' . $this->opData['name']);
+				$this->appendDebug('opData=' . $this->varDump($this->opData));
+				$this->methodname = $this->opData['name'];
+			} else {
+				$this->debug('in invoke_method, no WSDL for operation=' . $this->methodname);
+				$this->fault('SOAP-ENV:Client', "Operation '" . $this->methodname . "' is not defined in the WSDL for this service");
+				return;
+			}
+		} else {
+			$this->debug('in invoke_method, no WSDL to validate method');
+		}
+
+		// if a . is present in $this->methodname, we see if there is a class in scope,
+		// which could be referred to. We will also distinguish between two deliminators,
+		// to allow methods to be called a the class or an instance
+		if (strpos($this->methodname, '..') > 0) {
+			$delim = '..';
+		} else if (strpos($this->methodname, '.') > 0) {
+			$delim = '.';
+		} else {
+			$delim = '';
+		}
+		$this->debug("in invoke_method, delim=$delim");
+
+		$class = '';
+		$method = '';
+		if (strlen($delim) > 0 && substr_count($this->methodname, $delim) == 1) {
+			$try_class = substr($this->methodname, 0, strpos($this->methodname, $delim));
+			if (class_exists($try_class)) {
+				// get the class and method name
+				$class = $try_class;
+				$method = substr($this->methodname, strpos($this->methodname, $delim) + strlen($delim));
+				$this->debug("in invoke_method, class=$class method=$method delim=$delim");
+			} else {
+				$this->debug("in invoke_method, class=$try_class not found");
+			}
+		} else {
+			$try_class = '';
+			$this->debug("in invoke_method, no class to try");
+		}
+
+		// does method exist?
+		if ($class == '') {
+			if (!function_exists($this->methodname)) {
+				$this->debug("in invoke_method, function '$this->methodname' not found!");
+				$this->result = 'fault: method not found';
+				$this->fault('SOAP-ENV:Client',"method '$this->methodname'('$orig_methodname') not defined in service('$try_class' '$delim')");
+				return;
+			}
+		} else {
+			$method_to_compare = (substr(phpversion(), 0, 2) == '4.') ? strtolower($method) : $method;
+			if (!in_array($method_to_compare, get_class_methods($class))) {
+				$this->debug("in invoke_method, method '$this->methodname' not found in class '$class'!");
+				$this->result = 'fault: method not found';
+				$this->fault('SOAP-ENV:Client',"method '$this->methodname'/'$method_to_compare'('$orig_methodname') not defined in service/'$class'('$try_class' '$delim')");
+				return;
+			}
+		}
+
+		// evaluate message, getting back parameters
+		// verify that request parameters match the method's signature
+		if(! $this->verify_method($this->methodname,$this->methodparams)){
+			// debug
+			$this->debug('ERROR: request not verified against method signature');
+			$this->result = 'fault: request failed validation against method signature';
+			// return fault
+			$this->fault('SOAP-ENV:Client',"Operation '$this->methodname' not defined in service.");
+			return;
+		}
+
+		// if there are parameters to pass
+		$this->debug('in invoke_method, params:');
+		$this->appendDebug($this->varDump($this->methodparams));
+		$this->debug("in invoke_method, calling '$this->methodname'");
+		if (!function_exists('call_user_func_array')) {
+			if ($class == '') {
+				$this->debug('in invoke_method, calling function using eval()');
+				$funcCall = "\$this->methodreturn = $this->methodname(";
+			} else {
+				if ($delim == '..') {
+					$this->debug('in invoke_method, calling class method using eval()');
+					$funcCall = "\$this->methodreturn = ".$class."::".$method."(";
+				} else {
+					$this->debug('in invoke_method, calling instance method using eval()');
+					// generate unique instance name
+					$instname = "\$inst_".time();
+					$funcCall = $instname." = new ".$class."(); ";
+					$funcCall .= "\$this->methodreturn = ".$instname."->".$method."(";
+				}
+			}
+			if ($this->methodparams) {
+				foreach ($this->methodparams as $param) {
+					if (is_array($param) || is_object($param)) {
+						$this->fault('SOAP-ENV:Client', 'NuSOAP does not handle complexType parameters correctly when using eval; call_user_func_array must be available');
+						return;
+					}
+					$funcCall .= "\"$param\",";
+				}
+				$funcCall = substr($funcCall, 0, -1);
+			}
+			$funcCall .= ');';
+			$this->debug('in invoke_method, function call: '.$funcCall);
+			@eval($funcCall);
+		} else {
+			if ($class == '') {
+				$this->debug('in invoke_method, calling function using call_user_func_array()');
+				$call_arg = "$this->methodname";	// straight assignment changes $this->methodname to lower case after call_user_func_array()
+			} elseif ($delim == '..') {
+				$this->debug('in invoke_method, calling class method using call_user_func_array()');
+				$call_arg = array ($class, $method);
+			} else {
+				$this->debug('in invoke_method, calling instance method using call_user_func_array()');
+				$instance = new $class ();
+				$call_arg = array(&$instance, $method);
+			}
+			if (is_array($this->methodparams)) {
+				$this->methodreturn = call_user_func_array($call_arg, array_values($this->methodparams));
+			} else {
+				$this->methodreturn = call_user_func_array($call_arg, array());
+			}
+		}
+        $this->debug('in invoke_method, methodreturn:');
+        $this->appendDebug($this->varDump($this->methodreturn));
+		$this->debug("in invoke_method, called method $this->methodname, received data of type ".gettype($this->methodreturn));
+	}
+
+	/**
+	* serializes the return value from a PHP function into a full SOAP Envelope
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* responseSOAP
+	*
+	* This sets the fault field on error
+	*
+	* @access   private
+	*/
+	function serialize_return() {
+		$this->debug('Entering serialize_return methodname: ' . $this->methodname . ' methodURI: ' . $this->methodURI);
+		// if fault
+		if (isset($this->methodreturn) && is_object($this->methodreturn) && ((get_class($this->methodreturn) == 'soap_fault') || (get_class($this->methodreturn) == 'nusoap_fault'))) {
+			$this->debug('got a fault object from method');
+			$this->fault = $this->methodreturn;
+			return;
+		} elseif ($this->methodreturnisliteralxml) {
+			$return_val = $this->methodreturn;
+		// returned value(s)
+		} else {
+			$this->debug('got a(n) '.gettype($this->methodreturn).' from method');
+			$this->debug('serializing return value');
+			if($this->wsdl){
+				if (sizeof($this->opData['output']['parts']) > 1) {
+					$this->debug('more than one output part, so use the method return unchanged');
+			    	$opParams = $this->methodreturn;
+			    } elseif (sizeof($this->opData['output']['parts']) == 1) {
+					$this->debug('exactly one output part, so wrap the method return in a simple array');
+					// TODO: verify that it is not already wrapped!
+			    	//foreach ($this->opData['output']['parts'] as $name => $type) {
+					//	$this->debug('wrap in element named ' . $name);
+			    	//}
+			    	$opParams = array($this->methodreturn);
+			    }
+			    $return_val = $this->wsdl->serializeRPCParameters($this->methodname,'output',$opParams);
+			    $this->appendDebug($this->wsdl->getDebug());
+			    $this->wsdl->clearDebug();
+				if($errstr = $this->wsdl->getError()){
+					$this->debug('got wsdl error: '.$errstr);
+					$this->fault('SOAP-ENV:Server', 'unable to serialize result');
+					return;
+				}
+			} else {
+				if (isset($this->methodreturn)) {
+					$return_val = $this->serialize_val($this->methodreturn, 'return');
+				} else {
+					$return_val = '';
+					$this->debug('in absence of WSDL, assume void return for backward compatibility');
+				}
+			}
+		}
+		$this->debug('return value:');
+		$this->appendDebug($this->varDump($return_val));
+
+		$this->debug('serializing response');
+		if ($this->wsdl) {
+			$this->debug('have WSDL for serialization: style is ' . $this->opData['style']);
+			if ($this->opData['style'] == 'rpc') {
+				$this->debug('style is rpc for serialization: use is ' . $this->opData['output']['use']);
+				if ($this->opData['output']['use'] == 'literal') {
+					// http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735 says rpc/literal accessor elements should not be in a namespace
+					if ($this->methodURI) {
+						$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+					} else {
+						$payload = '<'.$this->methodname.'Response>'.$return_val.'</'.$this->methodname.'Response>';
+					}
+				} else {
+					if ($this->methodURI) {
+						$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+					} else {
+						$payload = '<'.$this->methodname.'Response>'.$return_val.'</'.$this->methodname.'Response>';
+					}
+				}
+			} else {
+				$this->debug('style is not rpc for serialization: assume document');
+				$payload = $return_val;
+			}
+		} else {
+			$this->debug('do not have WSDL for serialization: assume rpc/encoded');
+			$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+		}
+		$this->result = 'successful';
+		if($this->wsdl){
+			//if($this->debug_flag){
+            	$this->appendDebug($this->wsdl->getDebug());
+            //	}
+			if (isset($this->opData['output']['encodingStyle'])) {
+				$encodingStyle = $this->opData['output']['encodingStyle'];
+			} else {
+				$encodingStyle = '';
+			}
+			// Added: In case we use a WSDL, return a serialized env. WITH the usedNamespaces.
+			$this->responseSOAP = $this->serializeEnvelope($payload,$this->responseHeaders,$this->wsdl->usedNamespaces,$this->opData['style'],$this->opData['output']['use'],$encodingStyle);
+		} else {
+			$this->responseSOAP = $this->serializeEnvelope($payload,$this->responseHeaders);
+		}
+		$this->debug("Leaving serialize_return");
+	}
+
+	/**
+	* sends an HTTP response
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* outgoing_headers
+	* response
+	*
+	* @access   private
+	*/
+	function send_response() {
+		$this->debug('Enter send_response');
+		if ($this->fault) {
+			$payload = $this->fault->serialize();
+			$this->outgoing_headers[] = "HTTP/1.0 500 Internal Server Error";
+			$this->outgoing_headers[] = "Status: 500 Internal Server Error";
+		} else {
+			$payload = $this->responseSOAP;
+			// Some combinations of PHP+Web server allow the Status
+			// to come through as a header.  Since OK is the default
+			// just do nothing.
+			// $this->outgoing_headers[] = "HTTP/1.0 200 OK";
+			// $this->outgoing_headers[] = "Status: 200 OK";
+		}
+        // add debug data if in debug mode
+		if(isset($this->debug_flag) && $this->debug_flag){
+        	$payload .= $this->getDebugAsXMLComment();
+        }
+		$this->outgoing_headers[] = "Server: $this->title Server v$this->version";
+		preg_match('/\$Revisio' . 'n: ([^ ]+)/', $this->revision, $rev);
+		$this->outgoing_headers[] = "X-SOAP-Server: $this->title/$this->version (".$rev[1].")";
+		// Let the Web server decide about this
+		//$this->outgoing_headers[] = "Connection: Close\r\n";
+		$payload = $this->getHTTPBody($payload);
+		$type = $this->getHTTPContentType();
+		$charset = $this->getHTTPContentTypeCharset();
+		$this->outgoing_headers[] = "Content-Type: $type" . ($charset ? '; charset=' . $charset : '');
+		//begin code to compress payload - by John
+		// NOTE: there is no way to know whether the Web server will also compress
+		// this data.
+		if (strlen($payload) > 1024 && isset($this->headers) && isset($this->headers['accept-encoding'])) {	
+			if (strstr($this->headers['accept-encoding'], 'gzip')) {
+				if (function_exists('gzencode')) {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content being gzipped -->";
+					}
+					$this->outgoing_headers[] = "Content-Encoding: gzip";
+					$payload = gzencode($payload);
+				} else {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content will not be gzipped: no gzencode -->";
+					}
+				}
+			} elseif (strstr($this->headers['accept-encoding'], 'deflate')) {
+				// Note: MSIE requires gzdeflate output (no Zlib header and checksum),
+				// instead of gzcompress output,
+				// which conflicts with HTTP 1.1 spec (http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.5)
+				if (function_exists('gzdeflate')) {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content being deflated -->";
+					}
+					$this->outgoing_headers[] = "Content-Encoding: deflate";
+					$payload = gzdeflate($payload);
+				} else {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content will not be deflated: no gzcompress -->";
+					}
+				}
+			}
+		}
+		//end code
+		$this->outgoing_headers[] = "Content-Length: ".strlen($payload);
+		reset($this->outgoing_headers);
+		foreach($this->outgoing_headers as $hdr){
+			header($hdr, false);
+		}
+		print $payload;
+		$this->response = join("\r\n",$this->outgoing_headers)."\r\n\r\n".$payload;
+	}
+
+	/**
+	* takes the value that was created by parsing the request
+	* and compares to the method's signature, if available.
+	*
+	* @param	string	$operation	The operation to be invoked
+	* @param	array	$request	The array of parameter values
+	* @return	boolean	Whether the operation was found
+	* @access   private
+	*/
+	function verify_method($operation,$request){
+		if(isset($this->wsdl) && is_object($this->wsdl)){
+			if($this->wsdl->getOperationData($operation)){
+				return true;
+			}
+	    } elseif(isset($this->operations[$operation])){
+			return true;
+		}
+		return false;
+	}
+
+	/**
+	* processes SOAP message received from client
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed request data from client
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseRequest($headers, $data) {
+		$this->debug('Entering parseRequest() for data of length ' . strlen($data) . ' headers:');
+		$this->appendDebug($this->varDump($headers));
+    	if (!isset($headers['content-type'])) {
+			$this->setError('Request not of type text/xml (no content-type header)');
+			return false;
+    	}
+		if (!strstr($headers['content-type'], 'text/xml')) {
+			$this->setError('Request not of type text/xml');
+			return false;
+		}
+		if (strpos($headers['content-type'], '=')) {
+			$enc = str_replace('"', '', substr(strstr($headers["content-type"], '='), 1));
+			$this->debug('Got response encoding: ' . $enc);
+			if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+				$this->xml_encoding = strtoupper($enc);
+			} else {
+				$this->xml_encoding = 'US-ASCII';
+			}
+		} else {
+			// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+			$this->xml_encoding = 'ISO-8859-1';
+		}
+		$this->debug('Use encoding: ' . $this->xml_encoding . ' when creating nusoap_parser');
+		// parse response, get soap parser obj
+		$parser = new nusoap_parser($data,$this->xml_encoding,'',$this->decode_utf8);
+		// parser debug
+		$this->debug("parser debug: \n".$parser->getDebug());
+		// if fault occurred during message parsing
+		if($err = $parser->getError()){
+			$this->result = 'fault: error in msg parsing: '.$err;
+			$this->fault('SOAP-ENV:Client',"error in msg parsing:\n".$err);
+		// else successfully parsed request into soapval object
+		} else {
+			// get/set methodname
+			$this->methodURI = $parser->root_struct_namespace;
+			$this->methodname = $parser->root_struct_name;
+			$this->debug('methodname: '.$this->methodname.' methodURI: '.$this->methodURI);
+			$this->debug('calling parser->get_soapbody()');
+			$this->methodparams = $parser->get_soapbody();
+			// get SOAP headers
+			$this->requestHeaders = $parser->getHeaders();
+			// get SOAP Header
+			$this->requestHeader = $parser->get_soapheader();
+            // add document for doclit support
+            $this->document = $parser->document;
+		}
+	 }
+
+	/**
+	* gets the HTTP body for the current response.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		return $soapmsg;
+	}
+	
+	/**
+	* gets the HTTP content type for the current response.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current response.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		return 'text/xml';
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current response.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current response.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		return $this->soap_defencoding;
+	}
+
+	/**
+	* add a method to the dispatch map (this has been replaced by the register method)
+	*
+	* @param    string $methodname
+	* @param    string $in array of input values
+	* @param    string $out array of output values
+	* @access   public
+	* @deprecated
+	*/
+	function add_to_map($methodname,$in,$out){
+			$this->operations[$methodname] = array('name' => $methodname,'in' => $in,'out' => $out);
+	}
+
+	/**
+	* register a service function with the server
+	*
+	* @param    string $name the name of the PHP function, class.method or class..method
+	* @param    array $in assoc array of input values: key = param name, value = param type
+	* @param    array $out assoc array of output values: key = param name, value = param type
+	* @param	mixed $namespace the element namespace for the method or false
+	* @param	mixed $soapaction the soapaction for the method or false
+	* @param	mixed $style optional (rpc|document) or false Note: when 'document' is specified, parameter and return wrappers are created for you automatically
+	* @param	mixed $use optional (encoded|literal) or false
+	* @param	string $documentation optional Description to include in WSDL
+	* @param	string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+	* @access   public
+	*/
+	function register($name,$in=array(),$out=array(),$namespace=false,$soapaction=false,$style=false,$use=false,$documentation='',$encodingStyle=''){
+		global $HTTP_SERVER_VARS;
+
+		if($this->externalWSDLURL){
+			die('You cannot bind to an external WSDL file, and register methods outside of it! Please choose either WSDL or no WSDL.');
+		}
+		if (! $name) {
+			die('You must specify a name when you register an operation');
+		}
+		if (!is_array($in)) {
+			die('You must provide an array for operation inputs');
+		}
+		if (!is_array($out)) {
+			die('You must provide an array for operation outputs');
+		}
+		if(false == $namespace) {
+		}
+		if(false == $soapaction) {
+			if (isset($_SERVER)) {
+				$SERVER_NAME = $_SERVER['SERVER_NAME'];
+				$SCRIPT_NAME = isset($_SERVER['PHP_SELF']) ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];
+				$HTTPS = isset($_SERVER['HTTPS']) ? $_SERVER['HTTPS'] : (isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off');
+			} elseif (isset($HTTP_SERVER_VARS)) {
+				$SERVER_NAME = $HTTP_SERVER_VARS['SERVER_NAME'];
+				$SCRIPT_NAME = isset($HTTP_SERVER_VARS['PHP_SELF']) ? $HTTP_SERVER_VARS['PHP_SELF'] : $HTTP_SERVER_VARS['SCRIPT_NAME'];
+				$HTTPS = isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off';
+			} else {
+				$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+			}
+        	if ($HTTPS == '1' || $HTTPS == 'on') {
+        		$SCHEME = 'https';
+        	} else {
+        		$SCHEME = 'http';
+        	}
+			$soapaction = "$SCHEME://$SERVER_NAME$SCRIPT_NAME/$name";
+		}
+		if(false == $style) {
+			$style = "rpc";
+		}
+		if(false == $use) {
+			$use = "encoded";
+		}
+		if ($use == 'encoded' && $encodingStyle == '') {
+			$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		}
+
+		$this->operations[$name] = array(
+	    'name' => $name,
+	    'in' => $in,
+	    'out' => $out,
+	    'namespace' => $namespace,
+	    'soapaction' => $soapaction,
+	    'style' => $style);
+        if($this->wsdl){
+        	$this->wsdl->addOperation($name,$in,$out,$namespace,$soapaction,$style,$use,$documentation,$encodingStyle);
+	    }
+		return true;
+	}
+
+	/**
+	* Specify a fault to be returned to the client.
+	* This also acts as a flag to the server that a fault has occured.
+	*
+	* @param	string $faultcode
+	* @param	string $faultstring
+	* @param	string $faultactor
+	* @param	string $faultdetail
+	* @access   public
+	*/
+	function fault($faultcode,$faultstring,$faultactor='',$faultdetail=''){
+		if ($faultdetail == '' && $this->debug_flag) {
+			$faultdetail = $this->getDebug();
+		}
+		$this->fault = new nusoap_fault($faultcode,$faultactor,$faultstring,$faultdetail);
+		$this->fault->soap_defencoding = $this->soap_defencoding;
+	}
+
+    /**
+    * Sets up wsdl object.
+    * Acts as a flag to enable internal WSDL generation
+    *
+    * @param string $serviceName, name of the service
+    * @param mixed $namespace optional 'tns' service namespace or false
+    * @param mixed $endpoint optional URL of service endpoint or false
+    * @param string $style optional (rpc|document) WSDL style (also specified by operation)
+    * @param string $transport optional SOAP transport
+    * @param mixed $schemaTargetNamespace optional 'types' targetNamespace for service schema or false
+    */
+    function configureWSDL($serviceName,$namespace = false,$endpoint = false,$style='rpc', $transport = 'http://schemas.xmlsoap.org/soap/http', $schemaTargetNamespace = false)
+    {
+    	global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$SERVER_NAME = $_SERVER['SERVER_NAME'];
+			$SERVER_PORT = $_SERVER['SERVER_PORT'];
+			$SCRIPT_NAME = isset($_SERVER['PHP_SELF']) ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];
+			$HTTPS = isset($_SERVER['HTTPS']) ? $_SERVER['HTTPS'] : (isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off');
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$SERVER_NAME = $HTTP_SERVER_VARS['SERVER_NAME'];
+			$SERVER_PORT = $HTTP_SERVER_VARS['SERVER_PORT'];
+			$SCRIPT_NAME = isset($HTTP_SERVER_VARS['PHP_SELF']) ? $HTTP_SERVER_VARS['PHP_SELF'] : $HTTP_SERVER_VARS['SCRIPT_NAME'];
+			$HTTPS = isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off';
+		} else {
+			$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+		}
+		// If server name has port number attached then strip it (else port number gets duplicated in WSDL output) (occurred using lighttpd and FastCGI)
+		$colon = strpos($SERVER_NAME,":");
+		if ($colon) {
+		    $SERVER_NAME = substr($SERVER_NAME, 0, $colon);
+		}
+		if ($SERVER_PORT == 80) {
+			$SERVER_PORT = '';
+		} else {
+			$SERVER_PORT = ':' . $SERVER_PORT;
+		}
+        if(false == $namespace) {
+            $namespace = "http://$SERVER_NAME/soap/$serviceName";
+        }
+        
+        if(false == $endpoint) {
+        	if ($HTTPS == '1' || $HTTPS == 'on') {
+        		$SCHEME = 'https';
+        	} else {
+        		$SCHEME = 'http';
+        	}
+            $endpoint = "$SCHEME://$SERVER_NAME$SERVER_PORT$SCRIPT_NAME";
+        }
+        
+        if(false == $schemaTargetNamespace) {
+            $schemaTargetNamespace = $namespace;
+        }
+        
+		$this->wsdl = new wsdl;
+		$this->wsdl->serviceName = $serviceName;
+        $this->wsdl->endpoint = $endpoint;
+		$this->wsdl->namespaces['tns'] = $namespace;
+		$this->wsdl->namespaces['soap'] = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		$this->wsdl->namespaces['wsdl'] = 'http://schemas.xmlsoap.org/wsdl/';
+		if ($schemaTargetNamespace != $namespace) {
+			$this->wsdl->namespaces['types'] = $schemaTargetNamespace;
+		}
+        $this->wsdl->schemas[$schemaTargetNamespace][0] = new nusoap_xmlschema('', '', $this->wsdl->namespaces);
+        if ($style == 'document') {
+	        $this->wsdl->schemas[$schemaTargetNamespace][0]->schemaInfo['elementFormDefault'] = 'qualified';
+        }
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->schemaTargetNamespace = $schemaTargetNamespace;
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->imports['http://schemas.xmlsoap.org/soap/encoding/'][0] = array('location' => '', 'loaded' => true);
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->imports['http://schemas.xmlsoap.org/wsdl/'][0] = array('location' => '', 'loaded' => true);
+        $this->wsdl->bindings[$serviceName.'Binding'] = array(
+        	'name'=>$serviceName.'Binding',
+            'style'=>$style,
+            'transport'=>$transport,
+            'portType'=>$serviceName.'PortType');
+        $this->wsdl->ports[$serviceName.'Port'] = array(
+        	'binding'=>$serviceName.'Binding',
+            'location'=>$endpoint,
+            'bindingType'=>'http://schemas.xmlsoap.org/wsdl/soap/');
+    }
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_server extends nusoap_server {
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.soap_transport_http.php phpBB3/library/nusoap/class.soap_transport_http.php
--- phpBB3-init/library/nusoap/class.soap_transport_http.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soap_transport_http.php	2013-01-28 17:31:47.728708651 +0100
@@ -0,0 +1,1307 @@
+<?php
+
+
+
+
+/**
+* transport class for sending/receiving data via HTTP and HTTPS
+* NOTE: PHP must be compiled with the CURL extension for HTTPS support
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.soap_transport_http.php,v 1.68 2010/04/26 20:15:08 snichol Exp $
+* @access public
+*/
+class soap_transport_http extends nusoap_base {
+
+	var $url = '';
+	var $uri = '';
+	var $digest_uri = '';
+	var $scheme = '';
+	var $host = '';
+	var $port = '';
+	var $path = '';
+	var $request_method = 'POST';
+	var $protocol_version = '1.0';
+	var $encoding = '';
+	var $outgoing_headers = array();
+	var $incoming_headers = array();
+	var $incoming_cookies = array();
+	var $outgoing_payload = '';
+	var $incoming_payload = '';
+	var $response_status_line;	// HTTP response status line
+	var $useSOAPAction = true;
+	var $persistentConnection = false;
+	var $ch = false;	// cURL handle
+	var $ch_options = array();	// cURL custom options
+	var $use_curl = false;		// force cURL use
+	var $proxy = null;			// proxy information (associative array)
+	var $username = '';
+	var $password = '';
+	var $authtype = '';
+	var $digestRequest = array();
+	var $certRequest = array();	// keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional)
+								// cainfofile: certificate authority file, e.g. '$pathToPemFiles/rootca.pem'
+								// sslcertfile: SSL certificate file, e.g. '$pathToPemFiles/mycert.pem'
+								// sslkeyfile: SSL key file, e.g. '$pathToPemFiles/mykey.pem'
+								// passphrase: SSL key password/passphrase
+								// certpassword: SSL certificate password
+								// verifypeer: default is 1
+								// verifyhost: default is 1
+
+	/**
+	* constructor
+	*
+	* @param string $url The URL to which to connect
+	* @param array $curl_options User-specified cURL options
+	* @param boolean $use_curl Whether to try to force cURL use
+	* @access public
+	*/
+	function soap_transport_http($url, $curl_options = NULL, $use_curl = false){
+		parent::nusoap_base();
+		$this->debug("ctor url=$url use_curl=$use_curl curl_options:");
+		$this->appendDebug($this->varDump($curl_options));
+		$this->setURL($url);
+		if (is_array($curl_options)) {
+			$this->ch_options = $curl_options;
+		}
+		$this->use_curl = $use_curl;
+		preg_match('/\$Revisio' . 'n: ([^ ]+)/', $this->revision, $rev);
+		$this->setHeader('User-Agent', $this->title.'/'.$this->version.' ('.$rev[1].')');
+	}
+
+	/**
+	* sets a cURL option
+	*
+	* @param	mixed $option The cURL option (always integer?)
+	* @param	mixed $value The cURL option value
+	* @access   private
+	*/
+	function setCurlOption($option, $value) {
+		$this->debug("setCurlOption option=$option, value=");
+		$this->appendDebug($this->varDump($value));
+		curl_setopt($this->ch, $option, $value);
+	}
+
+	/**
+	* sets an HTTP header
+	*
+	* @param string $name The name of the header
+	* @param string $value The value of the header
+	* @access private
+	*/
+	function setHeader($name, $value) {
+		$this->outgoing_headers[$name] = $value;
+		$this->debug("set header $name: $value");
+	}
+
+	/**
+	* unsets an HTTP header
+	*
+	* @param string $name The name of the header
+	* @access private
+	*/
+	function unsetHeader($name) {
+		if (isset($this->outgoing_headers[$name])) {
+			$this->debug("unset header $name");
+			unset($this->outgoing_headers[$name]);
+		}
+	}
+
+	/**
+	* sets the URL to which to connect
+	*
+	* @param string $url The URL to which to connect
+	* @access private
+	*/
+	function setURL($url) {
+		$this->url = $url;
+
+		$u = parse_url($url);
+		foreach($u as $k => $v){
+			$this->debug("parsed URL $k = $v");
+			$this->$k = $v;
+		}
+		
+		// add any GET params to path
+		if(isset($u['query']) && $u['query'] != ''){
+            $this->path .= '?' . $u['query'];
+		}
+		
+		// set default port
+		if(!isset($u['port'])){
+			if($u['scheme'] == 'https'){
+				$this->port = 443;
+			} else {
+				$this->port = 80;
+			}
+		}
+		
+		$this->uri = $this->path;
+		$this->digest_uri = $this->uri;
+		
+		// build headers
+		if (!isset($u['port'])) {
+			$this->setHeader('Host', $this->host);
+		} else {
+			$this->setHeader('Host', $this->host.':'.$this->port);
+		}
+
+		if (isset($u['user']) && $u['user'] != '') {
+			$this->setCredentials(urldecode($u['user']), isset($u['pass']) ? urldecode($u['pass']) : '');
+		}
+	}
+
+	/**
+	* gets the I/O method to use
+	*
+	* @return	string	I/O method to use (socket|curl|unknown)
+	* @access	private
+	*/
+	function io_method() {
+		if ($this->use_curl || ($this->scheme == 'https') || ($this->scheme == 'http' && $this->authtype == 'ntlm') || ($this->scheme == 'http' && is_array($this->proxy) && $this->proxy['authtype'] == 'ntlm'))
+			return 'curl';
+		if (($this->scheme == 'http' || $this->scheme == 'ssl') && $this->authtype != 'ntlm' && (!is_array($this->proxy) || $this->proxy['authtype'] != 'ntlm'))
+			return 'socket';
+		return 'unknown';
+	}
+
+	/**
+	* establish an HTTP connection
+	*
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @return	boolean true if connected, false if not
+	* @access   private
+	*/
+	function connect($connection_timeout=0,$response_timeout=30){
+	  	// For PHP 4.3 with OpenSSL, change https scheme to ssl, then treat like
+	  	// "regular" socket.
+	  	// TODO: disabled for now because OpenSSL must be *compiled* in (not just
+	  	//       loaded), and until PHP5 stream_get_wrappers is not available.
+//	  	if ($this->scheme == 'https') {
+//		  	if (version_compare(phpversion(), '4.3.0') >= 0) {
+//		  		if (extension_loaded('openssl')) {
+//		  			$this->scheme = 'ssl';
+//		  			$this->debug('Using SSL over OpenSSL');
+//		  		}
+//		  	}
+//		}
+		$this->debug("connect connection_timeout $connection_timeout, response_timeout $response_timeout, scheme $this->scheme, host $this->host, port $this->port");
+	  if ($this->io_method() == 'socket') {
+		if (!is_array($this->proxy)) {
+			$host = $this->host;
+			$port = $this->port;
+		} else {
+			$host = $this->proxy['host'];
+			$port = $this->proxy['port'];
+		}
+
+		// use persistent connection
+		if($this->persistentConnection && isset($this->fp) && is_resource($this->fp)){
+			if (!feof($this->fp)) {
+				$this->debug('Re-use persistent connection');
+				return true;
+			}
+			fclose($this->fp);
+			$this->debug('Closed persistent connection at EOF');
+		}
+
+		// munge host if using OpenSSL
+		if ($this->scheme == 'ssl') {
+			$host = 'ssl://' . $host;
+		}
+		$this->debug('calling fsockopen with host ' . $host . ' connection_timeout ' . $connection_timeout);
+
+		// open socket
+		if($connection_timeout > 0){
+			$this->fp = @fsockopen( $host, $this->port, $this->errno, $this->error_str, $connection_timeout);
+		} else {
+			$this->fp = @fsockopen( $host, $this->port, $this->errno, $this->error_str);
+		}
+		
+		// test pointer
+		if(!$this->fp) {
+			$msg = 'Couldn\'t open socket connection to server ' . $this->url;
+			if ($this->errno) {
+				$msg .= ', Error ('.$this->errno.'): '.$this->error_str;
+			} else {
+				$msg .= ' prior to connect().  This is often a problem looking up the host name.';
+			}
+			$this->debug($msg);
+			$this->setError($msg);
+			return false;
+		}
+		
+		// set response timeout
+		$this->debug('set response timeout to ' . $response_timeout);
+		socket_set_timeout( $this->fp, $response_timeout);
+
+		$this->debug('socket connected');
+		return true;
+	  } else if ($this->io_method() == 'curl') {
+		if (!extension_loaded('curl')) {
+//			$this->setError('cURL Extension, or OpenSSL extension w/ PHP version >= 4.3 is required for HTTPS');
+			$this->setError('The PHP cURL Extension is required for HTTPS or NLTM.  You will need to re-build or update your PHP to include cURL or change php.ini to load the PHP cURL extension.');
+			return false;
+		}
+		// Avoid warnings when PHP does not have these options
+		if (defined('CURLOPT_CONNECTIONTIMEOUT'))
+			$CURLOPT_CONNECTIONTIMEOUT = CURLOPT_CONNECTIONTIMEOUT;
+		else
+			$CURLOPT_CONNECTIONTIMEOUT = 78;
+		if (defined('CURLOPT_HTTPAUTH'))
+			$CURLOPT_HTTPAUTH = CURLOPT_HTTPAUTH;
+		else
+			$CURLOPT_HTTPAUTH = 107;
+		if (defined('CURLOPT_PROXYAUTH'))
+			$CURLOPT_PROXYAUTH = CURLOPT_PROXYAUTH;
+		else
+			$CURLOPT_PROXYAUTH = 111;
+		if (defined('CURLAUTH_BASIC'))
+			$CURLAUTH_BASIC = CURLAUTH_BASIC;
+		else
+			$CURLAUTH_BASIC = 1;
+		if (defined('CURLAUTH_DIGEST'))
+			$CURLAUTH_DIGEST = CURLAUTH_DIGEST;
+		else
+			$CURLAUTH_DIGEST = 2;
+		if (defined('CURLAUTH_NTLM'))
+			$CURLAUTH_NTLM = CURLAUTH_NTLM;
+		else
+			$CURLAUTH_NTLM = 8;
+
+		$this->debug('connect using cURL');
+		// init CURL
+		$this->ch = curl_init();
+		// set url
+		$hostURL = ($this->port != '') ? "$this->scheme://$this->host:$this->port" : "$this->scheme://$this->host";
+		// add path
+		$hostURL .= $this->path;
+		$this->setCurlOption(CURLOPT_URL, $hostURL);
+		// follow location headers (re-directs)
+		if (ini_get('safe_mode') || ini_get('open_basedir')) {
+			$this->debug('safe_mode or open_basedir set, so do not set CURLOPT_FOLLOWLOCATION');
+			$this->debug('safe_mode = ');
+			$this->appendDebug($this->varDump(ini_get('safe_mode')));
+			$this->debug('open_basedir = ');
+			$this->appendDebug($this->varDump(ini_get('open_basedir')));
+		} else {
+			$this->setCurlOption(CURLOPT_FOLLOWLOCATION, 1);
+		}
+		// ask for headers in the response output
+		$this->setCurlOption(CURLOPT_HEADER, 1);
+		// ask for the response output as the return value
+		$this->setCurlOption(CURLOPT_RETURNTRANSFER, 1);
+		// encode
+		// We manage this ourselves through headers and encoding
+//		if(function_exists('gzuncompress')){
+//			$this->setCurlOption(CURLOPT_ENCODING, 'deflate');
+//		}
+		// persistent connection
+		if ($this->persistentConnection) {
+			// I believe the following comment is now bogus, having applied to
+			// the code when it used CURLOPT_CUSTOMREQUEST to send the request.
+			// The way we send data, we cannot use persistent connections, since
+			// there will be some "junk" at the end of our request.
+			//$this->setCurlOption(CURL_HTTP_VERSION_1_1, true);
+			$this->persistentConnection = false;
+			$this->setHeader('Connection', 'close');
+		}
+		// set timeouts
+		if ($connection_timeout != 0) {
+			$this->setCurlOption($CURLOPT_CONNECTIONTIMEOUT, $connection_timeout);
+		}
+		if ($response_timeout != 0) {
+			$this->setCurlOption(CURLOPT_TIMEOUT, $response_timeout);
+		}
+
+		if ($this->scheme == 'https') {
+			$this->debug('set cURL SSL verify options');
+			// recent versions of cURL turn on peer/host checking by default,
+			// while PHP binaries are not compiled with a default location for the
+			// CA cert bundle, so disable peer/host checking.
+			//$this->setCurlOption(CURLOPT_CAINFO, 'f:\php-4.3.2-win32\extensions\curl-ca-bundle.crt');		
+			$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, 0);
+			$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, 0);
+	
+			// support client certificates (thanks Tobias Boes, Doug Anarino, Eryan Ariobowo)
+			if ($this->authtype == 'certificate') {
+				$this->debug('set cURL certificate options');
+				if (isset($this->certRequest['cainfofile'])) {
+					$this->setCurlOption(CURLOPT_CAINFO, $this->certRequest['cainfofile']);
+				}
+				if (isset($this->certRequest['verifypeer'])) {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, $this->certRequest['verifypeer']);
+				} else {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, 1);
+				}
+				if (isset($this->certRequest['verifyhost'])) {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, $this->certRequest['verifyhost']);
+				} else {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, 1);
+				}
+				if (isset($this->certRequest['sslcertfile'])) {
+					$this->setCurlOption(CURLOPT_SSLCERT, $this->certRequest['sslcertfile']);
+				}
+				if (isset($this->certRequest['sslkeyfile'])) {
+					$this->setCurlOption(CURLOPT_SSLKEY, $this->certRequest['sslkeyfile']);
+				}
+				if (isset($this->certRequest['passphrase'])) {
+					$this->setCurlOption(CURLOPT_SSLKEYPASSWD, $this->certRequest['passphrase']);
+				}
+				if (isset($this->certRequest['certpassword'])) {
+					$this->setCurlOption(CURLOPT_SSLCERTPASSWD, $this->certRequest['certpassword']);
+				}
+			}
+		}
+		if ($this->authtype && ($this->authtype != 'certificate')) {
+			if ($this->username) {
+				$this->debug('set cURL username/password');
+				$this->setCurlOption(CURLOPT_USERPWD, "$this->username:$this->password");
+			}
+			if ($this->authtype == 'basic') {
+				$this->debug('set cURL for Basic authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_BASIC);
+			}
+			if ($this->authtype == 'digest') {
+				$this->debug('set cURL for digest authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_DIGEST);
+			}
+			if ($this->authtype == 'ntlm') {
+				$this->debug('set cURL for NTLM authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_NTLM);
+			}
+		}
+		if (is_array($this->proxy)) {
+			$this->debug('set cURL proxy options');
+			if ($this->proxy['port'] != '') {
+				$this->setCurlOption(CURLOPT_PROXY, $this->proxy['host'].':'.$this->proxy['port']);
+			} else {
+				$this->setCurlOption(CURLOPT_PROXY, $this->proxy['host']);
+			}
+			if ($this->proxy['username'] || $this->proxy['password']) {
+				$this->debug('set cURL proxy authentication options');
+				$this->setCurlOption(CURLOPT_PROXYUSERPWD, $this->proxy['username'].':'.$this->proxy['password']);
+				if ($this->proxy['authtype'] == 'basic') {
+					$this->setCurlOption($CURLOPT_PROXYAUTH, $CURLAUTH_BASIC);
+				}
+				if ($this->proxy['authtype'] == 'ntlm') {
+					$this->setCurlOption($CURLOPT_PROXYAUTH, $CURLAUTH_NTLM);
+				}
+			}
+		}
+		$this->debug('cURL connection set up');
+		return true;
+	  } else {
+		$this->setError('Unknown scheme ' . $this->scheme);
+		$this->debug('Unknown scheme ' . $this->scheme);
+		return false;
+	  }
+	}
+
+	/**
+	* sends the SOAP request and gets the SOAP response via HTTP[S]
+	*
+	* @param    string $data message data
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @param	array $cookies cookies to send
+	* @return	string data
+	* @access   public
+	*/
+	function send($data, $timeout=0, $response_timeout=30, $cookies=NULL) {
+		
+		$this->debug('entered send() with data of length: '.strlen($data));
+
+		$this->tryagain = true;
+		$tries = 0;
+		while ($this->tryagain) {
+			$this->tryagain = false;
+			if ($tries++ < 2) {
+				// make connnection
+				if (!$this->connect($timeout, $response_timeout)){
+					return false;
+				}
+				
+				// send request
+				if (!$this->sendRequest($data, $cookies)){
+					return false;
+				}
+				
+				// get response
+				$respdata = $this->getResponse();
+			} else {
+				$this->setError("Too many tries to get an OK response ($this->response_status_line)");
+			}
+		}		
+		$this->debug('end of send()');
+		return $respdata;
+	}
+
+
+	/**
+	* sends the SOAP request and gets the SOAP response via HTTPS using CURL
+	*
+	* @param    string $data message data
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @param	array $cookies cookies to send
+	* @return	string data
+	* @access   public
+	* @deprecated
+	*/
+	function sendHTTPS($data, $timeout=0, $response_timeout=30, $cookies) {
+		return $this->send($data, $timeout, $response_timeout, $cookies);
+	}
+	
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $digestRequest (keys must be nonce, nc, realm, qop)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $digestRequest = array(), $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype digestRequest=");
+		$this->appendDebug($this->varDump($digestRequest));
+		$this->debug("certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		// cf. RFC 2617
+		if ($authtype == 'basic') {
+			$this->setHeader('Authorization', 'Basic '.base64_encode(str_replace(':','',$username).':'.$password));
+		} elseif ($authtype == 'digest') {
+			if (isset($digestRequest['nonce'])) {
+				$digestRequest['nc'] = isset($digestRequest['nc']) ? $digestRequest['nc']++ : 1;
+				
+				// calculate the Digest hashes (calculate code based on digest implementation found at: http://www.rassoc.com/gregr/weblog/stories/2002/07/09/webServicesSecurityHttpDigestAuthenticationWithoutActiveDirectory.html)
+	
+				// A1 = unq(username-value) ":" unq(realm-value) ":" passwd
+				$A1 = $username. ':' . (isset($digestRequest['realm']) ? $digestRequest['realm'] : '') . ':' . $password;
+	
+				// H(A1) = MD5(A1)
+				$HA1 = md5($A1);
+	
+				// A2 = Method ":" digest-uri-value
+				$A2 = $this->request_method . ':' . $this->digest_uri;
+	
+				// H(A2)
+				$HA2 =  md5($A2);
+	
+				// KD(secret, data) = H(concat(secret, ":", data))
+				// if qop == auth:
+				// request-digest  = <"> < KD ( H(A1),     unq(nonce-value)
+				//                              ":" nc-value
+				//                              ":" unq(cnonce-value)
+				//                              ":" unq(qop-value)
+				//                              ":" H(A2)
+				//                            ) <">
+				// if qop is missing,
+				// request-digest  = <"> < KD ( H(A1), unq(nonce-value) ":" H(A2) ) > <">
+	
+				$unhashedDigest = '';
+				$nonce = isset($digestRequest['nonce']) ? $digestRequest['nonce'] : '';
+				$cnonce = $nonce;
+				if ($digestRequest['qop'] != '') {
+					$unhashedDigest = $HA1 . ':' . $nonce . ':' . sprintf("%08d", $digestRequest['nc']) . ':' . $cnonce . ':' . $digestRequest['qop'] . ':' . $HA2;
+				} else {
+					$unhashedDigest = $HA1 . ':' . $nonce . ':' . $HA2;
+				}
+	
+				$hashedDigest = md5($unhashedDigest);
+	
+				$opaque = '';	
+				if (isset($digestRequest['opaque'])) {
+					$opaque = ', opaque="' . $digestRequest['opaque'] . '"';
+				}
+
+				$this->setHeader('Authorization', 'Digest username="' . $username . '", realm="' . $digestRequest['realm'] . '", nonce="' . $nonce . '", uri="' . $this->digest_uri . $opaque . '", cnonce="' . $cnonce . '", nc=' . sprintf("%08x", $digestRequest['nc']) . ', qop="' . $digestRequest['qop'] . '", response="' . $hashedDigest . '"');
+			}
+		} elseif ($authtype == 'certificate') {
+			$this->certRequest = $certRequest;
+			$this->debug('Authorization header not set for certificate');
+		} elseif ($authtype == 'ntlm') {
+			// do nothing
+			$this->debug('Authorization header not set for ntlm');
+		}
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->digestRequest = $digestRequest;
+	}
+	
+	/**
+	* set the soapaction value
+	*
+	* @param    string $soapaction
+	* @access   public
+	*/
+	function setSOAPAction($soapaction) {
+		$this->setHeader('SOAPAction', '"' . $soapaction . '"');
+	}
+	
+	/**
+	* use http encoding
+	*
+	* @param    string $enc encoding style. supported values: gzip, deflate, or both
+	* @access   public
+	*/
+	function setEncoding($enc='gzip, deflate') {
+		if (function_exists('gzdeflate')) {
+			$this->protocol_version = '1.1';
+			$this->setHeader('Accept-Encoding', $enc);
+			if (!isset($this->outgoing_headers['Connection'])) {
+				$this->setHeader('Connection', 'close');
+				$this->persistentConnection = false;
+			}
+			// deprecated as of PHP 5.3.0
+			//set_magic_quotes_runtime(0);
+			$this->encoding = $enc;
+		}
+	}
+	
+	/**
+	* set proxy info here
+	*
+	* @param    string $proxyhost use an empty string to remove proxy
+	* @param    string $proxyport
+	* @param	string $proxyusername
+	* @param	string $proxypassword
+	* @param	string $proxyauthtype (basic|ntlm)
+	* @access   public
+	*/
+	function setProxy($proxyhost, $proxyport, $proxyusername = '', $proxypassword = '', $proxyauthtype = 'basic') {
+		if ($proxyhost) {
+			$this->proxy = array(
+				'host' => $proxyhost,
+				'port' => $proxyport,
+				'username' => $proxyusername,
+				'password' => $proxypassword,
+				'authtype' => $proxyauthtype
+			);
+			if ($proxyusername != '' && $proxypassword != '' && $proxyauthtype = 'basic') {
+				$this->setHeader('Proxy-Authorization', ' Basic '.base64_encode($proxyusername.':'.$proxypassword));
+			}
+		} else {
+			$this->debug('remove proxy');
+			$proxy = null;
+			unsetHeader('Proxy-Authorization');
+		}
+	}
+	
+
+	/**
+	 * Test if the given string starts with a header that is to be skipped.
+	 * Skippable headers result from chunked transfer and proxy requests.
+	 *
+	 * @param	string $data The string to check.
+	 * @returns	boolean	Whether a skippable header was found.
+	 * @access	private
+	 */
+	function isSkippableCurlHeader(&$data) {
+		$skipHeaders = array(	'HTTP/1.1 100',
+								'HTTP/1.0 301',
+								'HTTP/1.1 301',
+								'HTTP/1.0 302',
+								'HTTP/1.1 302',
+								'HTTP/1.0 401',
+								'HTTP/1.1 401',
+								'HTTP/1.0 200 Connection established');
+		foreach ($skipHeaders as $hd) {
+			$prefix = substr($data, 0, strlen($hd));
+			if ($prefix == $hd) return true;
+		}
+
+		return false;
+	}
+
+	/**
+	* decode a string that is encoded w/ "chunked' transfer encoding
+ 	* as defined in RFC2068 19.4.6
+	*
+	* @param    string $buffer
+	* @param    string $lb
+	* @returns	string
+	* @access   public
+	* @deprecated
+	*/
+	function decodeChunked($buffer, $lb){
+		// length := 0
+		$length = 0;
+		$new = '';
+		
+		// read chunk-size, chunk-extension (if any) and CRLF
+		// get the position of the linebreak
+		$chunkend = strpos($buffer, $lb);
+		if ($chunkend == FALSE) {
+			$this->debug('no linebreak found in decodeChunked');
+			return $new;
+		}
+		$temp = substr($buffer,0,$chunkend);
+		$chunk_size = hexdec( trim($temp) );
+		$chunkstart = $chunkend + strlen($lb);
+		// while (chunk-size > 0) {
+		while ($chunk_size > 0) {
+			$this->debug("chunkstart: $chunkstart chunk_size: $chunk_size");
+			$chunkend = strpos( $buffer, $lb, $chunkstart + $chunk_size);
+		  	
+			// Just in case we got a broken connection
+		  	if ($chunkend == FALSE) {
+		  	    $chunk = substr($buffer,$chunkstart);
+				// append chunk-data to entity-body
+		    	$new .= $chunk;
+		  	    $length += strlen($chunk);
+		  	    break;
+			}
+			
+		  	// read chunk-data and CRLF
+		  	$chunk = substr($buffer,$chunkstart,$chunkend-$chunkstart);
+		  	// append chunk-data to entity-body
+		  	$new .= $chunk;
+		  	// length := length + chunk-size
+		  	$length += strlen($chunk);
+		  	// read chunk-size and CRLF
+		  	$chunkstart = $chunkend + strlen($lb);
+			
+		  	$chunkend = strpos($buffer, $lb, $chunkstart) + strlen($lb);
+			if ($chunkend == FALSE) {
+				break; //Just in case we got a broken connection
+			}
+			$temp = substr($buffer,$chunkstart,$chunkend-$chunkstart);
+			$chunk_size = hexdec( trim($temp) );
+			$chunkstart = $chunkend;
+		}
+		return $new;
+	}
+	
+	/**
+	 * Writes the payload, including HTTP headers, to $this->outgoing_payload.
+	 *
+	 * @param	string $data HTTP body
+	 * @param	string $cookie_str data for HTTP Cookie header
+	 * @return	void
+	 * @access	private
+	 */
+	function buildPayload($data, $cookie_str = '') {
+		// Note: for cURL connections, $this->outgoing_payload is ignored,
+		// as is the Content-Length header, but these are still created as
+		// debugging guides.
+
+		// add content-length header
+		if ($this->request_method != 'GET') {
+			$this->setHeader('Content-Length', strlen($data));
+		}
+
+		// start building outgoing payload:
+		if ($this->proxy) {
+			$uri = $this->url;
+		} else {
+			$uri = $this->uri;
+		}
+		$req = "$this->request_method $uri HTTP/$this->protocol_version";
+		$this->debug("HTTP request: $req");
+		$this->outgoing_payload = "$req\r\n";
+
+		// loop thru headers, serializing
+		foreach($this->outgoing_headers as $k => $v){
+			$hdr = $k.': '.$v;
+			$this->debug("HTTP header: $hdr");
+			$this->outgoing_payload .= "$hdr\r\n";
+		}
+
+		// add any cookies
+		if ($cookie_str != '') {
+			$hdr = 'Cookie: '.$cookie_str;
+			$this->debug("HTTP header: $hdr");
+			$this->outgoing_payload .= "$hdr\r\n";
+		}
+
+		// header/body separator
+		$this->outgoing_payload .= "\r\n";
+		
+		// add data
+		$this->outgoing_payload .= $data;
+	}
+
+	/**
+	* sends the SOAP request via HTTP[S]
+	*
+	* @param    string $data message data
+	* @param	array $cookies cookies to send
+	* @return	boolean	true if OK, false if problem
+	* @access   private
+	*/
+	function sendRequest($data, $cookies = NULL) {
+		// build cookie string
+		$cookie_str = $this->getCookiesForRequest($cookies, (($this->scheme == 'ssl') || ($this->scheme == 'https')));
+
+		// build payload
+		$this->buildPayload($data, $cookie_str);
+
+	  if ($this->io_method() == 'socket') {
+		// send payload
+		if(!fputs($this->fp, $this->outgoing_payload, strlen($this->outgoing_payload))) {
+			$this->setError('couldn\'t write message data to socket');
+			$this->debug('couldn\'t write message data to socket');
+			return false;
+		}
+		$this->debug('wrote data to socket, length = ' . strlen($this->outgoing_payload));
+		return true;
+	  } else if ($this->io_method() == 'curl') {
+		// set payload
+		// cURL does say this should only be the verb, and in fact it
+		// turns out that the URI and HTTP version are appended to this, which
+		// some servers refuse to work with (so we no longer use this method!)
+		//$this->setCurlOption(CURLOPT_CUSTOMREQUEST, $this->outgoing_payload);
+		$curl_headers = array();
+		foreach($this->outgoing_headers as $k => $v){
+			if ($k == 'Connection' || $k == 'Content-Length' || $k == 'Host' || $k == 'Authorization' || $k == 'Proxy-Authorization') {
+				$this->debug("Skip cURL header $k: $v");
+			} else {
+				$curl_headers[] = "$k: $v";
+			}
+		}
+		if ($cookie_str != '') {
+			$curl_headers[] = 'Cookie: ' . $cookie_str;
+		}
+		$this->setCurlOption(CURLOPT_HTTPHEADER, $curl_headers);
+		$this->debug('set cURL HTTP headers');
+		if ($this->request_method == "POST") {
+	  		$this->setCurlOption(CURLOPT_POST, 1);
+	  		$this->setCurlOption(CURLOPT_POSTFIELDS, $data);
+			$this->debug('set cURL POST data');
+	  	} else {
+	  	}
+		// insert custom user-set cURL options
+		foreach ($this->ch_options as $key => $val) {
+			$this->setCurlOption($key, $val);
+		}
+
+		$this->debug('set cURL payload');
+		return true;
+	  }
+	}
+
+	/**
+	* gets the SOAP response via HTTP[S]
+	*
+	* @return	string the response (also sets member variables like incoming_payload)
+	* @access   private
+	*/
+	function getResponse(){
+		$this->incoming_payload = '';
+	    
+	  if ($this->io_method() == 'socket') {
+	    // loop until headers have been retrieved
+	    $data = '';
+	    while (!isset($lb)){
+
+			// We might EOF during header read.
+			if(feof($this->fp)) {
+				$this->incoming_payload = $data;
+				$this->debug('found no headers before EOF after length ' . strlen($data));
+				$this->debug("received before EOF:\n" . $data);
+				$this->setError('server failed to send headers');
+				return false;
+			}
+
+			$tmp = fgets($this->fp, 256);
+			$tmplen = strlen($tmp);
+			$this->debug("read line of $tmplen bytes: " . trim($tmp));
+
+			if ($tmplen == 0) {
+				$this->incoming_payload = $data;
+				$this->debug('socket read of headers timed out after length ' . strlen($data));
+				$this->debug("read before timeout: " . $data);
+				$this->setError('socket read of headers timed out');
+				return false;
+			}
+
+			$data .= $tmp;
+			$pos = strpos($data,"\r\n\r\n");
+			if($pos > 1){
+				$lb = "\r\n";
+			} else {
+				$pos = strpos($data,"\n\n");
+				if($pos > 1){
+					$lb = "\n";
+				}
+			}
+			// remove 100 headers
+			if (isset($lb) && preg_match('/^HTTP\/1.1 100/',$data)) {
+				unset($lb);
+				$data = '';
+			}//
+		}
+		// store header data
+		$this->incoming_payload .= $data;
+		$this->debug('found end of headers after length ' . strlen($data));
+		// process headers
+		$header_data = trim(substr($data,0,$pos));
+		$header_array = explode($lb,$header_data);
+		$this->incoming_headers = array();
+		$this->incoming_cookies = array();
+		foreach($header_array as $header_line){
+			$arr = explode(':',$header_line, 2);
+			if(count($arr) > 1){
+				$header_name = strtolower(trim($arr[0]));
+				$this->incoming_headers[$header_name] = trim($arr[1]);
+				if ($header_name == 'set-cookie') {
+					// TODO: allow multiple cookies from parseCookie
+					$cookie = $this->parseCookie(trim($arr[1]));
+					if ($cookie) {
+						$this->incoming_cookies[] = $cookie;
+						$this->debug('found cookie: ' . $cookie['name'] . ' = ' . $cookie['value']);
+					} else {
+						$this->debug('did not find cookie in ' . trim($arr[1]));
+					}
+    			}
+			} else if (isset($header_name)) {
+				// append continuation line to previous header
+				$this->incoming_headers[$header_name] .= $lb . ' ' . $header_line;
+			}
+		}
+		
+		// loop until msg has been received
+		if (isset($this->incoming_headers['transfer-encoding']) && strtolower($this->incoming_headers['transfer-encoding']) == 'chunked') {
+			$content_length =  2147483647;	// ignore any content-length header
+			$chunked = true;
+			$this->debug("want to read chunked content");
+		} elseif (isset($this->incoming_headers['content-length'])) {
+			$content_length = $this->incoming_headers['content-length'];
+			$chunked = false;
+			$this->debug("want to read content of length $content_length");
+		} else {
+			$content_length =  2147483647;
+			$chunked = false;
+			$this->debug("want to read content to EOF");
+		}
+		$data = '';
+		do {
+			if ($chunked) {
+				$tmp = fgets($this->fp, 256);
+				$tmplen = strlen($tmp);
+				$this->debug("read chunk line of $tmplen bytes");
+				if ($tmplen == 0) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of chunk length timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of chunk length timed out');
+					return false;
+				}
+				$content_length = hexdec(trim($tmp));
+				$this->debug("chunk length $content_length");
+			}
+			$strlen = 0;
+		    while (($strlen < $content_length) && (!feof($this->fp))) {
+		    	$readlen = min(8192, $content_length - $strlen);
+				$tmp = fread($this->fp, $readlen);
+				$tmplen = strlen($tmp);
+				$this->debug("read buffer of $tmplen bytes");
+				if (($tmplen == 0) && (!feof($this->fp))) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of body timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of body timed out');
+					return false;
+				}
+				$strlen += $tmplen;
+				$data .= $tmp;
+			}
+			if ($chunked && ($content_length > 0)) {
+				$tmp = fgets($this->fp, 256);
+				$tmplen = strlen($tmp);
+				$this->debug("read chunk terminator of $tmplen bytes");
+				if ($tmplen == 0) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of chunk terminator timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of chunk terminator timed out');
+					return false;
+				}
+			}
+		} while ($chunked && ($content_length > 0) && (!feof($this->fp)));
+		if (feof($this->fp)) {
+			$this->debug('read to EOF');
+		}
+		$this->debug('read body of length ' . strlen($data));
+		$this->incoming_payload .= $data;
+		$this->debug('received a total of '.strlen($this->incoming_payload).' bytes of data from server');
+		
+		// close filepointer
+		if(
+			(isset($this->incoming_headers['connection']) && strtolower($this->incoming_headers['connection']) == 'close') || 
+			(! $this->persistentConnection) || feof($this->fp)){
+			fclose($this->fp);
+			$this->fp = false;
+			$this->debug('closed socket');
+		}
+		
+		// connection was closed unexpectedly
+		if($this->incoming_payload == ''){
+			$this->setError('no response from server');
+			return false;
+		}
+		
+		// decode transfer-encoding
+//		if(isset($this->incoming_headers['transfer-encoding']) && strtolower($this->incoming_headers['transfer-encoding']) == 'chunked'){
+//			if(!$data = $this->decodeChunked($data, $lb)){
+//				$this->setError('Decoding of chunked data failed');
+//				return false;
+//			}
+			//print "<pre>\nde-chunked:\n---------------\n$data\n\n---------------\n</pre>";
+			// set decoded payload
+//			$this->incoming_payload = $header_data.$lb.$lb.$data;
+//		}
+	
+	  } else if ($this->io_method() == 'curl') {
+		// send and receive
+		$this->debug('send and receive with cURL');
+		$this->incoming_payload = curl_exec($this->ch);
+		$data = $this->incoming_payload;
+
+        $cErr = curl_error($this->ch);
+		if ($cErr != '') {
+        	$err = 'cURL ERROR: '.curl_errno($this->ch).': '.$cErr.'<br>';
+        	// TODO: there is a PHP bug that can cause this to SEGV for CURLINFO_CONTENT_TYPE
+			foreach(curl_getinfo($this->ch) as $k => $v){
+				$err .= "$k: $v<br>";
+			}
+			$this->debug($err);
+			$this->setError($err);
+			curl_close($this->ch);
+	    	return false;
+		} else {
+			//echo '<pre>';
+			//var_dump(curl_getinfo($this->ch));
+			//echo '</pre>';
+		}
+		// close curl
+		$this->debug('No cURL error, closing cURL');
+		curl_close($this->ch);
+		
+		// try removing skippable headers
+		$savedata = $data;
+		while ($this->isSkippableCurlHeader($data)) {
+			$this->debug("Found HTTP header to skip");
+			if ($pos = strpos($data,"\r\n\r\n")) {
+				$data = ltrim(substr($data,$pos));
+			} elseif($pos = strpos($data,"\n\n") ) {
+				$data = ltrim(substr($data,$pos));
+			}
+		}
+
+		if ($data == '') {
+			// have nothing left; just remove 100 header(s)
+			$data = $savedata;
+			while (preg_match('/^HTTP\/1.1 100/',$data)) {
+				if ($pos = strpos($data,"\r\n\r\n")) {
+					$data = ltrim(substr($data,$pos));
+				} elseif($pos = strpos($data,"\n\n") ) {
+					$data = ltrim(substr($data,$pos));
+				}
+			}
+		}
+		
+		// separate content from HTTP headers
+		if ($pos = strpos($data,"\r\n\r\n")) {
+			$lb = "\r\n";
+		} elseif( $pos = strpos($data,"\n\n")) {
+			$lb = "\n";
+		} else {
+			$this->debug('no proper separation of headers and document');
+			$this->setError('no proper separation of headers and document');
+			return false;
+		}
+		$header_data = trim(substr($data,0,$pos));
+		$header_array = explode($lb,$header_data);
+		$data = ltrim(substr($data,$pos));
+		$this->debug('found proper separation of headers and document');
+		$this->debug('cleaned data, stringlen: '.strlen($data));
+		// clean headers
+		foreach ($header_array as $header_line) {
+			$arr = explode(':',$header_line,2);
+			if(count($arr) > 1){
+				$header_name = strtolower(trim($arr[0]));
+				$this->incoming_headers[$header_name] = trim($arr[1]);
+				if ($header_name == 'set-cookie') {
+					// TODO: allow multiple cookies from parseCookie
+					$cookie = $this->parseCookie(trim($arr[1]));
+					if ($cookie) {
+						$this->incoming_cookies[] = $cookie;
+						$this->debug('found cookie: ' . $cookie['name'] . ' = ' . $cookie['value']);
+					} else {
+						$this->debug('did not find cookie in ' . trim($arr[1]));
+					}
+    			}
+			} else if (isset($header_name)) {
+				// append continuation line to previous header
+				$this->incoming_headers[$header_name] .= $lb . ' ' . $header_line;
+			}
+		}
+	  }
+
+		$this->response_status_line = $header_array[0];
+		$arr = explode(' ', $this->response_status_line, 3);
+		$http_version = $arr[0];
+		$http_status = intval($arr[1]);
+		$http_reason = count($arr) > 2 ? $arr[2] : '';
+
+ 		// see if we need to resend the request with http digest authentication
+ 		if (isset($this->incoming_headers['location']) && ($http_status == 301 || $http_status == 302)) {
+ 			$this->debug("Got $http_status $http_reason with Location: " . $this->incoming_headers['location']);
+ 			$this->setURL($this->incoming_headers['location']);
+			$this->tryagain = true;
+			return false;
+		}
+
+ 		// see if we need to resend the request with http digest authentication
+ 		if (isset($this->incoming_headers['www-authenticate']) && $http_status == 401) {
+ 			$this->debug("Got 401 $http_reason with WWW-Authenticate: " . $this->incoming_headers['www-authenticate']);
+ 			if (strstr($this->incoming_headers['www-authenticate'], "Digest ")) {
+ 				$this->debug('Server wants digest authentication');
+ 				// remove "Digest " from our elements
+ 				$digestString = str_replace('Digest ', '', $this->incoming_headers['www-authenticate']);
+ 				
+ 				// parse elements into array
+ 				$digestElements = explode(',', $digestString);
+ 				foreach ($digestElements as $val) {
+ 					$tempElement = explode('=', trim($val), 2);
+ 					$digestRequest[$tempElement[0]] = str_replace("\"", '', $tempElement[1]);
+ 				}
+
+				// should have (at least) qop, realm, nonce
+ 				if (isset($digestRequest['nonce'])) {
+ 					$this->setCredentials($this->username, $this->password, 'digest', $digestRequest);
+ 					$this->tryagain = true;
+ 					return false;
+ 				}
+ 			}
+			$this->debug('HTTP authentication failed');
+			$this->setError('HTTP authentication failed');
+			return false;
+ 		}
+		
+		if (
+			($http_status >= 300 && $http_status <= 307) ||
+			($http_status >= 400 && $http_status <= 417) ||
+			($http_status >= 501 && $http_status <= 505)
+		   ) {
+			$this->setError("Unsupported HTTP response status $http_status $http_reason (soapclient->response has contents of the response)");
+			return false;
+		}
+
+		// decode content-encoding
+		if(isset($this->incoming_headers['content-encoding']) && $this->incoming_headers['content-encoding'] != ''){
+			if(strtolower($this->incoming_headers['content-encoding']) == 'deflate' || strtolower($this->incoming_headers['content-encoding']) == 'gzip'){
+    			// if decoding works, use it. else assume data wasn't gzencoded
+    			if(function_exists('gzinflate')){
+					//$timer->setMarker('starting decoding of gzip/deflated content');
+					// IIS 5 requires gzinflate instead of gzuncompress (similar to IE 5 and gzdeflate v. gzcompress)
+					// this means there are no Zlib headers, although there should be
+					$this->debug('The gzinflate function exists');
+					$datalen = strlen($data);
+					if ($this->incoming_headers['content-encoding'] == 'deflate') {
+						if ($degzdata = @gzinflate($data)) {
+	    					$data = $degzdata;
+	    					$this->debug('The payload has been inflated to ' . strlen($data) . ' bytes');
+	    					if (strlen($data) < $datalen) {
+	    						// test for the case that the payload has been compressed twice
+		    					$this->debug('The inflated payload is smaller than the gzipped one; try again');
+								if ($degzdata = @gzinflate($data)) {
+			    					$data = $degzdata;
+			    					$this->debug('The payload has been inflated again to ' . strlen($data) . ' bytes');
+								}
+	    					}
+	    				} else {
+	    					$this->debug('Error using gzinflate to inflate the payload');
+	    					$this->setError('Error using gzinflate to inflate the payload');
+	    				}
+					} elseif ($this->incoming_headers['content-encoding'] == 'gzip') {
+						if ($degzdata = @gzinflate(substr($data, 10))) {	// do our best
+							$data = $degzdata;
+	    					$this->debug('The payload has been un-gzipped to ' . strlen($data) . ' bytes');
+	    					if (strlen($data) < $datalen) {
+	    						// test for the case that the payload has been compressed twice
+		    					$this->debug('The un-gzipped payload is smaller than the gzipped one; try again');
+								if ($degzdata = @gzinflate(substr($data, 10))) {
+			    					$data = $degzdata;
+			    					$this->debug('The payload has been un-gzipped again to ' . strlen($data) . ' bytes');
+								}
+	    					}
+	    				} else {
+	    					$this->debug('Error using gzinflate to un-gzip the payload');
+							$this->setError('Error using gzinflate to un-gzip the payload');
+	    				}
+					}
+					//$timer->setMarker('finished decoding of gzip/deflated content');
+					//print "<xmp>\nde-inflated:\n---------------\n$data\n-------------\n</xmp>";
+					// set decoded payload
+					$this->incoming_payload = $header_data.$lb.$lb.$data;
+    			} else {
+					$this->debug('The server sent compressed data. Your php install must have the Zlib extension compiled in to support this.');
+					$this->setError('The server sent compressed data. Your php install must have the Zlib extension compiled in to support this.');
+				}
+			} else {
+				$this->debug('Unsupported Content-Encoding ' . $this->incoming_headers['content-encoding']);
+				$this->setError('Unsupported Content-Encoding ' . $this->incoming_headers['content-encoding']);
+			}
+		} else {
+			$this->debug('No Content-Encoding header');
+		}
+		
+		if(strlen($data) == 0){
+			$this->debug('no data after headers!');
+			$this->setError('no data present after HTTP headers');
+			return false;
+		}
+		
+		return $data;
+	}
+
+	/**
+	 * sets the content-type for the SOAP message to be sent
+	 *
+	 * @param	string $type the content type, MIME style
+	 * @param	mixed $charset character set used for encoding (or false)
+	 * @access	public
+	 */
+	function setContentType($type, $charset = false) {
+		$this->setHeader('Content-Type', $type . ($charset ? '; charset=' . $charset : ''));
+	}
+
+	/**
+	 * specifies that an HTTP persistent connection should be used
+	 *
+	 * @return	boolean whether the request was honored by this method.
+	 * @access	public
+	 */
+	function usePersistentConnection(){
+		if (isset($this->outgoing_headers['Accept-Encoding'])) {
+			return false;
+		}
+		$this->protocol_version = '1.1';
+		$this->persistentConnection = true;
+		$this->setHeader('Connection', 'Keep-Alive');
+		return true;
+	}
+
+	/**
+	 * parse an incoming Cookie into it's parts
+	 *
+	 * @param	string $cookie_str content of cookie
+	 * @return	array with data of that cookie
+	 * @access	private
+	 */
+	/*
+	 * TODO: allow a Set-Cookie string to be parsed into multiple cookies
+	 */
+	function parseCookie($cookie_str) {
+		$cookie_str = str_replace('; ', ';', $cookie_str) . ';';
+		$data = preg_split('/;/', $cookie_str);
+		$value_str = $data[0];
+
+		$cookie_param = 'domain=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ($start > 0) {
+			$domain = substr($cookie_str, $start + strlen($cookie_param));
+			$domain = substr($domain, 0, strpos($domain, ';'));
+		} else {
+			$domain = '';
+		}
+
+		$cookie_param = 'expires=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ($start > 0) {
+			$expires = substr($cookie_str, $start + strlen($cookie_param));
+			$expires = substr($expires, 0, strpos($expires, ';'));
+		} else {
+			$expires = '';
+		}
+
+		$cookie_param = 'path=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ( $start > 0 ) {
+			$path = substr($cookie_str, $start + strlen($cookie_param));
+			$path = substr($path, 0, strpos($path, ';'));
+		} else {
+			$path = '/';
+		}
+						
+		$cookie_param = ';secure;';
+		if (strpos($cookie_str, $cookie_param) !== FALSE) {
+			$secure = true;
+		} else {
+			$secure = false;
+		}
+
+		$sep_pos = strpos($value_str, '=');
+
+		if ($sep_pos) {
+			$name = substr($value_str, 0, $sep_pos);
+			$value = substr($value_str, $sep_pos + 1);
+			$cookie= array(	'name' => $name,
+			                'value' => $value,
+							'domain' => $domain,
+							'path' => $path,
+							'expires' => $expires,
+							'secure' => $secure
+							);		
+			return $cookie;
+		}
+		return false;
+	}
+  
+	/**
+	 * sort out cookies for the current request
+	 *
+	 * @param	array $cookies array with all cookies
+	 * @param	boolean $secure is the send-content secure or not?
+	 * @return	string for Cookie-HTTP-Header
+	 * @access	private
+	 */
+	function getCookiesForRequest($cookies, $secure=false) {
+		$cookie_str = '';
+		if ((! is_null($cookies)) && (is_array($cookies))) {
+			foreach ($cookies as $cookie) {
+				if (! is_array($cookie)) {
+					continue;
+				}
+	    		$this->debug("check cookie for validity: ".$cookie['name'].'='.$cookie['value']);
+				if ((isset($cookie['expires'])) && (! empty($cookie['expires']))) {
+					if (strtotime($cookie['expires']) <= time()) {
+						$this->debug('cookie has expired');
+						continue;
+					}
+				}
+				if ((isset($cookie['domain'])) && (! empty($cookie['domain']))) {
+					$domain = preg_quote($cookie['domain']);
+					if (! preg_match("'.*$domain$'i", $this->host)) {
+						$this->debug('cookie has different domain');
+						continue;
+					}
+				}
+				if ((isset($cookie['path'])) && (! empty($cookie['path']))) {
+					$path = preg_quote($cookie['path']);
+					if (! preg_match("'^$path.*'i", $this->path)) {
+						$this->debug('cookie is for a different path');
+						continue;
+					}
+				}
+				if ((! $secure) && (isset($cookie['secure'])) && ($cookie['secure'])) {
+					$this->debug('cookie is secure, transport is not');
+					continue;
+				}
+				$cookie_str .= $cookie['name'] . '=' . $cookie['value'] . '; ';
+	    		$this->debug('add cookie to Cookie-String: ' . $cookie['name'] . '=' . $cookie['value']);
+			}
+		}
+		return $cookie_str;
+  }
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.soap_val.php phpBB3/library/nusoap/class.soap_val.php
--- phpBB3-init/library/nusoap/class.soap_val.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.soap_val.php	2013-01-28 17:31:47.728708651 +0100
@@ -0,0 +1,107 @@
+<?php
+
+
+
+
+/**
+* For creating serializable abstractions of native PHP types.  This class
+* allows element name/namespace, XSD type, and XML attributes to be
+* associated with a value.  This is extremely useful when WSDL is not
+* used, but is also useful when WSDL is used with polymorphic types, including
+* xsd:anyType and user-defined types.
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @version  $Id: class.soap_val.php,v 1.11 2007/04/06 13:56:32 snichol Exp $
+* @access   public
+*/
+class soapval extends nusoap_base {
+	/**
+	 * The XML element name
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $name;
+	/**
+	 * The XML type name (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $type;
+	/**
+	 * The PHP value
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $value;
+	/**
+	 * The XML element namespace (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $element_ns;
+	/**
+	 * The XML type namespace (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $type_ns;
+	/**
+	 * The XML element attributes (array or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $attributes;
+
+	/**
+	* constructor
+	*
+	* @param    string $name optional name
+	* @param    mixed $type optional type name
+	* @param	mixed $value optional value
+	* @param	mixed $element_ns optional namespace of value
+	* @param	mixed $type_ns optional namespace of type
+	* @param	mixed $attributes associative array of attributes to add to element serialization
+	* @access   public
+	*/
+  	function soapval($name='soapval',$type=false,$value=-1,$element_ns=false,$type_ns=false,$attributes=false) {
+		parent::nusoap_base();
+		$this->name = $name;
+		$this->type = $type;
+		$this->value = $value;
+		$this->element_ns = $element_ns;
+		$this->type_ns = $type_ns;
+		$this->attributes = $attributes;
+    }
+
+	/**
+	* return serialized value
+	*
+	* @param	string $use The WSDL use value (encoded|literal)
+	* @return	string XML data
+	* @access   public
+	*/
+	function serialize($use='encoded') {
+		return $this->serialize_val($this->value, $this->name, $this->type, $this->element_ns, $this->type_ns, $this->attributes, $use, true);
+    }
+
+	/**
+	* decodes a soapval object into a PHP native type
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function decode(){
+		return $this->value;
+	}
+}
+
+
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/class.wsdlcache.php phpBB3/library/nusoap/class.wsdlcache.php
--- phpBB3-init/library/nusoap/class.wsdlcache.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.wsdlcache.php	2013-01-28 17:31:47.728708651 +0100
@@ -0,0 +1,209 @@
+<?php
+/*
+The NuSOAP project home is:
+http://sourceforge.net/projects/nusoap/
+
+The primary support for NuSOAP is the mailing list:
+nusoap-general@lists.sourceforge.net
+*/
+
+/**
+* caches instances of the wsdl class
+* 
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @author	Ingo Fischer <ingo@apollon.de>
+* @version  $Id: class.wsdlcache.php,v 1.7 2007/04/17 16:34:03 snichol Exp $
+* @access public 
+*/
+class nusoap_wsdlcache {
+	/**
+	 *	@var resource
+	 *	@access private
+	 */
+	var $fplock;
+	/**
+	 *	@var integer
+	 *	@access private
+	 */
+	var $cache_lifetime;
+	/**
+	 *	@var string
+	 *	@access private
+	 */
+	var $cache_dir;
+	/**
+	 *	@var string
+	 *	@access public
+	 */
+	var $debug_str = '';
+
+	/**
+	* constructor
+	*
+	* @param string $cache_dir directory for cache-files
+	* @param integer $cache_lifetime lifetime for caching-files in seconds or 0 for unlimited
+	* @access public
+	*/
+	function nusoap_wsdlcache($cache_dir='.', $cache_lifetime=0) {
+		$this->fplock = array();
+		$this->cache_dir = $cache_dir != '' ? $cache_dir : '.';
+		$this->cache_lifetime = $cache_lifetime;
+	}
+
+	/**
+	* creates the filename used to cache a wsdl instance
+	*
+	* @param string $wsdl The URL of the wsdl instance
+	* @return string The filename used to cache the instance
+	* @access private
+	*/
+	function createFilename($wsdl) {
+		return $this->cache_dir.'/wsdlcache-' . md5($wsdl);
+	}
+
+	/**
+	* adds debug data to the class level debug string
+	*
+	* @param    string $string debug data
+	* @access   private
+	*/
+	function debug($string){
+		$this->debug_str .= get_class($this).": $string\n";
+	}
+
+	/**
+	* gets a wsdl instance from the cache
+	*
+	* @param string $wsdl The URL of the wsdl instance
+	* @return object wsdl The cached wsdl instance, null if the instance is not in the cache
+	* @access public
+	*/
+	function get($wsdl) {
+		$filename = $this->createFilename($wsdl);
+		if ($this->obtainMutex($filename, "r")) {
+			// check for expired WSDL that must be removed from the cache
+ 			if ($this->cache_lifetime > 0) {
+				if (file_exists($filename) && (time() - filemtime($filename) > $this->cache_lifetime)) {
+					unlink($filename);
+					$this->debug("Expired $wsdl ($filename) from cache");
+					$this->releaseMutex($filename);
+					return null;
+  				}
+			}
+			// see what there is to return
+			if (!file_exists($filename)) {
+				$this->debug("$wsdl ($filename) not in cache (1)");
+				$this->releaseMutex($filename);
+				return null;
+			}
+			$fp = @fopen($filename, "r");
+			if ($fp) {
+				$s = implode("", @file($filename));
+				fclose($fp);
+				$this->debug("Got $wsdl ($filename) from cache");
+			} else {
+				$s = null;
+				$this->debug("$wsdl ($filename) not in cache (2)");
+			}
+			$this->releaseMutex($filename);
+			return (!is_null($s)) ? unserialize($s) : null;
+		} else {
+			$this->debug("Unable to obtain mutex for $filename in get");
+		}
+		return null;
+	}
+
+	/**
+	* obtains the local mutex
+	*
+	* @param string $filename The Filename of the Cache to lock
+	* @param string $mode The open-mode ("r" or "w") or the file - affects lock-mode
+	* @return boolean Lock successfully obtained ?!
+	* @access private
+	*/
+	function obtainMutex($filename, $mode) {
+		if (isset($this->fplock[md5($filename)])) {
+			$this->debug("Lock for $filename already exists");
+			return false;
+		}
+		$this->fplock[md5($filename)] = fopen($filename.".lock", "w");
+		if ($mode == "r") {
+			return flock($this->fplock[md5($filename)], LOCK_SH);
+		} else {
+			return flock($this->fplock[md5($filename)], LOCK_EX);
+		}
+	}
+
+	/**
+	* adds a wsdl instance to the cache
+	*
+	* @param object wsdl $wsdl_instance The wsdl instance to add
+	* @return boolean WSDL successfully cached
+	* @access public
+	*/
+	function put($wsdl_instance) {
+		$filename = $this->createFilename($wsdl_instance->wsdl);
+		$s = serialize($wsdl_instance);
+		if ($this->obtainMutex($filename, "w")) {
+			$fp = fopen($filename, "w");
+			if (! $fp) {
+				$this->debug("Cannot write $wsdl_instance->wsdl ($filename) in cache");
+				$this->releaseMutex($filename);
+				return false;
+			}
+			fputs($fp, $s);
+			fclose($fp);
+			$this->debug("Put $wsdl_instance->wsdl ($filename) in cache");
+			$this->releaseMutex($filename);
+			return true;
+		} else {
+			$this->debug("Unable to obtain mutex for $filename in put");
+		}
+		return false;
+	}
+
+	/**
+	* releases the local mutex
+	*
+	* @param string $filename The Filename of the Cache to lock
+	* @return boolean Lock successfully released
+	* @access private
+	*/
+	function releaseMutex($filename) {
+		$ret = flock($this->fplock[md5($filename)], LOCK_UN);
+		fclose($this->fplock[md5($filename)]);
+		unset($this->fplock[md5($filename)]);
+		if (! $ret) {
+			$this->debug("Not able to release lock for $filename");
+		}
+		return $ret;
+	}
+
+	/**
+	* removes a wsdl instance from the cache
+	*
+	* @param string $wsdl The URL of the wsdl instance
+	* @return boolean Whether there was an instance to remove
+	* @access public
+	*/
+	function remove($wsdl) {
+		$filename = $this->createFilename($wsdl);
+		if (!file_exists($filename)) {
+			$this->debug("$wsdl ($filename) not in cache to be removed");
+			return false;
+		}
+		// ignore errors obtaining mutex
+		$this->obtainMutex($filename, "w");
+		$ret = unlink($filename);
+		$this->debug("Removed ($ret) $wsdl ($filename) from cache");
+		$this->releaseMutex($filename);
+		return $ret;
+	}
+}
+
+/**
+ * For backward compatibility
+ */
+class wsdlcache extends nusoap_wsdlcache {
+}
+?>
diff -rNU5 phpBB3-init/library/nusoap/class.wsdl.php phpBB3/library/nusoap/class.wsdl.php
--- phpBB3-init/library/nusoap/class.wsdl.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.wsdl.php	2013-01-28 17:31:47.732708651 +0100
@@ -0,0 +1,1938 @@
+<?php
+
+
+
+
+/**
+* parses a WSDL file, allows access to it's data, other utility methods.
+* also builds WSDL structures programmatically.
+* 
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.wsdl.php,v 1.76 2010/04/26 20:15:08 snichol Exp $
+* @access public 
+*/
+class wsdl extends nusoap_base {
+	// URL or filename of the root of this WSDL
+    var $wsdl; 
+    // define internal arrays of bindings, ports, operations, messages, etc.
+    var $schemas = array();
+    var $currentSchema;
+    var $message = array();
+    var $complexTypes = array();
+    var $messages = array();
+    var $currentMessage;
+    var $currentOperation;
+    var $portTypes = array();
+    var $currentPortType;
+    var $bindings = array();
+    var $currentBinding;
+    var $ports = array();
+    var $currentPort;
+    var $opData = array();
+    var $status = '';
+    var $documentation = false;
+    var $endpoint = ''; 
+    // array of wsdl docs to import
+    var $import = array(); 
+    // parser vars
+    var $parser;
+    var $position = 0;
+    var $depth = 0;
+    var $depth_array = array();
+	// for getting wsdl
+	var $proxyhost = '';
+    var $proxyport = '';
+	var $proxyusername = '';
+	var $proxypassword = '';
+	var $timeout = 0;
+	var $response_timeout = 30;
+	var $curl_options = array();	// User-specified cURL options
+	var $use_curl = false;			// whether to always try to use cURL
+	// for HTTP authentication
+	var $username = '';				// Username for HTTP authentication
+	var $password = '';				// Password for HTTP authentication
+	var $authtype = '';				// Type of HTTP authentication
+	var $certRequest = array();		// Certificate for HTTP SSL authentication
+
+    /**
+     * constructor
+     * 
+     * @param string $wsdl WSDL document URL
+	 * @param string $proxyhost
+	 * @param string $proxyport
+	 * @param string $proxyusername
+	 * @param string $proxypassword
+	 * @param integer $timeout set the connection timeout
+	 * @param integer $response_timeout set the response timeout
+	 * @param array $curl_options user-specified cURL options
+	 * @param boolean $use_curl try to use cURL
+     * @access public 
+     */
+    function wsdl($wsdl = '',$proxyhost=false,$proxyport=false,$proxyusername=false,$proxypassword=false,$timeout=0,$response_timeout=30,$curl_options=null,$use_curl=false){
+		parent::nusoap_base();
+		$this->debug("ctor wsdl=$wsdl timeout=$timeout response_timeout=$response_timeout");
+        $this->proxyhost = $proxyhost;
+        $this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+		$this->timeout = $timeout;
+		$this->response_timeout = $response_timeout;
+		if (is_array($curl_options))
+			$this->curl_options = $curl_options;
+		$this->use_curl = $use_curl;
+		$this->fetchWSDL($wsdl);
+    }
+
+	/**
+	 * fetches the WSDL document and parses it
+	 *
+	 * @access public
+	 */
+	function fetchWSDL($wsdl) {
+		$this->debug("parse and process WSDL path=$wsdl");
+		$this->wsdl = $wsdl;
+        // parse wsdl file
+        if ($this->wsdl != "") {
+            $this->parseWSDL($this->wsdl);
+        }
+        // imports
+        // TODO: handle imports more properly, grabbing them in-line and nesting them
+    	$imported_urls = array();
+    	$imported = 1;
+    	while ($imported > 0) {
+    		$imported = 0;
+    		// Schema imports
+    		foreach ($this->schemas as $ns => $list) {
+    			foreach ($list as $xs) {
+					$wsdlparts = parse_url($this->wsdl);	// this is bogusly simple!
+		            foreach ($xs->imports as $ns2 => $list2) {
+		                for ($ii = 0; $ii < count($list2); $ii++) {
+		                	if (! $list2[$ii]['loaded']) {
+		                		$this->schemas[$ns]->imports[$ns2][$ii]['loaded'] = true;
+		                		$url = $list2[$ii]['location'];
+								if ($url != '') {
+									$urlparts = parse_url($url);
+									if (!isset($urlparts['host'])) {
+										$url = $wsdlparts['scheme'] . '://' . $wsdlparts['host'] . (isset($wsdlparts['port']) ? ':' .$wsdlparts['port'] : '') .
+												substr($wsdlparts['path'],0,strrpos($wsdlparts['path'],'/') + 1) .$urlparts['path'];
+									}
+									if (! in_array($url, $imported_urls)) {
+					                	$this->parseWSDL($url);
+				                		$imported++;
+				                		$imported_urls[] = $url;
+				                	}
+								} else {
+									$this->debug("Unexpected scenario: empty URL for unloaded import");
+								}
+							}
+						}
+		            } 
+    			}
+    		}
+    		// WSDL imports
+			$wsdlparts = parse_url($this->wsdl);	// this is bogusly simple!
+            foreach ($this->import as $ns => $list) {
+                for ($ii = 0; $ii < count($list); $ii++) {
+                	if (! $list[$ii]['loaded']) {
+                		$this->import[$ns][$ii]['loaded'] = true;
+                		$url = $list[$ii]['location'];
+						if ($url != '') {
+							$urlparts = parse_url($url);
+							if (!isset($urlparts['host'])) {
+								$url = $wsdlparts['scheme'] . '://' . $wsdlparts['host'] . (isset($wsdlparts['port']) ? ':' . $wsdlparts['port'] : '') .
+										substr($wsdlparts['path'],0,strrpos($wsdlparts['path'],'/') + 1) .$urlparts['path'];
+							}
+							if (! in_array($url, $imported_urls)) {
+			                	$this->parseWSDL($url);
+		                		$imported++;
+		                		$imported_urls[] = $url;
+		                	}
+						} else {
+							$this->debug("Unexpected scenario: empty URL for unloaded import");
+						}
+					}
+				}
+            } 
+		}
+        // add new data to operation data
+        foreach($this->bindings as $binding => $bindingData) {
+            if (isset($bindingData['operations']) && is_array($bindingData['operations'])) {
+                foreach($bindingData['operations'] as $operation => $data) {
+                    $this->debug('post-parse data gathering for ' . $operation);
+                    $this->bindings[$binding]['operations'][$operation]['input'] = 
+						isset($this->bindings[$binding]['operations'][$operation]['input']) ? 
+						array_merge($this->bindings[$binding]['operations'][$operation]['input'], $this->portTypes[ $bindingData['portType'] ][$operation]['input']) :
+						$this->portTypes[ $bindingData['portType'] ][$operation]['input'];
+                    $this->bindings[$binding]['operations'][$operation]['output'] = 
+						isset($this->bindings[$binding]['operations'][$operation]['output']) ?
+						array_merge($this->bindings[$binding]['operations'][$operation]['output'], $this->portTypes[ $bindingData['portType'] ][$operation]['output']) :
+						$this->portTypes[ $bindingData['portType'] ][$operation]['output'];
+                    if(isset($this->messages[ $this->bindings[$binding]['operations'][$operation]['input']['message'] ])){
+						$this->bindings[$binding]['operations'][$operation]['input']['parts'] = $this->messages[ $this->bindings[$binding]['operations'][$operation]['input']['message'] ];
+					}
+					if(isset($this->messages[ $this->bindings[$binding]['operations'][$operation]['output']['message'] ])){
+                   		$this->bindings[$binding]['operations'][$operation]['output']['parts'] = $this->messages[ $this->bindings[$binding]['operations'][$operation]['output']['message'] ];
+                    }
+                    // Set operation style if necessary, but do not override one already provided
+					if (isset($bindingData['style']) && !isset($this->bindings[$binding]['operations'][$operation]['style'])) {
+                        $this->bindings[$binding]['operations'][$operation]['style'] = $bindingData['style'];
+                    }
+                    $this->bindings[$binding]['operations'][$operation]['transport'] = isset($bindingData['transport']) ? $bindingData['transport'] : '';
+                    $this->bindings[$binding]['operations'][$operation]['documentation'] = isset($this->portTypes[ $bindingData['portType'] ][$operation]['documentation']) ? $this->portTypes[ $bindingData['portType'] ][$operation]['documentation'] : '';
+                    $this->bindings[$binding]['operations'][$operation]['endpoint'] = isset($bindingData['endpoint']) ? $bindingData['endpoint'] : '';
+                } 
+            } 
+        }
+	}
+
+    /**
+     * parses the wsdl document
+     * 
+     * @param string $wsdl path or URL
+     * @access private 
+     */
+    function parseWSDL($wsdl = '') {
+		$this->debug("parse WSDL at path=$wsdl");
+
+        if ($wsdl == '') {
+            $this->debug('no wsdl passed to parseWSDL()!!');
+            $this->setError('no wsdl passed to parseWSDL()!!');
+            return false;
+        }
+        
+        // parse $wsdl for url format
+        $wsdl_props = parse_url($wsdl);
+
+        if (isset($wsdl_props['scheme']) && ($wsdl_props['scheme'] == 'http' || $wsdl_props['scheme'] == 'https')) {
+            $this->debug('getting WSDL http(s) URL ' . $wsdl);
+        	// get wsdl
+	        $tr = new soap_transport_http($wsdl, $this->curl_options, $this->use_curl);
+			$tr->request_method = 'GET';
+			$tr->useSOAPAction = false;
+			if($this->proxyhost && $this->proxyport){
+				$tr->setProxy($this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword);
+			}
+			if ($this->authtype != '') {
+				$tr->setCredentials($this->username, $this->password, $this->authtype, array(), $this->certRequest);
+			}
+			$tr->setEncoding('gzip, deflate');
+			$wsdl_string = $tr->send('', $this->timeout, $this->response_timeout);
+			//$this->debug("WSDL request\n" . $tr->outgoing_payload);
+			//$this->debug("WSDL response\n" . $tr->incoming_payload);
+			$this->appendDebug($tr->getDebug());
+			// catch errors
+			if($err = $tr->getError() ){
+				$errstr = 'Getting ' . $wsdl . ' - HTTP ERROR: '.$err;
+				$this->debug($errstr);
+	            $this->setError($errstr);
+				unset($tr);
+	            return false;
+			}
+			unset($tr);
+			$this->debug("got WSDL URL");
+        } else {
+            // $wsdl is not http(s), so treat it as a file URL or plain file path
+        	if (isset($wsdl_props['scheme']) && ($wsdl_props['scheme'] == 'file') && isset($wsdl_props['path'])) {
+        		$path = isset($wsdl_props['host']) ? ($wsdl_props['host'] . ':' . $wsdl_props['path']) : $wsdl_props['path'];
+        	} else {
+        		$path = $wsdl;
+        	}
+            $this->debug('getting WSDL file ' . $path);
+            if ($fp = @fopen($path, 'r')) {
+                $wsdl_string = '';
+                while ($data = fread($fp, 32768)) {
+                    $wsdl_string .= $data;
+                } 
+                fclose($fp);
+            } else {
+            	$errstr = "Bad path to WSDL file $path";
+            	$this->debug($errstr);
+                $this->setError($errstr);
+                return false;
+            } 
+        }
+        $this->debug('Parse WSDL');
+        // end new code added
+        // Create an XML parser.
+        $this->parser = xml_parser_create(); 
+        // Set the options for parsing the XML data.
+        // xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
+        xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0); 
+        // Set the object for the parser.
+        xml_set_object($this->parser, $this); 
+        // Set the element handlers for the parser.
+        xml_set_element_handler($this->parser, 'start_element', 'end_element');
+        xml_set_character_data_handler($this->parser, 'character_data');
+        // Parse the XML file.
+        if (!xml_parse($this->parser, $wsdl_string, true)) {
+            // Display an error message.
+            $errstr = sprintf(
+				'XML error parsing WSDL from %s on line %d: %s',
+				$wsdl,
+                xml_get_current_line_number($this->parser),
+                xml_error_string(xml_get_error_code($this->parser))
+                );
+            $this->debug($errstr);
+			$this->debug("XML payload:\n" . $wsdl_string);
+            $this->setError($errstr);
+            return false;
+        } 
+		// free the parser
+        xml_parser_free($this->parser);
+        $this->debug('Parsing WSDL done');
+		// catch wsdl parse errors
+		if($this->getError()){
+			return false;
+		}
+        return true;
+    } 
+
+    /**
+     * start-element handler
+     * 
+     * @param string $parser XML parser object
+     * @param string $name element name
+     * @param string $attrs associative array of attributes
+     * @access private 
+     */
+    function start_element($parser, $name, $attrs)
+    {
+        if ($this->status == 'schema') {
+            $this->currentSchema->schemaStartElement($parser, $name, $attrs);
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+        } elseif (preg_match('/schema$/', $name)) {
+        	$this->debug('Parsing WSDL schema');
+            // $this->debug("startElement for $name ($attrs[name]). status = $this->status (".$this->getLocalPart($name).")");
+            $this->status = 'schema';
+            $this->currentSchema = new nusoap_xmlschema('', '', $this->namespaces);
+            $this->currentSchema->schemaStartElement($parser, $name, $attrs);
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+        } else {
+            // position in the total number of elements, starting from 0
+            $pos = $this->position++;
+            $depth = $this->depth++; 
+            // set self as current value for this depth
+            $this->depth_array[$depth] = $pos;
+            $this->message[$pos] = array('cdata' => ''); 
+            // process attributes
+            if (count($attrs) > 0) {
+				// register namespace declarations
+                foreach($attrs as $k => $v) {
+                    if (preg_match('/^xmlns/',$k)) {
+                        if ($ns_prefix = substr(strrchr($k, ':'), 1)) {
+                            $this->namespaces[$ns_prefix] = $v;
+                        } else {
+                            $this->namespaces['ns' . (count($this->namespaces) + 1)] = $v;
+                        } 
+                        if ($v == 'http://www.w3.org/2001/XMLSchema' || $v == 'http://www.w3.org/1999/XMLSchema' || $v == 'http://www.w3.org/2000/10/XMLSchema') {
+                            $this->XMLSchemaVersion = $v;
+                            $this->namespaces['xsi'] = $v . '-instance';
+                        } 
+                    }
+                }
+                // expand each attribute prefix to its namespace
+                foreach($attrs as $k => $v) {
+                    $k = strpos($k, ':') ? $this->expandQname($k) : $k;
+                    if ($k != 'location' && $k != 'soapAction' && $k != 'namespace') {
+                        $v = strpos($v, ':') ? $this->expandQname($v) : $v;
+                    } 
+                    $eAttrs[$k] = $v;
+                } 
+                $attrs = $eAttrs;
+            } else {
+                $attrs = array();
+            } 
+            // get element prefix, namespace and name
+            if (preg_match('/:/', $name)) {
+                // get ns prefix
+                $prefix = substr($name, 0, strpos($name, ':')); 
+                // get ns
+                $namespace = isset($this->namespaces[$prefix]) ? $this->namespaces[$prefix] : ''; 
+                // get unqualified name
+                $name = substr(strstr($name, ':'), 1);
+            } 
+			// process attributes, expanding any prefixes to namespaces
+            // find status, register data
+            switch ($this->status) {
+                case 'message':
+                    if ($name == 'part') {
+			            if (isset($attrs['type'])) {
+		                    $this->debug("msg " . $this->currentMessage . ": found part (with type) $attrs[name]: " . implode(',', $attrs));
+		                    $this->messages[$this->currentMessage][$attrs['name']] = $attrs['type'];
+            			} 
+			            if (isset($attrs['element'])) {
+		                    $this->debug("msg " . $this->currentMessage . ": found part (with element) $attrs[name]: " . implode(',', $attrs));
+			                $this->messages[$this->currentMessage][$attrs['name']] = $attrs['element'] . '^';
+			            } 
+        			} 
+        			break;
+			    case 'portType':
+			        switch ($name) {
+			            case 'operation':
+			                $this->currentPortOperation = $attrs['name'];
+			                $this->debug("portType $this->currentPortType operation: $this->currentPortOperation");
+			                if (isset($attrs['parameterOrder'])) {
+			                	$this->portTypes[$this->currentPortType][$attrs['name']]['parameterOrder'] = $attrs['parameterOrder'];
+			        		} 
+			        		break;
+					    case 'documentation':
+					        $this->documentation = true;
+					        break; 
+					    // merge input/output data
+					    default:
+					        $m = isset($attrs['message']) ? $this->getLocalPart($attrs['message']) : '';
+					        $this->portTypes[$this->currentPortType][$this->currentPortOperation][$name]['message'] = $m;
+					        break;
+					} 
+			    	break;
+				case 'binding':
+				    switch ($name) {
+				        case 'binding': 
+				            // get ns prefix
+				            if (isset($attrs['style'])) {
+				            $this->bindings[$this->currentBinding]['prefix'] = $prefix;
+					    	} 
+					    	$this->bindings[$this->currentBinding] = array_merge($this->bindings[$this->currentBinding], $attrs);
+					    	break;
+						case 'header':
+						    $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus]['headers'][] = $attrs;
+						    break;
+						case 'operation':
+						    if (isset($attrs['soapAction'])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['soapAction'] = $attrs['soapAction'];
+						    } 
+						    if (isset($attrs['style'])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['style'] = $attrs['style'];
+						    } 
+						    if (isset($attrs['name'])) {
+						        $this->currentOperation = $attrs['name'];
+						        $this->debug("current binding operation: $this->currentOperation");
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['name'] = $attrs['name'];
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['binding'] = $this->currentBinding;
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['endpoint'] = isset($this->bindings[$this->currentBinding]['endpoint']) ? $this->bindings[$this->currentBinding]['endpoint'] : '';
+						    } 
+						    break;
+						case 'input':
+						    $this->opStatus = 'input';
+						    break;
+						case 'output':
+						    $this->opStatus = 'output';
+						    break;
+						case 'body':
+						    if (isset($this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus] = array_merge($this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus], $attrs);
+						    } else {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus] = $attrs;
+						    } 
+						    break;
+					} 
+					break;
+				case 'service':
+					switch ($name) {
+					    case 'port':
+					        $this->currentPort = $attrs['name'];
+					        $this->debug('current port: ' . $this->currentPort);
+					        $this->ports[$this->currentPort]['binding'] = $this->getLocalPart($attrs['binding']);
+					
+					        break;
+					    case 'address':
+					        $this->ports[$this->currentPort]['location'] = $attrs['location'];
+					        $this->ports[$this->currentPort]['bindingType'] = $namespace;
+					        $this->bindings[ $this->ports[$this->currentPort]['binding'] ]['bindingType'] = $namespace;
+					        $this->bindings[ $this->ports[$this->currentPort]['binding'] ]['endpoint'] = $attrs['location'];
+					        break;
+					} 
+					break;
+			} 
+		// set status
+		switch ($name) {
+			case 'import':
+			    if (isset($attrs['location'])) {
+                    $this->import[$attrs['namespace']][] = array('location' => $attrs['location'], 'loaded' => false);
+                    $this->debug('parsing import ' . $attrs['namespace']. ' - ' . $attrs['location'] . ' (' . count($this->import[$attrs['namespace']]).')');
+				} else {
+                    $this->import[$attrs['namespace']][] = array('location' => '', 'loaded' => true);
+					if (! $this->getPrefixFromNamespace($attrs['namespace'])) {
+						$this->namespaces['ns'.(count($this->namespaces)+1)] = $attrs['namespace'];
+					}
+                    $this->debug('parsing import ' . $attrs['namespace']. ' - [no location] (' . count($this->import[$attrs['namespace']]).')');
+				}
+				break;
+			//wait for schema
+			//case 'types':
+			//	$this->status = 'schema';
+			//	break;
+			case 'message':
+				$this->status = 'message';
+				$this->messages[$attrs['name']] = array();
+				$this->currentMessage = $attrs['name'];
+				break;
+			case 'portType':
+				$this->status = 'portType';
+				$this->portTypes[$attrs['name']] = array();
+				$this->currentPortType = $attrs['name'];
+				break;
+			case "binding":
+				if (isset($attrs['name'])) {
+				// get binding name
+					if (strpos($attrs['name'], ':')) {
+			    		$this->currentBinding = $this->getLocalPart($attrs['name']);
+					} else {
+			    		$this->currentBinding = $attrs['name'];
+					} 
+					$this->status = 'binding';
+					$this->bindings[$this->currentBinding]['portType'] = $this->getLocalPart($attrs['type']);
+					$this->debug("current binding: $this->currentBinding of portType: " . $attrs['type']);
+				} 
+				break;
+			case 'service':
+				$this->serviceName = $attrs['name'];
+				$this->status = 'service';
+				$this->debug('current service: ' . $this->serviceName);
+				break;
+			case 'definitions':
+				foreach ($attrs as $name => $value) {
+					$this->wsdl_info[$name] = $value;
+				} 
+				break;
+			} 
+		} 
+	} 
+
+	/**
+	* end-element handler
+	* 
+	* @param string $parser XML parser object
+	* @param string $name element name
+	* @access private 
+	*/
+	function end_element($parser, $name){ 
+		// unset schema status
+		if (/*preg_match('/types$/', $name) ||*/ preg_match('/schema$/', $name)) {
+			$this->status = "";
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+			$this->schemas[$this->currentSchema->schemaTargetNamespace][] = $this->currentSchema;
+        	$this->debug('Parsing WSDL schema done');
+		} 
+		if ($this->status == 'schema') {
+			$this->currentSchema->schemaEndElement($parser, $name);
+		} else {
+			// bring depth down a notch
+			$this->depth--;
+		} 
+		// end documentation
+		if ($this->documentation) {
+			//TODO: track the node to which documentation should be assigned; it can be a part, message, etc.
+			//$this->portTypes[$this->currentPortType][$this->currentPortOperation]['documentation'] = $this->documentation;
+			$this->documentation = false;
+		} 
+	} 
+
+	/**
+	 * element content handler
+	 * 
+	 * @param string $parser XML parser object
+	 * @param string $data element content
+	 * @access private 
+	 */
+	function character_data($parser, $data)
+	{
+		$pos = isset($this->depth_array[$this->depth]) ? $this->depth_array[$this->depth] : 0;
+		if (isset($this->message[$pos]['cdata'])) {
+			$this->message[$pos]['cdata'] .= $data;
+		} 
+		if ($this->documentation) {
+			$this->documentation .= $data;
+		} 
+	} 
+
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->certRequest = $certRequest;
+	}
+	
+	function getBindingData($binding)
+	{
+		if (is_array($this->bindings[$binding])) {
+			return $this->bindings[$binding];
+		} 
+	}
+	
+	/**
+	 * returns an assoc array of operation names => operation data
+	 * 
+	 * @param string $portName WSDL port name
+	 * @param string $bindingType eg: soap, smtp, dime (only soap and soap12 are currently supported)
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperations($portName = '', $bindingType = 'soap') {
+		$ops = array();
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		} else {
+			$this->debug("getOperations bindingType $bindingType may not be supported");
+		}
+		$this->debug("getOperations for port '$portName' bindingType $bindingType");
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			$this->debug("getOperations checking port $port bindingType " . $portData['bindingType']);
+			if ($portName == '' || $port == $portName) {
+				// binding type of port matches parameter
+				if ($portData['bindingType'] == $bindingType) {
+					$this->debug("getOperations found port $port bindingType $bindingType");
+					//$this->debug("port data: " . $this->varDump($portData));
+					//$this->debug("bindings: " . $this->varDump($this->bindings[ $portData['binding'] ]));
+					// merge bindings
+					if (isset($this->bindings[ $portData['binding'] ]['operations'])) {
+						$ops = array_merge ($ops, $this->bindings[ $portData['binding'] ]['operations']);
+					}
+				}
+			}
+		}
+		if (count($ops) == 0) {
+			$this->debug("getOperations found no operations for port '$portName' bindingType $bindingType");
+		}
+		return $ops;
+	} 
+	
+	/**
+	 * returns an associative array of data necessary for calling an operation
+	 * 
+	 * @param string $operation name of operation
+	 * @param string $bindingType type of binding eg: soap, soap12
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperationData($operation, $bindingType = 'soap')
+	{
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		}
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			// binding type of port matches parameter
+			if ($portData['bindingType'] == $bindingType) {
+				// get binding
+				//foreach($this->bindings[ $portData['binding'] ]['operations'] as $bOperation => $opData) {
+				foreach(array_keys($this->bindings[ $portData['binding'] ]['operations']) as $bOperation) {
+					// note that we could/should also check the namespace here
+					if ($operation == $bOperation) {
+						$opData = $this->bindings[ $portData['binding'] ]['operations'][$operation];
+					    return $opData;
+					} 
+				} 
+			}
+		} 
+	}
+	
+	/**
+	 * returns an associative array of data necessary for calling an operation
+	 * 
+	 * @param string $soapAction soapAction for operation
+	 * @param string $bindingType type of binding eg: soap, soap12
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperationDataForSoapAction($soapAction, $bindingType = 'soap') {
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		}
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			// binding type of port matches parameter
+			if ($portData['bindingType'] == $bindingType) {
+				// loop through operations for the binding
+				foreach ($this->bindings[ $portData['binding'] ]['operations'] as $bOperation => $opData) {
+					if ($opData['soapAction'] == $soapAction) {
+					    return $opData;
+					} 
+				} 
+			}
+		} 
+	}
+	
+	/**
+    * returns an array of information about a given type
+    * returns false if no type exists by the given name
+    *
+	*	 typeDef = array(
+	*	 'elements' => array(), // refs to elements array
+	*	'restrictionBase' => '',
+	*	'phpType' => '',
+	*	'order' => '(sequence|all)',
+	*	'attrs' => array() // refs to attributes array
+	*	)
+    *
+    * @param string $type the type
+    * @param string $ns namespace (not prefix) of the type
+    * @return mixed
+    * @access public
+    * @see nusoap_xmlschema
+    */
+	function getTypeDef($type, $ns) {
+		$this->debug("in getTypeDef: type=$type, ns=$ns");
+		if ((! $ns) && isset($this->namespaces['tns'])) {
+			$ns = $this->namespaces['tns'];
+			$this->debug("in getTypeDef: type namespace forced to $ns");
+		}
+		if (!isset($this->schemas[$ns])) {
+			foreach ($this->schemas as $ns0 => $schema0) {
+				if (strcasecmp($ns, $ns0) == 0) {
+					$this->debug("in getTypeDef: replacing schema namespace $ns with $ns0");
+					$ns = $ns0;
+					break;
+				}
+			}
+		}
+		if (isset($this->schemas[$ns])) {
+			$this->debug("in getTypeDef: have schema for namespace $ns");
+			for ($i = 0; $i < count($this->schemas[$ns]); $i++) {
+				$xs = &$this->schemas[$ns][$i];
+				$t = $xs->getTypeDef($type);
+				$this->appendDebug($xs->getDebug());
+				$xs->clearDebug();
+				if ($t) {
+					$this->debug("in getTypeDef: found type $type");
+					if (!isset($t['phpType'])) {
+						// get info for type to tack onto the element
+						$uqType = substr($t['type'], strrpos($t['type'], ':') + 1);
+						$ns = substr($t['type'], 0, strrpos($t['type'], ':'));
+						$etype = $this->getTypeDef($uqType, $ns);
+						if ($etype) {
+							$this->debug("found type for [element] $type:");
+							$this->debug($this->varDump($etype));
+							if (isset($etype['phpType'])) {
+								$t['phpType'] = $etype['phpType'];
+							}
+							if (isset($etype['elements'])) {
+								$t['elements'] = $etype['elements'];
+							}
+							if (isset($etype['attrs'])) {
+								$t['attrs'] = $etype['attrs'];
+							}
+						} else {
+							$this->debug("did not find type for [element] $type");
+						}
+					}
+					return $t;
+				}
+			}
+			$this->debug("in getTypeDef: did not find type $type");
+		} else {
+			$this->debug("in getTypeDef: do not have schema for namespace $ns");
+		}
+		return false;
+	}
+
+    /**
+    * prints html description of services
+    *
+    * @access private
+    */
+    function webDescription(){
+    	global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$PHP_SELF = $_SERVER['PHP_SELF'];
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$PHP_SELF = $HTTP_SERVER_VARS['PHP_SELF'];
+		} else {
+			$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+		}
+
+		$b = '
+		<html><head><title>NuSOAP: '.$this->serviceName.'</title>
+		<style type="text/css">
+		    body    { font-family: arial; color: #000000; background-color: #ffffff; margin: 0px 0px 0px 0px; }
+		    p       { font-family: arial; color: #000000; margin-top: 0px; margin-bottom: 12px; }
+		    pre { background-color: silver; padding: 5px; font-family: Courier New; font-size: x-small; color: #000000;}
+		    ul      { margin-top: 10px; margin-left: 20px; }
+		    li      { list-style-type: none; margin-top: 10px; color: #000000; }
+		    .content{
+			margin-left: 0px; padding-bottom: 2em; }
+		    .nav {
+			padding-top: 10px; padding-bottom: 10px; padding-left: 15px; font-size: .70em;
+			margin-top: 10px; margin-left: 0px; color: #000000;
+			background-color: #ccccff; width: 20%; margin-left: 20px; margin-top: 20px; }
+		    .title {
+			font-family: arial; font-size: 26px; color: #ffffff;
+			background-color: #999999; width: 100%;
+			margin-left: 0px; margin-right: 0px;
+			padding-top: 10px; padding-bottom: 10px;}
+		    .hidden {
+			position: absolute; visibility: hidden; z-index: 200; left: 250px; top: 100px;
+			font-family: arial; overflow: hidden; width: 600;
+			padding: 20px; font-size: 10px; background-color: #999999;
+			layer-background-color:#FFFFFF; }
+		    a,a:active  { color: charcoal; font-weight: bold; }
+		    a:visited   { color: #666666; font-weight: bold; }
+		    a:hover     { color: cc3300; font-weight: bold; }
+		</style>
+		<script language="JavaScript" type="text/javascript">
+		<!--
+		// POP-UP CAPTIONS...
+		function lib_bwcheck(){ //Browsercheck (needed)
+		    this.ver=navigator.appVersion
+		    this.agent=navigator.userAgent
+		    this.dom=document.getElementById?1:0
+		    this.opera5=this.agent.indexOf("Opera 5")>-1
+		    this.ie5=(this.ver.indexOf("MSIE 5")>-1 && this.dom && !this.opera5)?1:0;
+		    this.ie6=(this.ver.indexOf("MSIE 6")>-1 && this.dom && !this.opera5)?1:0;
+		    this.ie4=(document.all && !this.dom && !this.opera5)?1:0;
+		    this.ie=this.ie4||this.ie5||this.ie6
+		    this.mac=this.agent.indexOf("Mac")>-1
+		    this.ns6=(this.dom && parseInt(this.ver) >= 5) ?1:0;
+		    this.ns4=(document.layers && !this.dom)?1:0;
+		    this.bw=(this.ie6 || this.ie5 || this.ie4 || this.ns4 || this.ns6 || this.opera5)
+		    return this
+		}
+		var bw = new lib_bwcheck()
+		//Makes crossbrowser object.
+		function makeObj(obj){
+		    this.evnt=bw.dom? document.getElementById(obj):bw.ie4?document.all[obj]:bw.ns4?document.layers[obj]:0;
+		    if(!this.evnt) return false
+		    this.css=bw.dom||bw.ie4?this.evnt.style:bw.ns4?this.evnt:0;
+		    this.wref=bw.dom||bw.ie4?this.evnt:bw.ns4?this.css.document:0;
+		    this.writeIt=b_writeIt;
+		    return this
+		}
+		// A unit of measure that will be added when setting the position of a layer.
+		//var px = bw.ns4||window.opera?"":"px";
+		function b_writeIt(text){
+		    if (bw.ns4){this.wref.write(text);this.wref.close()}
+		    else this.wref.innerHTML = text
+		}
+		//Shows the messages
+		var oDesc;
+		function popup(divid){
+		    if(oDesc = new makeObj(divid)){
+			oDesc.css.visibility = "visible"
+		    }
+		}
+		function popout(){ // Hides message
+		    if(oDesc) oDesc.css.visibility = "hidden"
+		}
+		//-->
+		</script>
+		</head>
+		<body>
+		<div class=content>
+			<br><br>
+			<div class=title>'.htmlentities($this->serviceName).'</div>
+			<div class=nav>
+				<p>View the <a href="'.htmlentities($PHP_SELF).'?wsdl">WSDL</a> for the service.
+				Click on an operation name to view it&apos;s details.</p>
+				<ul>';
+				foreach($this->getOperations() as $op => $data){
+				    $b .= "<li><a href='#' onclick=\"popout();popup('$op')\">$op</a></li>";
+				    // create hidden div
+				    $b .= "<div id='$op' class='hidden'>
+				    <a href='#' onclick='popout()'><font color='#ffffff'>Close</font></a><br><br>";
+				    foreach($data as $donnie => $marie){ // loop through opdata
+						if($donnie == 'input' || $donnie == 'output'){ // show input/output data
+						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).':</font><br>';
+						    foreach($marie as $captain => $tenille){ // loop through data
+								if($captain == 'parts'){ // loop thru parts
+								    $b .= "&nbsp;&nbsp;".htmlentities($captain).":<br>";
+					                //if(is_array($tenille)){
+								    	foreach($tenille as $joanie => $chachi){
+											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;".htmlentities($joanie).": ".htmlentities($chachi)."<br>";
+								    	}
+					        		//}
+								} else {
+								    $b .= "&nbsp;&nbsp;".htmlentities($captain).": ".htmlentities($tenille)."<br>";
+								}
+						    }
+						} else {
+						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).":</font> ".htmlentities($marie)."<br>";
+						}
+				    }
+					$b .= '</div>';
+				}
+				$b .= '
+				<ul>
+			</div>
+		</div></body></html>';
+		return $b;
+    }
+
+	/**
+	* serialize the parsed wsdl
+	*
+	* @param mixed $debug whether to put debug=1 in endpoint URL
+	* @return string serialization of WSDL
+	* @access public 
+	*/
+	function serialize($debug = 0)
+	{
+		$xml = '<?xml version="1.0" encoding="ISO-8859-1"?>';
+		$xml .= "\n<definitions";
+		foreach($this->namespaces as $k => $v) {
+			$xml .= " xmlns:$k=\"$v\"";
+		} 
+		// 10.9.02 - add poulter fix for wsdl and tns declarations
+		if (isset($this->namespaces['wsdl'])) {
+			$xml .= " xmlns=\"" . $this->namespaces['wsdl'] . "\"";
+		} 
+		if (isset($this->namespaces['tns'])) {
+			$xml .= " targetNamespace=\"" . $this->namespaces['tns'] . "\"";
+		} 
+		$xml .= '>'; 
+		// imports
+		if (sizeof($this->import) > 0) {
+			foreach($this->import as $ns => $list) {
+				foreach ($list as $ii) {
+					if ($ii['location'] != '') {
+						$xml .= '<import location="' . $ii['location'] . '" namespace="' . $ns . '" />';
+					} else {
+						$xml .= '<import namespace="' . $ns . '" />';
+					}
+				}
+			} 
+		} 
+		// types
+		if (count($this->schemas)>=1) {
+			$xml .= "\n<types>\n";
+			foreach ($this->schemas as $ns => $list) {
+				foreach ($list as $xs) {
+					$xml .= $xs->serializeSchema();
+				}
+			}
+			$xml .= '</types>';
+		} 
+		// messages
+		if (count($this->messages) >= 1) {
+			foreach($this->messages as $msgName => $msgParts) {
+				$xml .= "\n<message name=\"" . $msgName . '">';
+				if(is_array($msgParts)){
+					foreach($msgParts as $partName => $partType) {
+						// print 'serializing '.$partType.', sv: '.$this->XMLSchemaVersion.'<br>';
+						if (strpos($partType, ':')) {
+						    $typePrefix = $this->getPrefixFromNamespace($this->getPrefix($partType));
+						} elseif (isset($this->typemap[$this->namespaces['xsd']][$partType])) {
+						    // print 'checking typemap: '.$this->XMLSchemaVersion.'<br>';
+						    $typePrefix = 'xsd';
+						} else {
+						    foreach($this->typemap as $ns => $types) {
+						        if (isset($types[$partType])) {
+						            $typePrefix = $this->getPrefixFromNamespace($ns);
+						        } 
+						    } 
+						    if (!isset($typePrefix)) {
+						        die("$partType has no namespace!");
+						    } 
+						}
+						$ns = $this->getNamespaceFromPrefix($typePrefix);
+						$localPart = $this->getLocalPart($partType);
+						$typeDef = $this->getTypeDef($localPart, $ns);
+						if ($typeDef['typeClass'] == 'element') {
+							$elementortype = 'element';
+							if (substr($localPart, -1) == '^') {
+								$localPart = substr($localPart, 0, -1);
+							}
+						} else {
+							$elementortype = 'type';
+						}
+						$xml .= "\n" . '  <part name="' . $partName . '" ' . $elementortype . '="' . $typePrefix . ':' . $localPart . '" />';
+					}
+				}
+				$xml .= '</message>';
+			} 
+		} 
+		// bindings & porttypes
+		if (count($this->bindings) >= 1) {
+			$binding_xml = '';
+			$portType_xml = '';
+			foreach($this->bindings as $bindingName => $attrs) {
+				$binding_xml .= "\n<binding name=\"" . $bindingName . '" type="tns:' . $attrs['portType'] . '">';
+				$binding_xml .= "\n" . '  <soap:binding style="' . $attrs['style'] . '" transport="' . $attrs['transport'] . '"/>';
+				$portType_xml .= "\n<portType name=\"" . $attrs['portType'] . '">';
+				foreach($attrs['operations'] as $opName => $opParts) {
+					$binding_xml .= "\n" . '  <operation name="' . $opName . '">';
+					$binding_xml .= "\n" . '    <soap:operation soapAction="' . $opParts['soapAction'] . '" style="'. $opParts['style'] . '"/>';
+					if (isset($opParts['input']['encodingStyle']) && $opParts['input']['encodingStyle'] != '') {
+						$enc_style = ' encodingStyle="' . $opParts['input']['encodingStyle'] . '"';
+					} else {
+						$enc_style = '';
+					}
+					$binding_xml .= "\n" . '    <input><soap:body use="' . $opParts['input']['use'] . '" namespace="' . $opParts['input']['namespace'] . '"' . $enc_style . '/></input>';
+					if (isset($opParts['output']['encodingStyle']) && $opParts['output']['encodingStyle'] != '') {
+						$enc_style = ' encodingStyle="' . $opParts['output']['encodingStyle'] . '"';
+					} else {
+						$enc_style = '';
+					}
+					$binding_xml .= "\n" . '    <output><soap:body use="' . $opParts['output']['use'] . '" namespace="' . $opParts['output']['namespace'] . '"' . $enc_style . '/></output>';
+					$binding_xml .= "\n" . '  </operation>';
+					$portType_xml .= "\n" . '  <operation name="' . $opParts['name'] . '"';
+					if (isset($opParts['parameterOrder'])) {
+					    $portType_xml .= ' parameterOrder="' . $opParts['parameterOrder'] . '"';
+					} 
+					$portType_xml .= '>';
+					if(isset($opParts['documentation']) && $opParts['documentation'] != '') {
+						$portType_xml .= "\n" . '    <documentation>' . htmlspecialchars($opParts['documentation']) . '</documentation>';
+					}
+					$portType_xml .= "\n" . '    <input message="tns:' . $opParts['input']['message'] . '"/>';
+					$portType_xml .= "\n" . '    <output message="tns:' . $opParts['output']['message'] . '"/>';
+					$portType_xml .= "\n" . '  </operation>';
+				} 
+				$portType_xml .= "\n" . '</portType>';
+				$binding_xml .= "\n" . '</binding>';
+			} 
+			$xml .= $portType_xml . $binding_xml;
+		} 
+		// services
+		$xml .= "\n<service name=\"" . $this->serviceName . '">';
+		if (count($this->ports) >= 1) {
+			foreach($this->ports as $pName => $attrs) {
+				$xml .= "\n" . '  <port name="' . $pName . '" binding="tns:' . $attrs['binding'] . '">';
+				$xml .= "\n" . '    <soap:address location="' . $attrs['location'] . ($debug ? '?debug=1' : '') . '"/>';
+				$xml .= "\n" . '  </port>';
+			} 
+		} 
+		$xml .= "\n" . '</service>';
+		return $xml . "\n</definitions>";
+	} 
+
+	/**
+	 * determine whether a set of parameters are unwrapped
+	 * when they are expect to be wrapped, Microsoft-style.
+	 *
+	 * @param string $type the type (element name) of the wrapper
+	 * @param array $parameters the parameter values for the SOAP call
+	 * @return boolean whether they parameters are unwrapped (and should be wrapped)
+	 * @access private
+	 */
+	function parametersMatchWrapped($type, &$parameters) {
+		$this->debug("in parametersMatchWrapped type=$type, parameters=");
+		$this->appendDebug($this->varDump($parameters));
+
+		// split type into namespace:unqualified-type
+		if (strpos($type, ':')) {
+			$uqType = substr($type, strrpos($type, ':') + 1);
+			$ns = substr($type, 0, strrpos($type, ':'));
+			$this->debug("in parametersMatchWrapped: got a prefixed type: $uqType, $ns");
+			if ($this->getNamespaceFromPrefix($ns)) {
+				$ns = $this->getNamespaceFromPrefix($ns);
+				$this->debug("in parametersMatchWrapped: expanded prefixed type: $uqType, $ns");
+			}
+		} else {
+			// TODO: should the type be compared to types in XSD, and the namespace
+			// set to XSD if the type matches?
+			$this->debug("in parametersMatchWrapped: No namespace for type $type");
+			$ns = '';
+			$uqType = $type;
+		}
+
+		// get the type information
+		if (!$typeDef = $this->getTypeDef($uqType, $ns)) {
+			$this->debug("in parametersMatchWrapped: $type ($uqType) is not a supported type.");
+			return false;
+		}
+		$this->debug("in parametersMatchWrapped: found typeDef=");
+		$this->appendDebug($this->varDump($typeDef));
+		if (substr($uqType, -1) == '^') {
+			$uqType = substr($uqType, 0, -1);
+		}
+		$phpType = $typeDef['phpType'];
+		$arrayType = (isset($typeDef['arrayType']) ? $typeDef['arrayType'] : '');
+		$this->debug("in parametersMatchWrapped: uqType: $uqType, ns: $ns, phptype: $phpType, arrayType: $arrayType");
+		
+		// we expect a complexType or element of complexType
+		if ($phpType != 'struct') {
+			$this->debug("in parametersMatchWrapped: not a struct");
+			return false;
+		}
+
+		// see whether the parameter names match the elements
+		if (isset($typeDef['elements']) && is_array($typeDef['elements'])) {
+			$elements = 0;
+			$matches = 0;
+			foreach ($typeDef['elements'] as $name => $attrs) {
+				if (isset($parameters[$name])) {
+					$this->debug("in parametersMatchWrapped: have parameter named $name");
+					$matches++;
+				} else {
+					$this->debug("in parametersMatchWrapped: do not have parameter named $name");
+				}
+				$elements++;
+			}
+
+			$this->debug("in parametersMatchWrapped: $matches parameter names match $elements wrapped parameter names");
+			if ($matches == 0) {
+				return false;
+			}
+			return true;
+		}
+
+		// since there are no elements for the type, if the user passed no
+		// parameters, the parameters match wrapped.
+		$this->debug("in parametersMatchWrapped: no elements type $ns:$uqType");
+		return count($parameters) == 0;
+	}
+
+	/**
+	 * serialize PHP values according to a WSDL message definition
+	 * contrary to the method name, this is not limited to RPC
+	 *
+	 * TODO
+	 * - multi-ref serialization
+	 * - validate PHP values against type definitions, return errors if invalid
+	 * 
+	 * @param string $operation operation name
+	 * @param string $direction (input|output)
+	 * @param mixed $parameters parameter value(s)
+	 * @param string $bindingType (soap|soap12)
+	 * @return mixed parameters serialized as XML or false on error (e.g. operation not found)
+	 * @access public
+	 */
+	function serializeRPCParameters($operation, $direction, $parameters, $bindingType = 'soap') {
+		$this->debug("in serializeRPCParameters: operation=$operation, direction=$direction, XMLSchemaVersion=$this->XMLSchemaVersion, bindingType=$bindingType");
+		$this->appendDebug('parameters=' . $this->varDump($parameters));
+		
+		if ($direction != 'input' && $direction != 'output') {
+			$this->debug('The value of the \$direction argument needs to be either "input" or "output"');
+			$this->setError('The value of the \$direction argument needs to be either "input" or "output"');
+			return false;
+		} 
+		if (!$opData = $this->getOperationData($operation, $bindingType)) {
+			$this->debug('Unable to retrieve WSDL data for operation: ' . $operation . ' bindingType: ' . $bindingType);
+			$this->setError('Unable to retrieve WSDL data for operation: ' . $operation . ' bindingType: ' . $bindingType);
+			return false;
+		}
+		$this->debug('in serializeRPCParameters: opData:');
+		$this->appendDebug($this->varDump($opData));
+
+		// Get encoding style for output and set to current
+		$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		if(($direction == 'input') && isset($opData['output']['encodingStyle']) && ($opData['output']['encodingStyle'] != $encodingStyle)) {
+			$encodingStyle = $opData['output']['encodingStyle'];
+			$enc_style = $encodingStyle;
+		}
+
+		// set input params
+		$xml = '';
+		if (isset($opData[$direction]['parts']) && sizeof($opData[$direction]['parts']) > 0) {
+			$parts = &$opData[$direction]['parts'];
+			$part_count = sizeof($parts);
+			$style = $opData['style'];
+			$use = $opData[$direction]['use'];
+			$this->debug("have $part_count part(s) to serialize using $style/$use");
+			if (is_array($parameters)) {
+				$parametersArrayType = $this->isArraySimpleOrStruct($parameters);
+				$parameter_count = count($parameters);
+				$this->debug("have $parameter_count parameter(s) provided as $parametersArrayType to serialize");
+				// check for Microsoft-style wrapped parameters
+				if ($style == 'document' && $use == 'literal' && $part_count == 1 && isset($parts['parameters'])) {
+					$this->debug('check whether the caller has wrapped the parameters');
+					if ($direction == 'output' && $parametersArrayType == 'arraySimple' && $parameter_count == 1) {
+						// TODO: consider checking here for double-wrapping, when
+						// service function wraps, then NuSOAP wraps again
+						$this->debug("change simple array to associative with 'parameters' element");
+						$parameters['parameters'] = $parameters[0];
+						unset($parameters[0]);
+					}
+					if (($parametersArrayType == 'arrayStruct' || $parameter_count == 0) && !isset($parameters['parameters'])) {
+						$this->debug('check whether caller\'s parameters match the wrapped ones');
+						if ($this->parametersMatchWrapped($parts['parameters'], $parameters)) {
+							$this->debug('wrap the parameters for the caller');
+							$parameters = array('parameters' => $parameters);
+							$parameter_count = 1;
+						}
+					}
+				}
+				foreach ($parts as $name => $type) {
+					$this->debug("serializing part $name of type $type");
+					// Track encoding style
+					if (isset($opData[$direction]['encodingStyle']) && $encodingStyle != $opData[$direction]['encodingStyle']) {
+						$encodingStyle = $opData[$direction]['encodingStyle'];			
+						$enc_style = $encodingStyle;
+					} else {
+						$enc_style = false;
+					}
+					// NOTE: add error handling here
+					// if serializeType returns false, then catch global error and fault
+					if ($parametersArrayType == 'arraySimple') {
+						$p = array_shift($parameters);
+						$this->debug('calling serializeType w/indexed param');
+						$xml .= $this->serializeType($name, $type, $p, $use, $enc_style);
+					} elseif (isset($parameters[$name])) {
+						$this->debug('calling serializeType w/named param');
+						$xml .= $this->serializeType($name, $type, $parameters[$name], $use, $enc_style);
+					} else {
+						// TODO: only send nillable
+						$this->debug('calling serializeType w/null param');
+						$xml .= $this->serializeType($name, $type, null, $use, $enc_style);
+					}
+				}
+			} else {
+				$this->debug('no parameters passed.');
+			}
+		}
+		$this->debug("serializeRPCParameters returning: $xml");
+		return $xml;
+	} 
+	
+	/**
+	 * serialize a PHP value according to a WSDL message definition
+	 * 
+	 * TODO
+	 * - multi-ref serialization
+	 * - validate PHP values against type definitions, return errors if invalid
+	 * 
+	 * @param string $operation operation name
+	 * @param string $direction (input|output)
+	 * @param mixed $parameters parameter value(s)
+	 * @return mixed parameters serialized as XML or false on error (e.g. operation not found)
+	 * @access public
+	 * @deprecated
+	 */
+	function serializeParameters($operation, $direction, $parameters)
+	{
+		$this->debug("in serializeParameters: operation=$operation, direction=$direction, XMLSchemaVersion=$this->XMLSchemaVersion"); 
+		$this->appendDebug('parameters=' . $this->varDump($parameters));
+		
+		if ($direction != 'input' && $direction != 'output') {
+			$this->debug('The value of the \$direction argument needs to be either "input" or "output"');
+			$this->setError('The value of the \$direction argument needs to be either "input" or "output"');
+			return false;
+		} 
+		if (!$opData = $this->getOperationData($operation)) {
+			$this->debug('Unable to retrieve WSDL data for operation: ' . $operation);
+			$this->setError('Unable to retrieve WSDL data for operation: ' . $operation);
+			return false;
+		}
+		$this->debug('opData:');
+		$this->appendDebug($this->varDump($opData));
+		
+		// Get encoding style for output and set to current
+		$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		if(($direction == 'input') && isset($opData['output']['encodingStyle']) && ($opData['output']['encodingStyle'] != $encodingStyle)) {
+			$encodingStyle = $opData['output']['encodingStyle'];
+			$enc_style = $encodingStyle;
+		}
+		
+		// set input params
+		$xml = '';
+		if (isset($opData[$direction]['parts']) && sizeof($opData[$direction]['parts']) > 0) {
+			
+			$use = $opData[$direction]['use'];
+			$this->debug("use=$use");
+			$this->debug('got ' . count($opData[$direction]['parts']) . ' part(s)');
+			if (is_array($parameters)) {
+				$parametersArrayType = $this->isArraySimpleOrStruct($parameters);
+				$this->debug('have ' . $parametersArrayType . ' parameters');
+				foreach($opData[$direction]['parts'] as $name => $type) {
+					$this->debug('serializing part "'.$name.'" of type "'.$type.'"');
+					// Track encoding style
+					if(isset($opData[$direction]['encodingStyle']) && $encodingStyle != $opData[$direction]['encodingStyle']) {
+						$encodingStyle = $opData[$direction]['encodingStyle'];			
+						$enc_style = $encodingStyle;
+					} else {
+						$enc_style = false;
+					}
+					// NOTE: add error handling here
+					// if serializeType returns false, then catch global error and fault
+					if ($parametersArrayType == 'arraySimple') {
+						$p = array_shift($parameters);
+						$this->debug('calling serializeType w/indexed param');
+						$xml .= $this->serializeType($name, $type, $p, $use, $enc_style);
+					} elseif (isset($parameters[$name])) {
+						$this->debug('calling serializeType w/named param');
+						$xml .= $this->serializeType($name, $type, $parameters[$name], $use, $enc_style);
+					} else {
+						// TODO: only send nillable
+						$this->debug('calling serializeType w/null param');
+						$xml .= $this->serializeType($name, $type, null, $use, $enc_style);
+					}
+				}
+			} else {
+				$this->debug('no parameters passed.');
+			}
+		}
+		$this->debug("serializeParameters returning: $xml");
+		return $xml;
+	} 
+	
+	/**
+	 * serializes a PHP value according a given type definition
+	 * 
+	 * @param string $name name of value (part or element)
+	 * @param string $type XML schema type of value (type or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $use use for part (encoded|literal)
+	 * @param string $encodingStyle SOAP encoding style for the value (if different than the enclosing style)
+	 * @param boolean $unqualified a kludge for what should be XML namespace form handling
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeType($name, $type, $value, $use='encoded', $encodingStyle=false, $unqualified=false)
+	{
+		$this->debug("in serializeType: name=$name, type=$type, use=$use, encodingStyle=$encodingStyle, unqualified=" . ($unqualified ? "unqualified" : "qualified"));
+		$this->appendDebug("value=" . $this->varDump($value));
+		if($use == 'encoded' && $encodingStyle) {
+			$encodingStyle = ' SOAP-ENV:encodingStyle="' . $encodingStyle . '"';
+		}
+
+		// if a soapval has been supplied, let its type override the WSDL
+    	if (is_object($value) && get_class($value) == 'soapval') {
+    		if ($value->type_ns) {
+    			$type = $value->type_ns . ':' . $value->type;
+		    	$forceType = true;
+		    	$this->debug("in serializeType: soapval overrides type to $type");
+    		} elseif ($value->type) {
+	    		$type = $value->type;
+		    	$forceType = true;
+		    	$this->debug("in serializeType: soapval overrides type to $type");
+	    	} else {
+	    		$forceType = false;
+		    	$this->debug("in serializeType: soapval does not override type");
+	    	}
+	    	$attrs = $value->attributes;
+	    	$value = $value->value;
+	    	$this->debug("in serializeType: soapval overrides value to $value");
+	    	if ($attrs) {
+	    		if (!is_array($value)) {
+	    			$value['!'] = $value;
+	    		}
+	    		foreach ($attrs as $n => $v) {
+	    			$value['!' . $n] = $v;
+	    		}
+		    	$this->debug("in serializeType: soapval provides attributes");
+		    }
+        } else {
+        	$forceType = false;
+        }
+
+		$xml = '';
+		if (strpos($type, ':')) {
+			$uqType = substr($type, strrpos($type, ':') + 1);
+			$ns = substr($type, 0, strrpos($type, ':'));
+			$this->debug("in serializeType: got a prefixed type: $uqType, $ns");
+			if ($this->getNamespaceFromPrefix($ns)) {
+				$ns = $this->getNamespaceFromPrefix($ns);
+				$this->debug("in serializeType: expanded prefixed type: $uqType, $ns");
+			}
+
+			if($ns == $this->XMLSchemaVersion || $ns == 'http://schemas.xmlsoap.org/soap/encoding/'){
+				$this->debug('in serializeType: type namespace indicates XML Schema or SOAP Encoding type');
+				if ($unqualified && $use == 'literal') {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+				if (is_null($value)) {
+					if ($use == 'literal') {
+						// TODO: depends on minOccurs
+						$xml = "<$name$elementNS/>";
+					} else {
+						// TODO: depends on nillable, which should be checked before calling this method
+						$xml = "<$name$elementNS xsi:nil=\"true\" xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"/>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				if ($uqType == 'Array') {
+					// JBoss/Axis does this sometimes
+					return $this->serialize_val($value, $name, false, false, false, false, $use);
+				}
+		    	if ($uqType == 'boolean') {
+		    		if ((is_string($value) && $value == 'false') || (! $value)) {
+						$value = 'false';
+					} else {
+						$value = 'true';
+					}
+				} 
+				if ($uqType == 'string' && gettype($value) == 'string') {
+					$value = $this->expandEntities($value);
+				}
+				if (($uqType == 'long' || $uqType == 'unsignedLong') && gettype($value) == 'double') {
+					$value = sprintf("%.0lf", $value);
+				}
+				// it's a scalar
+				// TODO: what about null/nil values?
+				// check type isn't a custom type extending xmlschema namespace
+				if (!$this->getTypeDef($uqType, $ns)) {
+					if ($use == 'literal') {
+						if ($forceType) {
+							$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">$value</$name>";
+						} else {
+							$xml = "<$name$elementNS>$value</$name>";
+						}
+					} else {
+						$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>$value</$name>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				$this->debug('custom type extends XML Schema or SOAP Encoding namespace (yuck)');
+			} else if ($ns == 'http://xml.apache.org/xml-soap') {
+				$this->debug('in serializeType: appears to be Apache SOAP type');
+				if ($uqType == 'Map') {
+					$tt_prefix = $this->getPrefixFromNamespace('http://xml.apache.org/xml-soap');
+					if (! $tt_prefix) {
+						$this->debug('in serializeType: Add namespace for Apache SOAP type');
+						$tt_prefix = 'ns' . rand(1000, 9999);
+						$this->namespaces[$tt_prefix] = 'http://xml.apache.org/xml-soap';
+						// force this to be added to usedNamespaces
+						$tt_prefix = $this->getPrefixFromNamespace('http://xml.apache.org/xml-soap');
+					}
+					$contents = '';
+					foreach($value as $k => $v) {
+						$this->debug("serializing map element: key $k, value $v");
+						$contents .= '<item>';
+						$contents .= $this->serialize_val($k,'key',false,false,false,false,$use);
+						$contents .= $this->serialize_val($v,'value',false,false,false,false,$use);
+						$contents .= '</item>';
+					}
+					if ($use == 'literal') {
+						if ($forceType) {
+							$xml = "<$name xsi:type=\"" . $tt_prefix . ":$uqType\">$contents</$name>";
+						} else {
+							$xml = "<$name>$contents</$name>";
+						}
+					} else {
+						$xml = "<$name xsi:type=\"" . $tt_prefix . ":$uqType\"$encodingStyle>$contents</$name>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				$this->debug('in serializeType: Apache SOAP type, but only support Map');
+			}
+		} else {
+			// TODO: should the type be compared to types in XSD, and the namespace
+			// set to XSD if the type matches?
+			$this->debug("in serializeType: No namespace for type $type");
+			$ns = '';
+			$uqType = $type;
+		}
+		if(!$typeDef = $this->getTypeDef($uqType, $ns)){
+			$this->setError("$type ($uqType) is not a supported type.");
+			$this->debug("in serializeType: $type ($uqType) is not a supported type.");
+			return false;
+		} else {
+			$this->debug("in serializeType: found typeDef");
+			$this->appendDebug('typeDef=' . $this->varDump($typeDef));
+			if (substr($uqType, -1) == '^') {
+				$uqType = substr($uqType, 0, -1);
+			}
+		}
+		if (!isset($typeDef['phpType'])) {
+			$this->setError("$type ($uqType) has no phpType.");
+			$this->debug("in serializeType: $type ($uqType) has no phpType.");
+			return false;
+		}
+		$phpType = $typeDef['phpType'];
+		$this->debug("in serializeType: uqType: $uqType, ns: $ns, phptype: $phpType, arrayType: " . (isset($typeDef['arrayType']) ? $typeDef['arrayType'] : '') ); 
+		// if php type == struct, map value to the <all> element names
+		if ($phpType == 'struct') {
+			if (isset($typeDef['typeClass']) && $typeDef['typeClass'] == 'element') {
+				$elementName = $uqType;
+				if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+					$elementNS = " xmlns=\"$ns\"";
+				} else {
+					$elementNS = " xmlns=\"\"";
+				}
+			} else {
+				$elementName = $name;
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if (is_null($value)) {
+				if ($use == 'literal') {
+					// TODO: depends on minOccurs and nillable
+					$xml = "<$elementName$elementNS/>";
+				} else {
+					$xml = "<$elementName$elementNS xsi:nil=\"true\" xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"/>";
+				}
+				$this->debug("in serializeType: returning: $xml");
+				return $xml;
+			}
+			if (is_object($value)) {
+				$value = get_object_vars($value);
+			}
+			if (is_array($value)) {
+				$elementAttrs = $this->serializeComplexTypeAttributes($typeDef, $value, $ns, $uqType);
+				if ($use == 'literal') {
+					if ($forceType) {
+						$xml = "<$elementName$elementNS$elementAttrs xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">";
+					} else {
+						$xml = "<$elementName$elementNS$elementAttrs>";
+					}
+				} else {
+					$xml = "<$elementName$elementNS$elementAttrs xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>";
+				}
+
+				if (isset($typeDef['simpleContent']) && $typeDef['simpleContent'] == 'true') {
+					if (isset($value['!'])) {
+						$xml .= $value['!'];
+						$this->debug("in serializeType: serialized simpleContent for type $type");
+					} else {
+						$this->debug("in serializeType: no simpleContent to serialize for type $type");
+					}
+				} else {
+					// complexContent
+					$xml .= $this->serializeComplexTypeElements($typeDef, $value, $ns, $uqType, $use, $encodingStyle);
+				}
+				$xml .= "</$elementName>";
+			} else {
+				$this->debug("in serializeType: phpType is struct, but value is not an array");
+				$this->setError("phpType is struct, but value is not an array: see debug output for details");
+				$xml = '';
+			}
+		} elseif ($phpType == 'array') {
+			if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+				$elementNS = " xmlns=\"$ns\"";
+			} else {
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if (is_null($value)) {
+				if ($use == 'literal') {
+					// TODO: depends on minOccurs
+					$xml = "<$name$elementNS/>";
+				} else {
+					$xml = "<$name$elementNS xsi:nil=\"true\" xsi:type=\"" .
+						$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/') .
+						":Array\" " .
+						$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/') .
+						':arrayType="' .
+						$this->getPrefixFromNamespace($this->getPrefix($typeDef['arrayType'])) .
+						':' .
+						$this->getLocalPart($typeDef['arrayType'])."[0]\"/>";
+				}
+				$this->debug("in serializeType: returning: $xml");
+				return $xml;
+			}
+			if (isset($typeDef['multidimensional'])) {
+				$nv = array();
+				foreach($value as $v) {
+					$cols = ',' . sizeof($v);
+					$nv = array_merge($nv, $v);
+				} 
+				$value = $nv;
+			} else {
+				$cols = '';
+			} 
+			if (is_array($value) && sizeof($value) >= 1) {
+				$rows = sizeof($value);
+				$contents = '';
+				foreach($value as $k => $v) {
+					$this->debug("serializing array element: $k, $v of type: $typeDef[arrayType]");
+					//if (strpos($typeDef['arrayType'], ':') ) {
+					if (!in_array($typeDef['arrayType'],$this->typemap['http://www.w3.org/2001/XMLSchema'])) {
+					    $contents .= $this->serializeType('item', $typeDef['arrayType'], $v, $use);
+					} else {
+					    $contents .= $this->serialize_val($v, 'item', $typeDef['arrayType'], null, $this->XMLSchemaVersion, false, $use);
+					} 
+				}
+			} else {
+				$rows = 0;
+				$contents = null;
+			}
+			// TODO: for now, an empty value will be serialized as a zero element
+			// array.  Revisit this when coding the handling of null/nil values.
+			if ($use == 'literal') {
+				$xml = "<$name$elementNS>"
+					.$contents
+					."</$name>";
+			} else {
+				$xml = "<$name$elementNS xsi:type=\"".$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/').':Array" '.
+					$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/')
+					.':arrayType="'
+					.$this->getPrefixFromNamespace($this->getPrefix($typeDef['arrayType']))
+					.":".$this->getLocalPart($typeDef['arrayType'])."[$rows$cols]\">"
+					.$contents
+					."</$name>";
+			}
+		} elseif ($phpType == 'scalar') {
+			if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+				$elementNS = " xmlns=\"$ns\"";
+			} else {
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if ($use == 'literal') {
+				if ($forceType) {
+					$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">$value</$name>";
+				} else {
+					$xml = "<$name$elementNS>$value</$name>";
+				}
+			} else {
+				$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>$value</$name>";
+			}
+		}
+		$this->debug("in serializeType: returning: $xml");
+		return $xml;
+	}
+	
+	/**
+	 * serializes the attributes for a complexType
+	 *
+	 * @param array $typeDef our internal representation of an XML schema type (or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $ns the namespace of the type
+	 * @param string $uqType the local part of the type
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeComplexTypeAttributes($typeDef, $value, $ns, $uqType) {
+		$this->debug("serializeComplexTypeAttributes for XML Schema type $ns:$uqType");
+		$xml = '';
+		if (isset($typeDef['extensionBase'])) {
+			$nsx = $this->getPrefix($typeDef['extensionBase']);
+			$uqTypex = $this->getLocalPart($typeDef['extensionBase']);
+			if ($this->getNamespaceFromPrefix($nsx)) {
+				$nsx = $this->getNamespaceFromPrefix($nsx);
+			}
+			if ($typeDefx = $this->getTypeDef($uqTypex, $nsx)) {
+				$this->debug("serialize attributes for extension base $nsx:$uqTypex");
+				$xml .= $this->serializeComplexTypeAttributes($typeDefx, $value, $nsx, $uqTypex);
+			} else {
+				$this->debug("extension base $nsx:$uqTypex is not a supported type");
+			}
+		}
+		if (isset($typeDef['attrs']) && is_array($typeDef['attrs'])) {
+			$this->debug("serialize attributes for XML Schema type $ns:$uqType");
+			if (is_array($value)) {
+				$xvalue = $value;
+			} elseif (is_object($value)) {
+				$xvalue = get_object_vars($value);
+			} else {
+				$this->debug("value is neither an array nor an object for XML Schema type $ns:$uqType");
+				$xvalue = array();
+			}
+			foreach ($typeDef['attrs'] as $aName => $attrs) {
+				if (isset($xvalue['!' . $aName])) {
+					$xname = '!' . $aName;
+					$this->debug("value provided for attribute $aName with key $xname");
+				} elseif (isset($xvalue[$aName])) {
+					$xname = $aName;
+					$this->debug("value provided for attribute $aName with key $xname");
+				} elseif (isset($attrs['default'])) {
+					$xname = '!' . $aName;
+					$xvalue[$xname] = $attrs['default'];
+					$this->debug('use default value of ' . $xvalue[$aName] . ' for attribute ' . $aName);
+				} else {
+					$xname = '';
+					$this->debug("no value provided for attribute $aName");
+				}
+				if ($xname) {
+					$xml .=  " $aName=\"" . $this->expandEntities($xvalue[$xname]) . "\"";
+				}
+			} 
+		} else {
+			$this->debug("no attributes to serialize for XML Schema type $ns:$uqType");
+		}
+		return $xml;
+	}
+
+	/**
+	 * serializes the elements for a complexType
+	 *
+	 * @param array $typeDef our internal representation of an XML schema type (or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $ns the namespace of the type
+	 * @param string $uqType the local part of the type
+	 * @param string $use use for part (encoded|literal)
+	 * @param string $encodingStyle SOAP encoding style for the value (if different than the enclosing style)
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeComplexTypeElements($typeDef, $value, $ns, $uqType, $use='encoded', $encodingStyle=false) {
+		$this->debug("in serializeComplexTypeElements for XML Schema type $ns:$uqType");
+		$xml = '';
+		if (isset($typeDef['extensionBase'])) {
+			$nsx = $this->getPrefix($typeDef['extensionBase']);
+			$uqTypex = $this->getLocalPart($typeDef['extensionBase']);
+			if ($this->getNamespaceFromPrefix($nsx)) {
+				$nsx = $this->getNamespaceFromPrefix($nsx);
+			}
+			if ($typeDefx = $this->getTypeDef($uqTypex, $nsx)) {
+				$this->debug("serialize elements for extension base $nsx:$uqTypex");
+				$xml .= $this->serializeComplexTypeElements($typeDefx, $value, $nsx, $uqTypex, $use, $encodingStyle);
+			} else {
+				$this->debug("extension base $nsx:$uqTypex is not a supported type");
+			}
+		}
+		if (isset($typeDef['elements']) && is_array($typeDef['elements'])) {
+			$this->debug("in serializeComplexTypeElements, serialize elements for XML Schema type $ns:$uqType");
+			if (is_array($value)) {
+				$xvalue = $value;
+			} elseif (is_object($value)) {
+				$xvalue = get_object_vars($value);
+			} else {
+				$this->debug("value is neither an array nor an object for XML Schema type $ns:$uqType");
+				$xvalue = array();
+			}
+			// toggle whether all elements are present - ideally should validate against schema
+			if (count($typeDef['elements']) != count($xvalue)){
+				$optionals = true;
+			}
+			foreach ($typeDef['elements'] as $eName => $attrs) {
+				if (!isset($xvalue[$eName])) {
+					if (isset($attrs['default'])) {
+						$xvalue[$eName] = $attrs['default'];
+						$this->debug('use default value of ' . $xvalue[$eName] . ' for element ' . $eName);
+					}
+				}
+				// if user took advantage of a minOccurs=0, then only serialize named parameters
+				if (isset($optionals)
+				    && (!isset($xvalue[$eName])) 
+					&& ( (!isset($attrs['nillable'])) || $attrs['nillable'] != 'true')
+					){
+					if (isset($attrs['minOccurs']) && $attrs['minOccurs'] <> '0') {
+						$this->debug("apparent error: no value provided for element $eName with minOccurs=" . $attrs['minOccurs']);
+					}
+					// do nothing
+					$this->debug("no value provided for complexType element $eName and element is not nillable, so serialize nothing");
+				} else {
+					// get value
+					if (isset($xvalue[$eName])) {
+					    $v = $xvalue[$eName];
+					} else {
+					    $v = null;
+					}
+					if (isset($attrs['form'])) {
+						$unqualified = ($attrs['form'] == 'unqualified');
+					} else {
+						$unqualified = false;
+					}
+					if (isset($attrs['maxOccurs']) && ($attrs['maxOccurs'] == 'unbounded' || $attrs['maxOccurs'] > 1) && isset($v) && is_array($v) && $this->isArraySimpleOrStruct($v) == 'arraySimple') {
+						$vv = $v;
+						foreach ($vv as $k => $v) {
+							if (isset($attrs['type']) || isset($attrs['ref'])) {
+								// serialize schema-defined type
+							    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+							} else {
+								// serialize generic type (can this ever really happen?)
+							    $this->debug("calling serialize_val() for $v, $eName, false, false, false, false, $use");
+							    $xml .= $this->serialize_val($v, $eName, false, false, false, false, $use);
+							}
+						}
+					} else {
+						if (is_null($v) && isset($attrs['minOccurs']) && $attrs['minOccurs'] == '0') {
+							// do nothing
+						} elseif (is_null($v) && isset($attrs['nillable']) && $attrs['nillable'] == 'true') {
+							// TODO: serialize a nil correctly, but for now serialize schema-defined type
+						    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+						} elseif (isset($attrs['type']) || isset($attrs['ref'])) {
+							// serialize schema-defined type
+						    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+						} else {
+							// serialize generic type (can this ever really happen?)
+						    $this->debug("calling serialize_val() for $v, $eName, false, false, false, false, $use");
+						    $xml .= $this->serialize_val($v, $eName, false, false, false, false, $use);
+						}
+					}
+				}
+			} 
+		} else {
+			$this->debug("no elements to serialize for XML Schema type $ns:$uqType");
+		}
+		return $xml;
+	}
+
+	/**
+	* adds an XML Schema complex type to the WSDL types
+	*
+	* @param string	$name
+	* @param string $typeClass (complexType|simpleType|attribute)
+	* @param string $phpType currently supported are array and struct (php assoc array)
+	* @param string $compositor (all|sequence|choice)
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param array $elements e.g. array ( name => array(name=>'',type=>'') )
+	* @param array $attrs e.g. array(array('ref'=>'SOAP-ENC:arrayType','wsdl:arrayType'=>'xsd:string[]'))
+	* @param string $arrayType as namespace:name (xsd:string)
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addComplexType($name,$typeClass='complexType',$phpType='array',$compositor='',$restrictionBase='',$elements=array(),$attrs=array(),$arrayType='') {
+		if (count($elements) > 0) {
+			$eElements = array();
+	    	foreach($elements as $n => $e){
+	            // expand each element
+	            $ee = array();
+	            foreach ($e as $k => $v) {
+		            $k = strpos($k,':') ? $this->expandQname($k) : $k;
+		            $v = strpos($v,':') ? $this->expandQname($v) : $v;
+		            $ee[$k] = $v;
+		    	}
+	    		$eElements[$n] = $ee;
+	    	}
+	    	$elements = $eElements;
+		}
+		
+		if (count($attrs) > 0) {
+	    	foreach($attrs as $n => $a){
+	            // expand each attribute
+	            foreach ($a as $k => $v) {
+		            $k = strpos($k,':') ? $this->expandQname($k) : $k;
+		            $v = strpos($v,':') ? $this->expandQname($v) : $v;
+		            $aa[$k] = $v;
+		    	}
+	    		$eAttrs[$n] = $aa;
+	    	}
+	    	$attrs = $eAttrs;
+		}
+
+		$restrictionBase = strpos($restrictionBase,':') ? $this->expandQname($restrictionBase) : $restrictionBase;
+		$arrayType = strpos($arrayType,':') ? $this->expandQname($arrayType) : $arrayType;
+
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addComplexType($name,$typeClass,$phpType,$compositor,$restrictionBase,$elements,$attrs,$arrayType);
+	}
+
+	/**
+	* adds an XML Schema simple type to the WSDL types
+	*
+	* @param string $name
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param string $typeClass (should always be simpleType)
+	* @param string $phpType (should always be scalar)
+	* @param array $enumeration array of values
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addSimpleType($name, $restrictionBase='', $typeClass='simpleType', $phpType='scalar', $enumeration=array()) {
+		$restrictionBase = strpos($restrictionBase,':') ? $this->expandQname($restrictionBase) : $restrictionBase;
+
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addSimpleType($name, $restrictionBase, $typeClass, $phpType, $enumeration);
+	}
+
+	/**
+	* adds an element to the WSDL types
+	*
+	* @param array $attrs attributes that must include name and type
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addElement($attrs) {
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addElement($attrs);
+	}
+
+	/**
+	* register an operation with the server
+	* 
+	* @param string $name operation (method) name
+	* @param array $in assoc array of input values: key = param name, value = param type
+	* @param array $out assoc array of output values: key = param name, value = param type
+	* @param string $namespace optional The namespace for the operation
+	* @param string $soapaction optional The soapaction for the operation
+	* @param string $style (rpc|document) optional The style for the operation Note: when 'document' is specified, parameter and return wrappers are created for you automatically
+	* @param string $use (encoded|literal) optional The use for the parameters (cannot mix right now)
+	* @param string $documentation optional The description to include in the WSDL
+	* @param string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+	* @access public 
+	*/
+	function addOperation($name, $in = false, $out = false, $namespace = false, $soapaction = false, $style = 'rpc', $use = 'encoded', $documentation = '', $encodingStyle = ''){
+		if ($use == 'encoded' && $encodingStyle == '') {
+			$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		}
+
+		if ($style == 'document') {
+			$elements = array();
+			foreach ($in as $n => $t) {
+				$elements[$n] = array('name' => $n, 'type' => $t, 'form' => 'unqualified');
+			}
+			$this->addComplexType($name . 'RequestType', 'complexType', 'struct', 'all', '', $elements);
+			$this->addElement(array('name' => $name, 'type' => $name . 'RequestType'));
+			$in = array('parameters' => 'tns:' . $name . '^');
+
+			$elements = array();
+			foreach ($out as $n => $t) {
+				$elements[$n] = array('name' => $n, 'type' => $t, 'form' => 'unqualified');
+			}
+			$this->addComplexType($name . 'ResponseType', 'complexType', 'struct', 'all', '', $elements);
+			$this->addElement(array('name' => $name . 'Response', 'type' => $name . 'ResponseType', 'form' => 'qualified'));
+			$out = array('parameters' => 'tns:' . $name . 'Response' . '^');
+		}
+
+		// get binding
+		$this->bindings[ $this->serviceName . 'Binding' ]['operations'][$name] =
+		array(
+		'name' => $name,
+		'binding' => $this->serviceName . 'Binding',
+		'endpoint' => $this->endpoint,
+		'soapAction' => $soapaction,
+		'style' => $style,
+		'input' => array(
+			'use' => $use,
+			'namespace' => $namespace,
+			'encodingStyle' => $encodingStyle,
+			'message' => $name . 'Request',
+			'parts' => $in),
+		'output' => array(
+			'use' => $use,
+			'namespace' => $namespace,
+			'encodingStyle' => $encodingStyle,
+			'message' => $name . 'Response',
+			'parts' => $out),
+		'namespace' => $namespace,
+		'transport' => 'http://schemas.xmlsoap.org/soap/http',
+		'documentation' => $documentation); 
+		// add portTypes
+		// add messages
+		if($in)
+		{
+			foreach($in as $pName => $pType)
+			{
+				if(strpos($pType,':')) {
+					$pType = $this->getNamespaceFromPrefix($this->getPrefix($pType)).":".$this->getLocalPart($pType);
+				}
+				$this->messages[$name.'Request'][$pName] = $pType;
+			}
+		} else {
+            $this->messages[$name.'Request']= '0';
+        }
+		if($out)
+		{
+			foreach($out as $pName => $pType)
+			{
+				if(strpos($pType,':')) {
+					$pType = $this->getNamespaceFromPrefix($this->getPrefix($pType)).":".$this->getLocalPart($pType);
+				}
+				$this->messages[$name.'Response'][$pName] = $pType;
+			}
+		} else {
+            $this->messages[$name.'Response']= '0';
+        }
+		return true;
+	} 
+}
+
+?>
diff -rNU5 phpBB3-init/library/nusoap/class.xmlschema.php phpBB3/library/nusoap/class.xmlschema.php
--- phpBB3-init/library/nusoap/class.xmlschema.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/class.xmlschema.php	2013-01-28 17:31:47.732708651 +0100
@@ -0,0 +1,973 @@
+<?php
+
+
+
+
+/**
+* parses an XML Schema, allows access to it's data, other utility methods.
+* imperfect, no validation... yet, but quite functional.
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: class.xmlschema.php,v 1.53 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_xmlschema extends nusoap_base  {
+	
+	// files
+	var $schema = '';
+	var $xml = '';
+	// namespaces
+	var $enclosingNamespaces;
+	// schema info
+	var $schemaInfo = array();
+	var $schemaTargetNamespace = '';
+	// types, elements, attributes defined by the schema
+	var $attributes = array();
+	var $complexTypes = array();
+	var $complexTypeStack = array();
+	var $currentComplexType = null;
+	var $elements = array();
+	var $elementStack = array();
+	var $currentElement = null;
+	var $simpleTypes = array();
+	var $simpleTypeStack = array();
+	var $currentSimpleType = null;
+	// imports
+	var $imports = array();
+	// parser vars
+	var $parser;
+	var $position = 0;
+	var $depth = 0;
+	var $depth_array = array();
+	var $message = array();
+	var $defaultNamespace = array();
+    
+	/**
+	* constructor
+	*
+	* @param    string $schema schema document URI
+	* @param    string $xml xml document URI
+	* @param	string $namespaces namespaces defined in enclosing XML
+	* @access   public
+	*/
+	function nusoap_xmlschema($schema='',$xml='',$namespaces=array()){
+		parent::nusoap_base();
+		$this->debug('nusoap_xmlschema class instantiated, inside constructor');
+		// files
+		$this->schema = $schema;
+		$this->xml = $xml;
+
+		// namespaces
+		$this->enclosingNamespaces = $namespaces;
+		$this->namespaces = array_merge($this->namespaces, $namespaces);
+
+		// parse schema file
+		if($schema != ''){
+			$this->debug('initial schema file: '.$schema);
+			$this->parseFile($schema, 'schema');
+		}
+
+		// parse xml file
+		if($xml != ''){
+			$this->debug('initial xml file: '.$xml);
+			$this->parseFile($xml, 'xml');
+		}
+
+	}
+
+    /**
+    * parse an XML file
+    *
+    * @param string $xml path/URL to XML file
+    * @param string $type (schema | xml)
+	* @return boolean
+    * @access public
+    */
+	function parseFile($xml,$type){
+		// parse xml file
+		if($xml != ""){
+			$xmlStr = @join("",@file($xml));
+			if($xmlStr == ""){
+				$msg = 'Error reading XML from '.$xml;
+				$this->setError($msg);
+				$this->debug($msg);
+			return false;
+			} else {
+				$this->debug("parsing $xml");
+				$this->parseString($xmlStr,$type);
+				$this->debug("done parsing $xml");
+			return true;
+			}
+		}
+		return false;
+	}
+
+	/**
+	* parse an XML string
+	*
+	* @param    string $xml path or URL
+    * @param	string $type (schema|xml)
+	* @access   private
+	*/
+	function parseString($xml,$type){
+		// parse xml string
+		if($xml != ""){
+
+	    	// Create an XML parser.
+	    	$this->parser = xml_parser_create();
+	    	// Set the options for parsing the XML data.
+	    	xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0);
+
+	    	// Set the object for the parser.
+	    	xml_set_object($this->parser, $this);
+
+	    	// Set the element handlers for the parser.
+			if($type == "schema"){
+		    	xml_set_element_handler($this->parser, 'schemaStartElement','schemaEndElement');
+		    	xml_set_character_data_handler($this->parser,'schemaCharacterData');
+			} elseif($type == "xml"){
+				xml_set_element_handler($this->parser, 'xmlStartElement','xmlEndElement');
+		    	xml_set_character_data_handler($this->parser,'xmlCharacterData');
+			}
+
+		    // Parse the XML file.
+		    if(!xml_parse($this->parser,$xml,true)){
+			// Display an error message.
+				$errstr = sprintf('XML error parsing XML schema on line %d: %s',
+				xml_get_current_line_number($this->parser),
+				xml_error_string(xml_get_error_code($this->parser))
+				);
+				$this->debug($errstr);
+				$this->debug("XML payload:\n" . $xml);
+				$this->setError($errstr);
+	    	}
+            
+			xml_parser_free($this->parser);
+		} else{
+			$this->debug('no xml passed to parseString()!!');
+			$this->setError('no xml passed to parseString()!!');
+		}
+	}
+
+	/**
+	 * gets a type name for an unnamed type
+	 *
+	 * @param	string	Element name
+	 * @return	string	A type name for an unnamed type
+	 * @access	private
+	 */
+	function CreateTypeName($ename) {
+		$scope = '';
+		for ($i = 0; $i < count($this->complexTypeStack); $i++) {
+			$scope .= $this->complexTypeStack[$i] . '_';
+		}
+		return $scope . $ename . '_ContainedType';
+	}
+	
+	/**
+	* start-element handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $name element name
+	* @param    string $attrs associative array of attributes
+	* @access   private
+	*/
+	function schemaStartElement($parser, $name, $attrs) {
+		
+		// position in the total number of elements, starting from 0
+		$pos = $this->position++;
+		$depth = $this->depth++;
+		// set self as current value for this depth
+		$this->depth_array[$depth] = $pos;
+		$this->message[$pos] = array('cdata' => ''); 
+		if ($depth > 0) {
+			$this->defaultNamespace[$pos] = $this->defaultNamespace[$this->depth_array[$depth - 1]];
+		} else {
+			$this->defaultNamespace[$pos] = false;
+		}
+
+		// get element prefix
+		if($prefix = $this->getPrefix($name)){
+			// get unqualified name
+			$name = $this->getLocalPart($name);
+		} else {
+        	$prefix = '';
+        }
+		
+        // loop thru attributes, expanding, and registering namespace declarations
+        if(count($attrs) > 0){
+        	foreach($attrs as $k => $v){
+                // if ns declarations, add to class level array of valid namespaces
+				if(preg_match('/^xmlns/',$k)){
+                	//$this->xdebug("$k: $v");
+                	//$this->xdebug('ns_prefix: '.$this->getPrefix($k));
+                	if($ns_prefix = substr(strrchr($k,':'),1)){
+                		//$this->xdebug("Add namespace[$ns_prefix] = $v");
+						$this->namespaces[$ns_prefix] = $v;
+					} else {
+						$this->defaultNamespace[$pos] = $v;
+						if (! $this->getPrefixFromNamespace($v)) {
+							$this->namespaces['ns'.(count($this->namespaces)+1)] = $v;
+						}
+					}
+					if($v == 'http://www.w3.org/2001/XMLSchema' || $v == 'http://www.w3.org/1999/XMLSchema' || $v == 'http://www.w3.org/2000/10/XMLSchema'){
+						$this->XMLSchemaVersion = $v;
+						$this->namespaces['xsi'] = $v.'-instance';
+					}
+				}
+        	}
+        	foreach($attrs as $k => $v){
+                // expand each attribute
+                $k = strpos($k,':') ? $this->expandQname($k) : $k;
+                $v = strpos($v,':') ? $this->expandQname($v) : $v;
+        		$eAttrs[$k] = $v;
+        	}
+        	$attrs = $eAttrs;
+        } else {
+        	$attrs = array();
+        }
+		// find status, register data
+		switch($name){
+			case 'all':			// (optional) compositor content for a complexType
+			case 'choice':
+			case 'group':
+			case 'sequence':
+				//$this->xdebug("compositor $name for currentComplexType: $this->currentComplexType and currentElement: $this->currentElement");
+				$this->complexTypes[$this->currentComplexType]['compositor'] = $name;
+				//if($name == 'all' || $name == 'sequence'){
+				//	$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+				//}
+			break;
+			case 'attribute':	// complexType attribute
+            	//$this->xdebug("parsing attribute $attrs[name] $attrs[ref] of value: ".$attrs['http://schemas.xmlsoap.org/wsdl/:arrayType']);
+            	$this->xdebug("parsing attribute:");
+            	$this->appendDebug($this->varDump($attrs));
+				if (!isset($attrs['form'])) {
+					// TODO: handle globals
+					$attrs['form'] = $this->schemaInfo['attributeFormDefault'];
+				}
+            	if (isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])) {
+					$v = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+					if (!strpos($v, ':')) {
+						// no namespace in arrayType attribute value...
+						if ($this->defaultNamespace[$pos]) {
+							// ...so use the default
+							$attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'] = $this->defaultNamespace[$pos] . ':' . $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+						}
+					}
+            	}
+                if(isset($attrs['name'])){
+					$this->attributes[$attrs['name']] = $attrs;
+					$aname = $attrs['name'];
+				} elseif(isset($attrs['ref']) && $attrs['ref'] == 'http://schemas.xmlsoap.org/soap/encoding/:arrayType'){
+					if (isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])) {
+	                	$aname = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+	                } else {
+	                	$aname = '';
+	                }
+				} elseif(isset($attrs['ref'])){
+					$aname = $attrs['ref'];
+                    $this->attributes[$attrs['ref']] = $attrs;
+				}
+                
+				if($this->currentComplexType){	// This should *always* be
+					$this->complexTypes[$this->currentComplexType]['attrs'][$aname] = $attrs;
+				}
+				// arrayType attribute
+				if(isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType']) || $this->getLocalPart($aname) == 'arrayType'){
+					$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+                	$prefix = $this->getPrefix($aname);
+					if(isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])){
+						$v = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+					} else {
+						$v = '';
+					}
+                    if(strpos($v,'[,]')){
+                        $this->complexTypes[$this->currentComplexType]['multidimensional'] = true;
+                    }
+                    $v = substr($v,0,strpos($v,'[')); // clip the []
+                    if(!strpos($v,':') && isset($this->typemap[$this->XMLSchemaVersion][$v])){
+                        $v = $this->XMLSchemaVersion.':'.$v;
+                    }
+                    $this->complexTypes[$this->currentComplexType]['arrayType'] = $v;
+				}
+			break;
+			case 'complexContent':	// (optional) content for a complexType
+				$this->xdebug("do nothing for element $name");
+			break;
+			case 'complexType':
+				array_push($this->complexTypeStack, $this->currentComplexType);
+				if(isset($attrs['name'])){
+					// TODO: what is the scope of named complexTypes that appear
+					//       nested within other c complexTypes?
+					$this->xdebug('processing named complexType '.$attrs['name']);
+					//$this->currentElement = false;
+					$this->currentComplexType = $attrs['name'];
+					$this->complexTypes[$this->currentComplexType] = $attrs;
+					$this->complexTypes[$this->currentComplexType]['typeClass'] = 'complexType';
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if(isset($attrs['base']) && preg_match('/:Array$/',$attrs['base'])){
+						$this->xdebug('complexType is unusual array');
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					} else {
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+					}
+				} else {
+					$name = $this->CreateTypeName($this->currentElement);
+					$this->xdebug('processing unnamed complexType for element ' . $this->currentElement . ' named ' . $name);
+					$this->currentComplexType = $name;
+					//$this->currentElement = false;
+					$this->complexTypes[$this->currentComplexType] = $attrs;
+					$this->complexTypes[$this->currentComplexType]['typeClass'] = 'complexType';
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if(isset($attrs['base']) && preg_match('/:Array$/',$attrs['base'])){
+						$this->xdebug('complexType is unusual array');
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					} else {
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+					}
+				}
+				$this->complexTypes[$this->currentComplexType]['simpleContent'] = 'false';
+			break;
+			case 'element':
+				array_push($this->elementStack, $this->currentElement);
+				if (!isset($attrs['form'])) {
+					if ($this->currentComplexType) {
+						$attrs['form'] = $this->schemaInfo['elementFormDefault'];
+					} else {
+						// global
+						$attrs['form'] = 'qualified';
+					}
+				}
+				if(isset($attrs['type'])){
+					$this->xdebug("processing typed element ".$attrs['name']." of type ".$attrs['type']);
+					if (! $this->getPrefix($attrs['type'])) {
+						if ($this->defaultNamespace[$pos]) {
+							$attrs['type'] = $this->defaultNamespace[$pos] . ':' . $attrs['type'];
+							$this->xdebug('used default namespace to make type ' . $attrs['type']);
+						}
+					}
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if ($this->currentComplexType && $this->complexTypes[$this->currentComplexType]['phpType'] == 'array') {
+						$this->xdebug('arrayType for unusual array is ' . $attrs['type']);
+						$this->complexTypes[$this->currentComplexType]['arrayType'] = $attrs['type'];
+					}
+					$this->currentElement = $attrs['name'];
+					$ename = $attrs['name'];
+				} elseif(isset($attrs['ref'])){
+					$this->xdebug("processing element as ref to ".$attrs['ref']);
+					$this->currentElement = "ref to ".$attrs['ref'];
+					$ename = $this->getLocalPart($attrs['ref']);
+				} else {
+					$type = $this->CreateTypeName($this->currentComplexType . '_' . $attrs['name']);
+					$this->xdebug("processing untyped element " . $attrs['name'] . ' type ' . $type);
+					$this->currentElement = $attrs['name'];
+					$attrs['type'] = $this->schemaTargetNamespace . ':' . $type;
+					$ename = $attrs['name'];
+				}
+				if (isset($ename) && $this->currentComplexType) {
+					$this->xdebug("add element $ename to complexType $this->currentComplexType");
+					$this->complexTypes[$this->currentComplexType]['elements'][$ename] = $attrs;
+				} elseif (!isset($attrs['ref'])) {
+					$this->xdebug("add element $ename to elements array");
+					$this->elements[ $attrs['name'] ] = $attrs;
+					$this->elements[ $attrs['name'] ]['typeClass'] = 'element';
+				}
+			break;
+			case 'enumeration':	//	restriction value list member
+				$this->xdebug('enumeration ' . $attrs['value']);
+				if ($this->currentSimpleType) {
+					$this->simpleTypes[$this->currentSimpleType]['enumeration'][] = $attrs['value'];
+				} elseif ($this->currentComplexType) {
+					$this->complexTypes[$this->currentComplexType]['enumeration'][] = $attrs['value'];
+				}
+			break;
+			case 'extension':	// simpleContent or complexContent type extension
+				$this->xdebug('extension ' . $attrs['base']);
+				if ($this->currentComplexType) {
+					$ns = $this->getPrefix($attrs['base']);
+					if ($ns == '') {
+						$this->complexTypes[$this->currentComplexType]['extensionBase'] = $this->schemaTargetNamespace . ':' . $attrs['base'];
+					} else {
+						$this->complexTypes[$this->currentComplexType]['extensionBase'] = $attrs['base'];
+					}
+				} else {
+					$this->xdebug('no current complexType to set extensionBase');
+				}
+			break;
+			case 'import':
+			    if (isset($attrs['schemaLocation'])) {
+					$this->xdebug('import namespace ' . $attrs['namespace'] . ' from ' . $attrs['schemaLocation']);
+                    $this->imports[$attrs['namespace']][] = array('location' => $attrs['schemaLocation'], 'loaded' => false);
+				} else {
+					$this->xdebug('import namespace ' . $attrs['namespace']);
+                    $this->imports[$attrs['namespace']][] = array('location' => '', 'loaded' => true);
+					if (! $this->getPrefixFromNamespace($attrs['namespace'])) {
+						$this->namespaces['ns'.(count($this->namespaces)+1)] = $attrs['namespace'];
+					}
+				}
+			break;
+			case 'include':
+			    if (isset($attrs['schemaLocation'])) {
+					$this->xdebug('include into namespace ' . $this->schemaTargetNamespace . ' from ' . $attrs['schemaLocation']);
+                    $this->imports[$this->schemaTargetNamespace][] = array('location' => $attrs['schemaLocation'], 'loaded' => false);
+				} else {
+					$this->xdebug('ignoring invalid XML Schema construct: include without schemaLocation attribute');
+				}
+			break;
+			case 'list':	// simpleType value list
+				$this->xdebug("do nothing for element $name");
+			break;
+			case 'restriction':	// simpleType, simpleContent or complexContent value restriction
+				$this->xdebug('restriction ' . $attrs['base']);
+				if($this->currentSimpleType){
+					$this->simpleTypes[$this->currentSimpleType]['type'] = $attrs['base'];
+				} elseif($this->currentComplexType){
+					$this->complexTypes[$this->currentComplexType]['restrictionBase'] = $attrs['base'];
+					if(strstr($attrs['base'],':') == ':Array'){
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					}
+				}
+			break;
+			case 'schema':
+				$this->schemaInfo = $attrs;
+				$this->schemaInfo['schemaVersion'] = $this->getNamespaceFromPrefix($prefix);
+				if (isset($attrs['targetNamespace'])) {
+					$this->schemaTargetNamespace = $attrs['targetNamespace'];
+				}
+				if (!isset($attrs['elementFormDefault'])) {
+					$this->schemaInfo['elementFormDefault'] = 'unqualified';
+				}
+				if (!isset($attrs['attributeFormDefault'])) {
+					$this->schemaInfo['attributeFormDefault'] = 'unqualified';
+				}
+			break;
+			case 'simpleContent':	// (optional) content for a complexType
+				if ($this->currentComplexType) {	// This should *always* be
+					$this->complexTypes[$this->currentComplexType]['simpleContent'] = 'true';
+				} else {
+					$this->xdebug("do nothing for element $name because there is no current complexType");
+				}
+			break;
+			case 'simpleType':
+				array_push($this->simpleTypeStack, $this->currentSimpleType);
+				if(isset($attrs['name'])){
+					$this->xdebug("processing simpleType for name " . $attrs['name']);
+					$this->currentSimpleType = $attrs['name'];
+					$this->simpleTypes[ $attrs['name'] ] = $attrs;
+					$this->simpleTypes[ $attrs['name'] ]['typeClass'] = 'simpleType';
+					$this->simpleTypes[ $attrs['name'] ]['phpType'] = 'scalar';
+				} else {
+					$name = $this->CreateTypeName($this->currentComplexType . '_' . $this->currentElement);
+					$this->xdebug('processing unnamed simpleType for element ' . $this->currentElement . ' named ' . $name);
+					$this->currentSimpleType = $name;
+					//$this->currentElement = false;
+					$this->simpleTypes[$this->currentSimpleType] = $attrs;
+					$this->simpleTypes[$this->currentSimpleType]['phpType'] = 'scalar';
+				}
+			break;
+			case 'union':	// simpleType type list
+				$this->xdebug("do nothing for element $name");
+			break;
+			default:
+				$this->xdebug("do not have any logic to process element $name");
+		}
+	}
+
+	/**
+	* end-element handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $name element name
+	* @access   private
+	*/
+	function schemaEndElement($parser, $name) {
+		// bring depth down a notch
+		$this->depth--;
+		// position of current element is equal to the last value left in depth_array for my depth
+		if(isset($this->depth_array[$this->depth])){
+        	$pos = $this->depth_array[$this->depth];
+        }
+		// get element prefix
+		if ($prefix = $this->getPrefix($name)){
+			// get unqualified name
+			$name = $this->getLocalPart($name);
+		} else {
+        	$prefix = '';
+        }
+		// move on...
+		if($name == 'complexType'){
+			$this->xdebug('done processing complexType ' . ($this->currentComplexType ? $this->currentComplexType : '(unknown)'));
+			$this->xdebug($this->varDump($this->complexTypes[$this->currentComplexType]));
+			$this->currentComplexType = array_pop($this->complexTypeStack);
+			//$this->currentElement = false;
+		}
+		if($name == 'element'){
+			$this->xdebug('done processing element ' . ($this->currentElement ? $this->currentElement : '(unknown)'));
+			$this->currentElement = array_pop($this->elementStack);
+		}
+		if($name == 'simpleType'){
+			$this->xdebug('done processing simpleType ' . ($this->currentSimpleType ? $this->currentSimpleType : '(unknown)'));
+			$this->xdebug($this->varDump($this->simpleTypes[$this->currentSimpleType]));
+			$this->currentSimpleType = array_pop($this->simpleTypeStack);
+		}
+	}
+
+	/**
+	* element content handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $data element content
+	* @access   private
+	*/
+	function schemaCharacterData($parser, $data){
+		$pos = $this->depth_array[$this->depth - 1];
+		$this->message[$pos]['cdata'] .= $data;
+	}
+
+	/**
+	* serialize the schema
+	*
+	* @access   public
+	*/
+	function serializeSchema(){
+
+		$schemaPrefix = $this->getPrefixFromNamespace($this->XMLSchemaVersion);
+		$xml = '';
+		// imports
+		if (sizeof($this->imports) > 0) {
+			foreach($this->imports as $ns => $list) {
+				foreach ($list as $ii) {
+					if ($ii['location'] != '') {
+						$xml .= " <$schemaPrefix:import location=\"" . $ii['location'] . '" namespace="' . $ns . "\" />\n";
+					} else {
+						$xml .= " <$schemaPrefix:import namespace=\"" . $ns . "\" />\n";
+					}
+				}
+			} 
+		} 
+		// complex types
+		foreach($this->complexTypes as $typeName => $attrs){
+			$contentStr = '';
+			// serialize child elements
+			if(isset($attrs['elements']) && (count($attrs['elements']) > 0)){
+				foreach($attrs['elements'] as $element => $eParts){
+					if(isset($eParts['ref'])){
+						$contentStr .= "   <$schemaPrefix:element ref=\"$element\"/>\n";
+					} else {
+						$contentStr .= "   <$schemaPrefix:element name=\"$element\" type=\"" . $this->contractQName($eParts['type']) . "\"";
+						foreach ($eParts as $aName => $aValue) {
+							// handle, e.g., abstract, default, form, minOccurs, maxOccurs, nillable
+							if ($aName != 'name' && $aName != 'type') {
+								$contentStr .= " $aName=\"$aValue\"";
+							}
+						}
+						$contentStr .= "/>\n";
+					}
+				}
+				// compositor wraps elements
+				if (isset($attrs['compositor']) && ($attrs['compositor'] != '')) {
+					$contentStr = "  <$schemaPrefix:$attrs[compositor]>\n".$contentStr."  </$schemaPrefix:$attrs[compositor]>\n";
+				}
+			}
+			// attributes
+			if(isset($attrs['attrs']) && (count($attrs['attrs']) >= 1)){
+				foreach($attrs['attrs'] as $attr => $aParts){
+					$contentStr .= "    <$schemaPrefix:attribute";
+					foreach ($aParts as $a => $v) {
+						if ($a == 'ref' || $a == 'type') {
+							$contentStr .= " $a=\"".$this->contractQName($v).'"';
+						} elseif ($a == 'http://schemas.xmlsoap.org/wsdl/:arrayType') {
+							$this->usedNamespaces['wsdl'] = $this->namespaces['wsdl'];
+							$contentStr .= ' wsdl:arrayType="'.$this->contractQName($v).'"';
+						} else {
+							$contentStr .= " $a=\"$v\"";
+						}
+					}
+					$contentStr .= "/>\n";
+				}
+			}
+			// if restriction
+			if (isset($attrs['restrictionBase']) && $attrs['restrictionBase'] != ''){
+				$contentStr = "   <$schemaPrefix:restriction base=\"".$this->contractQName($attrs['restrictionBase'])."\">\n".$contentStr."   </$schemaPrefix:restriction>\n";
+				// complex or simple content
+				if ((isset($attrs['elements']) && count($attrs['elements']) > 0) || (isset($attrs['attrs']) && count($attrs['attrs']) > 0)){
+					$contentStr = "  <$schemaPrefix:complexContent>\n".$contentStr."  </$schemaPrefix:complexContent>\n";
+				}
+			}
+			// finalize complex type
+			if($contentStr != ''){
+				$contentStr = " <$schemaPrefix:complexType name=\"$typeName\">\n".$contentStr." </$schemaPrefix:complexType>\n";
+			} else {
+				$contentStr = " <$schemaPrefix:complexType name=\"$typeName\"/>\n";
+			}
+			$xml .= $contentStr;
+		}
+		// simple types
+		if(isset($this->simpleTypes) && count($this->simpleTypes) > 0){
+			foreach($this->simpleTypes as $typeName => $eParts){
+				$xml .= " <$schemaPrefix:simpleType name=\"$typeName\">\n  <$schemaPrefix:restriction base=\"".$this->contractQName($eParts['type'])."\">\n";
+				if (isset($eParts['enumeration'])) {
+					foreach ($eParts['enumeration'] as $e) {
+						$xml .= "  <$schemaPrefix:enumeration value=\"$e\"/>\n";
+					}
+				}
+				$xml .= "  </$schemaPrefix:restriction>\n </$schemaPrefix:simpleType>";
+			}
+		}
+		// elements
+		if(isset($this->elements) && count($this->elements) > 0){
+			foreach($this->elements as $element => $eParts){
+				$xml .= " <$schemaPrefix:element name=\"$element\" type=\"".$this->contractQName($eParts['type'])."\"/>\n";
+			}
+		}
+		// attributes
+		if(isset($this->attributes) && count($this->attributes) > 0){
+			foreach($this->attributes as $attr => $aParts){
+				$xml .= " <$schemaPrefix:attribute name=\"$attr\" type=\"".$this->contractQName($aParts['type'])."\"\n/>";
+			}
+		}
+		// finish 'er up
+		$attr = '';
+		foreach ($this->schemaInfo as $k => $v) {
+			if ($k == 'elementFormDefault' || $k == 'attributeFormDefault') {
+				$attr .= " $k=\"$v\"";
+			}
+		}
+		$el = "<$schemaPrefix:schema$attr targetNamespace=\"$this->schemaTargetNamespace\"\n";
+		foreach (array_diff($this->usedNamespaces, $this->enclosingNamespaces) as $nsp => $ns) {
+			$el .= " xmlns:$nsp=\"$ns\"";
+		}
+		$xml = $el . ">\n".$xml."</$schemaPrefix:schema>\n";
+		return $xml;
+	}
+
+	/**
+	* adds debug data to the clas level debug string
+	*
+	* @param    string $string debug data
+	* @access   private
+	*/
+	function xdebug($string){
+		$this->debug('<' . $this->schemaTargetNamespace . '> '.$string);
+	}
+
+    /**
+    * get the PHP type of a user defined type in the schema
+    * PHP type is kind of a misnomer since it actually returns 'struct' for assoc. arrays
+    * returns false if no type exists, or not w/ the given namespace
+    * else returns a string that is either a native php type, or 'struct'
+    *
+    * @param string $type name of defined type
+    * @param string $ns namespace of type
+    * @return mixed
+    * @access public
+    * @deprecated
+    */
+	function getPHPType($type,$ns){
+		if(isset($this->typemap[$ns][$type])){
+			//print "found type '$type' and ns $ns in typemap<br>";
+			return $this->typemap[$ns][$type];
+		} elseif(isset($this->complexTypes[$type])){
+			//print "getting type '$type' and ns $ns from complexTypes array<br>";
+			return $this->complexTypes[$type]['phpType'];
+		}
+		return false;
+	}
+
+	/**
+    * returns an associative array of information about a given type
+    * returns false if no type exists by the given name
+    *
+	*	For a complexType typeDef = array(
+	*	'restrictionBase' => '',
+	*	'phpType' => '',
+	*	'compositor' => '(sequence|all)',
+	*	'elements' => array(), // refs to elements array
+	*	'attrs' => array() // refs to attributes array
+	*	... and so on (see addComplexType)
+	*	)
+	*
+	*   For simpleType or element, the array has different keys.
+    *
+    * @param string $type
+    * @return mixed
+    * @access public
+    * @see addComplexType
+    * @see addSimpleType
+    * @see addElement
+    */
+	function getTypeDef($type){
+		//$this->debug("in getTypeDef for type $type");
+		if (substr($type, -1) == '^') {
+			$is_element = 1;
+			$type = substr($type, 0, -1);
+		} else {
+			$is_element = 0;
+		}
+
+		if((! $is_element) && isset($this->complexTypes[$type])){
+			$this->xdebug("in getTypeDef, found complexType $type");
+			return $this->complexTypes[$type];
+		} elseif((! $is_element) && isset($this->simpleTypes[$type])){
+			$this->xdebug("in getTypeDef, found simpleType $type");
+			if (!isset($this->simpleTypes[$type]['phpType'])) {
+				// get info for type to tack onto the simple type
+				// TODO: can this ever really apply (i.e. what is a simpleType really?)
+				$uqType = substr($this->simpleTypes[$type]['type'], strrpos($this->simpleTypes[$type]['type'], ':') + 1);
+				$ns = substr($this->simpleTypes[$type]['type'], 0, strrpos($this->simpleTypes[$type]['type'], ':'));
+				$etype = $this->getTypeDef($uqType);
+				if ($etype) {
+					$this->xdebug("in getTypeDef, found type for simpleType $type:");
+					$this->xdebug($this->varDump($etype));
+					if (isset($etype['phpType'])) {
+						$this->simpleTypes[$type]['phpType'] = $etype['phpType'];
+					}
+					if (isset($etype['elements'])) {
+						$this->simpleTypes[$type]['elements'] = $etype['elements'];
+					}
+				}
+			}
+			return $this->simpleTypes[$type];
+		} elseif(isset($this->elements[$type])){
+			$this->xdebug("in getTypeDef, found element $type");
+			if (!isset($this->elements[$type]['phpType'])) {
+				// get info for type to tack onto the element
+				$uqType = substr($this->elements[$type]['type'], strrpos($this->elements[$type]['type'], ':') + 1);
+				$ns = substr($this->elements[$type]['type'], 0, strrpos($this->elements[$type]['type'], ':'));
+				$etype = $this->getTypeDef($uqType);
+				if ($etype) {
+					$this->xdebug("in getTypeDef, found type for element $type:");
+					$this->xdebug($this->varDump($etype));
+					if (isset($etype['phpType'])) {
+						$this->elements[$type]['phpType'] = $etype['phpType'];
+					}
+					if (isset($etype['elements'])) {
+						$this->elements[$type]['elements'] = $etype['elements'];
+					}
+					if (isset($etype['extensionBase'])) {
+						$this->elements[$type]['extensionBase'] = $etype['extensionBase'];
+					}
+				} elseif ($ns == 'http://www.w3.org/2001/XMLSchema') {
+					$this->xdebug("in getTypeDef, element $type is an XSD type");
+					$this->elements[$type]['phpType'] = 'scalar';
+				}
+			}
+			return $this->elements[$type];
+		} elseif(isset($this->attributes[$type])){
+			$this->xdebug("in getTypeDef, found attribute $type");
+			return $this->attributes[$type];
+		} elseif (preg_match('/_ContainedType$/', $type)) {
+			$this->xdebug("in getTypeDef, have an untyped element $type");
+			$typeDef['typeClass'] = 'simpleType';
+			$typeDef['phpType'] = 'scalar';
+			$typeDef['type'] = 'http://www.w3.org/2001/XMLSchema:string';
+			return $typeDef;
+		}
+		$this->xdebug("in getTypeDef, did not find $type");
+		return false;
+	}
+
+	/**
+    * returns a sample serialization of a given type, or false if no type by the given name
+    *
+    * @param string $type name of type
+    * @return mixed
+    * @access public
+    * @deprecated
+    */
+    function serializeTypeDef($type){
+    	//print "in sTD() for type $type<br>";
+	if($typeDef = $this->getTypeDef($type)){
+		$str .= '<'.$type;
+	    if(is_array($typeDef['attrs'])){
+		foreach($typeDef['attrs'] as $attName => $data){
+		    $str .= " $attName=\"{type = ".$data['type']."}\"";
+		}
+	    }
+	    $str .= " xmlns=\"".$this->schema['targetNamespace']."\"";
+	    if(count($typeDef['elements']) > 0){
+		$str .= ">";
+		foreach($typeDef['elements'] as $element => $eData){
+		    $str .= $this->serializeTypeDef($element);
+		}
+		$str .= "</$type>";
+	    } elseif($typeDef['typeClass'] == 'element') {
+		$str .= "></$type>";
+	    } else {
+		$str .= "/>";
+	    }
+			return $str;
+	}
+    	return false;
+    }
+
+    /**
+    * returns HTML form elements that allow a user
+    * to enter values for creating an instance of the given type.
+    *
+    * @param string $name name for type instance
+    * @param string $type name of type
+    * @return string
+    * @access public
+    * @deprecated
+	*/
+	function typeToForm($name,$type){
+		// get typedef
+		if($typeDef = $this->getTypeDef($type)){
+			// if struct
+			if($typeDef['phpType'] == 'struct'){
+				$buffer .= '<table>';
+				foreach($typeDef['elements'] as $child => $childDef){
+					$buffer .= "
+					<tr><td align='right'>$childDef[name] (type: ".$this->getLocalPart($childDef['type'])."):</td>
+					<td><input type='text' name='parameters[".$name."][$childDef[name]]'></td></tr>";
+				}
+				$buffer .= '</table>';
+			// if array
+			} elseif($typeDef['phpType'] == 'array'){
+				$buffer .= '<table>';
+				for($i=0;$i < 3; $i++){
+					$buffer .= "
+					<tr><td align='right'>array item (type: $typeDef[arrayType]):</td>
+					<td><input type='text' name='parameters[".$name."][]'></td></tr>";
+				}
+				$buffer .= '</table>';
+			// if scalar
+			} else {
+				$buffer .= "<input type='text' name='parameters[$name]'>";
+			}
+		} else {
+			$buffer .= "<input type='text' name='parameters[$name]'>";
+		}
+		return $buffer;
+	}
+	
+	/**
+	* adds a complex type to the schema
+	* 
+	* example: array
+	* 
+	* addType(
+	* 	'ArrayOfstring',
+	* 	'complexType',
+	* 	'array',
+	* 	'',
+	* 	'SOAP-ENC:Array',
+	* 	array('ref'=>'SOAP-ENC:arrayType','wsdl:arrayType'=>'string[]'),
+	* 	'xsd:string'
+	* );
+	* 
+	* example: PHP associative array ( SOAP Struct )
+	* 
+	* addType(
+	* 	'SOAPStruct',
+	* 	'complexType',
+	* 	'struct',
+	* 	'all',
+	* 	array('myVar'=> array('name'=>'myVar','type'=>'string')
+	* );
+	* 
+	* @param name
+	* @param typeClass (complexType|simpleType|attribute)
+	* @param phpType: currently supported are array and struct (php assoc array)
+	* @param compositor (all|sequence|choice)
+	* @param restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param elements = array ( name = array(name=>'',type=>'') )
+	* @param attrs = array(
+	* 	array(
+	*		'ref' => "http://schemas.xmlsoap.org/soap/encoding/:arrayType",
+	*		"http://schemas.xmlsoap.org/wsdl/:arrayType" => "string[]"
+	* 	)
+	* )
+	* @param arrayType: namespace:name (http://www.w3.org/2001/XMLSchema:string)
+	* @access public
+	* @see getTypeDef
+	*/
+	function addComplexType($name,$typeClass='complexType',$phpType='array',$compositor='',$restrictionBase='',$elements=array(),$attrs=array(),$arrayType=''){
+		$this->complexTypes[$name] = array(
+	    'name'		=> $name,
+	    'typeClass'	=> $typeClass,
+	    'phpType'	=> $phpType,
+		'compositor'=> $compositor,
+	    'restrictionBase' => $restrictionBase,
+		'elements'	=> $elements,
+	    'attrs'		=> $attrs,
+	    'arrayType'	=> $arrayType
+		);
+		
+		$this->xdebug("addComplexType $name:");
+		$this->appendDebug($this->varDump($this->complexTypes[$name]));
+	}
+	
+	/**
+	* adds a simple type to the schema
+	*
+	* @param string $name
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param string $typeClass (should always be simpleType)
+	* @param string $phpType (should always be scalar)
+	* @param array $enumeration array of values
+	* @access public
+	* @see nusoap_xmlschema
+	* @see getTypeDef
+	*/
+	function addSimpleType($name, $restrictionBase='', $typeClass='simpleType', $phpType='scalar', $enumeration=array()) {
+		$this->simpleTypes[$name] = array(
+	    'name'			=> $name,
+	    'typeClass'		=> $typeClass,
+	    'phpType'		=> $phpType,
+	    'type'			=> $restrictionBase,
+	    'enumeration'	=> $enumeration
+		);
+		
+		$this->xdebug("addSimpleType $name:");
+		$this->appendDebug($this->varDump($this->simpleTypes[$name]));
+	}
+
+	/**
+	* adds an element to the schema
+	*
+	* @param array $attrs attributes that must include name and type
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addElement($attrs) {
+		if (! $this->getPrefix($attrs['type'])) {
+			$attrs['type'] = $this->schemaTargetNamespace . ':' . $attrs['type'];
+		}
+		$this->elements[ $attrs['name'] ] = $attrs;
+		$this->elements[ $attrs['name'] ]['typeClass'] = 'element';
+		
+		$this->xdebug("addElement " . $attrs['name']);
+		$this->appendDebug($this->varDump($this->elements[ $attrs['name'] ]));
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class XMLSchema extends nusoap_xmlschema {
+}
+
+
+?>
\ Pas de fin de ligne  la fin du fichier
diff -rNU5 phpBB3-init/library/nusoap/nusoapmime.php phpBB3/library/nusoap/nusoapmime.php
--- phpBB3-init/library/nusoap/nusoapmime.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/nusoapmime.php	2013-01-28 17:31:47.732708651 +0100
@@ -0,0 +1,501 @@
+<?php
+/*
+$Id: nusoapmime.php,v 1.13 2010/04/26 20:15:08 snichol Exp $
+
+NuSOAP - Web Services Toolkit for PHP
+
+Copyright (c) 2002 NuSphere Corporation
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+The NuSOAP project home is:
+http://sourceforge.net/projects/nusoap/
+
+The primary support for NuSOAP is the mailing list:
+nusoap-general@lists.sourceforge.net
+
+If you have any questions or comments, please email:
+
+Dietrich Ayala
+dietrich@ganx4.com
+http://dietrich.ganx4.com/nusoap
+
+NuSphere Corporation
+http://www.nusphere.com
+
+*/
+
+/*require_once('nusoap.php');*/
+/* PEAR Mail_MIME library */
+require_once('Mail/mimeDecode.php');
+require_once('Mail/mimePart.php');
+
+/**
+* nusoap_client_mime client supporting MIME attachments defined at
+* http://www.w3.org/TR/SOAP-attachments.  It depends on the PEAR Mail_MIME library.
+*
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @author	Thanks to Guillaume and Henning Reich for posting great attachment code to the mail list
+* @version  $Id: nusoapmime.php,v 1.13 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_client_mime extends nusoap_client {
+	/**
+	 * @var array Each array element in the return is an associative array with keys
+	 * data, filename, contenttype, cid
+	 * @access private
+	 */
+	var $requestAttachments = array();
+	/**
+	 * @var array Each array element in the return is an associative array with keys
+	 * data, filename, contenttype, cid
+	 * @access private
+	 */
+	var $responseAttachments;
+	/**
+	 * @var string
+	 * @access private
+	 */
+	var $mimeContentType;
+	
+	/**
+	* adds a MIME attachment to the current request.
+	*
+	* If the $data parameter contains an empty string, this method will read
+	* the contents of the file named by the $filename parameter.
+	*
+	* If the $cid parameter is false, this method will generate the cid.
+	*
+	* @param string $data The data of the attachment
+	* @param string $filename The filename of the attachment (default is empty string)
+	* @param string $contenttype The MIME Content-Type of the attachment (default is application/octet-stream)
+	* @param string $cid The content-id (cid) of the attachment (default is false)
+	* @return string The content-id (cid) of the attachment
+	* @access public
+	*/
+	function addAttachment($data, $filename = '', $contenttype = 'application/octet-stream', $cid = false) {
+		if (! $cid) {
+			$cid = md5(uniqid(time()));
+		}
+
+		$info['data'] = $data;
+		$info['filename'] = $filename;
+		$info['contenttype'] = $contenttype;
+		$info['cid'] = $cid;
+		
+		$this->requestAttachments[] = $info;
+
+		return $cid;
+	}
+
+	/**
+	* clears the MIME attachments for the current request.
+	*
+	* @access public
+	*/
+	function clearAttachments() {
+		$this->requestAttachments = array();
+	}
+
+	/**
+	* gets the MIME attachments from the current response.
+	*
+	* Each array element in the return is an associative array with keys
+	* data, filename, contenttype, cid.  These keys correspond to the parameters
+	* for addAttachment.
+	*
+	* @return array The attachments.
+	* @access public
+	*/
+	function getAttachments() {
+		return $this->responseAttachments;
+	}
+
+	/**
+	* gets the HTTP body for the current request.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		if (count($this->requestAttachments) > 0) {
+			$params['content_type'] = 'multipart/related; type="text/xml"';
+			$mimeMessage = new Mail_mimePart('', $params);
+			unset($params);
+
+			$params['content_type'] = 'text/xml';
+			$params['encoding']     = '8bit';
+			$params['charset']      = $this->soap_defencoding;
+			$mimeMessage->addSubpart($soapmsg, $params);
+			
+			foreach ($this->requestAttachments as $att) {
+				unset($params);
+
+				$params['content_type'] = $att['contenttype'];
+				$params['encoding']     = 'base64';
+				$params['disposition']  = 'attachment';
+				$params['dfilename']    = $att['filename'];
+				$params['cid']          = $att['cid'];
+
+				if ($att['data'] == '' && $att['filename'] <> '') {
+					if ($fd = fopen($att['filename'], 'rb')) {
+						$data = fread($fd, filesize($att['filename']));
+						fclose($fd);
+					} else {
+						$data = '';
+					}
+					$mimeMessage->addSubpart($data, $params);
+				} else {
+					$mimeMessage->addSubpart($att['data'], $params);
+				}
+			}
+
+			$output = $mimeMessage->encode();
+			$mimeHeaders = $output['headers'];
+	
+			foreach ($mimeHeaders as $k => $v) {
+				$this->debug("MIME header $k: $v");
+				if (strtolower($k) == 'content-type') {
+					// PHP header() seems to strip leading whitespace starting
+					// the second line, so force everything to one line
+					$this->mimeContentType = str_replace("\r\n", " ", $v);
+				}
+			}
+	
+			return $output['body'];
+		}
+
+		return parent::getHTTPBody($soapmsg);
+	}
+	
+	/**
+	* gets the HTTP content type for the current request.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current request.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		if (count($this->requestAttachments) > 0) {
+			return $this->mimeContentType;
+		}
+		return parent::getHTTPContentType();
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current request.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current request.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		if (count($this->requestAttachments) > 0) {
+			return false;
+		}
+		return parent::getHTTPContentTypeCharset();
+	}
+
+	/**
+	* processes SOAP message returned from server
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed response data from server
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseResponse($headers, $data) {
+		$this->debug('Entering parseResponse() for payload of length ' . strlen($data) . ' and type of ' . $headers['content-type']);
+		$this->responseAttachments = array();
+		if (strstr($headers['content-type'], 'multipart/related')) {
+			$this->debug('Decode multipart/related');
+			$input = '';
+			foreach ($headers as $k => $v) {
+				$input .= "$k: $v\r\n";
+			}
+			$params['input'] = $input . "\r\n" . $data;
+			$params['include_bodies'] = true;
+			$params['decode_bodies'] = true;
+			$params['decode_headers'] = true;
+			
+			$structure = Mail_mimeDecode::decode($params);
+
+			foreach ($structure->parts as $part) {
+				if (!isset($part->disposition) && (strstr($part->headers['content-type'], 'text/xml'))) {
+					$this->debug('Have root part of type ' . $part->headers['content-type']);
+					$root = $part->body;
+					$return = parent::parseResponse($part->headers, $part->body);
+				} else {
+					$this->debug('Have an attachment of type ' . $part->headers['content-type']);
+					$info['data'] = $part->body;
+					$info['filename'] = isset($part->d_parameters['filename']) ? $part->d_parameters['filename'] : '';
+					$info['contenttype'] = $part->headers['content-type'];
+					$info['cid'] = $part->headers['content-id'];
+					$this->responseAttachments[] = $info;
+				}
+			}
+		
+			if (isset($return)) {
+				$this->responseData = $root;
+				return $return;
+			}
+			
+			$this->setError('No root part found in multipart/related content');
+			return '';
+		}
+		$this->debug('Not multipart/related');
+		return parent::parseResponse($headers, $data);
+	}
+}
+
+/*
+ *	For backwards compatiblity, define soapclientmime unless the PHP SOAP extension is loaded.
+ */
+if (!extension_loaded('soap')) {
+	class soapclientmime extends nusoap_client_mime {
+	}
+}
+
+/**
+* nusoap_server_mime server supporting MIME attachments defined at
+* http://www.w3.org/TR/SOAP-attachments.  It depends on the PEAR Mail_MIME library.
+*
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @author	Thanks to Guillaume and Henning Reich for posting great attachment code to the mail list
+* @version  $Id: nusoapmime.php,v 1.13 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_server_mime extends nusoap_server {
+	/**
+	 * @var array Each array element in the return is an associative array with keys
+	 * data, filename, contenttype, cid
+	 * @access private
+	 */
+	var $requestAttachments = array();
+	/**
+	 * @var array Each array element in the return is an associative array with keys
+	 * data, filename, contenttype, cid
+	 * @access private
+	 */
+	var $responseAttachments;
+	/**
+	 * @var string
+	 * @access private
+	 */
+	var $mimeContentType;
+	
+	/**
+	* adds a MIME attachment to the current response.
+	*
+	* If the $data parameter contains an empty string, this method will read
+	* the contents of the file named by the $filename parameter.
+	*
+	* If the $cid parameter is false, this method will generate the cid.
+	*
+	* @param string $data The data of the attachment
+	* @param string $filename The filename of the attachment (default is empty string)
+	* @param string $contenttype The MIME Content-Type of the attachment (default is application/octet-stream)
+	* @param string $cid The content-id (cid) of the attachment (default is false)
+	* @return string The content-id (cid) of the attachment
+	* @access public
+	*/
+	function addAttachment($data, $filename = '', $contenttype = 'application/octet-stream', $cid = false) {
+		if (! $cid) {
+			$cid = md5(uniqid(time()));
+		}
+
+		$info['data'] = $data;
+		$info['filename'] = $filename;
+		$info['contenttype'] = $contenttype;
+		$info['cid'] = $cid;
+		
+		$this->responseAttachments[] = $info;
+
+		return $cid;
+	}
+
+	/**
+	* clears the MIME attachments for the current response.
+	*
+	* @access public
+	*/
+	function clearAttachments() {
+		$this->responseAttachments = array();
+	}
+
+	/**
+	* gets the MIME attachments from the current request.
+	*
+	* Each array element in the return is an associative array with keys
+	* data, filename, contenttype, cid.  These keys correspond to the parameters
+	* for addAttachment.
+	*
+	* @return array The attachments.
+	* @access public
+	*/
+	function getAttachments() {
+		return $this->requestAttachments;
+	}
+
+	/**
+	* gets the HTTP body for the current response.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		if (count($this->responseAttachments) > 0) {
+			$params['content_type'] = 'multipart/related; type="text/xml"';
+			$mimeMessage = new Mail_mimePart('', $params);
+			unset($params);
+
+			$params['content_type'] = 'text/xml';
+			$params['encoding']     = '8bit';
+			$params['charset']      = $this->soap_defencoding;
+			$mimeMessage->addSubpart($soapmsg, $params);
+			
+			foreach ($this->responseAttachments as $att) {
+				unset($params);
+
+				$params['content_type'] = $att['contenttype'];
+				$params['encoding']     = 'base64';
+				$params['disposition']  = 'attachment';
+				$params['dfilename']    = $att['filename'];
+				$params['cid']          = $att['cid'];
+
+				if ($att['data'] == '' && $att['filename'] <> '') {
+					if ($fd = fopen($att['filename'], 'rb')) {
+						$data = fread($fd, filesize($att['filename']));
+						fclose($fd);
+					} else {
+						$data = '';
+					}
+					$mimeMessage->addSubpart($data, $params);
+				} else {
+					$mimeMessage->addSubpart($att['data'], $params);
+				}
+			}
+
+			$output = $mimeMessage->encode();
+			$mimeHeaders = $output['headers'];
+	
+			foreach ($mimeHeaders as $k => $v) {
+				$this->debug("MIME header $k: $v");
+				if (strtolower($k) == 'content-type') {
+					// PHP header() seems to strip leading whitespace starting
+					// the second line, so force everything to one line
+					$this->mimeContentType = str_replace("\r\n", " ", $v);
+				}
+			}
+	
+			return $output['body'];
+		}
+
+		return parent::getHTTPBody($soapmsg);
+	}
+	
+	/**
+	* gets the HTTP content type for the current response.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current response.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		if (count($this->responseAttachments) > 0) {
+			return $this->mimeContentType;
+		}
+		return parent::getHTTPContentType();
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current response.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current response.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		if (count($this->responseAttachments) > 0) {
+			return false;
+		}
+		return parent::getHTTPContentTypeCharset();
+	}
+
+	/**
+	* processes SOAP message received from client
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed request data from client
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseRequest($headers, $data) {
+		$this->debug('Entering parseRequest() for payload of length ' . strlen($data) . ' and type of ' . $headers['content-type']);
+		$this->requestAttachments = array();
+		if (strstr($headers['content-type'], 'multipart/related')) {
+			$this->debug('Decode multipart/related');
+			$input = '';
+			foreach ($headers as $k => $v) {
+				$input .= "$k: $v\r\n";
+			}
+			$params['input'] = $input . "\r\n" . $data;
+			$params['include_bodies'] = true;
+			$params['decode_bodies'] = true;
+			$params['decode_headers'] = true;
+			
+			$structure = Mail_mimeDecode::decode($params);
+
+			foreach ($structure->parts as $part) {
+				if (!isset($part->disposition) && (strstr($part->headers['content-type'], 'text/xml'))) {
+					$this->debug('Have root part of type ' . $part->headers['content-type']);
+					$return = parent::parseRequest($part->headers, $part->body);
+				} else {
+					$this->debug('Have an attachment of type ' . $part->headers['content-type']);
+					$info['data'] = $part->body;
+					$info['filename'] = isset($part->d_parameters['filename']) ? $part->d_parameters['filename'] : '';
+					$info['contenttype'] = $part->headers['content-type'];
+					$info['cid'] = $part->headers['content-id'];
+					$this->requestAttachments[] = $info;
+				}
+			}
+		
+			if (isset($return)) {
+				return $return;
+			}
+			
+			$this->setError('No root part found in multipart/related content');
+			return;
+		}
+		$this->debug('Not multipart/related');
+		return parent::parseRequest($headers, $data);
+	}
+}
+
+/*
+ *	For backwards compatiblity
+ */
+class nusoapservermime extends nusoap_server_mime {
+}
+
+?>
diff -rNU5 phpBB3-init/library/nusoap/nusoap.php phpBB3/library/nusoap/nusoap.php
--- phpBB3-init/library/nusoap/nusoap.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/library/nusoap/nusoap.php	2013-01-28 17:31:47.736708651 +0100
@@ -0,0 +1,8148 @@
+<?php
+
+/*
+$Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+
+NuSOAP - Web Services Toolkit for PHP
+
+Copyright (c) 2002 NuSphere Corporation
+
+This library is free software; you can redistribute it and/or
+modify it under the terms of the GNU Lesser General Public
+License as published by the Free Software Foundation; either
+version 2.1 of the License, or (at your option) any later version.
+
+This library is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+Lesser General Public License for more details.
+
+You should have received a copy of the GNU Lesser General Public
+License along with this library; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+The NuSOAP project home is:
+http://sourceforge.net/projects/nusoap/
+
+The primary support for NuSOAP is the Help forum on the project home page.
+
+If you have any questions or comments, please email:
+
+Dietrich Ayala
+dietrich@ganx4.com
+http://dietrich.ganx4.com/nusoap
+
+NuSphere Corporation
+http://www.nusphere.com
+
+*/
+
+/*
+ *	Some of the standards implmented in whole or part by NuSOAP:
+ *
+ *	SOAP 1.1 (http://www.w3.org/TR/2000/NOTE-SOAP-20000508/)
+ *	WSDL 1.1 (http://www.w3.org/TR/2001/NOTE-wsdl-20010315)
+ *	SOAP Messages With Attachments (http://www.w3.org/TR/SOAP-attachments)
+ *	XML 1.0 (http://www.w3.org/TR/2006/REC-xml-20060816/)
+ *	Namespaces in XML 1.0 (http://www.w3.org/TR/2006/REC-xml-names-20060816/)
+ *	XML Schema 1.0 (http://www.w3.org/TR/xmlschema-0/)
+ *	RFC 2045 Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies
+ *	RFC 2068 Hypertext Transfer Protocol -- HTTP/1.1
+ *	RFC 2617 HTTP Authentication: Basic and Digest Access Authentication
+ */
+
+/* load classes
+
+// necessary classes
+require_once('class.soapclient.php');
+require_once('class.soap_val.php');
+require_once('class.soap_parser.php');
+require_once('class.soap_fault.php');
+
+// transport classes
+require_once('class.soap_transport_http.php');
+
+// optional add-on classes
+require_once('class.xmlschema.php');
+require_once('class.wsdl.php');
+
+// server class
+require_once('class.soap_server.php');*/
+
+// class variable emulation
+// cf. http://www.webkreator.com/php/techniques/php-static-class-variables.html
+$GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'] = 9;
+
+/**
+*
+* nusoap_base
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_base {
+	/**
+	 * Identification for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $title = 'NuSOAP';
+	/**
+	 * Version for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $version = '0.9.5';
+	/**
+	 * CVS revision for HTTP headers.
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $revision = '$Revision: 1.123 $';
+    /**
+     * Current error string (manipulated by getError/setError)
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $error_str = '';
+    /**
+     * Current debug string (manipulated by debug/appendDebug/clearDebug/getDebug/getDebugAsXMLComment)
+	 *
+	 * @var string
+	 * @access private
+	 */
+    var $debug_str = '';
+    /**
+	 * toggles automatic encoding of special characters as entities
+	 * (should always be true, I think)
+	 *
+	 * @var boolean
+	 * @access private
+	 */
+	var $charencoding = true;
+	/**
+	 * the debug level for this instance
+	 *
+	 * @var	integer
+	 * @access private
+	 */
+	var $debugLevel;
+
+    /**
+	* set schema version
+	*
+	* @var      string
+	* @access   public
+	*/
+	var $XMLSchemaVersion = 'http://www.w3.org/2001/XMLSchema';
+	
+    /**
+	* charset encoding for outgoing messages
+	*
+	* @var      string
+	* @access   public
+	*/
+    var $soap_defencoding = 'ISO-8859-1';
+	//var $soap_defencoding = 'UTF-8';
+
+	/**
+	* namespaces in an array of prefix => uri
+	*
+	* this is "seeded" by a set of constants, but it may be altered by code
+	*
+	* @var      array
+	* @access   public
+	*/
+	var $namespaces = array(
+		'SOAP-ENV' => 'http://schemas.xmlsoap.org/soap/envelope/',
+		'xsd' => 'http://www.w3.org/2001/XMLSchema',
+		'xsi' => 'http://www.w3.org/2001/XMLSchema-instance',
+		'SOAP-ENC' => 'http://schemas.xmlsoap.org/soap/encoding/'
+		);
+
+	/**
+	* namespaces used in the current context, e.g. during serialization
+	*
+	* @var      array
+	* @access   private
+	*/
+	var $usedNamespaces = array();
+
+	/**
+	* XML Schema types in an array of uri => (array of xml type => php type)
+	* is this legacy yet?
+	* no, this is used by the nusoap_xmlschema class to verify type => namespace mappings.
+	* @var      array
+	* @access   public
+	*/
+	var $typemap = array(
+	'http://www.w3.org/2001/XMLSchema' => array(
+		'string'=>'string','boolean'=>'boolean','float'=>'double','double'=>'double','decimal'=>'double',
+		'duration'=>'','dateTime'=>'string','time'=>'string','date'=>'string','gYearMonth'=>'',
+		'gYear'=>'','gMonthDay'=>'','gDay'=>'','gMonth'=>'','hexBinary'=>'string','base64Binary'=>'string',
+		// abstract "any" types
+		'anyType'=>'string','anySimpleType'=>'string',
+		// derived datatypes
+		'normalizedString'=>'string','token'=>'string','language'=>'','NMTOKEN'=>'','NMTOKENS'=>'','Name'=>'','NCName'=>'','ID'=>'',
+		'IDREF'=>'','IDREFS'=>'','ENTITY'=>'','ENTITIES'=>'','integer'=>'integer','nonPositiveInteger'=>'integer',
+		'negativeInteger'=>'integer','long'=>'integer','int'=>'integer','short'=>'integer','byte'=>'integer','nonNegativeInteger'=>'integer',
+		'unsignedLong'=>'','unsignedInt'=>'','unsignedShort'=>'','unsignedByte'=>'','positiveInteger'=>''),
+	'http://www.w3.org/2000/10/XMLSchema' => array(
+		'i4'=>'','int'=>'integer','boolean'=>'boolean','string'=>'string','double'=>'double',
+		'float'=>'double','dateTime'=>'string',
+		'timeInstant'=>'string','base64Binary'=>'string','base64'=>'string','ur-type'=>'array'),
+	'http://www.w3.org/1999/XMLSchema' => array(
+		'i4'=>'','int'=>'integer','boolean'=>'boolean','string'=>'string','double'=>'double',
+		'float'=>'double','dateTime'=>'string',
+		'timeInstant'=>'string','base64Binary'=>'string','base64'=>'string','ur-type'=>'array'),
+	'http://soapinterop.org/xsd' => array('SOAPStruct'=>'struct'),
+	'http://schemas.xmlsoap.org/soap/encoding/' => array('base64'=>'string','array'=>'array','Array'=>'array'),
+    'http://xml.apache.org/xml-soap' => array('Map')
+	);
+
+	/**
+	* XML entities to convert
+	*
+	* @var      array
+	* @access   public
+	* @deprecated
+	* @see	expandEntities
+	*/
+	var $xmlEntities = array('quot' => '"','amp' => '&',
+		'lt' => '<','gt' => '>','apos' => "'");
+
+	/**
+	* constructor
+	*
+	* @access	public
+	*/
+	function nusoap_base() {
+		$this->debugLevel = $GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'];
+	}
+
+	/**
+	* gets the global debug level, which applies to future instances
+	*
+	* @return	integer	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function getGlobalDebugLevel() {
+		return $GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'];
+	}
+
+	/**
+	* sets the global debug level, which applies to future instances
+	*
+	* @param	int	$level	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function setGlobalDebugLevel($level) {
+		$GLOBALS['_transient']['static']['nusoap_base']['globalDebugLevel'] = $level;
+	}
+
+	/**
+	* gets the debug level for this instance
+	*
+	* @return	int	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function getDebugLevel() {
+		return $this->debugLevel;
+	}
+
+	/**
+	* sets the debug level for this instance
+	*
+	* @param	int	$level	Debug level 0-9, where 0 turns off
+	* @access	public
+	*/
+	function setDebugLevel($level) {
+		$this->debugLevel = $level;
+	}
+
+	/**
+	* adds debug data to the instance debug string with formatting
+	*
+	* @param    string $string debug data
+	* @access   private
+	*/
+	function debug($string){
+		if ($this->debugLevel > 0) {
+			$this->appendDebug($this->getmicrotime().' '.get_class($this).": $string\n");
+		}
+	}
+
+	/**
+	* adds debug data to the instance debug string without formatting
+	*
+	* @param    string $string debug data
+	* @access   public
+	*/
+	function appendDebug($string){
+		if ($this->debugLevel > 0) {
+			// it would be nice to use a memory stream here to use
+			// memory more efficiently
+			$this->debug_str .= $string;
+		}
+	}
+
+	/**
+	* clears the current debug data for this instance
+	*
+	* @access   public
+	*/
+	function clearDebug() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		$this->debug_str = '';
+	}
+
+	/**
+	* gets the current debug data for this instance
+	*
+	* @return   debug data
+	* @access   public
+	*/
+	function &getDebug() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		return $this->debug_str;
+	}
+
+	/**
+	* gets the current debug data for this instance as an XML comment
+	* this may change the contents of the debug data
+	*
+	* @return   debug data as an XML comment
+	* @access   public
+	*/
+	function &getDebugAsXMLComment() {
+		// it would be nice to use a memory stream here to use
+		// memory more efficiently
+		while (strpos($this->debug_str, '--')) {
+			$this->debug_str = str_replace('--', '- -', $this->debug_str);
+		}
+		$ret = "<!--\n" . $this->debug_str . "\n-->";
+    	return $ret;
+	}
+
+	/**
+	* expands entities, e.g. changes '<' to '&lt;'.
+	*
+	* @param	string	$val	The string in which to expand entities.
+	* @access	private
+	*/
+	function expandEntities($val) {
+		if ($this->charencoding) {
+	    	$val = str_replace('&', '&amp;', $val);
+	    	$val = str_replace("'", '&apos;', $val);
+	    	$val = str_replace('"', '&quot;', $val);
+	    	$val = str_replace('<', '&lt;', $val);
+	    	$val = str_replace('>', '&gt;', $val);
+	    }
+	    return $val;
+	}
+
+	/**
+	* returns error string if present
+	*
+	* @return   mixed error string or false
+	* @access   public
+	*/
+	function getError(){
+		if($this->error_str != ''){
+			return $this->error_str;
+		}
+		return false;
+	}
+
+	/**
+	* sets error string
+	*
+	* @return   boolean $string error string
+	* @access   private
+	*/
+	function setError($str){
+		$this->error_str = $str;
+	}
+
+	/**
+	* detect if array is a simple array or a struct (associative array)
+	*
+	* @param	mixed	$val	The PHP array
+	* @return	string	(arraySimple|arrayStruct)
+	* @access	private
+	*/
+	function isArraySimpleOrStruct($val) {
+        $keyList = array_keys($val);
+		foreach ($keyList as $keyListValue) {
+			if (!is_int($keyListValue)) {
+				return 'arrayStruct';
+			}
+		}
+		return 'arraySimple';
+	}
+
+	/**
+	* serializes PHP values in accordance w/ section 5. Type information is
+	* not serialized if $use == 'literal'.
+	*
+	* @param	mixed	$val	The value to serialize
+	* @param	string	$name	The name (local part) of the XML element
+	* @param	string	$type	The XML schema type (local part) for the element
+	* @param	string	$name_ns	The namespace for the name of the XML element
+	* @param	string	$type_ns	The namespace for the type of the element
+	* @param	array	$attributes	The attributes to serialize as name=>value pairs
+	* @param	string	$use	The WSDL "use" (encoded|literal)
+	* @param	boolean	$soapval	Whether this is called from soapval.
+	* @return	string	The serialized element, possibly with child elements
+    * @access	public
+	*/
+	function serialize_val($val,$name=false,$type=false,$name_ns=false,$type_ns=false,$attributes=false,$use='encoded',$soapval=false) {
+		$this->debug("in serialize_val: name=$name, type=$type, name_ns=$name_ns, type_ns=$type_ns, use=$use, soapval=$soapval");
+		$this->appendDebug('value=' . $this->varDump($val));
+		$this->appendDebug('attributes=' . $this->varDump($attributes));
+		
+    	if (is_object($val) && get_class($val) == 'soapval' && (! $soapval)) {
+    		$this->debug("serialize_val: serialize soapval");
+        	$xml = $val->serialize($use);
+			$this->appendDebug($val->getDebug());
+			$val->clearDebug();
+			$this->debug("serialize_val of soapval returning $xml");
+			return $xml;
+        }
+		// force valid name if necessary
+		if (is_numeric($name)) {
+			$name = '__numeric_' . $name;
+		} elseif (! $name) {
+			$name = 'noname';
+		}
+		// if name has ns, add ns prefix to name
+		$xmlns = '';
+        if($name_ns){
+			$prefix = 'nu'.rand(1000,9999);
+			$name = $prefix.':'.$name;
+			$xmlns .= " xmlns:$prefix=\"$name_ns\"";
+		}
+		// if type is prefixed, create type prefix
+		if($type_ns != '' && $type_ns == $this->namespaces['xsd']){
+			// need to fix this. shouldn't default to xsd if no ns specified
+		    // w/o checking against typemap
+			$type_prefix = 'xsd';
+		} elseif($type_ns){
+			$type_prefix = 'ns'.rand(1000,9999);
+			$xmlns .= " xmlns:$type_prefix=\"$type_ns\"";
+		}
+		// serialize attributes if present
+		$atts = '';
+		if($attributes){
+			foreach($attributes as $k => $v){
+				$atts .= " $k=\"".$this->expandEntities($v).'"';
+			}
+		}
+		// serialize null value
+		if (is_null($val)) {
+    		$this->debug("serialize_val: serialize null");
+			if ($use == 'literal') {
+				// TODO: depends on minOccurs
+				$xml = "<$name$xmlns$atts/>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	} else {
+				if (isset($type) && isset($type_prefix)) {
+					$type_str = " xsi:type=\"$type_prefix:$type\"";
+				} else {
+					$type_str = '';
+				}
+				$xml = "<$name$xmlns$type_str$atts xsi:nil=\"true\"/>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	}
+		}
+        // serialize if an xsd built-in primitive type
+        if($type != '' && isset($this->typemap[$this->XMLSchemaVersion][$type])){
+    		$this->debug("serialize_val: serialize xsd built-in primitive type");
+        	if (is_bool($val)) {
+        		if ($type == 'boolean') {
+	        		$val = $val ? 'true' : 'false';
+	        	} elseif (! $val) {
+	        		$val = 0;
+	        	}
+			} else if (is_string($val)) {
+				$val = $this->expandEntities($val);
+			}
+			if ($use == 'literal') {
+				$xml = "<$name$xmlns$atts>$val</$name>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	} else {
+				$xml = "<$name$xmlns xsi:type=\"xsd:$type\"$atts>$val</$name>";
+				$this->debug("serialize_val returning $xml");
+	        	return $xml;
+        	}
+        }
+		// detect type and serialize
+		$xml = '';
+		switch(true) {
+			case (is_bool($val) || $type == 'boolean'):
+		   		$this->debug("serialize_val: serialize boolean");
+        		if ($type == 'boolean') {
+	        		$val = $val ? 'true' : 'false';
+	        	} elseif (! $val) {
+	        		$val = 0;
+	        	}
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:boolean\"$atts>$val</$name>";
+				}
+				break;
+			case (is_int($val) || is_long($val) || $type == 'int'):
+		   		$this->debug("serialize_val: serialize int");
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:int\"$atts>$val</$name>";
+				}
+				break;
+			case (is_float($val)|| is_double($val) || $type == 'float'):
+		   		$this->debug("serialize_val: serialize float");
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:float\"$atts>$val</$name>";
+				}
+				break;
+			case (is_string($val) || $type == 'string'):
+		   		$this->debug("serialize_val: serialize string");
+				$val = $this->expandEntities($val);
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$val</$name>";
+				} else {
+					$xml .= "<$name$xmlns xsi:type=\"xsd:string\"$atts>$val</$name>";
+				}
+				break;
+			case is_object($val):
+		   		$this->debug("serialize_val: serialize object");
+		    	if (get_class($val) == 'soapval') {
+		    		$this->debug("serialize_val: serialize soapval object");
+		        	$pXml = $val->serialize($use);
+					$this->appendDebug($val->getDebug());
+					$val->clearDebug();
+		        } else {
+					if (! $name) {
+						$name = get_class($val);
+						$this->debug("In serialize_val, used class name $name as element name");
+					} else {
+						$this->debug("In serialize_val, do not override name $name for element name for class " . get_class($val));
+					}
+					foreach(get_object_vars($val) as $k => $v){
+						$pXml = isset($pXml) ? $pXml.$this->serialize_val($v,$k,false,false,false,false,$use) : $this->serialize_val($v,$k,false,false,false,false,$use);
+					}
+				}
+				if(isset($type) && isset($type_prefix)){
+					$type_str = " xsi:type=\"$type_prefix:$type\"";
+				} else {
+					$type_str = '';
+				}
+				if ($use == 'literal') {
+					$xml .= "<$name$xmlns$atts>$pXml</$name>";
+				} else {
+					$xml .= "<$name$xmlns$type_str$atts>$pXml</$name>";
+				}
+				break;
+			break;
+			case (is_array($val) || $type):
+				// detect if struct or array
+				$valueType = $this->isArraySimpleOrStruct($val);
+                if($valueType=='arraySimple' || preg_match('/^ArrayOf/',$type)){
+			   		$this->debug("serialize_val: serialize array");
+					$i = 0;
+					if(is_array($val) && count($val)> 0){
+						foreach($val as $v){
+	                    	if(is_object($v) && get_class($v) ==  'soapval'){
+								$tt_ns = $v->type_ns;
+								$tt = $v->type;
+							} elseif (is_array($v)) {
+								$tt = $this->isArraySimpleOrStruct($v);
+							} else {
+								$tt = gettype($v);
+	                        }
+							$array_types[$tt] = 1;
+							// TODO: for literal, the name should be $name
+							$xml .= $this->serialize_val($v,'item',false,false,false,false,$use);
+							++$i;
+						}
+						if(count($array_types) > 1){
+							$array_typename = 'xsd:anyType';
+						} elseif(isset($tt) && isset($this->typemap[$this->XMLSchemaVersion][$tt])) {
+							if ($tt == 'integer') {
+								$tt = 'int';
+							}
+							$array_typename = 'xsd:'.$tt;
+						} elseif(isset($tt) && $tt == 'arraySimple'){
+							$array_typename = 'SOAP-ENC:Array';
+						} elseif(isset($tt) && $tt == 'arrayStruct'){
+							$array_typename = 'unnamed_struct_use_soapval';
+						} else {
+							// if type is prefixed, create type prefix
+							if ($tt_ns != '' && $tt_ns == $this->namespaces['xsd']){
+								 $array_typename = 'xsd:' . $tt;
+							} elseif ($tt_ns) {
+								$tt_prefix = 'ns' . rand(1000, 9999);
+								$array_typename = "$tt_prefix:$tt";
+								$xmlns .= " xmlns:$tt_prefix=\"$tt_ns\"";
+							} else {
+								$array_typename = $tt;
+							}
+						}
+						$array_type = $i;
+						if ($use == 'literal') {
+							$type_str = '';
+						} else if (isset($type) && isset($type_prefix)) {
+							$type_str = " xsi:type=\"$type_prefix:$type\"";
+						} else {
+							$type_str = " xsi:type=\"SOAP-ENC:Array\" SOAP-ENC:arrayType=\"".$array_typename."[$array_type]\"";
+						}
+					// empty array
+					} else {
+						if ($use == 'literal') {
+							$type_str = '';
+						} else if (isset($type) && isset($type_prefix)) {
+							$type_str = " xsi:type=\"$type_prefix:$type\"";
+						} else {
+							$type_str = " xsi:type=\"SOAP-ENC:Array\" SOAP-ENC:arrayType=\"xsd:anyType[0]\"";
+						}
+					}
+					// TODO: for array in literal, there is no wrapper here
+					$xml = "<$name$xmlns$type_str$atts>".$xml."</$name>";
+				} else {
+					// got a struct
+			   		$this->debug("serialize_val: serialize struct");
+					if(isset($type) && isset($type_prefix)){
+						$type_str = " xsi:type=\"$type_prefix:$type\"";
+					} else {
+						$type_str = '';
+					}
+					if ($use == 'literal') {
+						$xml .= "<$name$xmlns$atts>";
+					} else {
+						$xml .= "<$name$xmlns$type_str$atts>";
+					}
+					foreach($val as $k => $v){
+						// Apache Map
+						if ($type == 'Map' && $type_ns == 'http://xml.apache.org/xml-soap') {
+							$xml .= '<item>';
+							$xml .= $this->serialize_val($k,'key',false,false,false,false,$use);
+							$xml .= $this->serialize_val($v,'value',false,false,false,false,$use);
+							$xml .= '</item>';
+						} else {
+							$xml .= $this->serialize_val($v,$k,false,false,false,false,$use);
+						}
+					}
+					$xml .= "</$name>";
+				}
+				break;
+			default:
+		   		$this->debug("serialize_val: serialize unknown");
+				$xml .= 'not detected, got '.gettype($val).' for '.$val;
+				break;
+		}
+		$this->debug("serialize_val returning $xml");
+		return $xml;
+	}
+
+    /**
+    * serializes a message
+    *
+    * @param string $body the XML of the SOAP body
+    * @param mixed $headers optional string of XML with SOAP header content, or array of soapval objects for SOAP headers, or associative array
+    * @param array $namespaces optional the namespaces used in generating the body and headers
+    * @param string $style optional (rpc|document)
+    * @param string $use optional (encoded|literal)
+    * @param string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+    * @return string the message
+    * @access public
+    */
+    function serializeEnvelope($body,$headers=false,$namespaces=array(),$style='rpc',$use='encoded',$encodingStyle='http://schemas.xmlsoap.org/soap/encoding/'){
+    // TODO: add an option to automatically run utf8_encode on $body and $headers
+    // if $this->soap_defencoding is UTF-8.  Not doing this automatically allows
+    // one to send arbitrary UTF-8 characters, not just characters that map to ISO-8859-1
+
+	$this->debug("In serializeEnvelope length=" . strlen($body) . " body (max 1000 characters)=" . substr($body, 0, 1000) . " style=$style use=$use encodingStyle=$encodingStyle");
+	$this->debug("headers:");
+	$this->appendDebug($this->varDump($headers));
+	$this->debug("namespaces:");
+	$this->appendDebug($this->varDump($namespaces));
+
+	// serialize namespaces
+    $ns_string = '';
+	foreach(array_merge($this->namespaces,$namespaces) as $k => $v){
+		$ns_string .= " xmlns:$k=\"$v\"";
+	}
+	if($encodingStyle) {
+		$ns_string = " SOAP-ENV:encodingStyle=\"$encodingStyle\"$ns_string";
+	}
+
+	// serialize headers
+	if($headers){
+		if (is_array($headers)) {
+			$xml = '';
+			foreach ($headers as $k => $v) {
+				if (is_object($v) && get_class($v) == 'soapval') {
+					$xml .= $this->serialize_val($v, false, false, false, false, false, $use);
+				} else {
+					$xml .= $this->serialize_val($v, $k, false, false, false, false, $use);
+				}
+			}
+			$headers = $xml;
+			$this->debug("In serializeEnvelope, serialized array of headers to $headers");
+		}
+		$headers = "<SOAP-ENV:Header>".$headers."</SOAP-ENV:Header>";
+	}
+	// serialize envelope
+	return
+	'<?xml version="1.0" encoding="'.$this->soap_defencoding .'"?'.">".
+	'<SOAP-ENV:Envelope'.$ns_string.">".
+	$headers.
+	"<SOAP-ENV:Body>".
+		$body.
+	"</SOAP-ENV:Body>".
+	"</SOAP-ENV:Envelope>";
+    }
+
+	/**
+	 * formats a string to be inserted into an HTML stream
+	 *
+	 * @param string $str The string to format
+	 * @return string The formatted string
+	 * @access public
+	 * @deprecated
+	 */
+    function formatDump($str){
+		$str = htmlspecialchars($str);
+		return nl2br($str);
+    }
+
+	/**
+	* contracts (changes namespace to prefix) a qualified name
+	*
+	* @param    string $qname qname
+	* @return	string contracted qname
+	* @access   private
+	*/
+	function contractQname($qname){
+		// get element namespace
+		//$this->xdebug("Contract $qname");
+		if (strrpos($qname, ':')) {
+			// get unqualified name
+			$name = substr($qname, strrpos($qname, ':') + 1);
+			// get ns
+			$ns = substr($qname, 0, strrpos($qname, ':'));
+			$p = $this->getPrefixFromNamespace($ns);
+			if ($p) {
+				return $p . ':' . $name;
+			}
+			return $qname;
+		} else {
+			return $qname;
+		}
+	}
+
+	/**
+	* expands (changes prefix to namespace) a qualified name
+	*
+	* @param    string $qname qname
+	* @return	string expanded qname
+	* @access   private
+	*/
+	function expandQname($qname){
+		// get element prefix
+		if(strpos($qname,':') && !preg_match('/^http:\/\//',$qname)){
+			// get unqualified name
+			$name = substr(strstr($qname,':'),1);
+			// get ns prefix
+			$prefix = substr($qname,0,strpos($qname,':'));
+			if(isset($this->namespaces[$prefix])){
+				return $this->namespaces[$prefix].':'.$name;
+			} else {
+				return $qname;
+			}
+		} else {
+			return $qname;
+		}
+	}
+
+    /**
+    * returns the local part of a prefixed string
+    * returns the original string, if not prefixed
+    *
+    * @param string $str The prefixed string
+    * @return string The local part
+    * @access public
+    */
+	function getLocalPart($str){
+		if($sstr = strrchr($str,':')){
+			// get unqualified name
+			return substr( $sstr, 1 );
+		} else {
+			return $str;
+		}
+	}
+
+	/**
+    * returns the prefix part of a prefixed string
+    * returns false, if not prefixed
+    *
+    * @param string $str The prefixed string
+    * @return mixed The prefix or false if there is no prefix
+    * @access public
+    */
+	function getPrefix($str){
+		if($pos = strrpos($str,':')){
+			// get prefix
+			return substr($str,0,$pos);
+		}
+		return false;
+	}
+
+	/**
+    * pass it a prefix, it returns a namespace
+    *
+    * @param string $prefix The prefix
+    * @return mixed The namespace, false if no namespace has the specified prefix
+    * @access public
+    */
+	function getNamespaceFromPrefix($prefix){
+		if (isset($this->namespaces[$prefix])) {
+			return $this->namespaces[$prefix];
+		}
+		//$this->setError("No namespace registered for prefix '$prefix'");
+		return false;
+	}
+
+	/**
+    * returns the prefix for a given namespace (or prefix)
+    * or false if no prefixes registered for the given namespace
+    *
+    * @param string $ns The namespace
+    * @return mixed The prefix, false if the namespace has no prefixes
+    * @access public
+    */
+	function getPrefixFromNamespace($ns) {
+		foreach ($this->namespaces as $p => $n) {
+			if ($ns == $n || $ns == $p) {
+			    $this->usedNamespaces[$p] = $n;
+				return $p;
+			}
+		}
+		return false;
+	}
+
+	/**
+    * returns the time in ODBC canonical form with microseconds
+    *
+    * @return string The time in ODBC canonical form with microseconds
+    * @access public
+    */
+	function getmicrotime() {
+		if (function_exists('gettimeofday')) {
+			$tod = gettimeofday();
+			$sec = $tod['sec'];
+			$usec = $tod['usec'];
+		} else {
+			$sec = time();
+			$usec = 0;
+		}
+		return strftime('%Y-%m-%d %H:%M:%S', $sec) . '.' . sprintf('%06d', $usec);
+	}
+
+	/**
+	 * Returns a string with the output of var_dump
+	 *
+	 * @param mixed $data The variable to var_dump
+	 * @return string The output of var_dump
+	 * @access public
+	 */
+    function varDump($data) {
+		ob_start();
+		var_dump($data);
+		$ret_val = ob_get_contents();
+		ob_end_clean();
+		return $ret_val;
+	}
+
+	/**
+	* represents the object as a string
+	*
+	* @return	string
+	* @access   public
+	*/
+	function __toString() {
+		return $this->varDump($this);
+	}
+}
+
+// XML Schema Datatype Helper Functions
+
+//xsd:dateTime helpers
+
+/**
+* convert unix timestamp to ISO 8601 compliant date string
+*
+* @param    int $timestamp Unix time stamp
+* @param	boolean $utc Whether the time stamp is UTC or local
+* @return	mixed ISO 8601 date string or false
+* @access   public
+*/
+function timestamp_to_iso8601($timestamp,$utc=true){
+	$datestr = date('Y-m-d\TH:i:sO',$timestamp);
+	$pos = strrpos($datestr, "+");
+	if ($pos === FALSE) {
+		$pos = strrpos($datestr, "-");
+	}
+	if ($pos !== FALSE) {
+		if (strlen($datestr) == $pos + 5) {
+			$datestr = substr($datestr, 0, $pos + 3) . ':' . substr($datestr, -2);
+		}
+	}
+	if($utc){
+		$pattern = '/'.
+		'([0-9]{4})-'.	// centuries & years CCYY-
+		'([0-9]{2})-'.	// months MM-
+		'([0-9]{2})'.	// days DD
+		'T'.			// separator T
+		'([0-9]{2}):'.	// hours hh:
+		'([0-9]{2}):'.	// minutes mm:
+		'([0-9]{2})(\.[0-9]*)?'. // seconds ss.ss...
+		'(Z|[+\-][0-9]{2}:?[0-9]{2})?'. // Z to indicate UTC, -/+HH:MM:SS.SS... for local tz's
+		'/';
+
+		if(preg_match($pattern,$datestr,$regs)){
+			return sprintf('%04d-%02d-%02dT%02d:%02d:%02dZ',$regs[1],$regs[2],$regs[3],$regs[4],$regs[5],$regs[6]);
+		}
+		return false;
+	} else {
+		return $datestr;
+	}
+}
+
+/**
+* convert ISO 8601 compliant date string to unix timestamp
+*
+* @param    string $datestr ISO 8601 compliant date string
+* @return	mixed Unix timestamp (int) or false
+* @access   public
+*/
+function iso8601_to_timestamp($datestr){
+	$pattern = '/'.
+	'([0-9]{4})-'.	// centuries & years CCYY-
+	'([0-9]{2})-'.	// months MM-
+	'([0-9]{2})'.	// days DD
+	'T'.			// separator T
+	'([0-9]{2}):'.	// hours hh:
+	'([0-9]{2}):'.	// minutes mm:
+	'([0-9]{2})(\.[0-9]+)?'. // seconds ss.ss...
+	'(Z|[+\-][0-9]{2}:?[0-9]{2})?'. // Z to indicate UTC, -/+HH:MM:SS.SS... for local tz's
+	'/';
+	if(preg_match($pattern,$datestr,$regs)){
+		// not utc
+		if($regs[8] != 'Z'){
+			$op = substr($regs[8],0,1);
+			$h = substr($regs[8],1,2);
+			$m = substr($regs[8],strlen($regs[8])-2,2);
+			if($op == '-'){
+				$regs[4] = $regs[4] + $h;
+				$regs[5] = $regs[5] + $m;
+			} elseif($op == '+'){
+				$regs[4] = $regs[4] - $h;
+				$regs[5] = $regs[5] - $m;
+			}
+		}
+		return gmmktime($regs[4], $regs[5], $regs[6], $regs[2], $regs[3], $regs[1]);
+//		return strtotime("$regs[1]-$regs[2]-$regs[3] $regs[4]:$regs[5]:$regs[6]Z");
+	} else {
+		return false;
+	}
+}
+
+/**
+* sleeps some number of microseconds
+*
+* @param    string $usec the number of microseconds to sleep
+* @access   public
+* @deprecated
+*/
+function usleepWindows($usec)
+{
+	$start = gettimeofday();
+	
+	do
+	{
+		$stop = gettimeofday();
+		$timePassed = 1000000 * ($stop['sec'] - $start['sec'])
+		+ $stop['usec'] - $start['usec'];
+	}
+	while ($timePassed < $usec);
+}
+
+?><?php
+
+
+
+/**
+* Contains information for a SOAP fault.
+* Mainly used for returning faults from deployed functions
+* in a server instance.
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access public
+*/
+class nusoap_fault extends nusoap_base {
+	/**
+	 * The fault code (client|server)
+	 * @var string
+	 * @access private
+	 */
+	var $faultcode;
+	/**
+	 * The fault actor
+	 * @var string
+	 * @access private
+	 */
+	var $faultactor;
+	/**
+	 * The fault string, a description of the fault
+	 * @var string
+	 * @access private
+	 */
+	var $faultstring;
+	/**
+	 * The fault detail, typically a string or array of string
+	 * @var mixed
+	 * @access private
+	 */
+	var $faultdetail;
+
+	/**
+	* constructor
+    *
+    * @param string $faultcode (SOAP-ENV:Client | SOAP-ENV:Server)
+    * @param string $faultactor only used when msg routed between multiple actors
+    * @param string $faultstring human readable error message
+    * @param mixed $faultdetail detail, typically a string or array of string
+	*/
+	function nusoap_fault($faultcode,$faultactor='',$faultstring='',$faultdetail=''){
+		parent::nusoap_base();
+		$this->faultcode = $faultcode;
+		$this->faultactor = $faultactor;
+		$this->faultstring = $faultstring;
+		$this->faultdetail = $faultdetail;
+	}
+
+	/**
+	* serialize a fault
+	*
+	* @return	string	The serialization of the fault instance.
+	* @access   public
+	*/
+	function serialize(){
+		$ns_string = '';
+		foreach($this->namespaces as $k => $v){
+			$ns_string .= "\n  xmlns:$k=\"$v\"";
+		}
+		$return_msg =
+			'<?xml version="1.0" encoding="'.$this->soap_defencoding.'"?>'.
+			'<SOAP-ENV:Envelope SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"'.$ns_string.">\n".
+				'<SOAP-ENV:Body>'.
+				'<SOAP-ENV:Fault>'.
+					$this->serialize_val($this->faultcode, 'faultcode').
+					$this->serialize_val($this->faultactor, 'faultactor').
+					$this->serialize_val($this->faultstring, 'faultstring').
+					$this->serialize_val($this->faultdetail, 'detail').
+				'</SOAP-ENV:Fault>'.
+				'</SOAP-ENV:Body>'.
+			'</SOAP-ENV:Envelope>';
+		return $return_msg;
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_fault extends nusoap_fault {
+}
+
+?><?php
+
+
+
+/**
+* parses an XML Schema, allows access to it's data, other utility methods.
+* imperfect, no validation... yet, but quite functional.
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_xmlschema extends nusoap_base  {
+	
+	// files
+	var $schema = '';
+	var $xml = '';
+	// namespaces
+	var $enclosingNamespaces;
+	// schema info
+	var $schemaInfo = array();
+	var $schemaTargetNamespace = '';
+	// types, elements, attributes defined by the schema
+	var $attributes = array();
+	var $complexTypes = array();
+	var $complexTypeStack = array();
+	var $currentComplexType = null;
+	var $elements = array();
+	var $elementStack = array();
+	var $currentElement = null;
+	var $simpleTypes = array();
+	var $simpleTypeStack = array();
+	var $currentSimpleType = null;
+	// imports
+	var $imports = array();
+	// parser vars
+	var $parser;
+	var $position = 0;
+	var $depth = 0;
+	var $depth_array = array();
+	var $message = array();
+	var $defaultNamespace = array();
+    
+	/**
+	* constructor
+	*
+	* @param    string $schema schema document URI
+	* @param    string $xml xml document URI
+	* @param	string $namespaces namespaces defined in enclosing XML
+	* @access   public
+	*/
+	function nusoap_xmlschema($schema='',$xml='',$namespaces=array()){
+		parent::nusoap_base();
+		$this->debug('nusoap_xmlschema class instantiated, inside constructor');
+		// files
+		$this->schema = $schema;
+		$this->xml = $xml;
+
+		// namespaces
+		$this->enclosingNamespaces = $namespaces;
+		$this->namespaces = array_merge($this->namespaces, $namespaces);
+
+		// parse schema file
+		if($schema != ''){
+			$this->debug('initial schema file: '.$schema);
+			$this->parseFile($schema, 'schema');
+		}
+
+		// parse xml file
+		if($xml != ''){
+			$this->debug('initial xml file: '.$xml);
+			$this->parseFile($xml, 'xml');
+		}
+
+	}
+
+    /**
+    * parse an XML file
+    *
+    * @param string $xml path/URL to XML file
+    * @param string $type (schema | xml)
+	* @return boolean
+    * @access public
+    */
+	function parseFile($xml,$type){
+		// parse xml file
+		if($xml != ""){
+			$xmlStr = @join("",@file($xml));
+			if($xmlStr == ""){
+				$msg = 'Error reading XML from '.$xml;
+				$this->setError($msg);
+				$this->debug($msg);
+			return false;
+			} else {
+				$this->debug("parsing $xml");
+				$this->parseString($xmlStr,$type);
+				$this->debug("done parsing $xml");
+			return true;
+			}
+		}
+		return false;
+	}
+
+	/**
+	* parse an XML string
+	*
+	* @param    string $xml path or URL
+    * @param	string $type (schema|xml)
+	* @access   private
+	*/
+	function parseString($xml,$type){
+		// parse xml string
+		if($xml != ""){
+
+	    	// Create an XML parser.
+	    	$this->parser = xml_parser_create();
+	    	// Set the options for parsing the XML data.
+	    	xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0);
+
+	    	// Set the object for the parser.
+	    	xml_set_object($this->parser, $this);
+
+	    	// Set the element handlers for the parser.
+			if($type == "schema"){
+		    	xml_set_element_handler($this->parser, 'schemaStartElement','schemaEndElement');
+		    	xml_set_character_data_handler($this->parser,'schemaCharacterData');
+			} elseif($type == "xml"){
+				xml_set_element_handler($this->parser, 'xmlStartElement','xmlEndElement');
+		    	xml_set_character_data_handler($this->parser,'xmlCharacterData');
+			}
+
+		    // Parse the XML file.
+		    if(!xml_parse($this->parser,$xml,true)){
+			// Display an error message.
+				$errstr = sprintf('XML error parsing XML schema on line %d: %s',
+				xml_get_current_line_number($this->parser),
+				xml_error_string(xml_get_error_code($this->parser))
+				);
+				$this->debug($errstr);
+				$this->debug("XML payload:\n" . $xml);
+				$this->setError($errstr);
+	    	}
+            
+			xml_parser_free($this->parser);
+		} else{
+			$this->debug('no xml passed to parseString()!!');
+			$this->setError('no xml passed to parseString()!!');
+		}
+	}
+
+	/**
+	 * gets a type name for an unnamed type
+	 *
+	 * @param	string	Element name
+	 * @return	string	A type name for an unnamed type
+	 * @access	private
+	 */
+	function CreateTypeName($ename) {
+		$scope = '';
+		for ($i = 0; $i < count($this->complexTypeStack); $i++) {
+			$scope .= $this->complexTypeStack[$i] . '_';
+		}
+		return $scope . $ename . '_ContainedType';
+	}
+	
+	/**
+	* start-element handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $name element name
+	* @param    string $attrs associative array of attributes
+	* @access   private
+	*/
+	function schemaStartElement($parser, $name, $attrs) {
+		
+		// position in the total number of elements, starting from 0
+		$pos = $this->position++;
+		$depth = $this->depth++;
+		// set self as current value for this depth
+		$this->depth_array[$depth] = $pos;
+		$this->message[$pos] = array('cdata' => ''); 
+		if ($depth > 0) {
+			$this->defaultNamespace[$pos] = $this->defaultNamespace[$this->depth_array[$depth - 1]];
+		} else {
+			$this->defaultNamespace[$pos] = false;
+		}
+
+		// get element prefix
+		if($prefix = $this->getPrefix($name)){
+			// get unqualified name
+			$name = $this->getLocalPart($name);
+		} else {
+        	$prefix = '';
+        }
+		
+        // loop thru attributes, expanding, and registering namespace declarations
+        if(count($attrs) > 0){
+        	foreach($attrs as $k => $v){
+                // if ns declarations, add to class level array of valid namespaces
+				if(preg_match('/^xmlns/',$k)){
+                	//$this->xdebug("$k: $v");
+                	//$this->xdebug('ns_prefix: '.$this->getPrefix($k));
+                	if($ns_prefix = substr(strrchr($k,':'),1)){
+                		//$this->xdebug("Add namespace[$ns_prefix] = $v");
+						$this->namespaces[$ns_prefix] = $v;
+					} else {
+						$this->defaultNamespace[$pos] = $v;
+						if (! $this->getPrefixFromNamespace($v)) {
+							$this->namespaces['ns'.(count($this->namespaces)+1)] = $v;
+						}
+					}
+					if($v == 'http://www.w3.org/2001/XMLSchema' || $v == 'http://www.w3.org/1999/XMLSchema' || $v == 'http://www.w3.org/2000/10/XMLSchema'){
+						$this->XMLSchemaVersion = $v;
+						$this->namespaces['xsi'] = $v.'-instance';
+					}
+				}
+        	}
+        	foreach($attrs as $k => $v){
+                // expand each attribute
+                $k = strpos($k,':') ? $this->expandQname($k) : $k;
+                $v = strpos($v,':') ? $this->expandQname($v) : $v;
+        		$eAttrs[$k] = $v;
+        	}
+        	$attrs = $eAttrs;
+        } else {
+        	$attrs = array();
+        }
+		// find status, register data
+		switch($name){
+			case 'all':			// (optional) compositor content for a complexType
+			case 'choice':
+			case 'group':
+			case 'sequence':
+				//$this->xdebug("compositor $name for currentComplexType: $this->currentComplexType and currentElement: $this->currentElement");
+				$this->complexTypes[$this->currentComplexType]['compositor'] = $name;
+				//if($name == 'all' || $name == 'sequence'){
+				//	$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+				//}
+			break;
+			case 'attribute':	// complexType attribute
+            	//$this->xdebug("parsing attribute $attrs[name] $attrs[ref] of value: ".$attrs['http://schemas.xmlsoap.org/wsdl/:arrayType']);
+            	$this->xdebug("parsing attribute:");
+            	$this->appendDebug($this->varDump($attrs));
+				if (!isset($attrs['form'])) {
+					// TODO: handle globals
+					$attrs['form'] = $this->schemaInfo['attributeFormDefault'];
+				}
+            	if (isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])) {
+					$v = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+					if (!strpos($v, ':')) {
+						// no namespace in arrayType attribute value...
+						if ($this->defaultNamespace[$pos]) {
+							// ...so use the default
+							$attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'] = $this->defaultNamespace[$pos] . ':' . $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+						}
+					}
+            	}
+                if(isset($attrs['name'])){
+					$this->attributes[$attrs['name']] = $attrs;
+					$aname = $attrs['name'];
+				} elseif(isset($attrs['ref']) && $attrs['ref'] == 'http://schemas.xmlsoap.org/soap/encoding/:arrayType'){
+					if (isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])) {
+	                	$aname = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+	                } else {
+	                	$aname = '';
+	                }
+				} elseif(isset($attrs['ref'])){
+					$aname = $attrs['ref'];
+                    $this->attributes[$attrs['ref']] = $attrs;
+				}
+                
+				if($this->currentComplexType){	// This should *always* be
+					$this->complexTypes[$this->currentComplexType]['attrs'][$aname] = $attrs;
+				}
+				// arrayType attribute
+				if(isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType']) || $this->getLocalPart($aname) == 'arrayType'){
+					$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+                	$prefix = $this->getPrefix($aname);
+					if(isset($attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'])){
+						$v = $attrs['http://schemas.xmlsoap.org/wsdl/:arrayType'];
+					} else {
+						$v = '';
+					}
+                    if(strpos($v,'[,]')){
+                        $this->complexTypes[$this->currentComplexType]['multidimensional'] = true;
+                    }
+                    $v = substr($v,0,strpos($v,'[')); // clip the []
+                    if(!strpos($v,':') && isset($this->typemap[$this->XMLSchemaVersion][$v])){
+                        $v = $this->XMLSchemaVersion.':'.$v;
+                    }
+                    $this->complexTypes[$this->currentComplexType]['arrayType'] = $v;
+				}
+			break;
+			case 'complexContent':	// (optional) content for a complexType
+				$this->xdebug("do nothing for element $name");
+			break;
+			case 'complexType':
+				array_push($this->complexTypeStack, $this->currentComplexType);
+				if(isset($attrs['name'])){
+					// TODO: what is the scope of named complexTypes that appear
+					//       nested within other c complexTypes?
+					$this->xdebug('processing named complexType '.$attrs['name']);
+					//$this->currentElement = false;
+					$this->currentComplexType = $attrs['name'];
+					$this->complexTypes[$this->currentComplexType] = $attrs;
+					$this->complexTypes[$this->currentComplexType]['typeClass'] = 'complexType';
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if(isset($attrs['base']) && preg_match('/:Array$/',$attrs['base'])){
+						$this->xdebug('complexType is unusual array');
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					} else {
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+					}
+				} else {
+					$name = $this->CreateTypeName($this->currentElement);
+					$this->xdebug('processing unnamed complexType for element ' . $this->currentElement . ' named ' . $name);
+					$this->currentComplexType = $name;
+					//$this->currentElement = false;
+					$this->complexTypes[$this->currentComplexType] = $attrs;
+					$this->complexTypes[$this->currentComplexType]['typeClass'] = 'complexType';
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if(isset($attrs['base']) && preg_match('/:Array$/',$attrs['base'])){
+						$this->xdebug('complexType is unusual array');
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					} else {
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'struct';
+					}
+				}
+				$this->complexTypes[$this->currentComplexType]['simpleContent'] = 'false';
+			break;
+			case 'element':
+				array_push($this->elementStack, $this->currentElement);
+				if (!isset($attrs['form'])) {
+					if ($this->currentComplexType) {
+						$attrs['form'] = $this->schemaInfo['elementFormDefault'];
+					} else {
+						// global
+						$attrs['form'] = 'qualified';
+					}
+				}
+				if(isset($attrs['type'])){
+					$this->xdebug("processing typed element ".$attrs['name']." of type ".$attrs['type']);
+					if (! $this->getPrefix($attrs['type'])) {
+						if ($this->defaultNamespace[$pos]) {
+							$attrs['type'] = $this->defaultNamespace[$pos] . ':' . $attrs['type'];
+							$this->xdebug('used default namespace to make type ' . $attrs['type']);
+						}
+					}
+					// This is for constructs like
+					//           <complexType name="ListOfString" base="soap:Array">
+					//                <sequence>
+					//                    <element name="string" type="xsd:string"
+					//                        minOccurs="0" maxOccurs="unbounded" />
+					//                </sequence>
+					//            </complexType>
+					if ($this->currentComplexType && $this->complexTypes[$this->currentComplexType]['phpType'] == 'array') {
+						$this->xdebug('arrayType for unusual array is ' . $attrs['type']);
+						$this->complexTypes[$this->currentComplexType]['arrayType'] = $attrs['type'];
+					}
+					$this->currentElement = $attrs['name'];
+					$ename = $attrs['name'];
+				} elseif(isset($attrs['ref'])){
+					$this->xdebug("processing element as ref to ".$attrs['ref']);
+					$this->currentElement = "ref to ".$attrs['ref'];
+					$ename = $this->getLocalPart($attrs['ref']);
+				} else {
+					$type = $this->CreateTypeName($this->currentComplexType . '_' . $attrs['name']);
+					$this->xdebug("processing untyped element " . $attrs['name'] . ' type ' . $type);
+					$this->currentElement = $attrs['name'];
+					$attrs['type'] = $this->schemaTargetNamespace . ':' . $type;
+					$ename = $attrs['name'];
+				}
+				if (isset($ename) && $this->currentComplexType) {
+					$this->xdebug("add element $ename to complexType $this->currentComplexType");
+					$this->complexTypes[$this->currentComplexType]['elements'][$ename] = $attrs;
+				} elseif (!isset($attrs['ref'])) {
+					$this->xdebug("add element $ename to elements array");
+					$this->elements[ $attrs['name'] ] = $attrs;
+					$this->elements[ $attrs['name'] ]['typeClass'] = 'element';
+				}
+			break;
+			case 'enumeration':	//	restriction value list member
+				$this->xdebug('enumeration ' . $attrs['value']);
+				if ($this->currentSimpleType) {
+					$this->simpleTypes[$this->currentSimpleType]['enumeration'][] = $attrs['value'];
+				} elseif ($this->currentComplexType) {
+					$this->complexTypes[$this->currentComplexType]['enumeration'][] = $attrs['value'];
+				}
+			break;
+			case 'extension':	// simpleContent or complexContent type extension
+				$this->xdebug('extension ' . $attrs['base']);
+				if ($this->currentComplexType) {
+					$ns = $this->getPrefix($attrs['base']);
+					if ($ns == '') {
+						$this->complexTypes[$this->currentComplexType]['extensionBase'] = $this->schemaTargetNamespace . ':' . $attrs['base'];
+					} else {
+						$this->complexTypes[$this->currentComplexType]['extensionBase'] = $attrs['base'];
+					}
+				} else {
+					$this->xdebug('no current complexType to set extensionBase');
+				}
+			break;
+			case 'import':
+			    if (isset($attrs['schemaLocation'])) {
+					$this->xdebug('import namespace ' . $attrs['namespace'] . ' from ' . $attrs['schemaLocation']);
+                    $this->imports[$attrs['namespace']][] = array('location' => $attrs['schemaLocation'], 'loaded' => false);
+				} else {
+					$this->xdebug('import namespace ' . $attrs['namespace']);
+                    $this->imports[$attrs['namespace']][] = array('location' => '', 'loaded' => true);
+					if (! $this->getPrefixFromNamespace($attrs['namespace'])) {
+						$this->namespaces['ns'.(count($this->namespaces)+1)] = $attrs['namespace'];
+					}
+				}
+			break;
+			case 'include':
+			    if (isset($attrs['schemaLocation'])) {
+					$this->xdebug('include into namespace ' . $this->schemaTargetNamespace . ' from ' . $attrs['schemaLocation']);
+                    $this->imports[$this->schemaTargetNamespace][] = array('location' => $attrs['schemaLocation'], 'loaded' => false);
+				} else {
+					$this->xdebug('ignoring invalid XML Schema construct: include without schemaLocation attribute');
+				}
+			break;
+			case 'list':	// simpleType value list
+				$this->xdebug("do nothing for element $name");
+			break;
+			case 'restriction':	// simpleType, simpleContent or complexContent value restriction
+				$this->xdebug('restriction ' . $attrs['base']);
+				if($this->currentSimpleType){
+					$this->simpleTypes[$this->currentSimpleType]['type'] = $attrs['base'];
+				} elseif($this->currentComplexType){
+					$this->complexTypes[$this->currentComplexType]['restrictionBase'] = $attrs['base'];
+					if(strstr($attrs['base'],':') == ':Array'){
+						$this->complexTypes[$this->currentComplexType]['phpType'] = 'array';
+					}
+				}
+			break;
+			case 'schema':
+				$this->schemaInfo = $attrs;
+				$this->schemaInfo['schemaVersion'] = $this->getNamespaceFromPrefix($prefix);
+				if (isset($attrs['targetNamespace'])) {
+					$this->schemaTargetNamespace = $attrs['targetNamespace'];
+				}
+				if (!isset($attrs['elementFormDefault'])) {
+					$this->schemaInfo['elementFormDefault'] = 'unqualified';
+				}
+				if (!isset($attrs['attributeFormDefault'])) {
+					$this->schemaInfo['attributeFormDefault'] = 'unqualified';
+				}
+			break;
+			case 'simpleContent':	// (optional) content for a complexType
+				if ($this->currentComplexType) {	// This should *always* be
+					$this->complexTypes[$this->currentComplexType]['simpleContent'] = 'true';
+				} else {
+					$this->xdebug("do nothing for element $name because there is no current complexType");
+				}
+			break;
+			case 'simpleType':
+				array_push($this->simpleTypeStack, $this->currentSimpleType);
+				if(isset($attrs['name'])){
+					$this->xdebug("processing simpleType for name " . $attrs['name']);
+					$this->currentSimpleType = $attrs['name'];
+					$this->simpleTypes[ $attrs['name'] ] = $attrs;
+					$this->simpleTypes[ $attrs['name'] ]['typeClass'] = 'simpleType';
+					$this->simpleTypes[ $attrs['name'] ]['phpType'] = 'scalar';
+				} else {
+					$name = $this->CreateTypeName($this->currentComplexType . '_' . $this->currentElement);
+					$this->xdebug('processing unnamed simpleType for element ' . $this->currentElement . ' named ' . $name);
+					$this->currentSimpleType = $name;
+					//$this->currentElement = false;
+					$this->simpleTypes[$this->currentSimpleType] = $attrs;
+					$this->simpleTypes[$this->currentSimpleType]['phpType'] = 'scalar';
+				}
+			break;
+			case 'union':	// simpleType type list
+				$this->xdebug("do nothing for element $name");
+			break;
+			default:
+				$this->xdebug("do not have any logic to process element $name");
+		}
+	}
+
+	/**
+	* end-element handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $name element name
+	* @access   private
+	*/
+	function schemaEndElement($parser, $name) {
+		// bring depth down a notch
+		$this->depth--;
+		// position of current element is equal to the last value left in depth_array for my depth
+		if(isset($this->depth_array[$this->depth])){
+        	$pos = $this->depth_array[$this->depth];
+        }
+		// get element prefix
+		if ($prefix = $this->getPrefix($name)){
+			// get unqualified name
+			$name = $this->getLocalPart($name);
+		} else {
+        	$prefix = '';
+        }
+		// move on...
+		if($name == 'complexType'){
+			$this->xdebug('done processing complexType ' . ($this->currentComplexType ? $this->currentComplexType : '(unknown)'));
+			$this->xdebug($this->varDump($this->complexTypes[$this->currentComplexType]));
+			$this->currentComplexType = array_pop($this->complexTypeStack);
+			//$this->currentElement = false;
+		}
+		if($name == 'element'){
+			$this->xdebug('done processing element ' . ($this->currentElement ? $this->currentElement : '(unknown)'));
+			$this->currentElement = array_pop($this->elementStack);
+		}
+		if($name == 'simpleType'){
+			$this->xdebug('done processing simpleType ' . ($this->currentSimpleType ? $this->currentSimpleType : '(unknown)'));
+			$this->xdebug($this->varDump($this->simpleTypes[$this->currentSimpleType]));
+			$this->currentSimpleType = array_pop($this->simpleTypeStack);
+		}
+	}
+
+	/**
+	* element content handler
+	*
+	* @param    string $parser XML parser object
+	* @param    string $data element content
+	* @access   private
+	*/
+	function schemaCharacterData($parser, $data){
+		$pos = $this->depth_array[$this->depth - 1];
+		$this->message[$pos]['cdata'] .= $data;
+	}
+
+	/**
+	* serialize the schema
+	*
+	* @access   public
+	*/
+	function serializeSchema(){
+
+		$schemaPrefix = $this->getPrefixFromNamespace($this->XMLSchemaVersion);
+		$xml = '';
+		// imports
+		if (sizeof($this->imports) > 0) {
+			foreach($this->imports as $ns => $list) {
+				foreach ($list as $ii) {
+					if ($ii['location'] != '') {
+						$xml .= " <$schemaPrefix:import location=\"" . $ii['location'] . '" namespace="' . $ns . "\" />\n";
+					} else {
+						$xml .= " <$schemaPrefix:import namespace=\"" . $ns . "\" />\n";
+					}
+				}
+			} 
+		} 
+		// complex types
+		foreach($this->complexTypes as $typeName => $attrs){
+			$contentStr = '';
+			// serialize child elements
+			if(isset($attrs['elements']) && (count($attrs['elements']) > 0)){
+				foreach($attrs['elements'] as $element => $eParts){
+					if(isset($eParts['ref'])){
+						$contentStr .= "   <$schemaPrefix:element ref=\"$element\"/>\n";
+					} else {
+						$contentStr .= "   <$schemaPrefix:element name=\"$element\" type=\"" . $this->contractQName($eParts['type']) . "\"";
+						foreach ($eParts as $aName => $aValue) {
+							// handle, e.g., abstract, default, form, minOccurs, maxOccurs, nillable
+							if ($aName != 'name' && $aName != 'type') {
+								$contentStr .= " $aName=\"$aValue\"";
+							}
+						}
+						$contentStr .= "/>\n";
+					}
+				}
+				// compositor wraps elements
+				if (isset($attrs['compositor']) && ($attrs['compositor'] != '')) {
+					$contentStr = "  <$schemaPrefix:$attrs[compositor]>\n".$contentStr."  </$schemaPrefix:$attrs[compositor]>\n";
+				}
+			}
+			// attributes
+			if(isset($attrs['attrs']) && (count($attrs['attrs']) >= 1)){
+				foreach($attrs['attrs'] as $attr => $aParts){
+					$contentStr .= "    <$schemaPrefix:attribute";
+					foreach ($aParts as $a => $v) {
+						if ($a == 'ref' || $a == 'type') {
+							$contentStr .= " $a=\"".$this->contractQName($v).'"';
+						} elseif ($a == 'http://schemas.xmlsoap.org/wsdl/:arrayType') {
+							$this->usedNamespaces['wsdl'] = $this->namespaces['wsdl'];
+							$contentStr .= ' wsdl:arrayType="'.$this->contractQName($v).'"';
+						} else {
+							$contentStr .= " $a=\"$v\"";
+						}
+					}
+					$contentStr .= "/>\n";
+				}
+			}
+			// if restriction
+			if (isset($attrs['restrictionBase']) && $attrs['restrictionBase'] != ''){
+				$contentStr = "   <$schemaPrefix:restriction base=\"".$this->contractQName($attrs['restrictionBase'])."\">\n".$contentStr."   </$schemaPrefix:restriction>\n";
+				// complex or simple content
+				if ((isset($attrs['elements']) && count($attrs['elements']) > 0) || (isset($attrs['attrs']) && count($attrs['attrs']) > 0)){
+					$contentStr = "  <$schemaPrefix:complexContent>\n".$contentStr."  </$schemaPrefix:complexContent>\n";
+				}
+			}
+			// finalize complex type
+			if($contentStr != ''){
+				$contentStr = " <$schemaPrefix:complexType name=\"$typeName\">\n".$contentStr." </$schemaPrefix:complexType>\n";
+			} else {
+				$contentStr = " <$schemaPrefix:complexType name=\"$typeName\"/>\n";
+			}
+			$xml .= $contentStr;
+		}
+		// simple types
+		if(isset($this->simpleTypes) && count($this->simpleTypes) > 0){
+			foreach($this->simpleTypes as $typeName => $eParts){
+				$xml .= " <$schemaPrefix:simpleType name=\"$typeName\">\n  <$schemaPrefix:restriction base=\"".$this->contractQName($eParts['type'])."\">\n";
+				if (isset($eParts['enumeration'])) {
+					foreach ($eParts['enumeration'] as $e) {
+						$xml .= "  <$schemaPrefix:enumeration value=\"$e\"/>\n";
+					}
+				}
+				$xml .= "  </$schemaPrefix:restriction>\n </$schemaPrefix:simpleType>";
+			}
+		}
+		// elements
+		if(isset($this->elements) && count($this->elements) > 0){
+			foreach($this->elements as $element => $eParts){
+				$xml .= " <$schemaPrefix:element name=\"$element\" type=\"".$this->contractQName($eParts['type'])."\"/>\n";
+			}
+		}
+		// attributes
+		if(isset($this->attributes) && count($this->attributes) > 0){
+			foreach($this->attributes as $attr => $aParts){
+				$xml .= " <$schemaPrefix:attribute name=\"$attr\" type=\"".$this->contractQName($aParts['type'])."\"\n/>";
+			}
+		}
+		// finish 'er up
+		$attr = '';
+		foreach ($this->schemaInfo as $k => $v) {
+			if ($k == 'elementFormDefault' || $k == 'attributeFormDefault') {
+				$attr .= " $k=\"$v\"";
+			}
+		}
+		$el = "<$schemaPrefix:schema$attr targetNamespace=\"$this->schemaTargetNamespace\"\n";
+		foreach (array_diff($this->usedNamespaces, $this->enclosingNamespaces) as $nsp => $ns) {
+			$el .= " xmlns:$nsp=\"$ns\"";
+		}
+		$xml = $el . ">\n".$xml."</$schemaPrefix:schema>\n";
+		return $xml;
+	}
+
+	/**
+	* adds debug data to the clas level debug string
+	*
+	* @param    string $string debug data
+	* @access   private
+	*/
+	function xdebug($string){
+		$this->debug('<' . $this->schemaTargetNamespace . '> '.$string);
+	}
+
+    /**
+    * get the PHP type of a user defined type in the schema
+    * PHP type is kind of a misnomer since it actually returns 'struct' for assoc. arrays
+    * returns false if no type exists, or not w/ the given namespace
+    * else returns a string that is either a native php type, or 'struct'
+    *
+    * @param string $type name of defined type
+    * @param string $ns namespace of type
+    * @return mixed
+    * @access public
+    * @deprecated
+    */
+	function getPHPType($type,$ns){
+		if(isset($this->typemap[$ns][$type])){
+			//print "found type '$type' and ns $ns in typemap<br>";
+			return $this->typemap[$ns][$type];
+		} elseif(isset($this->complexTypes[$type])){
+			//print "getting type '$type' and ns $ns from complexTypes array<br>";
+			return $this->complexTypes[$type]['phpType'];
+		}
+		return false;
+	}
+
+	/**
+    * returns an associative array of information about a given type
+    * returns false if no type exists by the given name
+    *
+	*	For a complexType typeDef = array(
+	*	'restrictionBase' => '',
+	*	'phpType' => '',
+	*	'compositor' => '(sequence|all)',
+	*	'elements' => array(), // refs to elements array
+	*	'attrs' => array() // refs to attributes array
+	*	... and so on (see addComplexType)
+	*	)
+	*
+	*   For simpleType or element, the array has different keys.
+    *
+    * @param string $type
+    * @return mixed
+    * @access public
+    * @see addComplexType
+    * @see addSimpleType
+    * @see addElement
+    */
+	function getTypeDef($type){
+		//$this->debug("in getTypeDef for type $type");
+		if (substr($type, -1) == '^') {
+			$is_element = 1;
+			$type = substr($type, 0, -1);
+		} else {
+			$is_element = 0;
+		}
+
+		if((! $is_element) && isset($this->complexTypes[$type])){
+			$this->xdebug("in getTypeDef, found complexType $type");
+			return $this->complexTypes[$type];
+		} elseif((! $is_element) && isset($this->simpleTypes[$type])){
+			$this->xdebug("in getTypeDef, found simpleType $type");
+			if (!isset($this->simpleTypes[$type]['phpType'])) {
+				// get info for type to tack onto the simple type
+				// TODO: can this ever really apply (i.e. what is a simpleType really?)
+				$uqType = substr($this->simpleTypes[$type]['type'], strrpos($this->simpleTypes[$type]['type'], ':') + 1);
+				$ns = substr($this->simpleTypes[$type]['type'], 0, strrpos($this->simpleTypes[$type]['type'], ':'));
+				$etype = $this->getTypeDef($uqType);
+				if ($etype) {
+					$this->xdebug("in getTypeDef, found type for simpleType $type:");
+					$this->xdebug($this->varDump($etype));
+					if (isset($etype['phpType'])) {
+						$this->simpleTypes[$type]['phpType'] = $etype['phpType'];
+					}
+					if (isset($etype['elements'])) {
+						$this->simpleTypes[$type]['elements'] = $etype['elements'];
+					}
+				}
+			}
+			return $this->simpleTypes[$type];
+		} elseif(isset($this->elements[$type])){
+			$this->xdebug("in getTypeDef, found element $type");
+			if (!isset($this->elements[$type]['phpType'])) {
+				// get info for type to tack onto the element
+				$uqType = substr($this->elements[$type]['type'], strrpos($this->elements[$type]['type'], ':') + 1);
+				$ns = substr($this->elements[$type]['type'], 0, strrpos($this->elements[$type]['type'], ':'));
+				$etype = $this->getTypeDef($uqType);
+				if ($etype) {
+					$this->xdebug("in getTypeDef, found type for element $type:");
+					$this->xdebug($this->varDump($etype));
+					if (isset($etype['phpType'])) {
+						$this->elements[$type]['phpType'] = $etype['phpType'];
+					}
+					if (isset($etype['elements'])) {
+						$this->elements[$type]['elements'] = $etype['elements'];
+					}
+					if (isset($etype['extensionBase'])) {
+						$this->elements[$type]['extensionBase'] = $etype['extensionBase'];
+					}
+				} elseif ($ns == 'http://www.w3.org/2001/XMLSchema') {
+					$this->xdebug("in getTypeDef, element $type is an XSD type");
+					$this->elements[$type]['phpType'] = 'scalar';
+				}
+			}
+			return $this->elements[$type];
+		} elseif(isset($this->attributes[$type])){
+			$this->xdebug("in getTypeDef, found attribute $type");
+			return $this->attributes[$type];
+		} elseif (preg_match('/_ContainedType$/', $type)) {
+			$this->xdebug("in getTypeDef, have an untyped element $type");
+			$typeDef['typeClass'] = 'simpleType';
+			$typeDef['phpType'] = 'scalar';
+			$typeDef['type'] = 'http://www.w3.org/2001/XMLSchema:string';
+			return $typeDef;
+		}
+		$this->xdebug("in getTypeDef, did not find $type");
+		return false;
+	}
+
+	/**
+    * returns a sample serialization of a given type, or false if no type by the given name
+    *
+    * @param string $type name of type
+    * @return mixed
+    * @access public
+    * @deprecated
+    */
+    function serializeTypeDef($type){
+    	//print "in sTD() for type $type<br>";
+	if($typeDef = $this->getTypeDef($type)){
+		$str .= '<'.$type;
+	    if(is_array($typeDef['attrs'])){
+		foreach($typeDef['attrs'] as $attName => $data){
+		    $str .= " $attName=\"{type = ".$data['type']."}\"";
+		}
+	    }
+	    $str .= " xmlns=\"".$this->schema['targetNamespace']."\"";
+	    if(count($typeDef['elements']) > 0){
+		$str .= ">";
+		foreach($typeDef['elements'] as $element => $eData){
+		    $str .= $this->serializeTypeDef($element);
+		}
+		$str .= "</$type>";
+	    } elseif($typeDef['typeClass'] == 'element') {
+		$str .= "></$type>";
+	    } else {
+		$str .= "/>";
+	    }
+			return $str;
+	}
+    	return false;
+    }
+
+    /**
+    * returns HTML form elements that allow a user
+    * to enter values for creating an instance of the given type.
+    *
+    * @param string $name name for type instance
+    * @param string $type name of type
+    * @return string
+    * @access public
+    * @deprecated
+	*/
+	function typeToForm($name,$type){
+		// get typedef
+		if($typeDef = $this->getTypeDef($type)){
+			// if struct
+			if($typeDef['phpType'] == 'struct'){
+				$buffer .= '<table>';
+				foreach($typeDef['elements'] as $child => $childDef){
+					$buffer .= "
+					<tr><td align='right'>$childDef[name] (type: ".$this->getLocalPart($childDef['type'])."):</td>
+					<td><input type='text' name='parameters[".$name."][$childDef[name]]'></td></tr>";
+				}
+				$buffer .= '</table>';
+			// if array
+			} elseif($typeDef['phpType'] == 'array'){
+				$buffer .= '<table>';
+				for($i=0;$i < 3; $i++){
+					$buffer .= "
+					<tr><td align='right'>array item (type: $typeDef[arrayType]):</td>
+					<td><input type='text' name='parameters[".$name."][]'></td></tr>";
+				}
+				$buffer .= '</table>';
+			// if scalar
+			} else {
+				$buffer .= "<input type='text' name='parameters[$name]'>";
+			}
+		} else {
+			$buffer .= "<input type='text' name='parameters[$name]'>";
+		}
+		return $buffer;
+	}
+	
+	/**
+	* adds a complex type to the schema
+	* 
+	* example: array
+	* 
+	* addType(
+	* 	'ArrayOfstring',
+	* 	'complexType',
+	* 	'array',
+	* 	'',
+	* 	'SOAP-ENC:Array',
+	* 	array('ref'=>'SOAP-ENC:arrayType','wsdl:arrayType'=>'string[]'),
+	* 	'xsd:string'
+	* );
+	* 
+	* example: PHP associative array ( SOAP Struct )
+	* 
+	* addType(
+	* 	'SOAPStruct',
+	* 	'complexType',
+	* 	'struct',
+	* 	'all',
+	* 	array('myVar'=> array('name'=>'myVar','type'=>'string')
+	* );
+	* 
+	* @param name
+	* @param typeClass (complexType|simpleType|attribute)
+	* @param phpType: currently supported are array and struct (php assoc array)
+	* @param compositor (all|sequence|choice)
+	* @param restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param elements = array ( name = array(name=>'',type=>'') )
+	* @param attrs = array(
+	* 	array(
+	*		'ref' => "http://schemas.xmlsoap.org/soap/encoding/:arrayType",
+	*		"http://schemas.xmlsoap.org/wsdl/:arrayType" => "string[]"
+	* 	)
+	* )
+	* @param arrayType: namespace:name (http://www.w3.org/2001/XMLSchema:string)
+	* @access public
+	* @see getTypeDef
+	*/
+	function addComplexType($name,$typeClass='complexType',$phpType='array',$compositor='',$restrictionBase='',$elements=array(),$attrs=array(),$arrayType=''){
+		$this->complexTypes[$name] = array(
+	    'name'		=> $name,
+	    'typeClass'	=> $typeClass,
+	    'phpType'	=> $phpType,
+		'compositor'=> $compositor,
+	    'restrictionBase' => $restrictionBase,
+		'elements'	=> $elements,
+	    'attrs'		=> $attrs,
+	    'arrayType'	=> $arrayType
+		);
+		
+		$this->xdebug("addComplexType $name:");
+		$this->appendDebug($this->varDump($this->complexTypes[$name]));
+	}
+	
+	/**
+	* adds a simple type to the schema
+	*
+	* @param string $name
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param string $typeClass (should always be simpleType)
+	* @param string $phpType (should always be scalar)
+	* @param array $enumeration array of values
+	* @access public
+	* @see nusoap_xmlschema
+	* @see getTypeDef
+	*/
+	function addSimpleType($name, $restrictionBase='', $typeClass='simpleType', $phpType='scalar', $enumeration=array()) {
+		$this->simpleTypes[$name] = array(
+	    'name'			=> $name,
+	    'typeClass'		=> $typeClass,
+	    'phpType'		=> $phpType,
+	    'type'			=> $restrictionBase,
+	    'enumeration'	=> $enumeration
+		);
+		
+		$this->xdebug("addSimpleType $name:");
+		$this->appendDebug($this->varDump($this->simpleTypes[$name]));
+	}
+
+	/**
+	* adds an element to the schema
+	*
+	* @param array $attrs attributes that must include name and type
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addElement($attrs) {
+		if (! $this->getPrefix($attrs['type'])) {
+			$attrs['type'] = $this->schemaTargetNamespace . ':' . $attrs['type'];
+		}
+		$this->elements[ $attrs['name'] ] = $attrs;
+		$this->elements[ $attrs['name'] ]['typeClass'] = 'element';
+		
+		$this->xdebug("addElement " . $attrs['name']);
+		$this->appendDebug($this->varDump($this->elements[ $attrs['name'] ]));
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class XMLSchema extends nusoap_xmlschema {
+}
+
+?><?php
+
+
+
+/**
+* For creating serializable abstractions of native PHP types.  This class
+* allows element name/namespace, XSD type, and XML attributes to be
+* associated with a value.  This is extremely useful when WSDL is not
+* used, but is also useful when WSDL is used with polymorphic types, including
+* xsd:anyType and user-defined types.
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class soapval extends nusoap_base {
+	/**
+	 * The XML element name
+	 *
+	 * @var string
+	 * @access private
+	 */
+	var $name;
+	/**
+	 * The XML type name (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $type;
+	/**
+	 * The PHP value
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $value;
+	/**
+	 * The XML element namespace (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $element_ns;
+	/**
+	 * The XML type namespace (string or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $type_ns;
+	/**
+	 * The XML element attributes (array or false)
+	 *
+	 * @var mixed
+	 * @access private
+	 */
+	var $attributes;
+
+	/**
+	* constructor
+	*
+	* @param    string $name optional name
+	* @param    mixed $type optional type name
+	* @param	mixed $value optional value
+	* @param	mixed $element_ns optional namespace of value
+	* @param	mixed $type_ns optional namespace of type
+	* @param	mixed $attributes associative array of attributes to add to element serialization
+	* @access   public
+	*/
+  	function soapval($name='soapval',$type=false,$value=-1,$element_ns=false,$type_ns=false,$attributes=false) {
+		parent::nusoap_base();
+		$this->name = $name;
+		$this->type = $type;
+		$this->value = $value;
+		$this->element_ns = $element_ns;
+		$this->type_ns = $type_ns;
+		$this->attributes = $attributes;
+    }
+
+	/**
+	* return serialized value
+	*
+	* @param	string $use The WSDL use value (encoded|literal)
+	* @return	string XML data
+	* @access   public
+	*/
+	function serialize($use='encoded') {
+		return $this->serialize_val($this->value, $this->name, $this->type, $this->element_ns, $this->type_ns, $this->attributes, $use, true);
+    }
+
+	/**
+	* decodes a soapval object into a PHP native type
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function decode(){
+		return $this->value;
+	}
+}
+
+
+
+?><?php
+
+
+
+/**
+* transport class for sending/receiving data via HTTP and HTTPS
+* NOTE: PHP must be compiled with the CURL extension for HTTPS support
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access public
+*/
+class soap_transport_http extends nusoap_base {
+
+	var $url = '';
+	var $uri = '';
+	var $digest_uri = '';
+	var $scheme = '';
+	var $host = '';
+	var $port = '';
+	var $path = '';
+	var $request_method = 'POST';
+	var $protocol_version = '1.0';
+	var $encoding = '';
+	var $outgoing_headers = array();
+	var $incoming_headers = array();
+	var $incoming_cookies = array();
+	var $outgoing_payload = '';
+	var $incoming_payload = '';
+	var $response_status_line;	// HTTP response status line
+	var $useSOAPAction = true;
+	var $persistentConnection = false;
+	var $ch = false;	// cURL handle
+	var $ch_options = array();	// cURL custom options
+	var $use_curl = false;		// force cURL use
+	var $proxy = null;			// proxy information (associative array)
+	var $username = '';
+	var $password = '';
+	var $authtype = '';
+	var $digestRequest = array();
+	var $certRequest = array();	// keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional)
+								// cainfofile: certificate authority file, e.g. '$pathToPemFiles/rootca.pem'
+								// sslcertfile: SSL certificate file, e.g. '$pathToPemFiles/mycert.pem'
+								// sslkeyfile: SSL key file, e.g. '$pathToPemFiles/mykey.pem'
+								// passphrase: SSL key password/passphrase
+								// certpassword: SSL certificate password
+								// verifypeer: default is 1
+								// verifyhost: default is 1
+
+	/**
+	* constructor
+	*
+	* @param string $url The URL to which to connect
+	* @param array $curl_options User-specified cURL options
+	* @param boolean $use_curl Whether to try to force cURL use
+	* @access public
+	*/
+	function soap_transport_http($url, $curl_options = NULL, $use_curl = false){
+		parent::nusoap_base();
+		$this->debug("ctor url=$url use_curl=$use_curl curl_options:");
+		$this->appendDebug($this->varDump($curl_options));
+		$this->setURL($url);
+		if (is_array($curl_options)) {
+			$this->ch_options = $curl_options;
+		}
+		$this->use_curl = $use_curl;
+		preg_match('/\$Revisio' . 'n: ([^ ]+)/', $this->revision, $rev);
+		$this->setHeader('User-Agent', $this->title.'/'.$this->version.' ('.$rev[1].')');
+	}
+
+	/**
+	* sets a cURL option
+	*
+	* @param	mixed $option The cURL option (always integer?)
+	* @param	mixed $value The cURL option value
+	* @access   private
+	*/
+	function setCurlOption($option, $value) {
+		$this->debug("setCurlOption option=$option, value=");
+		$this->appendDebug($this->varDump($value));
+		curl_setopt($this->ch, $option, $value);
+	}
+
+	/**
+	* sets an HTTP header
+	*
+	* @param string $name The name of the header
+	* @param string $value The value of the header
+	* @access private
+	*/
+	function setHeader($name, $value) {
+		$this->outgoing_headers[$name] = $value;
+		$this->debug("set header $name: $value");
+	}
+
+	/**
+	* unsets an HTTP header
+	*
+	* @param string $name The name of the header
+	* @access private
+	*/
+	function unsetHeader($name) {
+		if (isset($this->outgoing_headers[$name])) {
+			$this->debug("unset header $name");
+			unset($this->outgoing_headers[$name]);
+		}
+	}
+
+	/**
+	* sets the URL to which to connect
+	*
+	* @param string $url The URL to which to connect
+	* @access private
+	*/
+	function setURL($url) {
+		$this->url = $url;
+
+		$u = parse_url($url);
+		foreach($u as $k => $v){
+			$this->debug("parsed URL $k = $v");
+			$this->$k = $v;
+		}
+		
+		// add any GET params to path
+		if(isset($u['query']) && $u['query'] != ''){
+            $this->path .= '?' . $u['query'];
+		}
+		
+		// set default port
+		if(!isset($u['port'])){
+			if($u['scheme'] == 'https'){
+				$this->port = 443;
+			} else {
+				$this->port = 80;
+			}
+		}
+		
+		$this->uri = $this->path;
+		$this->digest_uri = $this->uri;
+		
+		// build headers
+		if (!isset($u['port'])) {
+			$this->setHeader('Host', $this->host);
+		} else {
+			$this->setHeader('Host', $this->host.':'.$this->port);
+		}
+
+		if (isset($u['user']) && $u['user'] != '') {
+			$this->setCredentials(urldecode($u['user']), isset($u['pass']) ? urldecode($u['pass']) : '');
+		}
+	}
+
+	/**
+	* gets the I/O method to use
+	*
+	* @return	string	I/O method to use (socket|curl|unknown)
+	* @access	private
+	*/
+	function io_method() {
+		if ($this->use_curl || ($this->scheme == 'https') || ($this->scheme == 'http' && $this->authtype == 'ntlm') || ($this->scheme == 'http' && is_array($this->proxy) && $this->proxy['authtype'] == 'ntlm'))
+			return 'curl';
+		if (($this->scheme == 'http' || $this->scheme == 'ssl') && $this->authtype != 'ntlm' && (!is_array($this->proxy) || $this->proxy['authtype'] != 'ntlm'))
+			return 'socket';
+		return 'unknown';
+	}
+
+	/**
+	* establish an HTTP connection
+	*
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @return	boolean true if connected, false if not
+	* @access   private
+	*/
+	function connect($connection_timeout=0,$response_timeout=30){
+	  	// For PHP 4.3 with OpenSSL, change https scheme to ssl, then treat like
+	  	// "regular" socket.
+	  	// TODO: disabled for now because OpenSSL must be *compiled* in (not just
+	  	//       loaded), and until PHP5 stream_get_wrappers is not available.
+//	  	if ($this->scheme == 'https') {
+//		  	if (version_compare(phpversion(), '4.3.0') >= 0) {
+//		  		if (extension_loaded('openssl')) {
+//		  			$this->scheme = 'ssl';
+//		  			$this->debug('Using SSL over OpenSSL');
+//		  		}
+//		  	}
+//		}
+		$this->debug("connect connection_timeout $connection_timeout, response_timeout $response_timeout, scheme $this->scheme, host $this->host, port $this->port");
+	  if ($this->io_method() == 'socket') {
+		if (!is_array($this->proxy)) {
+			$host = $this->host;
+			$port = $this->port;
+		} else {
+			$host = $this->proxy['host'];
+			$port = $this->proxy['port'];
+		}
+
+		// use persistent connection
+		if($this->persistentConnection && isset($this->fp) && is_resource($this->fp)){
+			if (!feof($this->fp)) {
+				$this->debug('Re-use persistent connection');
+				return true;
+			}
+			fclose($this->fp);
+			$this->debug('Closed persistent connection at EOF');
+		}
+
+		// munge host if using OpenSSL
+		if ($this->scheme == 'ssl') {
+			$host = 'ssl://' . $host;
+		}
+		$this->debug('calling fsockopen with host ' . $host . ' connection_timeout ' . $connection_timeout);
+
+		// open socket
+		if($connection_timeout > 0){
+			$this->fp = @fsockopen( $host, $this->port, $this->errno, $this->error_str, $connection_timeout);
+		} else {
+			$this->fp = @fsockopen( $host, $this->port, $this->errno, $this->error_str);
+		}
+		
+		// test pointer
+		if(!$this->fp) {
+			$msg = 'Couldn\'t open socket connection to server ' . $this->url;
+			if ($this->errno) {
+				$msg .= ', Error ('.$this->errno.'): '.$this->error_str;
+			} else {
+				$msg .= ' prior to connect().  This is often a problem looking up the host name.';
+			}
+			$this->debug($msg);
+			$this->setError($msg);
+			return false;
+		}
+		
+		// set response timeout
+		$this->debug('set response timeout to ' . $response_timeout);
+		socket_set_timeout( $this->fp, $response_timeout);
+
+		$this->debug('socket connected');
+		return true;
+	  } else if ($this->io_method() == 'curl') {
+		if (!extension_loaded('curl')) {
+//			$this->setError('cURL Extension, or OpenSSL extension w/ PHP version >= 4.3 is required for HTTPS');
+			$this->setError('The PHP cURL Extension is required for HTTPS or NLTM.  You will need to re-build or update your PHP to include cURL or change php.ini to load the PHP cURL extension.');
+			return false;
+		}
+		// Avoid warnings when PHP does not have these options
+		if (defined('CURLOPT_CONNECTIONTIMEOUT'))
+			$CURLOPT_CONNECTIONTIMEOUT = CURLOPT_CONNECTIONTIMEOUT;
+		else
+			$CURLOPT_CONNECTIONTIMEOUT = 78;
+		if (defined('CURLOPT_HTTPAUTH'))
+			$CURLOPT_HTTPAUTH = CURLOPT_HTTPAUTH;
+		else
+			$CURLOPT_HTTPAUTH = 107;
+		if (defined('CURLOPT_PROXYAUTH'))
+			$CURLOPT_PROXYAUTH = CURLOPT_PROXYAUTH;
+		else
+			$CURLOPT_PROXYAUTH = 111;
+		if (defined('CURLAUTH_BASIC'))
+			$CURLAUTH_BASIC = CURLAUTH_BASIC;
+		else
+			$CURLAUTH_BASIC = 1;
+		if (defined('CURLAUTH_DIGEST'))
+			$CURLAUTH_DIGEST = CURLAUTH_DIGEST;
+		else
+			$CURLAUTH_DIGEST = 2;
+		if (defined('CURLAUTH_NTLM'))
+			$CURLAUTH_NTLM = CURLAUTH_NTLM;
+		else
+			$CURLAUTH_NTLM = 8;
+
+		$this->debug('connect using cURL');
+		// init CURL
+		$this->ch = curl_init();
+		// set url
+		$hostURL = ($this->port != '') ? "$this->scheme://$this->host:$this->port" : "$this->scheme://$this->host";
+		// add path
+		$hostURL .= $this->path;
+		$this->setCurlOption(CURLOPT_URL, $hostURL);
+		// follow location headers (re-directs)
+		if (ini_get('safe_mode') || ini_get('open_basedir')) {
+			$this->debug('safe_mode or open_basedir set, so do not set CURLOPT_FOLLOWLOCATION');
+			$this->debug('safe_mode = ');
+			$this->appendDebug($this->varDump(ini_get('safe_mode')));
+			$this->debug('open_basedir = ');
+			$this->appendDebug($this->varDump(ini_get('open_basedir')));
+		} else {
+			$this->setCurlOption(CURLOPT_FOLLOWLOCATION, 1);
+		}
+		// ask for headers in the response output
+		$this->setCurlOption(CURLOPT_HEADER, 1);
+		// ask for the response output as the return value
+		$this->setCurlOption(CURLOPT_RETURNTRANSFER, 1);
+		// encode
+		// We manage this ourselves through headers and encoding
+//		if(function_exists('gzuncompress')){
+//			$this->setCurlOption(CURLOPT_ENCODING, 'deflate');
+//		}
+		// persistent connection
+		if ($this->persistentConnection) {
+			// I believe the following comment is now bogus, having applied to
+			// the code when it used CURLOPT_CUSTOMREQUEST to send the request.
+			// The way we send data, we cannot use persistent connections, since
+			// there will be some "junk" at the end of our request.
+			//$this->setCurlOption(CURL_HTTP_VERSION_1_1, true);
+			$this->persistentConnection = false;
+			$this->setHeader('Connection', 'close');
+		}
+		// set timeouts
+		if ($connection_timeout != 0) {
+			$this->setCurlOption($CURLOPT_CONNECTIONTIMEOUT, $connection_timeout);
+		}
+		if ($response_timeout != 0) {
+			$this->setCurlOption(CURLOPT_TIMEOUT, $response_timeout);
+		}
+
+		if ($this->scheme == 'https') {
+			$this->debug('set cURL SSL verify options');
+			// recent versions of cURL turn on peer/host checking by default,
+			// while PHP binaries are not compiled with a default location for the
+			// CA cert bundle, so disable peer/host checking.
+			//$this->setCurlOption(CURLOPT_CAINFO, 'f:\php-4.3.2-win32\extensions\curl-ca-bundle.crt');		
+			$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, 0);
+			$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, 0);
+	
+			// support client certificates (thanks Tobias Boes, Doug Anarino, Eryan Ariobowo)
+			if ($this->authtype == 'certificate') {
+				$this->debug('set cURL certificate options');
+				if (isset($this->certRequest['cainfofile'])) {
+					$this->setCurlOption(CURLOPT_CAINFO, $this->certRequest['cainfofile']);
+				}
+				if (isset($this->certRequest['verifypeer'])) {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, $this->certRequest['verifypeer']);
+				} else {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYPEER, 1);
+				}
+				if (isset($this->certRequest['verifyhost'])) {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, $this->certRequest['verifyhost']);
+				} else {
+					$this->setCurlOption(CURLOPT_SSL_VERIFYHOST, 1);
+				}
+				if (isset($this->certRequest['sslcertfile'])) {
+					$this->setCurlOption(CURLOPT_SSLCERT, $this->certRequest['sslcertfile']);
+				}
+				if (isset($this->certRequest['sslkeyfile'])) {
+					$this->setCurlOption(CURLOPT_SSLKEY, $this->certRequest['sslkeyfile']);
+				}
+				if (isset($this->certRequest['passphrase'])) {
+					$this->setCurlOption(CURLOPT_SSLKEYPASSWD, $this->certRequest['passphrase']);
+				}
+				if (isset($this->certRequest['certpassword'])) {
+					$this->setCurlOption(CURLOPT_SSLCERTPASSWD, $this->certRequest['certpassword']);
+				}
+			}
+		}
+		if ($this->authtype && ($this->authtype != 'certificate')) {
+			if ($this->username) {
+				$this->debug('set cURL username/password');
+				$this->setCurlOption(CURLOPT_USERPWD, "$this->username:$this->password");
+			}
+			if ($this->authtype == 'basic') {
+				$this->debug('set cURL for Basic authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_BASIC);
+			}
+			if ($this->authtype == 'digest') {
+				$this->debug('set cURL for digest authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_DIGEST);
+			}
+			if ($this->authtype == 'ntlm') {
+				$this->debug('set cURL for NTLM authentication');
+				$this->setCurlOption($CURLOPT_HTTPAUTH, $CURLAUTH_NTLM);
+			}
+		}
+		if (is_array($this->proxy)) {
+			$this->debug('set cURL proxy options');
+			if ($this->proxy['port'] != '') {
+				$this->setCurlOption(CURLOPT_PROXY, $this->proxy['host'].':'.$this->proxy['port']);
+			} else {
+				$this->setCurlOption(CURLOPT_PROXY, $this->proxy['host']);
+			}
+			if ($this->proxy['username'] || $this->proxy['password']) {
+				$this->debug('set cURL proxy authentication options');
+				$this->setCurlOption(CURLOPT_PROXYUSERPWD, $this->proxy['username'].':'.$this->proxy['password']);
+				if ($this->proxy['authtype'] == 'basic') {
+					$this->setCurlOption($CURLOPT_PROXYAUTH, $CURLAUTH_BASIC);
+				}
+				if ($this->proxy['authtype'] == 'ntlm') {
+					$this->setCurlOption($CURLOPT_PROXYAUTH, $CURLAUTH_NTLM);
+				}
+			}
+		}
+		$this->debug('cURL connection set up');
+		return true;
+	  } else {
+		$this->setError('Unknown scheme ' . $this->scheme);
+		$this->debug('Unknown scheme ' . $this->scheme);
+		return false;
+	  }
+	}
+
+	/**
+	* sends the SOAP request and gets the SOAP response via HTTP[S]
+	*
+	* @param    string $data message data
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @param	array $cookies cookies to send
+	* @return	string data
+	* @access   public
+	*/
+	function send($data, $timeout=0, $response_timeout=30, $cookies=NULL) {
+		
+		$this->debug('entered send() with data of length: '.strlen($data));
+
+		$this->tryagain = true;
+		$tries = 0;
+		while ($this->tryagain) {
+			$this->tryagain = false;
+			if ($tries++ < 2) {
+				// make connnection
+				if (!$this->connect($timeout, $response_timeout)){
+					return false;
+				}
+				
+				// send request
+				if (!$this->sendRequest($data, $cookies)){
+					return false;
+				}
+				
+				// get response
+				$respdata = $this->getResponse();
+			} else {
+				$this->setError("Too many tries to get an OK response ($this->response_status_line)");
+			}
+		}		
+		$this->debug('end of send()');
+		return $respdata;
+	}
+
+
+	/**
+	* sends the SOAP request and gets the SOAP response via HTTPS using CURL
+	*
+	* @param    string $data message data
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @param	array $cookies cookies to send
+	* @return	string data
+	* @access   public
+	* @deprecated
+	*/
+	function sendHTTPS($data, $timeout=0, $response_timeout=30, $cookies) {
+		return $this->send($data, $timeout, $response_timeout, $cookies);
+	}
+	
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $digestRequest (keys must be nonce, nc, realm, qop)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $digestRequest = array(), $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype digestRequest=");
+		$this->appendDebug($this->varDump($digestRequest));
+		$this->debug("certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		// cf. RFC 2617
+		if ($authtype == 'basic') {
+			$this->setHeader('Authorization', 'Basic '.base64_encode(str_replace(':','',$username).':'.$password));
+		} elseif ($authtype == 'digest') {
+			if (isset($digestRequest['nonce'])) {
+				$digestRequest['nc'] = isset($digestRequest['nc']) ? $digestRequest['nc']++ : 1;
+				
+				// calculate the Digest hashes (calculate code based on digest implementation found at: http://www.rassoc.com/gregr/weblog/stories/2002/07/09/webServicesSecurityHttpDigestAuthenticationWithoutActiveDirectory.html)
+	
+				// A1 = unq(username-value) ":" unq(realm-value) ":" passwd
+				$A1 = $username. ':' . (isset($digestRequest['realm']) ? $digestRequest['realm'] : '') . ':' . $password;
+	
+				// H(A1) = MD5(A1)
+				$HA1 = md5($A1);
+	
+				// A2 = Method ":" digest-uri-value
+				$A2 = $this->request_method . ':' . $this->digest_uri;
+	
+				// H(A2)
+				$HA2 =  md5($A2);
+	
+				// KD(secret, data) = H(concat(secret, ":", data))
+				// if qop == auth:
+				// request-digest  = <"> < KD ( H(A1),     unq(nonce-value)
+				//                              ":" nc-value
+				//                              ":" unq(cnonce-value)
+				//                              ":" unq(qop-value)
+				//                              ":" H(A2)
+				//                            ) <">
+				// if qop is missing,
+				// request-digest  = <"> < KD ( H(A1), unq(nonce-value) ":" H(A2) ) > <">
+	
+				$unhashedDigest = '';
+				$nonce = isset($digestRequest['nonce']) ? $digestRequest['nonce'] : '';
+				$cnonce = $nonce;
+				if ($digestRequest['qop'] != '') {
+					$unhashedDigest = $HA1 . ':' . $nonce . ':' . sprintf("%08d", $digestRequest['nc']) . ':' . $cnonce . ':' . $digestRequest['qop'] . ':' . $HA2;
+				} else {
+					$unhashedDigest = $HA1 . ':' . $nonce . ':' . $HA2;
+				}
+	
+				$hashedDigest = md5($unhashedDigest);
+	
+				$opaque = '';	
+				if (isset($digestRequest['opaque'])) {
+					$opaque = ', opaque="' . $digestRequest['opaque'] . '"';
+				}
+
+				$this->setHeader('Authorization', 'Digest username="' . $username . '", realm="' . $digestRequest['realm'] . '", nonce="' . $nonce . '", uri="' . $this->digest_uri . $opaque . '", cnonce="' . $cnonce . '", nc=' . sprintf("%08x", $digestRequest['nc']) . ', qop="' . $digestRequest['qop'] . '", response="' . $hashedDigest . '"');
+			}
+		} elseif ($authtype == 'certificate') {
+			$this->certRequest = $certRequest;
+			$this->debug('Authorization header not set for certificate');
+		} elseif ($authtype == 'ntlm') {
+			// do nothing
+			$this->debug('Authorization header not set for ntlm');
+		}
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->digestRequest = $digestRequest;
+	}
+	
+	/**
+	* set the soapaction value
+	*
+	* @param    string $soapaction
+	* @access   public
+	*/
+	function setSOAPAction($soapaction) {
+		$this->setHeader('SOAPAction', '"' . $soapaction . '"');
+	}
+	
+	/**
+	* use http encoding
+	*
+	* @param    string $enc encoding style. supported values: gzip, deflate, or both
+	* @access   public
+	*/
+	function setEncoding($enc='gzip, deflate') {
+		if (function_exists('gzdeflate')) {
+			$this->protocol_version = '1.1';
+			$this->setHeader('Accept-Encoding', $enc);
+			if (!isset($this->outgoing_headers['Connection'])) {
+				$this->setHeader('Connection', 'close');
+				$this->persistentConnection = false;
+			}
+			// deprecated as of PHP 5.3.0
+			//set_magic_quotes_runtime(0);
+			$this->encoding = $enc;
+		}
+	}
+	
+	/**
+	* set proxy info here
+	*
+	* @param    string $proxyhost use an empty string to remove proxy
+	* @param    string $proxyport
+	* @param	string $proxyusername
+	* @param	string $proxypassword
+	* @param	string $proxyauthtype (basic|ntlm)
+	* @access   public
+	*/
+	function setProxy($proxyhost, $proxyport, $proxyusername = '', $proxypassword = '', $proxyauthtype = 'basic') {
+		if ($proxyhost) {
+			$this->proxy = array(
+				'host' => $proxyhost,
+				'port' => $proxyport,
+				'username' => $proxyusername,
+				'password' => $proxypassword,
+				'authtype' => $proxyauthtype
+			);
+			if ($proxyusername != '' && $proxypassword != '' && $proxyauthtype = 'basic') {
+				$this->setHeader('Proxy-Authorization', ' Basic '.base64_encode($proxyusername.':'.$proxypassword));
+			}
+		} else {
+			$this->debug('remove proxy');
+			$proxy = null;
+			unsetHeader('Proxy-Authorization');
+		}
+	}
+	
+
+	/**
+	 * Test if the given string starts with a header that is to be skipped.
+	 * Skippable headers result from chunked transfer and proxy requests.
+	 *
+	 * @param	string $data The string to check.
+	 * @returns	boolean	Whether a skippable header was found.
+	 * @access	private
+	 */
+	function isSkippableCurlHeader(&$data) {
+		$skipHeaders = array(	'HTTP/1.1 100',
+								'HTTP/1.0 301',
+								'HTTP/1.1 301',
+								'HTTP/1.0 302',
+								'HTTP/1.1 302',
+								'HTTP/1.0 401',
+								'HTTP/1.1 401',
+								'HTTP/1.0 200 Connection established');
+		foreach ($skipHeaders as $hd) {
+			$prefix = substr($data, 0, strlen($hd));
+			if ($prefix == $hd) return true;
+		}
+
+		return false;
+	}
+
+	/**
+	* decode a string that is encoded w/ "chunked' transfer encoding
+ 	* as defined in RFC2068 19.4.6
+	*
+	* @param    string $buffer
+	* @param    string $lb
+	* @returns	string
+	* @access   public
+	* @deprecated
+	*/
+	function decodeChunked($buffer, $lb){
+		// length := 0
+		$length = 0;
+		$new = '';
+		
+		// read chunk-size, chunk-extension (if any) and CRLF
+		// get the position of the linebreak
+		$chunkend = strpos($buffer, $lb);
+		if ($chunkend == FALSE) {
+			$this->debug('no linebreak found in decodeChunked');
+			return $new;
+		}
+		$temp = substr($buffer,0,$chunkend);
+		$chunk_size = hexdec( trim($temp) );
+		$chunkstart = $chunkend + strlen($lb);
+		// while (chunk-size > 0) {
+		while ($chunk_size > 0) {
+			$this->debug("chunkstart: $chunkstart chunk_size: $chunk_size");
+			$chunkend = strpos( $buffer, $lb, $chunkstart + $chunk_size);
+		  	
+			// Just in case we got a broken connection
+		  	if ($chunkend == FALSE) {
+		  	    $chunk = substr($buffer,$chunkstart);
+				// append chunk-data to entity-body
+		    	$new .= $chunk;
+		  	    $length += strlen($chunk);
+		  	    break;
+			}
+			
+		  	// read chunk-data and CRLF
+		  	$chunk = substr($buffer,$chunkstart,$chunkend-$chunkstart);
+		  	// append chunk-data to entity-body
+		  	$new .= $chunk;
+		  	// length := length + chunk-size
+		  	$length += strlen($chunk);
+		  	// read chunk-size and CRLF
+		  	$chunkstart = $chunkend + strlen($lb);
+			
+		  	$chunkend = strpos($buffer, $lb, $chunkstart) + strlen($lb);
+			if ($chunkend == FALSE) {
+				break; //Just in case we got a broken connection
+			}
+			$temp = substr($buffer,$chunkstart,$chunkend-$chunkstart);
+			$chunk_size = hexdec( trim($temp) );
+			$chunkstart = $chunkend;
+		}
+		return $new;
+	}
+	
+	/**
+	 * Writes the payload, including HTTP headers, to $this->outgoing_payload.
+	 *
+	 * @param	string $data HTTP body
+	 * @param	string $cookie_str data for HTTP Cookie header
+	 * @return	void
+	 * @access	private
+	 */
+	function buildPayload($data, $cookie_str = '') {
+		// Note: for cURL connections, $this->outgoing_payload is ignored,
+		// as is the Content-Length header, but these are still created as
+		// debugging guides.
+
+		// add content-length header
+		if ($this->request_method != 'GET') {
+			$this->setHeader('Content-Length', strlen($data));
+		}
+
+		// start building outgoing payload:
+		if ($this->proxy) {
+			$uri = $this->url;
+		} else {
+			$uri = $this->uri;
+		}
+		$req = "$this->request_method $uri HTTP/$this->protocol_version";
+		$this->debug("HTTP request: $req");
+		$this->outgoing_payload = "$req\r\n";
+
+		// loop thru headers, serializing
+		foreach($this->outgoing_headers as $k => $v){
+			$hdr = $k.': '.$v;
+			$this->debug("HTTP header: $hdr");
+			$this->outgoing_payload .= "$hdr\r\n";
+		}
+
+		// add any cookies
+		if ($cookie_str != '') {
+			$hdr = 'Cookie: '.$cookie_str;
+			$this->debug("HTTP header: $hdr");
+			$this->outgoing_payload .= "$hdr\r\n";
+		}
+
+		// header/body separator
+		$this->outgoing_payload .= "\r\n";
+		
+		// add data
+		$this->outgoing_payload .= $data;
+	}
+
+	/**
+	* sends the SOAP request via HTTP[S]
+	*
+	* @param    string $data message data
+	* @param	array $cookies cookies to send
+	* @return	boolean	true if OK, false if problem
+	* @access   private
+	*/
+	function sendRequest($data, $cookies = NULL) {
+		// build cookie string
+		$cookie_str = $this->getCookiesForRequest($cookies, (($this->scheme == 'ssl') || ($this->scheme == 'https')));
+
+		// build payload
+		$this->buildPayload($data, $cookie_str);
+
+	  if ($this->io_method() == 'socket') {
+		// send payload
+		if(!fputs($this->fp, $this->outgoing_payload, strlen($this->outgoing_payload))) {
+			$this->setError('couldn\'t write message data to socket');
+			$this->debug('couldn\'t write message data to socket');
+			return false;
+		}
+		$this->debug('wrote data to socket, length = ' . strlen($this->outgoing_payload));
+		return true;
+	  } else if ($this->io_method() == 'curl') {
+		// set payload
+		// cURL does say this should only be the verb, and in fact it
+		// turns out that the URI and HTTP version are appended to this, which
+		// some servers refuse to work with (so we no longer use this method!)
+		//$this->setCurlOption(CURLOPT_CUSTOMREQUEST, $this->outgoing_payload);
+		$curl_headers = array();
+		foreach($this->outgoing_headers as $k => $v){
+			if ($k == 'Connection' || $k == 'Content-Length' || $k == 'Host' || $k == 'Authorization' || $k == 'Proxy-Authorization') {
+				$this->debug("Skip cURL header $k: $v");
+			} else {
+				$curl_headers[] = "$k: $v";
+			}
+		}
+		if ($cookie_str != '') {
+			$curl_headers[] = 'Cookie: ' . $cookie_str;
+		}
+		$this->setCurlOption(CURLOPT_HTTPHEADER, $curl_headers);
+		$this->debug('set cURL HTTP headers');
+		if ($this->request_method == "POST") {
+	  		$this->setCurlOption(CURLOPT_POST, 1);
+	  		$this->setCurlOption(CURLOPT_POSTFIELDS, $data);
+			$this->debug('set cURL POST data');
+	  	} else {
+	  	}
+		// insert custom user-set cURL options
+		foreach ($this->ch_options as $key => $val) {
+			$this->setCurlOption($key, $val);
+		}
+
+		$this->debug('set cURL payload');
+		return true;
+	  }
+	}
+
+	/**
+	* gets the SOAP response via HTTP[S]
+	*
+	* @return	string the response (also sets member variables like incoming_payload)
+	* @access   private
+	*/
+	function getResponse(){
+		$this->incoming_payload = '';
+	    
+	  if ($this->io_method() == 'socket') {
+	    // loop until headers have been retrieved
+	    $data = '';
+	    while (!isset($lb)){
+
+			// We might EOF during header read.
+			if(feof($this->fp)) {
+				$this->incoming_payload = $data;
+				$this->debug('found no headers before EOF after length ' . strlen($data));
+				$this->debug("received before EOF:\n" . $data);
+				$this->setError('server failed to send headers');
+				return false;
+			}
+
+			$tmp = fgets($this->fp, 256);
+			$tmplen = strlen($tmp);
+			$this->debug("read line of $tmplen bytes: " . trim($tmp));
+
+			if ($tmplen == 0) {
+				$this->incoming_payload = $data;
+				$this->debug('socket read of headers timed out after length ' . strlen($data));
+				$this->debug("read before timeout: " . $data);
+				$this->setError('socket read of headers timed out');
+				return false;
+			}
+
+			$data .= $tmp;
+			$pos = strpos($data,"\r\n\r\n");
+			if($pos > 1){
+				$lb = "\r\n";
+			} else {
+				$pos = strpos($data,"\n\n");
+				if($pos > 1){
+					$lb = "\n";
+				}
+			}
+			// remove 100 headers
+			if (isset($lb) && preg_match('/^HTTP\/1.1 100/',$data)) {
+				unset($lb);
+				$data = '';
+			}//
+		}
+		// store header data
+		$this->incoming_payload .= $data;
+		$this->debug('found end of headers after length ' . strlen($data));
+		// process headers
+		$header_data = trim(substr($data,0,$pos));
+		$header_array = explode($lb,$header_data);
+		$this->incoming_headers = array();
+		$this->incoming_cookies = array();
+		foreach($header_array as $header_line){
+			$arr = explode(':',$header_line, 2);
+			if(count($arr) > 1){
+				$header_name = strtolower(trim($arr[0]));
+				$this->incoming_headers[$header_name] = trim($arr[1]);
+				if ($header_name == 'set-cookie') {
+					// TODO: allow multiple cookies from parseCookie
+					$cookie = $this->parseCookie(trim($arr[1]));
+					if ($cookie) {
+						$this->incoming_cookies[] = $cookie;
+						$this->debug('found cookie: ' . $cookie['name'] . ' = ' . $cookie['value']);
+					} else {
+						$this->debug('did not find cookie in ' . trim($arr[1]));
+					}
+    			}
+			} else if (isset($header_name)) {
+				// append continuation line to previous header
+				$this->incoming_headers[$header_name] .= $lb . ' ' . $header_line;
+			}
+		}
+		
+		// loop until msg has been received
+		if (isset($this->incoming_headers['transfer-encoding']) && strtolower($this->incoming_headers['transfer-encoding']) == 'chunked') {
+			$content_length =  2147483647;	// ignore any content-length header
+			$chunked = true;
+			$this->debug("want to read chunked content");
+		} elseif (isset($this->incoming_headers['content-length'])) {
+			$content_length = $this->incoming_headers['content-length'];
+			$chunked = false;
+			$this->debug("want to read content of length $content_length");
+		} else {
+			$content_length =  2147483647;
+			$chunked = false;
+			$this->debug("want to read content to EOF");
+		}
+		$data = '';
+		do {
+			if ($chunked) {
+				$tmp = fgets($this->fp, 256);
+				$tmplen = strlen($tmp);
+				$this->debug("read chunk line of $tmplen bytes");
+				if ($tmplen == 0) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of chunk length timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of chunk length timed out');
+					return false;
+				}
+				$content_length = hexdec(trim($tmp));
+				$this->debug("chunk length $content_length");
+			}
+			$strlen = 0;
+		    while (($strlen < $content_length) && (!feof($this->fp))) {
+		    	$readlen = min(8192, $content_length - $strlen);
+				$tmp = fread($this->fp, $readlen);
+				$tmplen = strlen($tmp);
+				$this->debug("read buffer of $tmplen bytes");
+				if (($tmplen == 0) && (!feof($this->fp))) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of body timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of body timed out');
+					return false;
+				}
+				$strlen += $tmplen;
+				$data .= $tmp;
+			}
+			if ($chunked && ($content_length > 0)) {
+				$tmp = fgets($this->fp, 256);
+				$tmplen = strlen($tmp);
+				$this->debug("read chunk terminator of $tmplen bytes");
+				if ($tmplen == 0) {
+					$this->incoming_payload = $data;
+					$this->debug('socket read of chunk terminator timed out after length ' . strlen($data));
+					$this->debug("read before timeout:\n" . $data);
+					$this->setError('socket read of chunk terminator timed out');
+					return false;
+				}
+			}
+		} while ($chunked && ($content_length > 0) && (!feof($this->fp)));
+		if (feof($this->fp)) {
+			$this->debug('read to EOF');
+		}
+		$this->debug('read body of length ' . strlen($data));
+		$this->incoming_payload .= $data;
+		$this->debug('received a total of '.strlen($this->incoming_payload).' bytes of data from server');
+		
+		// close filepointer
+		if(
+			(isset($this->incoming_headers['connection']) && strtolower($this->incoming_headers['connection']) == 'close') || 
+			(! $this->persistentConnection) || feof($this->fp)){
+			fclose($this->fp);
+			$this->fp = false;
+			$this->debug('closed socket');
+		}
+		
+		// connection was closed unexpectedly
+		if($this->incoming_payload == ''){
+			$this->setError('no response from server');
+			return false;
+		}
+		
+		// decode transfer-encoding
+//		if(isset($this->incoming_headers['transfer-encoding']) && strtolower($this->incoming_headers['transfer-encoding']) == 'chunked'){
+//			if(!$data = $this->decodeChunked($data, $lb)){
+//				$this->setError('Decoding of chunked data failed');
+//				return false;
+//			}
+			//print "<pre>\nde-chunked:\n---------------\n$data\n\n---------------\n</pre>";
+			// set decoded payload
+//			$this->incoming_payload = $header_data.$lb.$lb.$data;
+//		}
+	
+	  } else if ($this->io_method() == 'curl') {
+		// send and receive
+		$this->debug('send and receive with cURL');
+		$this->incoming_payload = curl_exec($this->ch);
+		$data = $this->incoming_payload;
+
+        $cErr = curl_error($this->ch);
+		if ($cErr != '') {
+        	$err = 'cURL ERROR: '.curl_errno($this->ch).': '.$cErr.'<br>';
+        	// TODO: there is a PHP bug that can cause this to SEGV for CURLINFO_CONTENT_TYPE
+			foreach(curl_getinfo($this->ch) as $k => $v){
+				$err .= "$k: $v<br>";
+			}
+			$this->debug($err);
+			$this->setError($err);
+			curl_close($this->ch);
+	    	return false;
+		} else {
+			//echo '<pre>';
+			//var_dump(curl_getinfo($this->ch));
+			//echo '</pre>';
+		}
+		// close curl
+		$this->debug('No cURL error, closing cURL');
+		curl_close($this->ch);
+		
+		// try removing skippable headers
+		$savedata = $data;
+		while ($this->isSkippableCurlHeader($data)) {
+			$this->debug("Found HTTP header to skip");
+			if ($pos = strpos($data,"\r\n\r\n")) {
+				$data = ltrim(substr($data,$pos));
+			} elseif($pos = strpos($data,"\n\n") ) {
+				$data = ltrim(substr($data,$pos));
+			}
+		}
+
+		if ($data == '') {
+			// have nothing left; just remove 100 header(s)
+			$data = $savedata;
+			while (preg_match('/^HTTP\/1.1 100/',$data)) {
+				if ($pos = strpos($data,"\r\n\r\n")) {
+					$data = ltrim(substr($data,$pos));
+				} elseif($pos = strpos($data,"\n\n") ) {
+					$data = ltrim(substr($data,$pos));
+				}
+			}
+		}
+		
+		// separate content from HTTP headers
+		if ($pos = strpos($data,"\r\n\r\n")) {
+			$lb = "\r\n";
+		} elseif( $pos = strpos($data,"\n\n")) {
+			$lb = "\n";
+		} else {
+			$this->debug('no proper separation of headers and document');
+			$this->setError('no proper separation of headers and document');
+			return false;
+		}
+		$header_data = trim(substr($data,0,$pos));
+		$header_array = explode($lb,$header_data);
+		$data = ltrim(substr($data,$pos));
+		$this->debug('found proper separation of headers and document');
+		$this->debug('cleaned data, stringlen: '.strlen($data));
+		// clean headers
+		foreach ($header_array as $header_line) {
+			$arr = explode(':',$header_line,2);
+			if(count($arr) > 1){
+				$header_name = strtolower(trim($arr[0]));
+				$this->incoming_headers[$header_name] = trim($arr[1]);
+				if ($header_name == 'set-cookie') {
+					// TODO: allow multiple cookies from parseCookie
+					$cookie = $this->parseCookie(trim($arr[1]));
+					if ($cookie) {
+						$this->incoming_cookies[] = $cookie;
+						$this->debug('found cookie: ' . $cookie['name'] . ' = ' . $cookie['value']);
+					} else {
+						$this->debug('did not find cookie in ' . trim($arr[1]));
+					}
+    			}
+			} else if (isset($header_name)) {
+				// append continuation line to previous header
+				$this->incoming_headers[$header_name] .= $lb . ' ' . $header_line;
+			}
+		}
+	  }
+
+		$this->response_status_line = $header_array[0];
+		$arr = explode(' ', $this->response_status_line, 3);
+		$http_version = $arr[0];
+		$http_status = intval($arr[1]);
+		$http_reason = count($arr) > 2 ? $arr[2] : '';
+
+ 		// see if we need to resend the request with http digest authentication
+ 		if (isset($this->incoming_headers['location']) && ($http_status == 301 || $http_status == 302)) {
+ 			$this->debug("Got $http_status $http_reason with Location: " . $this->incoming_headers['location']);
+ 			$this->setURL($this->incoming_headers['location']);
+			$this->tryagain = true;
+			return false;
+		}
+
+ 		// see if we need to resend the request with http digest authentication
+ 		if (isset($this->incoming_headers['www-authenticate']) && $http_status == 401) {
+ 			$this->debug("Got 401 $http_reason with WWW-Authenticate: " . $this->incoming_headers['www-authenticate']);
+ 			if (strstr($this->incoming_headers['www-authenticate'], "Digest ")) {
+ 				$this->debug('Server wants digest authentication');
+ 				// remove "Digest " from our elements
+ 				$digestString = str_replace('Digest ', '', $this->incoming_headers['www-authenticate']);
+ 				
+ 				// parse elements into array
+ 				$digestElements = explode(',', $digestString);
+ 				foreach ($digestElements as $val) {
+ 					$tempElement = explode('=', trim($val), 2);
+ 					$digestRequest[$tempElement[0]] = str_replace("\"", '', $tempElement[1]);
+ 				}
+
+				// should have (at least) qop, realm, nonce
+ 				if (isset($digestRequest['nonce'])) {
+ 					$this->setCredentials($this->username, $this->password, 'digest', $digestRequest);
+ 					$this->tryagain = true;
+ 					return false;
+ 				}
+ 			}
+			$this->debug('HTTP authentication failed');
+			$this->setError('HTTP authentication failed');
+			return false;
+ 		}
+		
+		if (
+			($http_status >= 300 && $http_status <= 307) ||
+			($http_status >= 400 && $http_status <= 417) ||
+			($http_status >= 501 && $http_status <= 505)
+		   ) {
+			$this->setError("Unsupported HTTP response status $http_status $http_reason (soapclient->response has contents of the response)");
+			return false;
+		}
+
+		// decode content-encoding
+		if(isset($this->incoming_headers['content-encoding']) && $this->incoming_headers['content-encoding'] != ''){
+			if(strtolower($this->incoming_headers['content-encoding']) == 'deflate' || strtolower($this->incoming_headers['content-encoding']) == 'gzip'){
+    			// if decoding works, use it. else assume data wasn't gzencoded
+    			if(function_exists('gzinflate')){
+					//$timer->setMarker('starting decoding of gzip/deflated content');
+					// IIS 5 requires gzinflate instead of gzuncompress (similar to IE 5 and gzdeflate v. gzcompress)
+					// this means there are no Zlib headers, although there should be
+					$this->debug('The gzinflate function exists');
+					$datalen = strlen($data);
+					if ($this->incoming_headers['content-encoding'] == 'deflate') {
+						if ($degzdata = @gzinflate($data)) {
+	    					$data = $degzdata;
+	    					$this->debug('The payload has been inflated to ' . strlen($data) . ' bytes');
+	    					if (strlen($data) < $datalen) {
+	    						// test for the case that the payload has been compressed twice
+		    					$this->debug('The inflated payload is smaller than the gzipped one; try again');
+								if ($degzdata = @gzinflate($data)) {
+			    					$data = $degzdata;
+			    					$this->debug('The payload has been inflated again to ' . strlen($data) . ' bytes');
+								}
+	    					}
+	    				} else {
+	    					$this->debug('Error using gzinflate to inflate the payload');
+	    					$this->setError('Error using gzinflate to inflate the payload');
+	    				}
+					} elseif ($this->incoming_headers['content-encoding'] == 'gzip') {
+						if ($degzdata = @gzinflate(substr($data, 10))) {	// do our best
+							$data = $degzdata;
+	    					$this->debug('The payload has been un-gzipped to ' . strlen($data) . ' bytes');
+	    					if (strlen($data) < $datalen) {
+	    						// test for the case that the payload has been compressed twice
+		    					$this->debug('The un-gzipped payload is smaller than the gzipped one; try again');
+								if ($degzdata = @gzinflate(substr($data, 10))) {
+			    					$data = $degzdata;
+			    					$this->debug('The payload has been un-gzipped again to ' . strlen($data) . ' bytes');
+								}
+	    					}
+	    				} else {
+	    					$this->debug('Error using gzinflate to un-gzip the payload');
+							$this->setError('Error using gzinflate to un-gzip the payload');
+	    				}
+					}
+					//$timer->setMarker('finished decoding of gzip/deflated content');
+					//print "<xmp>\nde-inflated:\n---------------\n$data\n-------------\n</xmp>";
+					// set decoded payload
+					$this->incoming_payload = $header_data.$lb.$lb.$data;
+    			} else {
+					$this->debug('The server sent compressed data. Your php install must have the Zlib extension compiled in to support this.');
+					$this->setError('The server sent compressed data. Your php install must have the Zlib extension compiled in to support this.');
+				}
+			} else {
+				$this->debug('Unsupported Content-Encoding ' . $this->incoming_headers['content-encoding']);
+				$this->setError('Unsupported Content-Encoding ' . $this->incoming_headers['content-encoding']);
+			}
+		} else {
+			$this->debug('No Content-Encoding header');
+		}
+		
+		if(strlen($data) == 0){
+			$this->debug('no data after headers!');
+			$this->setError('no data present after HTTP headers');
+			return false;
+		}
+		
+		return $data;
+	}
+
+	/**
+	 * sets the content-type for the SOAP message to be sent
+	 *
+	 * @param	string $type the content type, MIME style
+	 * @param	mixed $charset character set used for encoding (or false)
+	 * @access	public
+	 */
+	function setContentType($type, $charset = false) {
+		$this->setHeader('Content-Type', $type . ($charset ? '; charset=' . $charset : ''));
+	}
+
+	/**
+	 * specifies that an HTTP persistent connection should be used
+	 *
+	 * @return	boolean whether the request was honored by this method.
+	 * @access	public
+	 */
+	function usePersistentConnection(){
+		if (isset($this->outgoing_headers['Accept-Encoding'])) {
+			return false;
+		}
+		$this->protocol_version = '1.1';
+		$this->persistentConnection = true;
+		$this->setHeader('Connection', 'Keep-Alive');
+		return true;
+	}
+
+	/**
+	 * parse an incoming Cookie into it's parts
+	 *
+	 * @param	string $cookie_str content of cookie
+	 * @return	array with data of that cookie
+	 * @access	private
+	 */
+	/*
+	 * TODO: allow a Set-Cookie string to be parsed into multiple cookies
+	 */
+	function parseCookie($cookie_str) {
+		$cookie_str = str_replace('; ', ';', $cookie_str) . ';';
+		$data = preg_split('/;/', $cookie_str);
+		$value_str = $data[0];
+
+		$cookie_param = 'domain=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ($start > 0) {
+			$domain = substr($cookie_str, $start + strlen($cookie_param));
+			$domain = substr($domain, 0, strpos($domain, ';'));
+		} else {
+			$domain = '';
+		}
+
+		$cookie_param = 'expires=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ($start > 0) {
+			$expires = substr($cookie_str, $start + strlen($cookie_param));
+			$expires = substr($expires, 0, strpos($expires, ';'));
+		} else {
+			$expires = '';
+		}
+
+		$cookie_param = 'path=';
+		$start = strpos($cookie_str, $cookie_param);
+		if ( $start > 0 ) {
+			$path = substr($cookie_str, $start + strlen($cookie_param));
+			$path = substr($path, 0, strpos($path, ';'));
+		} else {
+			$path = '/';
+		}
+						
+		$cookie_param = ';secure;';
+		if (strpos($cookie_str, $cookie_param) !== FALSE) {
+			$secure = true;
+		} else {
+			$secure = false;
+		}
+
+		$sep_pos = strpos($value_str, '=');
+
+		if ($sep_pos) {
+			$name = substr($value_str, 0, $sep_pos);
+			$value = substr($value_str, $sep_pos + 1);
+			$cookie= array(	'name' => $name,
+			                'value' => $value,
+							'domain' => $domain,
+							'path' => $path,
+							'expires' => $expires,
+							'secure' => $secure
+							);		
+			return $cookie;
+		}
+		return false;
+	}
+  
+	/**
+	 * sort out cookies for the current request
+	 *
+	 * @param	array $cookies array with all cookies
+	 * @param	boolean $secure is the send-content secure or not?
+	 * @return	string for Cookie-HTTP-Header
+	 * @access	private
+	 */
+	function getCookiesForRequest($cookies, $secure=false) {
+		$cookie_str = '';
+		if ((! is_null($cookies)) && (is_array($cookies))) {
+			foreach ($cookies as $cookie) {
+				if (! is_array($cookie)) {
+					continue;
+				}
+	    		$this->debug("check cookie for validity: ".$cookie['name'].'='.$cookie['value']);
+				if ((isset($cookie['expires'])) && (! empty($cookie['expires']))) {
+					if (strtotime($cookie['expires']) <= time()) {
+						$this->debug('cookie has expired');
+						continue;
+					}
+				}
+				if ((isset($cookie['domain'])) && (! empty($cookie['domain']))) {
+					$domain = preg_quote($cookie['domain']);
+					if (! preg_match("'.*$domain$'i", $this->host)) {
+						$this->debug('cookie has different domain');
+						continue;
+					}
+				}
+				if ((isset($cookie['path'])) && (! empty($cookie['path']))) {
+					$path = preg_quote($cookie['path']);
+					if (! preg_match("'^$path.*'i", $this->path)) {
+						$this->debug('cookie is for a different path');
+						continue;
+					}
+				}
+				if ((! $secure) && (isset($cookie['secure'])) && ($cookie['secure'])) {
+					$this->debug('cookie is secure, transport is not');
+					continue;
+				}
+				$cookie_str .= $cookie['name'] . '=' . $cookie['value'] . '; ';
+	    		$this->debug('add cookie to Cookie-String: ' . $cookie['name'] . '=' . $cookie['value']);
+			}
+		}
+		return $cookie_str;
+  }
+}
+
+?><?php
+
+
+
+/**
+*
+* nusoap_server allows the user to create a SOAP server
+* that is capable of receiving messages and returning responses
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_server extends nusoap_base {
+	/**
+	 * HTTP headers of request
+	 * @var array
+	 * @access private
+	 */
+	var $headers = array();
+	/**
+	 * HTTP request
+	 * @var string
+	 * @access private
+	 */
+	var $request = '';
+	/**
+	 * SOAP headers from request (incomplete namespace resolution; special characters not escaped) (text)
+	 * @var string
+	 * @access public
+	 */
+	var $requestHeaders = '';
+	/**
+	 * SOAP Headers from request (parsed)
+	 * @var mixed
+	 * @access public
+	 */
+	var $requestHeader = NULL;
+	/**
+	 * SOAP body request portion (incomplete namespace resolution; special characters not escaped) (text)
+	 * @var string
+	 * @access public
+	 */
+	var $document = '';
+	/**
+	 * SOAP payload for request (text)
+	 * @var string
+	 * @access public
+	 */
+	var $requestSOAP = '';
+	/**
+	 * requested method namespace URI
+	 * @var string
+	 * @access private
+	 */
+	var $methodURI = '';
+	/**
+	 * name of method requested
+	 * @var string
+	 * @access private
+	 */
+	var $methodname = '';
+	/**
+	 * method parameters from request
+	 * @var array
+	 * @access private
+	 */
+	var $methodparams = array();
+	/**
+	 * SOAP Action from request
+	 * @var string
+	 * @access private
+	 */
+	var $SOAPAction = '';
+	/**
+	 * character set encoding of incoming (request) messages
+	 * @var string
+	 * @access public
+	 */
+	var $xml_encoding = '';
+	/**
+	 * toggles whether the parser decodes element content w/ utf8_decode()
+	 * @var boolean
+	 * @access public
+	 */
+    var $decode_utf8 = true;
+
+	/**
+	 * HTTP headers of response
+	 * @var array
+	 * @access public
+	 */
+	var $outgoing_headers = array();
+	/**
+	 * HTTP response
+	 * @var string
+	 * @access private
+	 */
+	var $response = '';
+	/**
+	 * SOAP headers for response (text or array of soapval or associative array)
+	 * @var mixed
+	 * @access public
+	 */
+	var $responseHeaders = '';
+	/**
+	 * SOAP payload for response (text)
+	 * @var string
+	 * @access private
+	 */
+	var $responseSOAP = '';
+	/**
+	 * method return value to place in response
+	 * @var mixed
+	 * @access private
+	 */
+	var $methodreturn = false;
+	/**
+	 * whether $methodreturn is a string of literal XML
+	 * @var boolean
+	 * @access public
+	 */
+	var $methodreturnisliteralxml = false;
+	/**
+	 * SOAP fault for response (or false)
+	 * @var mixed
+	 * @access private
+	 */
+	var $fault = false;
+	/**
+	 * text indication of result (for debugging)
+	 * @var string
+	 * @access private
+	 */
+	var $result = 'successful';
+
+	/**
+	 * assoc array of operations => opData; operations are added by the register()
+	 * method or by parsing an external WSDL definition
+	 * @var array
+	 * @access private
+	 */
+	var $operations = array();
+	/**
+	 * wsdl instance (if one)
+	 * @var mixed
+	 * @access private
+	 */
+	var $wsdl = false;
+	/**
+	 * URL for WSDL (if one)
+	 * @var mixed
+	 * @access private
+	 */
+	var $externalWSDLURL = false;
+	/**
+	 * whether to append debug to response as XML comment
+	 * @var boolean
+	 * @access public
+	 */
+	var $debug_flag = false;
+
+
+	/**
+	* constructor
+    * the optional parameter is a path to a WSDL file that you'd like to bind the server instance to.
+	*
+    * @param mixed $wsdl file path or URL (string), or wsdl instance (object)
+	* @access   public
+	*/
+	function nusoap_server($wsdl=false){
+		parent::nusoap_base();
+		// turn on debugging?
+		global $debug;
+		global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$this->debug("_SERVER is defined:");
+			$this->appendDebug($this->varDump($_SERVER));
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$this->debug("HTTP_SERVER_VARS is defined:");
+			$this->appendDebug($this->varDump($HTTP_SERVER_VARS));
+		} else {
+			$this->debug("Neither _SERVER nor HTTP_SERVER_VARS is defined.");
+		}
+
+		if (isset($debug)) {
+			$this->debug("In nusoap_server, set debug_flag=$debug based on global flag");
+			$this->debug_flag = $debug;
+		} elseif (isset($_SERVER['QUERY_STRING'])) {
+			$qs = explode('&', $_SERVER['QUERY_STRING']);
+			foreach ($qs as $v) {
+				if (substr($v, 0, 6) == 'debug=') {
+					$this->debug("In nusoap_server, set debug_flag=" . substr($v, 6) . " based on query string #1");
+					$this->debug_flag = substr($v, 6);
+				}
+			}
+		} elseif (isset($HTTP_SERVER_VARS['QUERY_STRING'])) {
+			$qs = explode('&', $HTTP_SERVER_VARS['QUERY_STRING']);
+			foreach ($qs as $v) {
+				if (substr($v, 0, 6) == 'debug=') {
+					$this->debug("In nusoap_server, set debug_flag=" . substr($v, 6) . " based on query string #2");
+					$this->debug_flag = substr($v, 6);
+				}
+			}
+		}
+
+		// wsdl
+		if($wsdl){
+			$this->debug("In nusoap_server, WSDL is specified");
+			if (is_object($wsdl) && (get_class($wsdl) == 'wsdl')) {
+				$this->wsdl = $wsdl;
+				$this->externalWSDLURL = $this->wsdl->wsdl;
+				$this->debug('Use existing wsdl instance from ' . $this->externalWSDLURL);
+			} else {
+				$this->debug('Create wsdl from ' . $wsdl);
+				$this->wsdl = new wsdl($wsdl);
+				$this->externalWSDLURL = $wsdl;
+			}
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			if($err = $this->wsdl->getError()){
+				die('WSDL ERROR: '.$err);
+			}
+		}
+	}
+
+	/**
+	* processes request and returns response
+	*
+	* @param    string $data usually is the value of $HTTP_RAW_POST_DATA
+	* @access   public
+	*/
+	function service($data){
+		global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER['REQUEST_METHOD'])) {
+			$rm = $_SERVER['REQUEST_METHOD'];
+		} elseif (isset($HTTP_SERVER_VARS['REQUEST_METHOD'])) {
+			$rm = $HTTP_SERVER_VARS['REQUEST_METHOD'];
+		} else {
+			$rm = '';
+		}
+
+		if (isset($_SERVER['QUERY_STRING'])) {
+			$qs = $_SERVER['QUERY_STRING'];
+		} elseif (isset($HTTP_SERVER_VARS['QUERY_STRING'])) {
+			$qs = $HTTP_SERVER_VARS['QUERY_STRING'];
+		} else {
+			$qs = '';
+		}
+		$this->debug("In service, request method=$rm query string=$qs strlen(\$data)=" . strlen($data));
+
+		if ($rm == 'POST') {
+			$this->debug("In service, invoke the request");
+			$this->parse_request($data);
+			if (! $this->fault) {
+				$this->invoke_method();
+			}
+			if (! $this->fault) {
+				$this->serialize_return();
+			}
+			$this->send_response();
+		} elseif (preg_match('/wsdl/', $qs) ){
+			$this->debug("In service, this is a request for WSDL");
+			if ($this->externalWSDLURL){
+              if (strpos($this->externalWSDLURL, "http://") !== false) { // assume URL
+				$this->debug("In service, re-direct for WSDL");
+				header('Location: '.$this->externalWSDLURL);
+              } else { // assume file
+				$this->debug("In service, use file passthru for WSDL");
+                header("Content-Type: text/xml\r\n");
+				$pos = strpos($this->externalWSDLURL, "file://");
+				if ($pos === false) {
+					$filename = $this->externalWSDLURL;
+				} else {
+					$filename = substr($this->externalWSDLURL, $pos + 7);
+				}
+                $fp = fopen($this->externalWSDLURL, 'r');
+                fpassthru($fp);
+              }
+			} elseif ($this->wsdl) {
+				$this->debug("In service, serialize WSDL");
+				header("Content-Type: text/xml; charset=ISO-8859-1\r\n");
+				print $this->wsdl->serialize($this->debug_flag);
+				if ($this->debug_flag) {
+					$this->debug('wsdl:');
+					$this->appendDebug($this->varDump($this->wsdl));
+					print $this->getDebugAsXMLComment();
+				}
+			} else {
+				$this->debug("In service, there is no WSDL");
+				header("Content-Type: text/html; charset=ISO-8859-1\r\n");
+				print "This service does not provide WSDL";
+			}
+		} elseif ($this->wsdl) {
+			$this->debug("In service, return Web description");
+			print $this->wsdl->webDescription();
+		} else {
+			$this->debug("In service, no Web description");
+			header("Content-Type: text/html; charset=ISO-8859-1\r\n");
+			print "This service does not provide a Web description";
+		}
+	}
+
+	/**
+	* parses HTTP request headers.
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* headers
+	* request
+	* xml_encoding
+	* SOAPAction
+	*
+	* @access   private
+	*/
+	function parse_http_headers() {
+		global $HTTP_SERVER_VARS;
+
+		$this->request = '';
+		$this->SOAPAction = '';
+		if(function_exists('getallheaders')){
+			$this->debug("In parse_http_headers, use getallheaders");
+			$headers = getallheaders();
+			foreach($headers as $k=>$v){
+				$k = strtolower($k);
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+			// get SOAPAction header
+			if(isset($this->headers['soapaction'])){
+				$this->SOAPAction = str_replace('"','',$this->headers['soapaction']);
+			}
+			// get the character encoding of the incoming request
+			if(isset($this->headers['content-type']) && strpos($this->headers['content-type'],'=')){
+				$enc = str_replace('"','',substr(strstr($this->headers["content-type"],'='),1));
+				if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+					$this->xml_encoding = strtoupper($enc);
+				} else {
+					$this->xml_encoding = 'US-ASCII';
+				}
+			} else {
+				// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+				$this->xml_encoding = 'ISO-8859-1';
+			}
+		} elseif(isset($_SERVER) && is_array($_SERVER)){
+			$this->debug("In parse_http_headers, use _SERVER");
+			foreach ($_SERVER as $k => $v) {
+				if (substr($k, 0, 5) == 'HTTP_') {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', substr($k, 5))));
+				} else {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', $k)));
+				}
+				if ($k == 'soapaction') {
+					// get SOAPAction header
+					$k = 'SOAPAction';
+					$v = str_replace('"', '', $v);
+					$v = str_replace('\\', '', $v);
+					$this->SOAPAction = $v;
+				} else if ($k == 'content-type') {
+					// get the character encoding of the incoming request
+					if (strpos($v, '=')) {
+						$enc = substr(strstr($v, '='), 1);
+						$enc = str_replace('"', '', $enc);
+						$enc = str_replace('\\', '', $enc);
+						if (preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)) {
+							$this->xml_encoding = strtoupper($enc);
+						} else {
+							$this->xml_encoding = 'US-ASCII';
+						}
+					} else {
+						// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+						$this->xml_encoding = 'ISO-8859-1';
+					}
+				}
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+		} elseif (is_array($HTTP_SERVER_VARS)) {
+			$this->debug("In parse_http_headers, use HTTP_SERVER_VARS");
+			foreach ($HTTP_SERVER_VARS as $k => $v) {
+				if (substr($k, 0, 5) == 'HTTP_') {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', substr($k, 5)))); 	                                         $k = strtolower(substr($k, 5));
+				} else {
+					$k = str_replace(' ', '-', strtolower(str_replace('_', ' ', $k))); 	                                         $k = strtolower($k);
+				}
+				if ($k == 'soapaction') {
+					// get SOAPAction header
+					$k = 'SOAPAction';
+					$v = str_replace('"', '', $v);
+					$v = str_replace('\\', '', $v);
+					$this->SOAPAction = $v;
+				} else if ($k == 'content-type') {
+					// get the character encoding of the incoming request
+					if (strpos($v, '=')) {
+						$enc = substr(strstr($v, '='), 1);
+						$enc = str_replace('"', '', $enc);
+						$enc = str_replace('\\', '', $enc);
+						if (preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)) {
+							$this->xml_encoding = strtoupper($enc);
+						} else {
+							$this->xml_encoding = 'US-ASCII';
+						}
+					} else {
+						// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+						$this->xml_encoding = 'ISO-8859-1';
+					}
+				}
+				$this->headers[$k] = $v;
+				$this->request .= "$k: $v\r\n";
+				$this->debug("$k: $v");
+			}
+		} else {
+			$this->debug("In parse_http_headers, HTTP headers not accessible");
+			$this->setError("HTTP headers not accessible");
+		}
+	}
+
+	/**
+	* parses a request
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* headers
+	* request
+	* xml_encoding
+	* SOAPAction
+	* request
+	* requestSOAP
+	* methodURI
+	* methodname
+	* methodparams
+	* requestHeaders
+	* document
+	*
+	* This sets the fault field on error
+	*
+	* @param    string $data XML string
+	* @access   private
+	*/
+	function parse_request($data='') {
+		$this->debug('entering parse_request()');
+		$this->parse_http_headers();
+		$this->debug('got character encoding: '.$this->xml_encoding);
+		// uncompress if necessary
+		if (isset($this->headers['content-encoding']) && $this->headers['content-encoding'] != '') {
+			$this->debug('got content encoding: ' . $this->headers['content-encoding']);
+			if ($this->headers['content-encoding'] == 'deflate' || $this->headers['content-encoding'] == 'gzip') {
+		    	// if decoding works, use it. else assume data wasn't gzencoded
+				if (function_exists('gzuncompress')) {
+					if ($this->headers['content-encoding'] == 'deflate' && $degzdata = @gzuncompress($data)) {
+						$data = $degzdata;
+					} elseif ($this->headers['content-encoding'] == 'gzip' && $degzdata = gzinflate(substr($data, 10))) {
+						$data = $degzdata;
+					} else {
+						$this->fault('SOAP-ENV:Client', 'Errors occurred when trying to decode the data');
+						return;
+					}
+				} else {
+					$this->fault('SOAP-ENV:Client', 'This Server does not support compressed data');
+					return;
+				}
+			}
+		}
+		$this->request .= "\r\n".$data;
+		$data = $this->parseRequest($this->headers, $data);
+		$this->requestSOAP = $data;
+		$this->debug('leaving parse_request');
+	}
+
+	/**
+	* invokes a PHP function for the requested SOAP method
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* methodreturn
+	*
+	* Note that the PHP function that is called may also set the following
+	* fields to affect the response sent to the client
+	*
+	* responseHeaders
+	* outgoing_headers
+	*
+	* This sets the fault field on error
+	*
+	* @access   private
+	*/
+	function invoke_method() {
+		$this->debug('in invoke_method, methodname=' . $this->methodname . ' methodURI=' . $this->methodURI . ' SOAPAction=' . $this->SOAPAction);
+
+		//
+		// if you are debugging in this area of the code, your service uses a class to implement methods,
+		// you use SOAP RPC, and the client is .NET, please be aware of the following...
+		// when the .NET wsdl.exe utility generates a proxy, it will remove the '.' or '..' from the
+		// method name.  that is fine for naming the .NET methods.  it is not fine for properly constructing
+		// the XML request and reading the XML response.  you need to add the RequestElementName and
+		// ResponseElementName to the System.Web.Services.Protocols.SoapRpcMethodAttribute that wsdl.exe
+		// generates for the method.  these parameters are used to specify the correct XML element names
+		// for .NET to use, i.e. the names with the '.' in them.
+		//
+		$orig_methodname = $this->methodname;
+		if ($this->wsdl) {
+			if ($this->opData = $this->wsdl->getOperationData($this->methodname)) {
+				$this->debug('in invoke_method, found WSDL operation=' . $this->methodname);
+				$this->appendDebug('opData=' . $this->varDump($this->opData));
+			} elseif ($this->opData = $this->wsdl->getOperationDataForSoapAction($this->SOAPAction)) {
+				// Note: hopefully this case will only be used for doc/lit, since rpc services should have wrapper element
+				$this->debug('in invoke_method, found WSDL soapAction=' . $this->SOAPAction . ' for operation=' . $this->opData['name']);
+				$this->appendDebug('opData=' . $this->varDump($this->opData));
+				$this->methodname = $this->opData['name'];
+			} else {
+				$this->debug('in invoke_method, no WSDL for operation=' . $this->methodname);
+				$this->fault('SOAP-ENV:Client', "Operation '" . $this->methodname . "' is not defined in the WSDL for this service");
+				return;
+			}
+		} else {
+			$this->debug('in invoke_method, no WSDL to validate method');
+		}
+
+		// if a . is present in $this->methodname, we see if there is a class in scope,
+		// which could be referred to. We will also distinguish between two deliminators,
+		// to allow methods to be called a the class or an instance
+		if (strpos($this->methodname, '..') > 0) {
+			$delim = '..';
+		} else if (strpos($this->methodname, '.') > 0) {
+			$delim = '.';
+		} else {
+			$delim = '';
+		}
+		$this->debug("in invoke_method, delim=$delim");
+
+		$class = '';
+		$method = '';
+		if (strlen($delim) > 0 && substr_count($this->methodname, $delim) == 1) {
+			$try_class = substr($this->methodname, 0, strpos($this->methodname, $delim));
+			if (class_exists($try_class)) {
+				// get the class and method name
+				$class = $try_class;
+				$method = substr($this->methodname, strpos($this->methodname, $delim) + strlen($delim));
+				$this->debug("in invoke_method, class=$class method=$method delim=$delim");
+			} else {
+				$this->debug("in invoke_method, class=$try_class not found");
+			}
+		} else {
+			$try_class = '';
+			$this->debug("in invoke_method, no class to try");
+		}
+
+		// does method exist?
+		if ($class == '') {
+			if (!function_exists($this->methodname)) {
+				$this->debug("in invoke_method, function '$this->methodname' not found!");
+				$this->result = 'fault: method not found';
+				$this->fault('SOAP-ENV:Client',"method '$this->methodname'('$orig_methodname') not defined in service('$try_class' '$delim')");
+				return;
+			}
+		} else {
+			$method_to_compare = (substr(phpversion(), 0, 2) == '4.') ? strtolower($method) : $method;
+			if (!in_array($method_to_compare, get_class_methods($class))) {
+				$this->debug("in invoke_method, method '$this->methodname' not found in class '$class'!");
+				$this->result = 'fault: method not found';
+				$this->fault('SOAP-ENV:Client',"method '$this->methodname'/'$method_to_compare'('$orig_methodname') not defined in service/'$class'('$try_class' '$delim')");
+				return;
+			}
+		}
+
+		// evaluate message, getting back parameters
+		// verify that request parameters match the method's signature
+		if(! $this->verify_method($this->methodname,$this->methodparams)){
+			// debug
+			$this->debug('ERROR: request not verified against method signature');
+			$this->result = 'fault: request failed validation against method signature';
+			// return fault
+			$this->fault('SOAP-ENV:Client',"Operation '$this->methodname' not defined in service.");
+			return;
+		}
+
+		// if there are parameters to pass
+		$this->debug('in invoke_method, params:');
+		$this->appendDebug($this->varDump($this->methodparams));
+		$this->debug("in invoke_method, calling '$this->methodname'");
+		if (!function_exists('call_user_func_array')) {
+			if ($class == '') {
+				$this->debug('in invoke_method, calling function using eval()');
+				$funcCall = "\$this->methodreturn = $this->methodname(";
+			} else {
+				if ($delim == '..') {
+					$this->debug('in invoke_method, calling class method using eval()');
+					$funcCall = "\$this->methodreturn = ".$class."::".$method."(";
+				} else {
+					$this->debug('in invoke_method, calling instance method using eval()');
+					// generate unique instance name
+					$instname = "\$inst_".time();
+					$funcCall = $instname." = new ".$class."(); ";
+					$funcCall .= "\$this->methodreturn = ".$instname."->".$method."(";
+				}
+			}
+			if ($this->methodparams) {
+				foreach ($this->methodparams as $param) {
+					if (is_array($param) || is_object($param)) {
+						$this->fault('SOAP-ENV:Client', 'NuSOAP does not handle complexType parameters correctly when using eval; call_user_func_array must be available');
+						return;
+					}
+					$funcCall .= "\"$param\",";
+				}
+				$funcCall = substr($funcCall, 0, -1);
+			}
+			$funcCall .= ');';
+			$this->debug('in invoke_method, function call: '.$funcCall);
+			@eval($funcCall);
+		} else {
+			if ($class == '') {
+				$this->debug('in invoke_method, calling function using call_user_func_array()');
+				$call_arg = "$this->methodname";	// straight assignment changes $this->methodname to lower case after call_user_func_array()
+			} elseif ($delim == '..') {
+				$this->debug('in invoke_method, calling class method using call_user_func_array()');
+				$call_arg = array ($class, $method);
+			} else {
+				$this->debug('in invoke_method, calling instance method using call_user_func_array()');
+				$instance = new $class ();
+				$call_arg = array(&$instance, $method);
+			}
+			if (is_array($this->methodparams)) {
+				$this->methodreturn = call_user_func_array($call_arg, array_values($this->methodparams));
+			} else {
+				$this->methodreturn = call_user_func_array($call_arg, array());
+			}
+		}
+        $this->debug('in invoke_method, methodreturn:');
+        $this->appendDebug($this->varDump($this->methodreturn));
+		$this->debug("in invoke_method, called method $this->methodname, received data of type ".gettype($this->methodreturn));
+	}
+
+	/**
+	* serializes the return value from a PHP function into a full SOAP Envelope
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* responseSOAP
+	*
+	* This sets the fault field on error
+	*
+	* @access   private
+	*/
+	function serialize_return() {
+		$this->debug('Entering serialize_return methodname: ' . $this->methodname . ' methodURI: ' . $this->methodURI);
+		// if fault
+		if (isset($this->methodreturn) && is_object($this->methodreturn) && ((get_class($this->methodreturn) == 'soap_fault') || (get_class($this->methodreturn) == 'nusoap_fault'))) {
+			$this->debug('got a fault object from method');
+			$this->fault = $this->methodreturn;
+			return;
+		} elseif ($this->methodreturnisliteralxml) {
+			$return_val = $this->methodreturn;
+		// returned value(s)
+		} else {
+			$this->debug('got a(n) '.gettype($this->methodreturn).' from method');
+			$this->debug('serializing return value');
+			if($this->wsdl){
+				if (sizeof($this->opData['output']['parts']) > 1) {
+					$this->debug('more than one output part, so use the method return unchanged');
+			    	$opParams = $this->methodreturn;
+			    } elseif (sizeof($this->opData['output']['parts']) == 1) {
+					$this->debug('exactly one output part, so wrap the method return in a simple array');
+					// TODO: verify that it is not already wrapped!
+			    	//foreach ($this->opData['output']['parts'] as $name => $type) {
+					//	$this->debug('wrap in element named ' . $name);
+			    	//}
+			    	$opParams = array($this->methodreturn);
+			    }
+			    $return_val = $this->wsdl->serializeRPCParameters($this->methodname,'output',$opParams);
+			    $this->appendDebug($this->wsdl->getDebug());
+			    $this->wsdl->clearDebug();
+				if($errstr = $this->wsdl->getError()){
+					$this->debug('got wsdl error: '.$errstr);
+					$this->fault('SOAP-ENV:Server', 'unable to serialize result');
+					return;
+				}
+			} else {
+				if (isset($this->methodreturn)) {
+					$return_val = $this->serialize_val($this->methodreturn, 'return');
+				} else {
+					$return_val = '';
+					$this->debug('in absence of WSDL, assume void return for backward compatibility');
+				}
+			}
+		}
+		$this->debug('return value:');
+		$this->appendDebug($this->varDump($return_val));
+
+		$this->debug('serializing response');
+		if ($this->wsdl) {
+			$this->debug('have WSDL for serialization: style is ' . $this->opData['style']);
+			if ($this->opData['style'] == 'rpc') {
+				$this->debug('style is rpc for serialization: use is ' . $this->opData['output']['use']);
+				if ($this->opData['output']['use'] == 'literal') {
+					// http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735 says rpc/literal accessor elements should not be in a namespace
+					if ($this->methodURI) {
+						$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+					} else {
+						$payload = '<'.$this->methodname.'Response>'.$return_val.'</'.$this->methodname.'Response>';
+					}
+				} else {
+					if ($this->methodURI) {
+						$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+					} else {
+						$payload = '<'.$this->methodname.'Response>'.$return_val.'</'.$this->methodname.'Response>';
+					}
+				}
+			} else {
+				$this->debug('style is not rpc for serialization: assume document');
+				$payload = $return_val;
+			}
+		} else {
+			$this->debug('do not have WSDL for serialization: assume rpc/encoded');
+			$payload = '<ns1:'.$this->methodname.'Response xmlns:ns1="'.$this->methodURI.'">'.$return_val.'</ns1:'.$this->methodname."Response>";
+		}
+		$this->result = 'successful';
+		if($this->wsdl){
+			//if($this->debug_flag){
+            	$this->appendDebug($this->wsdl->getDebug());
+            //	}
+			if (isset($this->opData['output']['encodingStyle'])) {
+				$encodingStyle = $this->opData['output']['encodingStyle'];
+			} else {
+				$encodingStyle = '';
+			}
+			// Added: In case we use a WSDL, return a serialized env. WITH the usedNamespaces.
+			$this->responseSOAP = $this->serializeEnvelope($payload,$this->responseHeaders,$this->wsdl->usedNamespaces,$this->opData['style'],$this->opData['output']['use'],$encodingStyle);
+		} else {
+			$this->responseSOAP = $this->serializeEnvelope($payload,$this->responseHeaders);
+		}
+		$this->debug("Leaving serialize_return");
+	}
+
+	/**
+	* sends an HTTP response
+	*
+	* The following fields are set by this function (when successful)
+	*
+	* outgoing_headers
+	* response
+	*
+	* @access   private
+	*/
+	function send_response() {
+		$this->debug('Enter send_response');
+		if ($this->fault) {
+			$payload = $this->fault->serialize();
+			$this->outgoing_headers[] = "HTTP/1.0 500 Internal Server Error";
+			$this->outgoing_headers[] = "Status: 500 Internal Server Error";
+		} else {
+			$payload = $this->responseSOAP;
+			// Some combinations of PHP+Web server allow the Status
+			// to come through as a header.  Since OK is the default
+			// just do nothing.
+			// $this->outgoing_headers[] = "HTTP/1.0 200 OK";
+			// $this->outgoing_headers[] = "Status: 200 OK";
+		}
+        // add debug data if in debug mode
+		if(isset($this->debug_flag) && $this->debug_flag){
+        	$payload .= $this->getDebugAsXMLComment();
+        }
+		$this->outgoing_headers[] = "Server: $this->title Server v$this->version";
+		preg_match('/\$Revisio' . 'n: ([^ ]+)/', $this->revision, $rev);
+		$this->outgoing_headers[] = "X-SOAP-Server: $this->title/$this->version (".$rev[1].")";
+		// Let the Web server decide about this
+		//$this->outgoing_headers[] = "Connection: Close\r\n";
+		$payload = $this->getHTTPBody($payload);
+		$type = $this->getHTTPContentType();
+		$charset = $this->getHTTPContentTypeCharset();
+		$this->outgoing_headers[] = "Content-Type: $type" . ($charset ? '; charset=' . $charset : '');
+		//begin code to compress payload - by John
+		// NOTE: there is no way to know whether the Web server will also compress
+		// this data.
+		if (strlen($payload) > 1024 && isset($this->headers) && isset($this->headers['accept-encoding'])) {	
+			if (strstr($this->headers['accept-encoding'], 'gzip')) {
+				if (function_exists('gzencode')) {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content being gzipped -->";
+					}
+					$this->outgoing_headers[] = "Content-Encoding: gzip";
+					$payload = gzencode($payload);
+				} else {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content will not be gzipped: no gzencode -->";
+					}
+				}
+			} elseif (strstr($this->headers['accept-encoding'], 'deflate')) {
+				// Note: MSIE requires gzdeflate output (no Zlib header and checksum),
+				// instead of gzcompress output,
+				// which conflicts with HTTP 1.1 spec (http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.5)
+				if (function_exists('gzdeflate')) {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content being deflated -->";
+					}
+					$this->outgoing_headers[] = "Content-Encoding: deflate";
+					$payload = gzdeflate($payload);
+				} else {
+					if (isset($this->debug_flag) && $this->debug_flag) {
+						$payload .= "<!-- Content will not be deflated: no gzcompress -->";
+					}
+				}
+			}
+		}
+		//end code
+		$this->outgoing_headers[] = "Content-Length: ".strlen($payload);
+		reset($this->outgoing_headers);
+		foreach($this->outgoing_headers as $hdr){
+			header($hdr, false);
+		}
+		print $payload;
+		$this->response = join("\r\n",$this->outgoing_headers)."\r\n\r\n".$payload;
+	}
+
+	/**
+	* takes the value that was created by parsing the request
+	* and compares to the method's signature, if available.
+	*
+	* @param	string	$operation	The operation to be invoked
+	* @param	array	$request	The array of parameter values
+	* @return	boolean	Whether the operation was found
+	* @access   private
+	*/
+	function verify_method($operation,$request){
+		if(isset($this->wsdl) && is_object($this->wsdl)){
+			if($this->wsdl->getOperationData($operation)){
+				return true;
+			}
+	    } elseif(isset($this->operations[$operation])){
+			return true;
+		}
+		return false;
+	}
+
+	/**
+	* processes SOAP message received from client
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed request data from client
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseRequest($headers, $data) {
+		$this->debug('Entering parseRequest() for data of length ' . strlen($data) . ' headers:');
+		$this->appendDebug($this->varDump($headers));
+    	if (!isset($headers['content-type'])) {
+			$this->setError('Request not of type text/xml (no content-type header)');
+			return false;
+    	}
+		if (!strstr($headers['content-type'], 'text/xml')) {
+			$this->setError('Request not of type text/xml');
+			return false;
+		}
+		if (strpos($headers['content-type'], '=')) {
+			$enc = str_replace('"', '', substr(strstr($headers["content-type"], '='), 1));
+			$this->debug('Got response encoding: ' . $enc);
+			if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+				$this->xml_encoding = strtoupper($enc);
+			} else {
+				$this->xml_encoding = 'US-ASCII';
+			}
+		} else {
+			// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+			$this->xml_encoding = 'ISO-8859-1';
+		}
+		$this->debug('Use encoding: ' . $this->xml_encoding . ' when creating nusoap_parser');
+		// parse response, get soap parser obj
+		$parser = new nusoap_parser($data,$this->xml_encoding,'',$this->decode_utf8);
+		// parser debug
+		$this->debug("parser debug: \n".$parser->getDebug());
+		// if fault occurred during message parsing
+		if($err = $parser->getError()){
+			$this->result = 'fault: error in msg parsing: '.$err;
+			$this->fault('SOAP-ENV:Client',"error in msg parsing:\n".$err);
+		// else successfully parsed request into soapval object
+		} else {
+			// get/set methodname
+			$this->methodURI = $parser->root_struct_namespace;
+			$this->methodname = $parser->root_struct_name;
+			$this->debug('methodname: '.$this->methodname.' methodURI: '.$this->methodURI);
+			$this->debug('calling parser->get_soapbody()');
+			$this->methodparams = $parser->get_soapbody();
+			// get SOAP headers
+			$this->requestHeaders = $parser->getHeaders();
+			// get SOAP Header
+			$this->requestHeader = $parser->get_soapheader();
+            // add document for doclit support
+            $this->document = $parser->document;
+		}
+	 }
+
+	/**
+	* gets the HTTP body for the current response.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		return $soapmsg;
+	}
+	
+	/**
+	* gets the HTTP content type for the current response.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current response.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		return 'text/xml';
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current response.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current response.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		return $this->soap_defencoding;
+	}
+
+	/**
+	* add a method to the dispatch map (this has been replaced by the register method)
+	*
+	* @param    string $methodname
+	* @param    string $in array of input values
+	* @param    string $out array of output values
+	* @access   public
+	* @deprecated
+	*/
+	function add_to_map($methodname,$in,$out){
+			$this->operations[$methodname] = array('name' => $methodname,'in' => $in,'out' => $out);
+	}
+
+	/**
+	* register a service function with the server
+	*
+	* @param    string $name the name of the PHP function, class.method or class..method
+	* @param    array $in assoc array of input values: key = param name, value = param type
+	* @param    array $out assoc array of output values: key = param name, value = param type
+	* @param	mixed $namespace the element namespace for the method or false
+	* @param	mixed $soapaction the soapaction for the method or false
+	* @param	mixed $style optional (rpc|document) or false Note: when 'document' is specified, parameter and return wrappers are created for you automatically
+	* @param	mixed $use optional (encoded|literal) or false
+	* @param	string $documentation optional Description to include in WSDL
+	* @param	string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+	* @access   public
+	*/
+	function register($name,$in=array(),$out=array(),$namespace=false,$soapaction=false,$style=false,$use=false,$documentation='',$encodingStyle=''){
+		global $HTTP_SERVER_VARS;
+
+		if($this->externalWSDLURL){
+			die('You cannot bind to an external WSDL file, and register methods outside of it! Please choose either WSDL or no WSDL.');
+		}
+		if (! $name) {
+			die('You must specify a name when you register an operation');
+		}
+		if (!is_array($in)) {
+			die('You must provide an array for operation inputs');
+		}
+		if (!is_array($out)) {
+			die('You must provide an array for operation outputs');
+		}
+		if(false == $namespace) {
+		}
+		if(false == $soapaction) {
+			if (isset($_SERVER)) {
+				$SERVER_NAME = $_SERVER['SERVER_NAME'];
+				$SCRIPT_NAME = isset($_SERVER['PHP_SELF']) ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];
+				$HTTPS = isset($_SERVER['HTTPS']) ? $_SERVER['HTTPS'] : (isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off');
+			} elseif (isset($HTTP_SERVER_VARS)) {
+				$SERVER_NAME = $HTTP_SERVER_VARS['SERVER_NAME'];
+				$SCRIPT_NAME = isset($HTTP_SERVER_VARS['PHP_SELF']) ? $HTTP_SERVER_VARS['PHP_SELF'] : $HTTP_SERVER_VARS['SCRIPT_NAME'];
+				$HTTPS = isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off';
+			} else {
+				$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+			}
+        	if ($HTTPS == '1' || $HTTPS == 'on') {
+        		$SCHEME = 'https';
+        	} else {
+        		$SCHEME = 'http';
+        	}
+			$soapaction = "$SCHEME://$SERVER_NAME$SCRIPT_NAME/$name";
+		}
+		if(false == $style) {
+			$style = "rpc";
+		}
+		if(false == $use) {
+			$use = "encoded";
+		}
+		if ($use == 'encoded' && $encodingStyle == '') {
+			$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		}
+
+		$this->operations[$name] = array(
+	    'name' => $name,
+	    'in' => $in,
+	    'out' => $out,
+	    'namespace' => $namespace,
+	    'soapaction' => $soapaction,
+	    'style' => $style);
+        if($this->wsdl){
+        	$this->wsdl->addOperation($name,$in,$out,$namespace,$soapaction,$style,$use,$documentation,$encodingStyle);
+	    }
+		return true;
+	}
+
+	/**
+	* Specify a fault to be returned to the client.
+	* This also acts as a flag to the server that a fault has occured.
+	*
+	* @param	string $faultcode
+	* @param	string $faultstring
+	* @param	string $faultactor
+	* @param	string $faultdetail
+	* @access   public
+	*/
+	function fault($faultcode,$faultstring,$faultactor='',$faultdetail=''){
+		if ($faultdetail == '' && $this->debug_flag) {
+			$faultdetail = $this->getDebug();
+		}
+		$this->fault = new nusoap_fault($faultcode,$faultactor,$faultstring,$faultdetail);
+		$this->fault->soap_defencoding = $this->soap_defencoding;
+	}
+
+    /**
+    * Sets up wsdl object.
+    * Acts as a flag to enable internal WSDL generation
+    *
+    * @param string $serviceName, name of the service
+    * @param mixed $namespace optional 'tns' service namespace or false
+    * @param mixed $endpoint optional URL of service endpoint or false
+    * @param string $style optional (rpc|document) WSDL style (also specified by operation)
+    * @param string $transport optional SOAP transport
+    * @param mixed $schemaTargetNamespace optional 'types' targetNamespace for service schema or false
+    */
+    function configureWSDL($serviceName,$namespace = false,$endpoint = false,$style='rpc', $transport = 'http://schemas.xmlsoap.org/soap/http', $schemaTargetNamespace = false)
+    {
+    	global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$SERVER_NAME = $_SERVER['SERVER_NAME'];
+			$SERVER_PORT = $_SERVER['SERVER_PORT'];
+			$SCRIPT_NAME = isset($_SERVER['PHP_SELF']) ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];
+			$HTTPS = isset($_SERVER['HTTPS']) ? $_SERVER['HTTPS'] : (isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off');
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$SERVER_NAME = $HTTP_SERVER_VARS['SERVER_NAME'];
+			$SERVER_PORT = $HTTP_SERVER_VARS['SERVER_PORT'];
+			$SCRIPT_NAME = isset($HTTP_SERVER_VARS['PHP_SELF']) ? $HTTP_SERVER_VARS['PHP_SELF'] : $HTTP_SERVER_VARS['SCRIPT_NAME'];
+			$HTTPS = isset($HTTP_SERVER_VARS['HTTPS']) ? $HTTP_SERVER_VARS['HTTPS'] : 'off';
+		} else {
+			$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+		}
+		// If server name has port number attached then strip it (else port number gets duplicated in WSDL output) (occurred using lighttpd and FastCGI)
+		$colon = strpos($SERVER_NAME,":");
+		if ($colon) {
+		    $SERVER_NAME = substr($SERVER_NAME, 0, $colon);
+		}
+		if ($SERVER_PORT == 80) {
+			$SERVER_PORT = '';
+		} else {
+			$SERVER_PORT = ':' . $SERVER_PORT;
+		}
+        if(false == $namespace) {
+            $namespace = "http://$SERVER_NAME/soap/$serviceName";
+        }
+        
+        if(false == $endpoint) {
+        	if ($HTTPS == '1' || $HTTPS == 'on') {
+        		$SCHEME = 'https';
+        	} else {
+        		$SCHEME = 'http';
+        	}
+            $endpoint = "$SCHEME://$SERVER_NAME$SERVER_PORT$SCRIPT_NAME";
+        }
+        
+        if(false == $schemaTargetNamespace) {
+            $schemaTargetNamespace = $namespace;
+        }
+        
+		$this->wsdl = new wsdl;
+		$this->wsdl->serviceName = $serviceName;
+        $this->wsdl->endpoint = $endpoint;
+		$this->wsdl->namespaces['tns'] = $namespace;
+		$this->wsdl->namespaces['soap'] = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		$this->wsdl->namespaces['wsdl'] = 'http://schemas.xmlsoap.org/wsdl/';
+		if ($schemaTargetNamespace != $namespace) {
+			$this->wsdl->namespaces['types'] = $schemaTargetNamespace;
+		}
+        $this->wsdl->schemas[$schemaTargetNamespace][0] = new nusoap_xmlschema('', '', $this->wsdl->namespaces);
+        if ($style == 'document') {
+	        $this->wsdl->schemas[$schemaTargetNamespace][0]->schemaInfo['elementFormDefault'] = 'qualified';
+        }
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->schemaTargetNamespace = $schemaTargetNamespace;
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->imports['http://schemas.xmlsoap.org/soap/encoding/'][0] = array('location' => '', 'loaded' => true);
+        $this->wsdl->schemas[$schemaTargetNamespace][0]->imports['http://schemas.xmlsoap.org/wsdl/'][0] = array('location' => '', 'loaded' => true);
+        $this->wsdl->bindings[$serviceName.'Binding'] = array(
+        	'name'=>$serviceName.'Binding',
+            'style'=>$style,
+            'transport'=>$transport,
+            'portType'=>$serviceName.'PortType');
+        $this->wsdl->ports[$serviceName.'Port'] = array(
+        	'binding'=>$serviceName.'Binding',
+            'location'=>$endpoint,
+            'bindingType'=>'http://schemas.xmlsoap.org/wsdl/soap/');
+    }
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_server extends nusoap_server {
+}
+
+?><?php
+
+
+
+/**
+* parses a WSDL file, allows access to it's data, other utility methods.
+* also builds WSDL structures programmatically.
+* 
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access public 
+*/
+class wsdl extends nusoap_base {
+	// URL or filename of the root of this WSDL
+    var $wsdl; 
+    // define internal arrays of bindings, ports, operations, messages, etc.
+    var $schemas = array();
+    var $currentSchema;
+    var $message = array();
+    var $complexTypes = array();
+    var $messages = array();
+    var $currentMessage;
+    var $currentOperation;
+    var $portTypes = array();
+    var $currentPortType;
+    var $bindings = array();
+    var $currentBinding;
+    var $ports = array();
+    var $currentPort;
+    var $opData = array();
+    var $status = '';
+    var $documentation = false;
+    var $endpoint = ''; 
+    // array of wsdl docs to import
+    var $import = array(); 
+    // parser vars
+    var $parser;
+    var $position = 0;
+    var $depth = 0;
+    var $depth_array = array();
+	// for getting wsdl
+	var $proxyhost = '';
+    var $proxyport = '';
+	var $proxyusername = '';
+	var $proxypassword = '';
+	var $timeout = 0;
+	var $response_timeout = 30;
+	var $curl_options = array();	// User-specified cURL options
+	var $use_curl = false;			// whether to always try to use cURL
+	// for HTTP authentication
+	var $username = '';				// Username for HTTP authentication
+	var $password = '';				// Password for HTTP authentication
+	var $authtype = '';				// Type of HTTP authentication
+	var $certRequest = array();		// Certificate for HTTP SSL authentication
+
+    /**
+     * constructor
+     * 
+     * @param string $wsdl WSDL document URL
+	 * @param string $proxyhost
+	 * @param string $proxyport
+	 * @param string $proxyusername
+	 * @param string $proxypassword
+	 * @param integer $timeout set the connection timeout
+	 * @param integer $response_timeout set the response timeout
+	 * @param array $curl_options user-specified cURL options
+	 * @param boolean $use_curl try to use cURL
+     * @access public 
+     */
+    function wsdl($wsdl = '',$proxyhost=false,$proxyport=false,$proxyusername=false,$proxypassword=false,$timeout=0,$response_timeout=30,$curl_options=null,$use_curl=false){
+		parent::nusoap_base();
+		$this->debug("ctor wsdl=$wsdl timeout=$timeout response_timeout=$response_timeout");
+        $this->proxyhost = $proxyhost;
+        $this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+		$this->timeout = $timeout;
+		$this->response_timeout = $response_timeout;
+		if (is_array($curl_options))
+			$this->curl_options = $curl_options;
+		$this->use_curl = $use_curl;
+		$this->fetchWSDL($wsdl);
+    }
+
+	/**
+	 * fetches the WSDL document and parses it
+	 *
+	 * @access public
+	 */
+	function fetchWSDL($wsdl) {
+		$this->debug("parse and process WSDL path=$wsdl");
+		$this->wsdl = $wsdl;
+        // parse wsdl file
+        if ($this->wsdl != "") {
+            $this->parseWSDL($this->wsdl);
+        }
+        // imports
+        // TODO: handle imports more properly, grabbing them in-line and nesting them
+    	$imported_urls = array();
+    	$imported = 1;
+    	while ($imported > 0) {
+    		$imported = 0;
+    		// Schema imports
+    		foreach ($this->schemas as $ns => $list) {
+    			foreach ($list as $xs) {
+					$wsdlparts = parse_url($this->wsdl);	// this is bogusly simple!
+		            foreach ($xs->imports as $ns2 => $list2) {
+		                for ($ii = 0; $ii < count($list2); $ii++) {
+		                	if (! $list2[$ii]['loaded']) {
+		                		$this->schemas[$ns]->imports[$ns2][$ii]['loaded'] = true;
+		                		$url = $list2[$ii]['location'];
+								if ($url != '') {
+									$urlparts = parse_url($url);
+									if (!isset($urlparts['host'])) {
+										$url = $wsdlparts['scheme'] . '://' . $wsdlparts['host'] . (isset($wsdlparts['port']) ? ':' .$wsdlparts['port'] : '') .
+												substr($wsdlparts['path'],0,strrpos($wsdlparts['path'],'/') + 1) .$urlparts['path'];
+									}
+									if (! in_array($url, $imported_urls)) {
+					                	$this->parseWSDL($url);
+				                		$imported++;
+				                		$imported_urls[] = $url;
+				                	}
+								} else {
+									$this->debug("Unexpected scenario: empty URL for unloaded import");
+								}
+							}
+						}
+		            } 
+    			}
+    		}
+    		// WSDL imports
+			$wsdlparts = parse_url($this->wsdl);	// this is bogusly simple!
+            foreach ($this->import as $ns => $list) {
+                for ($ii = 0; $ii < count($list); $ii++) {
+                	if (! $list[$ii]['loaded']) {
+                		$this->import[$ns][$ii]['loaded'] = true;
+                		$url = $list[$ii]['location'];
+						if ($url != '') {
+							$urlparts = parse_url($url);
+							if (!isset($urlparts['host'])) {
+								$url = $wsdlparts['scheme'] . '://' . $wsdlparts['host'] . (isset($wsdlparts['port']) ? ':' . $wsdlparts['port'] : '') .
+										substr($wsdlparts['path'],0,strrpos($wsdlparts['path'],'/') + 1) .$urlparts['path'];
+							}
+							if (! in_array($url, $imported_urls)) {
+			                	$this->parseWSDL($url);
+		                		$imported++;
+		                		$imported_urls[] = $url;
+		                	}
+						} else {
+							$this->debug("Unexpected scenario: empty URL for unloaded import");
+						}
+					}
+				}
+            } 
+		}
+        // add new data to operation data
+        foreach($this->bindings as $binding => $bindingData) {
+            if (isset($bindingData['operations']) && is_array($bindingData['operations'])) {
+                foreach($bindingData['operations'] as $operation => $data) {
+                    $this->debug('post-parse data gathering for ' . $operation);
+                    $this->bindings[$binding]['operations'][$operation]['input'] = 
+						isset($this->bindings[$binding]['operations'][$operation]['input']) ? 
+						array_merge($this->bindings[$binding]['operations'][$operation]['input'], $this->portTypes[ $bindingData['portType'] ][$operation]['input']) :
+						$this->portTypes[ $bindingData['portType'] ][$operation]['input'];
+                    $this->bindings[$binding]['operations'][$operation]['output'] = 
+						isset($this->bindings[$binding]['operations'][$operation]['output']) ?
+						array_merge($this->bindings[$binding]['operations'][$operation]['output'], $this->portTypes[ $bindingData['portType'] ][$operation]['output']) :
+						$this->portTypes[ $bindingData['portType'] ][$operation]['output'];
+                    if(isset($this->messages[ $this->bindings[$binding]['operations'][$operation]['input']['message'] ])){
+						$this->bindings[$binding]['operations'][$operation]['input']['parts'] = $this->messages[ $this->bindings[$binding]['operations'][$operation]['input']['message'] ];
+					}
+					if(isset($this->messages[ $this->bindings[$binding]['operations'][$operation]['output']['message'] ])){
+                   		$this->bindings[$binding]['operations'][$operation]['output']['parts'] = $this->messages[ $this->bindings[$binding]['operations'][$operation]['output']['message'] ];
+                    }
+                    // Set operation style if necessary, but do not override one already provided
+					if (isset($bindingData['style']) && !isset($this->bindings[$binding]['operations'][$operation]['style'])) {
+                        $this->bindings[$binding]['operations'][$operation]['style'] = $bindingData['style'];
+                    }
+                    $this->bindings[$binding]['operations'][$operation]['transport'] = isset($bindingData['transport']) ? $bindingData['transport'] : '';
+                    $this->bindings[$binding]['operations'][$operation]['documentation'] = isset($this->portTypes[ $bindingData['portType'] ][$operation]['documentation']) ? $this->portTypes[ $bindingData['portType'] ][$operation]['documentation'] : '';
+                    $this->bindings[$binding]['operations'][$operation]['endpoint'] = isset($bindingData['endpoint']) ? $bindingData['endpoint'] : '';
+                } 
+            } 
+        }
+	}
+
+    /**
+     * parses the wsdl document
+     * 
+     * @param string $wsdl path or URL
+     * @access private 
+     */
+    function parseWSDL($wsdl = '') {
+		$this->debug("parse WSDL at path=$wsdl");
+
+        if ($wsdl == '') {
+            $this->debug('no wsdl passed to parseWSDL()!!');
+            $this->setError('no wsdl passed to parseWSDL()!!');
+            return false;
+        }
+        
+        // parse $wsdl for url format
+        $wsdl_props = parse_url($wsdl);
+
+        if (isset($wsdl_props['scheme']) && ($wsdl_props['scheme'] == 'http' || $wsdl_props['scheme'] == 'https')) {
+            $this->debug('getting WSDL http(s) URL ' . $wsdl);
+        	// get wsdl
+	        $tr = new soap_transport_http($wsdl, $this->curl_options, $this->use_curl);
+			$tr->request_method = 'GET';
+			$tr->useSOAPAction = false;
+			if($this->proxyhost && $this->proxyport){
+				$tr->setProxy($this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword);
+			}
+			if ($this->authtype != '') {
+				$tr->setCredentials($this->username, $this->password, $this->authtype, array(), $this->certRequest);
+			}
+			$tr->setEncoding('gzip, deflate');
+			$wsdl_string = $tr->send('', $this->timeout, $this->response_timeout);
+			//$this->debug("WSDL request\n" . $tr->outgoing_payload);
+			//$this->debug("WSDL response\n" . $tr->incoming_payload);
+			$this->appendDebug($tr->getDebug());
+			// catch errors
+			if($err = $tr->getError() ){
+				$errstr = 'Getting ' . $wsdl . ' - HTTP ERROR: '.$err;
+				$this->debug($errstr);
+	            $this->setError($errstr);
+				unset($tr);
+	            return false;
+			}
+			unset($tr);
+			$this->debug("got WSDL URL");
+        } else {
+            // $wsdl is not http(s), so treat it as a file URL or plain file path
+        	if (isset($wsdl_props['scheme']) && ($wsdl_props['scheme'] == 'file') && isset($wsdl_props['path'])) {
+        		$path = isset($wsdl_props['host']) ? ($wsdl_props['host'] . ':' . $wsdl_props['path']) : $wsdl_props['path'];
+        	} else {
+        		$path = $wsdl;
+        	}
+            $this->debug('getting WSDL file ' . $path);
+            if ($fp = @fopen($path, 'r')) {
+                $wsdl_string = '';
+                while ($data = fread($fp, 32768)) {
+                    $wsdl_string .= $data;
+                } 
+                fclose($fp);
+            } else {
+            	$errstr = "Bad path to WSDL file $path";
+            	$this->debug($errstr);
+                $this->setError($errstr);
+                return false;
+            } 
+        }
+        $this->debug('Parse WSDL');
+        // end new code added
+        // Create an XML parser.
+        $this->parser = xml_parser_create(); 
+        // Set the options for parsing the XML data.
+        // xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
+        xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0); 
+        // Set the object for the parser.
+        xml_set_object($this->parser, $this); 
+        // Set the element handlers for the parser.
+        xml_set_element_handler($this->parser, 'start_element', 'end_element');
+        xml_set_character_data_handler($this->parser, 'character_data');
+        // Parse the XML file.
+        if (!xml_parse($this->parser, $wsdl_string, true)) {
+            // Display an error message.
+            $errstr = sprintf(
+				'XML error parsing WSDL from %s on line %d: %s',
+				$wsdl,
+                xml_get_current_line_number($this->parser),
+                xml_error_string(xml_get_error_code($this->parser))
+                );
+            $this->debug($errstr);
+			$this->debug("XML payload:\n" . $wsdl_string);
+            $this->setError($errstr);
+            return false;
+        } 
+		// free the parser
+        xml_parser_free($this->parser);
+        $this->debug('Parsing WSDL done');
+		// catch wsdl parse errors
+		if($this->getError()){
+			return false;
+		}
+        return true;
+    } 
+
+    /**
+     * start-element handler
+     * 
+     * @param string $parser XML parser object
+     * @param string $name element name
+     * @param string $attrs associative array of attributes
+     * @access private 
+     */
+    function start_element($parser, $name, $attrs)
+    {
+        if ($this->status == 'schema') {
+            $this->currentSchema->schemaStartElement($parser, $name, $attrs);
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+        } elseif (preg_match('/schema$/', $name)) {
+        	$this->debug('Parsing WSDL schema');
+            // $this->debug("startElement for $name ($attrs[name]). status = $this->status (".$this->getLocalPart($name).")");
+            $this->status = 'schema';
+            $this->currentSchema = new nusoap_xmlschema('', '', $this->namespaces);
+            $this->currentSchema->schemaStartElement($parser, $name, $attrs);
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+        } else {
+            // position in the total number of elements, starting from 0
+            $pos = $this->position++;
+            $depth = $this->depth++; 
+            // set self as current value for this depth
+            $this->depth_array[$depth] = $pos;
+            $this->message[$pos] = array('cdata' => ''); 
+            // process attributes
+            if (count($attrs) > 0) {
+				// register namespace declarations
+                foreach($attrs as $k => $v) {
+                    if (preg_match('/^xmlns/',$k)) {
+                        if ($ns_prefix = substr(strrchr($k, ':'), 1)) {
+                            $this->namespaces[$ns_prefix] = $v;
+                        } else {
+                            $this->namespaces['ns' . (count($this->namespaces) + 1)] = $v;
+                        } 
+                        if ($v == 'http://www.w3.org/2001/XMLSchema' || $v == 'http://www.w3.org/1999/XMLSchema' || $v == 'http://www.w3.org/2000/10/XMLSchema') {
+                            $this->XMLSchemaVersion = $v;
+                            $this->namespaces['xsi'] = $v . '-instance';
+                        } 
+                    }
+                }
+                // expand each attribute prefix to its namespace
+                foreach($attrs as $k => $v) {
+                    $k = strpos($k, ':') ? $this->expandQname($k) : $k;
+                    if ($k != 'location' && $k != 'soapAction' && $k != 'namespace') {
+                        $v = strpos($v, ':') ? $this->expandQname($v) : $v;
+                    } 
+                    $eAttrs[$k] = $v;
+                } 
+                $attrs = $eAttrs;
+            } else {
+                $attrs = array();
+            } 
+            // get element prefix, namespace and name
+            if (preg_match('/:/', $name)) {
+                // get ns prefix
+                $prefix = substr($name, 0, strpos($name, ':')); 
+                // get ns
+                $namespace = isset($this->namespaces[$prefix]) ? $this->namespaces[$prefix] : ''; 
+                // get unqualified name
+                $name = substr(strstr($name, ':'), 1);
+            } 
+			// process attributes, expanding any prefixes to namespaces
+            // find status, register data
+            switch ($this->status) {
+                case 'message':
+                    if ($name == 'part') {
+			            if (isset($attrs['type'])) {
+		                    $this->debug("msg " . $this->currentMessage . ": found part (with type) $attrs[name]: " . implode(',', $attrs));
+		                    $this->messages[$this->currentMessage][$attrs['name']] = $attrs['type'];
+            			} 
+			            if (isset($attrs['element'])) {
+		                    $this->debug("msg " . $this->currentMessage . ": found part (with element) $attrs[name]: " . implode(',', $attrs));
+			                $this->messages[$this->currentMessage][$attrs['name']] = $attrs['element'] . '^';
+			            } 
+        			} 
+        			break;
+			    case 'portType':
+			        switch ($name) {
+			            case 'operation':
+			                $this->currentPortOperation = $attrs['name'];
+			                $this->debug("portType $this->currentPortType operation: $this->currentPortOperation");
+			                if (isset($attrs['parameterOrder'])) {
+			                	$this->portTypes[$this->currentPortType][$attrs['name']]['parameterOrder'] = $attrs['parameterOrder'];
+			        		} 
+			        		break;
+					    case 'documentation':
+					        $this->documentation = true;
+					        break; 
+					    // merge input/output data
+					    default:
+					        $m = isset($attrs['message']) ? $this->getLocalPart($attrs['message']) : '';
+					        $this->portTypes[$this->currentPortType][$this->currentPortOperation][$name]['message'] = $m;
+					        break;
+					} 
+			    	break;
+				case 'binding':
+				    switch ($name) {
+				        case 'binding': 
+				            // get ns prefix
+				            if (isset($attrs['style'])) {
+				            $this->bindings[$this->currentBinding]['prefix'] = $prefix;
+					    	} 
+					    	$this->bindings[$this->currentBinding] = array_merge($this->bindings[$this->currentBinding], $attrs);
+					    	break;
+						case 'header':
+						    $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus]['headers'][] = $attrs;
+						    break;
+						case 'operation':
+						    if (isset($attrs['soapAction'])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['soapAction'] = $attrs['soapAction'];
+						    } 
+						    if (isset($attrs['style'])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['style'] = $attrs['style'];
+						    } 
+						    if (isset($attrs['name'])) {
+						        $this->currentOperation = $attrs['name'];
+						        $this->debug("current binding operation: $this->currentOperation");
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['name'] = $attrs['name'];
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['binding'] = $this->currentBinding;
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation]['endpoint'] = isset($this->bindings[$this->currentBinding]['endpoint']) ? $this->bindings[$this->currentBinding]['endpoint'] : '';
+						    } 
+						    break;
+						case 'input':
+						    $this->opStatus = 'input';
+						    break;
+						case 'output':
+						    $this->opStatus = 'output';
+						    break;
+						case 'body':
+						    if (isset($this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus])) {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus] = array_merge($this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus], $attrs);
+						    } else {
+						        $this->bindings[$this->currentBinding]['operations'][$this->currentOperation][$this->opStatus] = $attrs;
+						    } 
+						    break;
+					} 
+					break;
+				case 'service':
+					switch ($name) {
+					    case 'port':
+					        $this->currentPort = $attrs['name'];
+					        $this->debug('current port: ' . $this->currentPort);
+					        $this->ports[$this->currentPort]['binding'] = $this->getLocalPart($attrs['binding']);
+					
+					        break;
+					    case 'address':
+					        $this->ports[$this->currentPort]['location'] = $attrs['location'];
+					        $this->ports[$this->currentPort]['bindingType'] = $namespace;
+					        $this->bindings[ $this->ports[$this->currentPort]['binding'] ]['bindingType'] = $namespace;
+					        $this->bindings[ $this->ports[$this->currentPort]['binding'] ]['endpoint'] = $attrs['location'];
+					        break;
+					} 
+					break;
+			} 
+		// set status
+		switch ($name) {
+			case 'import':
+			    if (isset($attrs['location'])) {
+                    $this->import[$attrs['namespace']][] = array('location' => $attrs['location'], 'loaded' => false);
+                    $this->debug('parsing import ' . $attrs['namespace']. ' - ' . $attrs['location'] . ' (' . count($this->import[$attrs['namespace']]).')');
+				} else {
+                    $this->import[$attrs['namespace']][] = array('location' => '', 'loaded' => true);
+					if (! $this->getPrefixFromNamespace($attrs['namespace'])) {
+						$this->namespaces['ns'.(count($this->namespaces)+1)] = $attrs['namespace'];
+					}
+                    $this->debug('parsing import ' . $attrs['namespace']. ' - [no location] (' . count($this->import[$attrs['namespace']]).')');
+				}
+				break;
+			//wait for schema
+			//case 'types':
+			//	$this->status = 'schema';
+			//	break;
+			case 'message':
+				$this->status = 'message';
+				$this->messages[$attrs['name']] = array();
+				$this->currentMessage = $attrs['name'];
+				break;
+			case 'portType':
+				$this->status = 'portType';
+				$this->portTypes[$attrs['name']] = array();
+				$this->currentPortType = $attrs['name'];
+				break;
+			case "binding":
+				if (isset($attrs['name'])) {
+				// get binding name
+					if (strpos($attrs['name'], ':')) {
+			    		$this->currentBinding = $this->getLocalPart($attrs['name']);
+					} else {
+			    		$this->currentBinding = $attrs['name'];
+					} 
+					$this->status = 'binding';
+					$this->bindings[$this->currentBinding]['portType'] = $this->getLocalPart($attrs['type']);
+					$this->debug("current binding: $this->currentBinding of portType: " . $attrs['type']);
+				} 
+				break;
+			case 'service':
+				$this->serviceName = $attrs['name'];
+				$this->status = 'service';
+				$this->debug('current service: ' . $this->serviceName);
+				break;
+			case 'definitions':
+				foreach ($attrs as $name => $value) {
+					$this->wsdl_info[$name] = $value;
+				} 
+				break;
+			} 
+		} 
+	} 
+
+	/**
+	* end-element handler
+	* 
+	* @param string $parser XML parser object
+	* @param string $name element name
+	* @access private 
+	*/
+	function end_element($parser, $name){ 
+		// unset schema status
+		if (/*preg_match('/types$/', $name) ||*/ preg_match('/schema$/', $name)) {
+			$this->status = "";
+            $this->appendDebug($this->currentSchema->getDebug());
+            $this->currentSchema->clearDebug();
+			$this->schemas[$this->currentSchema->schemaTargetNamespace][] = $this->currentSchema;
+        	$this->debug('Parsing WSDL schema done');
+		} 
+		if ($this->status == 'schema') {
+			$this->currentSchema->schemaEndElement($parser, $name);
+		} else {
+			// bring depth down a notch
+			$this->depth--;
+		} 
+		// end documentation
+		if ($this->documentation) {
+			//TODO: track the node to which documentation should be assigned; it can be a part, message, etc.
+			//$this->portTypes[$this->currentPortType][$this->currentPortOperation]['documentation'] = $this->documentation;
+			$this->documentation = false;
+		} 
+	} 
+
+	/**
+	 * element content handler
+	 * 
+	 * @param string $parser XML parser object
+	 * @param string $data element content
+	 * @access private 
+	 */
+	function character_data($parser, $data)
+	{
+		$pos = isset($this->depth_array[$this->depth]) ? $this->depth_array[$this->depth] : 0;
+		if (isset($this->message[$pos]['cdata'])) {
+			$this->message[$pos]['cdata'] .= $data;
+		} 
+		if ($this->documentation) {
+			$this->documentation .= $data;
+		} 
+	} 
+
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, certpassword (optional), verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->certRequest = $certRequest;
+	}
+	
+	function getBindingData($binding)
+	{
+		if (is_array($this->bindings[$binding])) {
+			return $this->bindings[$binding];
+		} 
+	}
+	
+	/**
+	 * returns an assoc array of operation names => operation data
+	 * 
+	 * @param string $portName WSDL port name
+	 * @param string $bindingType eg: soap, smtp, dime (only soap and soap12 are currently supported)
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperations($portName = '', $bindingType = 'soap') {
+		$ops = array();
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		} else {
+			$this->debug("getOperations bindingType $bindingType may not be supported");
+		}
+		$this->debug("getOperations for port '$portName' bindingType $bindingType");
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			$this->debug("getOperations checking port $port bindingType " . $portData['bindingType']);
+			if ($portName == '' || $port == $portName) {
+				// binding type of port matches parameter
+				if ($portData['bindingType'] == $bindingType) {
+					$this->debug("getOperations found port $port bindingType $bindingType");
+					//$this->debug("port data: " . $this->varDump($portData));
+					//$this->debug("bindings: " . $this->varDump($this->bindings[ $portData['binding'] ]));
+					// merge bindings
+					if (isset($this->bindings[ $portData['binding'] ]['operations'])) {
+						$ops = array_merge ($ops, $this->bindings[ $portData['binding'] ]['operations']);
+					}
+				}
+			}
+		}
+		if (count($ops) == 0) {
+			$this->debug("getOperations found no operations for port '$portName' bindingType $bindingType");
+		}
+		return $ops;
+	} 
+	
+	/**
+	 * returns an associative array of data necessary for calling an operation
+	 * 
+	 * @param string $operation name of operation
+	 * @param string $bindingType type of binding eg: soap, soap12
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperationData($operation, $bindingType = 'soap')
+	{
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		}
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			// binding type of port matches parameter
+			if ($portData['bindingType'] == $bindingType) {
+				// get binding
+				//foreach($this->bindings[ $portData['binding'] ]['operations'] as $bOperation => $opData) {
+				foreach(array_keys($this->bindings[ $portData['binding'] ]['operations']) as $bOperation) {
+					// note that we could/should also check the namespace here
+					if ($operation == $bOperation) {
+						$opData = $this->bindings[ $portData['binding'] ]['operations'][$operation];
+					    return $opData;
+					} 
+				} 
+			}
+		} 
+	}
+	
+	/**
+	 * returns an associative array of data necessary for calling an operation
+	 * 
+	 * @param string $soapAction soapAction for operation
+	 * @param string $bindingType type of binding eg: soap, soap12
+	 * @return array 
+	 * @access public 
+	 */
+	function getOperationDataForSoapAction($soapAction, $bindingType = 'soap') {
+		if ($bindingType == 'soap') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap/';
+		} elseif ($bindingType == 'soap12') {
+			$bindingType = 'http://schemas.xmlsoap.org/wsdl/soap12/';
+		}
+		// loop thru ports
+		foreach($this->ports as $port => $portData) {
+			// binding type of port matches parameter
+			if ($portData['bindingType'] == $bindingType) {
+				// loop through operations for the binding
+				foreach ($this->bindings[ $portData['binding'] ]['operations'] as $bOperation => $opData) {
+					if ($opData['soapAction'] == $soapAction) {
+					    return $opData;
+					} 
+				} 
+			}
+		} 
+	}
+	
+	/**
+    * returns an array of information about a given type
+    * returns false if no type exists by the given name
+    *
+	*	 typeDef = array(
+	*	 'elements' => array(), // refs to elements array
+	*	'restrictionBase' => '',
+	*	'phpType' => '',
+	*	'order' => '(sequence|all)',
+	*	'attrs' => array() // refs to attributes array
+	*	)
+    *
+    * @param string $type the type
+    * @param string $ns namespace (not prefix) of the type
+    * @return mixed
+    * @access public
+    * @see nusoap_xmlschema
+    */
+	function getTypeDef($type, $ns) {
+		$this->debug("in getTypeDef: type=$type, ns=$ns");
+		if ((! $ns) && isset($this->namespaces['tns'])) {
+			$ns = $this->namespaces['tns'];
+			$this->debug("in getTypeDef: type namespace forced to $ns");
+		}
+		if (!isset($this->schemas[$ns])) {
+			foreach ($this->schemas as $ns0 => $schema0) {
+				if (strcasecmp($ns, $ns0) == 0) {
+					$this->debug("in getTypeDef: replacing schema namespace $ns with $ns0");
+					$ns = $ns0;
+					break;
+				}
+			}
+		}
+		if (isset($this->schemas[$ns])) {
+			$this->debug("in getTypeDef: have schema for namespace $ns");
+			for ($i = 0; $i < count($this->schemas[$ns]); $i++) {
+				$xs = &$this->schemas[$ns][$i];
+				$t = $xs->getTypeDef($type);
+				$this->appendDebug($xs->getDebug());
+				$xs->clearDebug();
+				if ($t) {
+					$this->debug("in getTypeDef: found type $type");
+					if (!isset($t['phpType'])) {
+						// get info for type to tack onto the element
+						$uqType = substr($t['type'], strrpos($t['type'], ':') + 1);
+						$ns = substr($t['type'], 0, strrpos($t['type'], ':'));
+						$etype = $this->getTypeDef($uqType, $ns);
+						if ($etype) {
+							$this->debug("found type for [element] $type:");
+							$this->debug($this->varDump($etype));
+							if (isset($etype['phpType'])) {
+								$t['phpType'] = $etype['phpType'];
+							}
+							if (isset($etype['elements'])) {
+								$t['elements'] = $etype['elements'];
+							}
+							if (isset($etype['attrs'])) {
+								$t['attrs'] = $etype['attrs'];
+							}
+						} else {
+							$this->debug("did not find type for [element] $type");
+						}
+					}
+					return $t;
+				}
+			}
+			$this->debug("in getTypeDef: did not find type $type");
+		} else {
+			$this->debug("in getTypeDef: do not have schema for namespace $ns");
+		}
+		return false;
+	}
+
+    /**
+    * prints html description of services
+    *
+    * @access private
+    */
+    function webDescription(){
+    	global $HTTP_SERVER_VARS;
+
+		if (isset($_SERVER)) {
+			$PHP_SELF = $_SERVER['PHP_SELF'];
+		} elseif (isset($HTTP_SERVER_VARS)) {
+			$PHP_SELF = $HTTP_SERVER_VARS['PHP_SELF'];
+		} else {
+			$this->setError("Neither _SERVER nor HTTP_SERVER_VARS is available");
+		}
+
+		$b = '
+		<html><head><title>NuSOAP: '.$this->serviceName.'</title>
+		<style type="text/css">
+		    body    { font-family: arial; color: #000000; background-color: #ffffff; margin: 0px 0px 0px 0px; }
+		    p       { font-family: arial; color: #000000; margin-top: 0px; margin-bottom: 12px; }
+		    pre { background-color: silver; padding: 5px; font-family: Courier New; font-size: x-small; color: #000000;}
+		    ul      { margin-top: 10px; margin-left: 20px; }
+		    li      { list-style-type: none; margin-top: 10px; color: #000000; }
+		    .content{
+			margin-left: 0px; padding-bottom: 2em; }
+		    .nav {
+			padding-top: 10px; padding-bottom: 10px; padding-left: 15px; font-size: .70em;
+			margin-top: 10px; margin-left: 0px; color: #000000;
+			background-color: #ccccff; width: 20%; margin-left: 20px; margin-top: 20px; }
+		    .title {
+			font-family: arial; font-size: 26px; color: #ffffff;
+			background-color: #999999; width: 100%;
+			margin-left: 0px; margin-right: 0px;
+			padding-top: 10px; padding-bottom: 10px;}
+		    .hidden {
+			position: absolute; visibility: hidden; z-index: 200; left: 250px; top: 100px;
+			font-family: arial; overflow: hidden; width: 600;
+			padding: 20px; font-size: 10px; background-color: #999999;
+			layer-background-color:#FFFFFF; }
+		    a,a:active  { color: charcoal; font-weight: bold; }
+		    a:visited   { color: #666666; font-weight: bold; }
+		    a:hover     { color: cc3300; font-weight: bold; }
+		</style>
+		<script language="JavaScript" type="text/javascript">
+		<!--
+		// POP-UP CAPTIONS...
+		function lib_bwcheck(){ //Browsercheck (needed)
+		    this.ver=navigator.appVersion
+		    this.agent=navigator.userAgent
+		    this.dom=document.getElementById?1:0
+		    this.opera5=this.agent.indexOf("Opera 5")>-1
+		    this.ie5=(this.ver.indexOf("MSIE 5")>-1 && this.dom && !this.opera5)?1:0;
+		    this.ie6=(this.ver.indexOf("MSIE 6")>-1 && this.dom && !this.opera5)?1:0;
+		    this.ie4=(document.all && !this.dom && !this.opera5)?1:0;
+		    this.ie=this.ie4||this.ie5||this.ie6
+		    this.mac=this.agent.indexOf("Mac")>-1
+		    this.ns6=(this.dom && parseInt(this.ver) >= 5) ?1:0;
+		    this.ns4=(document.layers && !this.dom)?1:0;
+		    this.bw=(this.ie6 || this.ie5 || this.ie4 || this.ns4 || this.ns6 || this.opera5)
+		    return this
+		}
+		var bw = new lib_bwcheck()
+		//Makes crossbrowser object.
+		function makeObj(obj){
+		    this.evnt=bw.dom? document.getElementById(obj):bw.ie4?document.all[obj]:bw.ns4?document.layers[obj]:0;
+		    if(!this.evnt) return false
+		    this.css=bw.dom||bw.ie4?this.evnt.style:bw.ns4?this.evnt:0;
+		    this.wref=bw.dom||bw.ie4?this.evnt:bw.ns4?this.css.document:0;
+		    this.writeIt=b_writeIt;
+		    return this
+		}
+		// A unit of measure that will be added when setting the position of a layer.
+		//var px = bw.ns4||window.opera?"":"px";
+		function b_writeIt(text){
+		    if (bw.ns4){this.wref.write(text);this.wref.close()}
+		    else this.wref.innerHTML = text
+		}
+		//Shows the messages
+		var oDesc;
+		function popup(divid){
+		    if(oDesc = new makeObj(divid)){
+			oDesc.css.visibility = "visible"
+		    }
+		}
+		function popout(){ // Hides message
+		    if(oDesc) oDesc.css.visibility = "hidden"
+		}
+		//-->
+		</script>
+		</head>
+		<body>
+		<div class=content>
+			<br><br>
+			<div class=title>'.htmlentities($this->serviceName).'</div>
+			<div class=nav>
+				<p>View the <a href="'.htmlentities($PHP_SELF).'?wsdl">WSDL</a> for the service.
+				Click on an operation name to view it&apos;s details.</p>
+				<ul>';
+				foreach($this->getOperations() as $op => $data){
+				    $b .= "<li><a href='#' onclick=\"popout();popup('$op')\">$op</a></li>";
+				    // create hidden div
+				    $b .= "<div id='$op' class='hidden'>
+				    <a href='#' onclick='popout()'><font color='#ffffff'>Close</font></a><br><br>";
+				    foreach($data as $donnie => $marie){ // loop through opdata
+						if($donnie == 'input' || $donnie == 'output'){ // show input/output data
+						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).':</font><br>';
+						    foreach($marie as $captain => $tenille){ // loop through data
+								if($captain == 'parts'){ // loop thru parts
+								    $b .= "&nbsp;&nbsp;".htmlentities($captain).":<br>";
+					                //if(is_array($tenille)){
+								    	foreach($tenille as $joanie => $chachi){
+											$b .= "&nbsp;&nbsp;&nbsp;&nbsp;".htmlentities($joanie).": ".htmlentities($chachi)."<br>";
+								    	}
+					        		//}
+								} else {
+								    $b .= "&nbsp;&nbsp;".htmlentities($captain).": ".htmlentities($tenille)."<br>";
+								}
+						    }
+						} else {
+						    $b .= "<font color='white'>".htmlentities(ucfirst($donnie)).":</font> ".htmlentities($marie)."<br>";
+						}
+				    }
+					$b .= '</div>';
+				}
+				$b .= '
+				<ul>
+			</div>
+		</div></body></html>';
+		return $b;
+    }
+
+	/**
+	* serialize the parsed wsdl
+	*
+	* @param mixed $debug whether to put debug=1 in endpoint URL
+	* @return string serialization of WSDL
+	* @access public 
+	*/
+	function serialize($debug = 0)
+	{
+		$xml = '<?xml version="1.0" encoding="ISO-8859-1"?>';
+		$xml .= "\n<definitions";
+		foreach($this->namespaces as $k => $v) {
+			$xml .= " xmlns:$k=\"$v\"";
+		} 
+		// 10.9.02 - add poulter fix for wsdl and tns declarations
+		if (isset($this->namespaces['wsdl'])) {
+			$xml .= " xmlns=\"" . $this->namespaces['wsdl'] . "\"";
+		} 
+		if (isset($this->namespaces['tns'])) {
+			$xml .= " targetNamespace=\"" . $this->namespaces['tns'] . "\"";
+		} 
+		$xml .= '>'; 
+		// imports
+		if (sizeof($this->import) > 0) {
+			foreach($this->import as $ns => $list) {
+				foreach ($list as $ii) {
+					if ($ii['location'] != '') {
+						$xml .= '<import location="' . $ii['location'] . '" namespace="' . $ns . '" />';
+					} else {
+						$xml .= '<import namespace="' . $ns . '" />';
+					}
+				}
+			} 
+		} 
+		// types
+		if (count($this->schemas)>=1) {
+			$xml .= "\n<types>\n";
+			foreach ($this->schemas as $ns => $list) {
+				foreach ($list as $xs) {
+					$xml .= $xs->serializeSchema();
+				}
+			}
+			$xml .= '</types>';
+		} 
+		// messages
+		if (count($this->messages) >= 1) {
+			foreach($this->messages as $msgName => $msgParts) {
+				$xml .= "\n<message name=\"" . $msgName . '">';
+				if(is_array($msgParts)){
+					foreach($msgParts as $partName => $partType) {
+						// print 'serializing '.$partType.', sv: '.$this->XMLSchemaVersion.'<br>';
+						if (strpos($partType, ':')) {
+						    $typePrefix = $this->getPrefixFromNamespace($this->getPrefix($partType));
+						} elseif (isset($this->typemap[$this->namespaces['xsd']][$partType])) {
+						    // print 'checking typemap: '.$this->XMLSchemaVersion.'<br>';
+						    $typePrefix = 'xsd';
+						} else {
+						    foreach($this->typemap as $ns => $types) {
+						        if (isset($types[$partType])) {
+						            $typePrefix = $this->getPrefixFromNamespace($ns);
+						        } 
+						    } 
+						    if (!isset($typePrefix)) {
+						        die("$partType has no namespace!");
+						    } 
+						}
+						$ns = $this->getNamespaceFromPrefix($typePrefix);
+						$localPart = $this->getLocalPart($partType);
+						$typeDef = $this->getTypeDef($localPart, $ns);
+						if ($typeDef['typeClass'] == 'element') {
+							$elementortype = 'element';
+							if (substr($localPart, -1) == '^') {
+								$localPart = substr($localPart, 0, -1);
+							}
+						} else {
+							$elementortype = 'type';
+						}
+						$xml .= "\n" . '  <part name="' . $partName . '" ' . $elementortype . '="' . $typePrefix . ':' . $localPart . '" />';
+					}
+				}
+				$xml .= '</message>';
+			} 
+		} 
+		// bindings & porttypes
+		if (count($this->bindings) >= 1) {
+			$binding_xml = '';
+			$portType_xml = '';
+			foreach($this->bindings as $bindingName => $attrs) {
+				$binding_xml .= "\n<binding name=\"" . $bindingName . '" type="tns:' . $attrs['portType'] . '">';
+				$binding_xml .= "\n" . '  <soap:binding style="' . $attrs['style'] . '" transport="' . $attrs['transport'] . '"/>';
+				$portType_xml .= "\n<portType name=\"" . $attrs['portType'] . '">';
+				foreach($attrs['operations'] as $opName => $opParts) {
+					$binding_xml .= "\n" . '  <operation name="' . $opName . '">';
+					$binding_xml .= "\n" . '    <soap:operation soapAction="' . $opParts['soapAction'] . '" style="'. $opParts['style'] . '"/>';
+					if (isset($opParts['input']['encodingStyle']) && $opParts['input']['encodingStyle'] != '') {
+						$enc_style = ' encodingStyle="' . $opParts['input']['encodingStyle'] . '"';
+					} else {
+						$enc_style = '';
+					}
+					$binding_xml .= "\n" . '    <input><soap:body use="' . $opParts['input']['use'] . '" namespace="' . $opParts['input']['namespace'] . '"' . $enc_style . '/></input>';
+					if (isset($opParts['output']['encodingStyle']) && $opParts['output']['encodingStyle'] != '') {
+						$enc_style = ' encodingStyle="' . $opParts['output']['encodingStyle'] . '"';
+					} else {
+						$enc_style = '';
+					}
+					$binding_xml .= "\n" . '    <output><soap:body use="' . $opParts['output']['use'] . '" namespace="' . $opParts['output']['namespace'] . '"' . $enc_style . '/></output>';
+					$binding_xml .= "\n" . '  </operation>';
+					$portType_xml .= "\n" . '  <operation name="' . $opParts['name'] . '"';
+					if (isset($opParts['parameterOrder'])) {
+					    $portType_xml .= ' parameterOrder="' . $opParts['parameterOrder'] . '"';
+					} 
+					$portType_xml .= '>';
+					if(isset($opParts['documentation']) && $opParts['documentation'] != '') {
+						$portType_xml .= "\n" . '    <documentation>' . htmlspecialchars($opParts['documentation']) . '</documentation>';
+					}
+					$portType_xml .= "\n" . '    <input message="tns:' . $opParts['input']['message'] . '"/>';
+					$portType_xml .= "\n" . '    <output message="tns:' . $opParts['output']['message'] . '"/>';
+					$portType_xml .= "\n" . '  </operation>';
+				} 
+				$portType_xml .= "\n" . '</portType>';
+				$binding_xml .= "\n" . '</binding>';
+			} 
+			$xml .= $portType_xml . $binding_xml;
+		} 
+		// services
+		$xml .= "\n<service name=\"" . $this->serviceName . '">';
+		if (count($this->ports) >= 1) {
+			foreach($this->ports as $pName => $attrs) {
+				$xml .= "\n" . '  <port name="' . $pName . '" binding="tns:' . $attrs['binding'] . '">';
+				$xml .= "\n" . '    <soap:address location="' . $attrs['location'] . ($debug ? '?debug=1' : '') . '"/>';
+				$xml .= "\n" . '  </port>';
+			} 
+		} 
+		$xml .= "\n" . '</service>';
+		return $xml . "\n</definitions>";
+	} 
+
+	/**
+	 * determine whether a set of parameters are unwrapped
+	 * when they are expect to be wrapped, Microsoft-style.
+	 *
+	 * @param string $type the type (element name) of the wrapper
+	 * @param array $parameters the parameter values for the SOAP call
+	 * @return boolean whether they parameters are unwrapped (and should be wrapped)
+	 * @access private
+	 */
+	function parametersMatchWrapped($type, &$parameters) {
+		$this->debug("in parametersMatchWrapped type=$type, parameters=");
+		$this->appendDebug($this->varDump($parameters));
+
+		// split type into namespace:unqualified-type
+		if (strpos($type, ':')) {
+			$uqType = substr($type, strrpos($type, ':') + 1);
+			$ns = substr($type, 0, strrpos($type, ':'));
+			$this->debug("in parametersMatchWrapped: got a prefixed type: $uqType, $ns");
+			if ($this->getNamespaceFromPrefix($ns)) {
+				$ns = $this->getNamespaceFromPrefix($ns);
+				$this->debug("in parametersMatchWrapped: expanded prefixed type: $uqType, $ns");
+			}
+		} else {
+			// TODO: should the type be compared to types in XSD, and the namespace
+			// set to XSD if the type matches?
+			$this->debug("in parametersMatchWrapped: No namespace for type $type");
+			$ns = '';
+			$uqType = $type;
+		}
+
+		// get the type information
+		if (!$typeDef = $this->getTypeDef($uqType, $ns)) {
+			$this->debug("in parametersMatchWrapped: $type ($uqType) is not a supported type.");
+			return false;
+		}
+		$this->debug("in parametersMatchWrapped: found typeDef=");
+		$this->appendDebug($this->varDump($typeDef));
+		if (substr($uqType, -1) == '^') {
+			$uqType = substr($uqType, 0, -1);
+		}
+		$phpType = $typeDef['phpType'];
+		$arrayType = (isset($typeDef['arrayType']) ? $typeDef['arrayType'] : '');
+		$this->debug("in parametersMatchWrapped: uqType: $uqType, ns: $ns, phptype: $phpType, arrayType: $arrayType");
+		
+		// we expect a complexType or element of complexType
+		if ($phpType != 'struct') {
+			$this->debug("in parametersMatchWrapped: not a struct");
+			return false;
+		}
+
+		// see whether the parameter names match the elements
+		if (isset($typeDef['elements']) && is_array($typeDef['elements'])) {
+			$elements = 0;
+			$matches = 0;
+			foreach ($typeDef['elements'] as $name => $attrs) {
+				if (isset($parameters[$name])) {
+					$this->debug("in parametersMatchWrapped: have parameter named $name");
+					$matches++;
+				} else {
+					$this->debug("in parametersMatchWrapped: do not have parameter named $name");
+				}
+				$elements++;
+			}
+
+			$this->debug("in parametersMatchWrapped: $matches parameter names match $elements wrapped parameter names");
+			if ($matches == 0) {
+				return false;
+			}
+			return true;
+		}
+
+		// since there are no elements for the type, if the user passed no
+		// parameters, the parameters match wrapped.
+		$this->debug("in parametersMatchWrapped: no elements type $ns:$uqType");
+		return count($parameters) == 0;
+	}
+
+	/**
+	 * serialize PHP values according to a WSDL message definition
+	 * contrary to the method name, this is not limited to RPC
+	 *
+	 * TODO
+	 * - multi-ref serialization
+	 * - validate PHP values against type definitions, return errors if invalid
+	 * 
+	 * @param string $operation operation name
+	 * @param string $direction (input|output)
+	 * @param mixed $parameters parameter value(s)
+	 * @param string $bindingType (soap|soap12)
+	 * @return mixed parameters serialized as XML or false on error (e.g. operation not found)
+	 * @access public
+	 */
+	function serializeRPCParameters($operation, $direction, $parameters, $bindingType = 'soap') {
+		$this->debug("in serializeRPCParameters: operation=$operation, direction=$direction, XMLSchemaVersion=$this->XMLSchemaVersion, bindingType=$bindingType");
+		$this->appendDebug('parameters=' . $this->varDump($parameters));
+		
+		if ($direction != 'input' && $direction != 'output') {
+			$this->debug('The value of the \$direction argument needs to be either "input" or "output"');
+			$this->setError('The value of the \$direction argument needs to be either "input" or "output"');
+			return false;
+		} 
+		if (!$opData = $this->getOperationData($operation, $bindingType)) {
+			$this->debug('Unable to retrieve WSDL data for operation: ' . $operation . ' bindingType: ' . $bindingType);
+			$this->setError('Unable to retrieve WSDL data for operation: ' . $operation . ' bindingType: ' . $bindingType);
+			return false;
+		}
+		$this->debug('in serializeRPCParameters: opData:');
+		$this->appendDebug($this->varDump($opData));
+
+		// Get encoding style for output and set to current
+		$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		if(($direction == 'input') && isset($opData['output']['encodingStyle']) && ($opData['output']['encodingStyle'] != $encodingStyle)) {
+			$encodingStyle = $opData['output']['encodingStyle'];
+			$enc_style = $encodingStyle;
+		}
+
+		// set input params
+		$xml = '';
+		if (isset($opData[$direction]['parts']) && sizeof($opData[$direction]['parts']) > 0) {
+			$parts = &$opData[$direction]['parts'];
+			$part_count = sizeof($parts);
+			$style = $opData['style'];
+			$use = $opData[$direction]['use'];
+			$this->debug("have $part_count part(s) to serialize using $style/$use");
+			if (is_array($parameters)) {
+				$parametersArrayType = $this->isArraySimpleOrStruct($parameters);
+				$parameter_count = count($parameters);
+				$this->debug("have $parameter_count parameter(s) provided as $parametersArrayType to serialize");
+				// check for Microsoft-style wrapped parameters
+				if ($style == 'document' && $use == 'literal' && $part_count == 1 && isset($parts['parameters'])) {
+					$this->debug('check whether the caller has wrapped the parameters');
+					if ($direction == 'output' && $parametersArrayType == 'arraySimple' && $parameter_count == 1) {
+						// TODO: consider checking here for double-wrapping, when
+						// service function wraps, then NuSOAP wraps again
+						$this->debug("change simple array to associative with 'parameters' element");
+						$parameters['parameters'] = $parameters[0];
+						unset($parameters[0]);
+					}
+					if (($parametersArrayType == 'arrayStruct' || $parameter_count == 0) && !isset($parameters['parameters'])) {
+						$this->debug('check whether caller\'s parameters match the wrapped ones');
+						if ($this->parametersMatchWrapped($parts['parameters'], $parameters)) {
+							$this->debug('wrap the parameters for the caller');
+							$parameters = array('parameters' => $parameters);
+							$parameter_count = 1;
+						}
+					}
+				}
+				foreach ($parts as $name => $type) {
+					$this->debug("serializing part $name of type $type");
+					// Track encoding style
+					if (isset($opData[$direction]['encodingStyle']) && $encodingStyle != $opData[$direction]['encodingStyle']) {
+						$encodingStyle = $opData[$direction]['encodingStyle'];			
+						$enc_style = $encodingStyle;
+					} else {
+						$enc_style = false;
+					}
+					// NOTE: add error handling here
+					// if serializeType returns false, then catch global error and fault
+					if ($parametersArrayType == 'arraySimple') {
+						$p = array_shift($parameters);
+						$this->debug('calling serializeType w/indexed param');
+						$xml .= $this->serializeType($name, $type, $p, $use, $enc_style);
+					} elseif (isset($parameters[$name])) {
+						$this->debug('calling serializeType w/named param');
+						$xml .= $this->serializeType($name, $type, $parameters[$name], $use, $enc_style);
+					} else {
+						// TODO: only send nillable
+						$this->debug('calling serializeType w/null param');
+						$xml .= $this->serializeType($name, $type, null, $use, $enc_style);
+					}
+				}
+			} else {
+				$this->debug('no parameters passed.');
+			}
+		}
+		$this->debug("serializeRPCParameters returning: $xml");
+		return $xml;
+	} 
+	
+	/**
+	 * serialize a PHP value according to a WSDL message definition
+	 * 
+	 * TODO
+	 * - multi-ref serialization
+	 * - validate PHP values against type definitions, return errors if invalid
+	 * 
+	 * @param string $operation operation name
+	 * @param string $direction (input|output)
+	 * @param mixed $parameters parameter value(s)
+	 * @return mixed parameters serialized as XML or false on error (e.g. operation not found)
+	 * @access public
+	 * @deprecated
+	 */
+	function serializeParameters($operation, $direction, $parameters)
+	{
+		$this->debug("in serializeParameters: operation=$operation, direction=$direction, XMLSchemaVersion=$this->XMLSchemaVersion"); 
+		$this->appendDebug('parameters=' . $this->varDump($parameters));
+		
+		if ($direction != 'input' && $direction != 'output') {
+			$this->debug('The value of the \$direction argument needs to be either "input" or "output"');
+			$this->setError('The value of the \$direction argument needs to be either "input" or "output"');
+			return false;
+		} 
+		if (!$opData = $this->getOperationData($operation)) {
+			$this->debug('Unable to retrieve WSDL data for operation: ' . $operation);
+			$this->setError('Unable to retrieve WSDL data for operation: ' . $operation);
+			return false;
+		}
+		$this->debug('opData:');
+		$this->appendDebug($this->varDump($opData));
+		
+		// Get encoding style for output and set to current
+		$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		if(($direction == 'input') && isset($opData['output']['encodingStyle']) && ($opData['output']['encodingStyle'] != $encodingStyle)) {
+			$encodingStyle = $opData['output']['encodingStyle'];
+			$enc_style = $encodingStyle;
+		}
+		
+		// set input params
+		$xml = '';
+		if (isset($opData[$direction]['parts']) && sizeof($opData[$direction]['parts']) > 0) {
+			
+			$use = $opData[$direction]['use'];
+			$this->debug("use=$use");
+			$this->debug('got ' . count($opData[$direction]['parts']) . ' part(s)');
+			if (is_array($parameters)) {
+				$parametersArrayType = $this->isArraySimpleOrStruct($parameters);
+				$this->debug('have ' . $parametersArrayType . ' parameters');
+				foreach($opData[$direction]['parts'] as $name => $type) {
+					$this->debug('serializing part "'.$name.'" of type "'.$type.'"');
+					// Track encoding style
+					if(isset($opData[$direction]['encodingStyle']) && $encodingStyle != $opData[$direction]['encodingStyle']) {
+						$encodingStyle = $opData[$direction]['encodingStyle'];			
+						$enc_style = $encodingStyle;
+					} else {
+						$enc_style = false;
+					}
+					// NOTE: add error handling here
+					// if serializeType returns false, then catch global error and fault
+					if ($parametersArrayType == 'arraySimple') {
+						$p = array_shift($parameters);
+						$this->debug('calling serializeType w/indexed param');
+						$xml .= $this->serializeType($name, $type, $p, $use, $enc_style);
+					} elseif (isset($parameters[$name])) {
+						$this->debug('calling serializeType w/named param');
+						$xml .= $this->serializeType($name, $type, $parameters[$name], $use, $enc_style);
+					} else {
+						// TODO: only send nillable
+						$this->debug('calling serializeType w/null param');
+						$xml .= $this->serializeType($name, $type, null, $use, $enc_style);
+					}
+				}
+			} else {
+				$this->debug('no parameters passed.');
+			}
+		}
+		$this->debug("serializeParameters returning: $xml");
+		return $xml;
+	} 
+	
+	/**
+	 * serializes a PHP value according a given type definition
+	 * 
+	 * @param string $name name of value (part or element)
+	 * @param string $type XML schema type of value (type or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $use use for part (encoded|literal)
+	 * @param string $encodingStyle SOAP encoding style for the value (if different than the enclosing style)
+	 * @param boolean $unqualified a kludge for what should be XML namespace form handling
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeType($name, $type, $value, $use='encoded', $encodingStyle=false, $unqualified=false)
+	{
+		$this->debug("in serializeType: name=$name, type=$type, use=$use, encodingStyle=$encodingStyle, unqualified=" . ($unqualified ? "unqualified" : "qualified"));
+		$this->appendDebug("value=" . $this->varDump($value));
+		if($use == 'encoded' && $encodingStyle) {
+			$encodingStyle = ' SOAP-ENV:encodingStyle="' . $encodingStyle . '"';
+		}
+
+		// if a soapval has been supplied, let its type override the WSDL
+    	if (is_object($value) && get_class($value) == 'soapval') {
+    		if ($value->type_ns) {
+    			$type = $value->type_ns . ':' . $value->type;
+		    	$forceType = true;
+		    	$this->debug("in serializeType: soapval overrides type to $type");
+    		} elseif ($value->type) {
+	    		$type = $value->type;
+		    	$forceType = true;
+		    	$this->debug("in serializeType: soapval overrides type to $type");
+	    	} else {
+	    		$forceType = false;
+		    	$this->debug("in serializeType: soapval does not override type");
+	    	}
+	    	$attrs = $value->attributes;
+	    	$value = $value->value;
+	    	$this->debug("in serializeType: soapval overrides value to $value");
+	    	if ($attrs) {
+	    		if (!is_array($value)) {
+	    			$value['!'] = $value;
+	    		}
+	    		foreach ($attrs as $n => $v) {
+	    			$value['!' . $n] = $v;
+	    		}
+		    	$this->debug("in serializeType: soapval provides attributes");
+		    }
+        } else {
+        	$forceType = false;
+        }
+
+		$xml = '';
+		if (strpos($type, ':')) {
+			$uqType = substr($type, strrpos($type, ':') + 1);
+			$ns = substr($type, 0, strrpos($type, ':'));
+			$this->debug("in serializeType: got a prefixed type: $uqType, $ns");
+			if ($this->getNamespaceFromPrefix($ns)) {
+				$ns = $this->getNamespaceFromPrefix($ns);
+				$this->debug("in serializeType: expanded prefixed type: $uqType, $ns");
+			}
+
+			if($ns == $this->XMLSchemaVersion || $ns == 'http://schemas.xmlsoap.org/soap/encoding/'){
+				$this->debug('in serializeType: type namespace indicates XML Schema or SOAP Encoding type');
+				if ($unqualified && $use == 'literal') {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+				if (is_null($value)) {
+					if ($use == 'literal') {
+						// TODO: depends on minOccurs
+						$xml = "<$name$elementNS/>";
+					} else {
+						// TODO: depends on nillable, which should be checked before calling this method
+						$xml = "<$name$elementNS xsi:nil=\"true\" xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"/>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				if ($uqType == 'Array') {
+					// JBoss/Axis does this sometimes
+					return $this->serialize_val($value, $name, false, false, false, false, $use);
+				}
+		    	if ($uqType == 'boolean') {
+		    		if ((is_string($value) && $value == 'false') || (! $value)) {
+						$value = 'false';
+					} else {
+						$value = 'true';
+					}
+				} 
+				if ($uqType == 'string' && gettype($value) == 'string') {
+					$value = $this->expandEntities($value);
+				}
+				if (($uqType == 'long' || $uqType == 'unsignedLong') && gettype($value) == 'double') {
+					$value = sprintf("%.0lf", $value);
+				}
+				// it's a scalar
+				// TODO: what about null/nil values?
+				// check type isn't a custom type extending xmlschema namespace
+				if (!$this->getTypeDef($uqType, $ns)) {
+					if ($use == 'literal') {
+						if ($forceType) {
+							$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">$value</$name>";
+						} else {
+							$xml = "<$name$elementNS>$value</$name>";
+						}
+					} else {
+						$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>$value</$name>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				$this->debug('custom type extends XML Schema or SOAP Encoding namespace (yuck)');
+			} else if ($ns == 'http://xml.apache.org/xml-soap') {
+				$this->debug('in serializeType: appears to be Apache SOAP type');
+				if ($uqType == 'Map') {
+					$tt_prefix = $this->getPrefixFromNamespace('http://xml.apache.org/xml-soap');
+					if (! $tt_prefix) {
+						$this->debug('in serializeType: Add namespace for Apache SOAP type');
+						$tt_prefix = 'ns' . rand(1000, 9999);
+						$this->namespaces[$tt_prefix] = 'http://xml.apache.org/xml-soap';
+						// force this to be added to usedNamespaces
+						$tt_prefix = $this->getPrefixFromNamespace('http://xml.apache.org/xml-soap');
+					}
+					$contents = '';
+					foreach($value as $k => $v) {
+						$this->debug("serializing map element: key $k, value $v");
+						$contents .= '<item>';
+						$contents .= $this->serialize_val($k,'key',false,false,false,false,$use);
+						$contents .= $this->serialize_val($v,'value',false,false,false,false,$use);
+						$contents .= '</item>';
+					}
+					if ($use == 'literal') {
+						if ($forceType) {
+							$xml = "<$name xsi:type=\"" . $tt_prefix . ":$uqType\">$contents</$name>";
+						} else {
+							$xml = "<$name>$contents</$name>";
+						}
+					} else {
+						$xml = "<$name xsi:type=\"" . $tt_prefix . ":$uqType\"$encodingStyle>$contents</$name>";
+					}
+					$this->debug("in serializeType: returning: $xml");
+					return $xml;
+				}
+				$this->debug('in serializeType: Apache SOAP type, but only support Map');
+			}
+		} else {
+			// TODO: should the type be compared to types in XSD, and the namespace
+			// set to XSD if the type matches?
+			$this->debug("in serializeType: No namespace for type $type");
+			$ns = '';
+			$uqType = $type;
+		}
+		if(!$typeDef = $this->getTypeDef($uqType, $ns)){
+			$this->setError("$type ($uqType) is not a supported type.");
+			$this->debug("in serializeType: $type ($uqType) is not a supported type.");
+			return false;
+		} else {
+			$this->debug("in serializeType: found typeDef");
+			$this->appendDebug('typeDef=' . $this->varDump($typeDef));
+			if (substr($uqType, -1) == '^') {
+				$uqType = substr($uqType, 0, -1);
+			}
+		}
+		if (!isset($typeDef['phpType'])) {
+			$this->setError("$type ($uqType) has no phpType.");
+			$this->debug("in serializeType: $type ($uqType) has no phpType.");
+			return false;
+		}
+		$phpType = $typeDef['phpType'];
+		$this->debug("in serializeType: uqType: $uqType, ns: $ns, phptype: $phpType, arrayType: " . (isset($typeDef['arrayType']) ? $typeDef['arrayType'] : '') ); 
+		// if php type == struct, map value to the <all> element names
+		if ($phpType == 'struct') {
+			if (isset($typeDef['typeClass']) && $typeDef['typeClass'] == 'element') {
+				$elementName = $uqType;
+				if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+					$elementNS = " xmlns=\"$ns\"";
+				} else {
+					$elementNS = " xmlns=\"\"";
+				}
+			} else {
+				$elementName = $name;
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if (is_null($value)) {
+				if ($use == 'literal') {
+					// TODO: depends on minOccurs and nillable
+					$xml = "<$elementName$elementNS/>";
+				} else {
+					$xml = "<$elementName$elementNS xsi:nil=\"true\" xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"/>";
+				}
+				$this->debug("in serializeType: returning: $xml");
+				return $xml;
+			}
+			if (is_object($value)) {
+				$value = get_object_vars($value);
+			}
+			if (is_array($value)) {
+				$elementAttrs = $this->serializeComplexTypeAttributes($typeDef, $value, $ns, $uqType);
+				if ($use == 'literal') {
+					if ($forceType) {
+						$xml = "<$elementName$elementNS$elementAttrs xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">";
+					} else {
+						$xml = "<$elementName$elementNS$elementAttrs>";
+					}
+				} else {
+					$xml = "<$elementName$elementNS$elementAttrs xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>";
+				}
+
+				if (isset($typeDef['simpleContent']) && $typeDef['simpleContent'] == 'true') {
+					if (isset($value['!'])) {
+						$xml .= $value['!'];
+						$this->debug("in serializeType: serialized simpleContent for type $type");
+					} else {
+						$this->debug("in serializeType: no simpleContent to serialize for type $type");
+					}
+				} else {
+					// complexContent
+					$xml .= $this->serializeComplexTypeElements($typeDef, $value, $ns, $uqType, $use, $encodingStyle);
+				}
+				$xml .= "</$elementName>";
+			} else {
+				$this->debug("in serializeType: phpType is struct, but value is not an array");
+				$this->setError("phpType is struct, but value is not an array: see debug output for details");
+				$xml = '';
+			}
+		} elseif ($phpType == 'array') {
+			if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+				$elementNS = " xmlns=\"$ns\"";
+			} else {
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if (is_null($value)) {
+				if ($use == 'literal') {
+					// TODO: depends on minOccurs
+					$xml = "<$name$elementNS/>";
+				} else {
+					$xml = "<$name$elementNS xsi:nil=\"true\" xsi:type=\"" .
+						$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/') .
+						":Array\" " .
+						$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/') .
+						':arrayType="' .
+						$this->getPrefixFromNamespace($this->getPrefix($typeDef['arrayType'])) .
+						':' .
+						$this->getLocalPart($typeDef['arrayType'])."[0]\"/>";
+				}
+				$this->debug("in serializeType: returning: $xml");
+				return $xml;
+			}
+			if (isset($typeDef['multidimensional'])) {
+				$nv = array();
+				foreach($value as $v) {
+					$cols = ',' . sizeof($v);
+					$nv = array_merge($nv, $v);
+				} 
+				$value = $nv;
+			} else {
+				$cols = '';
+			} 
+			if (is_array($value) && sizeof($value) >= 1) {
+				$rows = sizeof($value);
+				$contents = '';
+				foreach($value as $k => $v) {
+					$this->debug("serializing array element: $k, $v of type: $typeDef[arrayType]");
+					//if (strpos($typeDef['arrayType'], ':') ) {
+					if (!in_array($typeDef['arrayType'],$this->typemap['http://www.w3.org/2001/XMLSchema'])) {
+					    $contents .= $this->serializeType('item', $typeDef['arrayType'], $v, $use);
+					} else {
+					    $contents .= $this->serialize_val($v, 'item', $typeDef['arrayType'], null, $this->XMLSchemaVersion, false, $use);
+					} 
+				}
+			} else {
+				$rows = 0;
+				$contents = null;
+			}
+			// TODO: for now, an empty value will be serialized as a zero element
+			// array.  Revisit this when coding the handling of null/nil values.
+			if ($use == 'literal') {
+				$xml = "<$name$elementNS>"
+					.$contents
+					."</$name>";
+			} else {
+				$xml = "<$name$elementNS xsi:type=\"".$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/').':Array" '.
+					$this->getPrefixFromNamespace('http://schemas.xmlsoap.org/soap/encoding/')
+					.':arrayType="'
+					.$this->getPrefixFromNamespace($this->getPrefix($typeDef['arrayType']))
+					.":".$this->getLocalPart($typeDef['arrayType'])."[$rows$cols]\">"
+					.$contents
+					."</$name>";
+			}
+		} elseif ($phpType == 'scalar') {
+			if (isset($typeDef['form']) && ($typeDef['form'] == 'qualified')) {
+				$elementNS = " xmlns=\"$ns\"";
+			} else {
+				if ($unqualified) {
+					$elementNS = " xmlns=\"\"";
+				} else {
+					$elementNS = '';
+				}
+			}
+			if ($use == 'literal') {
+				if ($forceType) {
+					$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\">$value</$name>";
+				} else {
+					$xml = "<$name$elementNS>$value</$name>";
+				}
+			} else {
+				$xml = "<$name$elementNS xsi:type=\"" . $this->getPrefixFromNamespace($ns) . ":$uqType\"$encodingStyle>$value</$name>";
+			}
+		}
+		$this->debug("in serializeType: returning: $xml");
+		return $xml;
+	}
+	
+	/**
+	 * serializes the attributes for a complexType
+	 *
+	 * @param array $typeDef our internal representation of an XML schema type (or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $ns the namespace of the type
+	 * @param string $uqType the local part of the type
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeComplexTypeAttributes($typeDef, $value, $ns, $uqType) {
+		$this->debug("serializeComplexTypeAttributes for XML Schema type $ns:$uqType");
+		$xml = '';
+		if (isset($typeDef['extensionBase'])) {
+			$nsx = $this->getPrefix($typeDef['extensionBase']);
+			$uqTypex = $this->getLocalPart($typeDef['extensionBase']);
+			if ($this->getNamespaceFromPrefix($nsx)) {
+				$nsx = $this->getNamespaceFromPrefix($nsx);
+			}
+			if ($typeDefx = $this->getTypeDef($uqTypex, $nsx)) {
+				$this->debug("serialize attributes for extension base $nsx:$uqTypex");
+				$xml .= $this->serializeComplexTypeAttributes($typeDefx, $value, $nsx, $uqTypex);
+			} else {
+				$this->debug("extension base $nsx:$uqTypex is not a supported type");
+			}
+		}
+		if (isset($typeDef['attrs']) && is_array($typeDef['attrs'])) {
+			$this->debug("serialize attributes for XML Schema type $ns:$uqType");
+			if (is_array($value)) {
+				$xvalue = $value;
+			} elseif (is_object($value)) {
+				$xvalue = get_object_vars($value);
+			} else {
+				$this->debug("value is neither an array nor an object for XML Schema type $ns:$uqType");
+				$xvalue = array();
+			}
+			foreach ($typeDef['attrs'] as $aName => $attrs) {
+				if (isset($xvalue['!' . $aName])) {
+					$xname = '!' . $aName;
+					$this->debug("value provided for attribute $aName with key $xname");
+				} elseif (isset($xvalue[$aName])) {
+					$xname = $aName;
+					$this->debug("value provided for attribute $aName with key $xname");
+				} elseif (isset($attrs['default'])) {
+					$xname = '!' . $aName;
+					$xvalue[$xname] = $attrs['default'];
+					$this->debug('use default value of ' . $xvalue[$aName] . ' for attribute ' . $aName);
+				} else {
+					$xname = '';
+					$this->debug("no value provided for attribute $aName");
+				}
+				if ($xname) {
+					$xml .=  " $aName=\"" . $this->expandEntities($xvalue[$xname]) . "\"";
+				}
+			} 
+		} else {
+			$this->debug("no attributes to serialize for XML Schema type $ns:$uqType");
+		}
+		return $xml;
+	}
+
+	/**
+	 * serializes the elements for a complexType
+	 *
+	 * @param array $typeDef our internal representation of an XML schema type (or element)
+	 * @param mixed $value a native PHP value (parameter value)
+	 * @param string $ns the namespace of the type
+	 * @param string $uqType the local part of the type
+	 * @param string $use use for part (encoded|literal)
+	 * @param string $encodingStyle SOAP encoding style for the value (if different than the enclosing style)
+	 * @return string value serialized as an XML string
+	 * @access private
+	 */
+	function serializeComplexTypeElements($typeDef, $value, $ns, $uqType, $use='encoded', $encodingStyle=false) {
+		$this->debug("in serializeComplexTypeElements for XML Schema type $ns:$uqType");
+		$xml = '';
+		if (isset($typeDef['extensionBase'])) {
+			$nsx = $this->getPrefix($typeDef['extensionBase']);
+			$uqTypex = $this->getLocalPart($typeDef['extensionBase']);
+			if ($this->getNamespaceFromPrefix($nsx)) {
+				$nsx = $this->getNamespaceFromPrefix($nsx);
+			}
+			if ($typeDefx = $this->getTypeDef($uqTypex, $nsx)) {
+				$this->debug("serialize elements for extension base $nsx:$uqTypex");
+				$xml .= $this->serializeComplexTypeElements($typeDefx, $value, $nsx, $uqTypex, $use, $encodingStyle);
+			} else {
+				$this->debug("extension base $nsx:$uqTypex is not a supported type");
+			}
+		}
+		if (isset($typeDef['elements']) && is_array($typeDef['elements'])) {
+			$this->debug("in serializeComplexTypeElements, serialize elements for XML Schema type $ns:$uqType");
+			if (is_array($value)) {
+				$xvalue = $value;
+			} elseif (is_object($value)) {
+				$xvalue = get_object_vars($value);
+			} else {
+				$this->debug("value is neither an array nor an object for XML Schema type $ns:$uqType");
+				$xvalue = array();
+			}
+			// toggle whether all elements are present - ideally should validate against schema
+			if (count($typeDef['elements']) != count($xvalue)){
+				$optionals = true;
+			}
+			foreach ($typeDef['elements'] as $eName => $attrs) {
+				if (!isset($xvalue[$eName])) {
+					if (isset($attrs['default'])) {
+						$xvalue[$eName] = $attrs['default'];
+						$this->debug('use default value of ' . $xvalue[$eName] . ' for element ' . $eName);
+					}
+				}
+				// if user took advantage of a minOccurs=0, then only serialize named parameters
+				if (isset($optionals)
+				    && (!isset($xvalue[$eName])) 
+					&& ( (!isset($attrs['nillable'])) || $attrs['nillable'] != 'true')
+					){
+					if (isset($attrs['minOccurs']) && $attrs['minOccurs'] <> '0') {
+						$this->debug("apparent error: no value provided for element $eName with minOccurs=" . $attrs['minOccurs']);
+					}
+					// do nothing
+					$this->debug("no value provided for complexType element $eName and element is not nillable, so serialize nothing");
+				} else {
+					// get value
+					if (isset($xvalue[$eName])) {
+					    $v = $xvalue[$eName];
+					} else {
+					    $v = null;
+					}
+					if (isset($attrs['form'])) {
+						$unqualified = ($attrs['form'] == 'unqualified');
+					} else {
+						$unqualified = false;
+					}
+					if (isset($attrs['maxOccurs']) && ($attrs['maxOccurs'] == 'unbounded' || $attrs['maxOccurs'] > 1) && isset($v) && is_array($v) && $this->isArraySimpleOrStruct($v) == 'arraySimple') {
+						$vv = $v;
+						foreach ($vv as $k => $v) {
+							if (isset($attrs['type']) || isset($attrs['ref'])) {
+								// serialize schema-defined type
+							    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+							} else {
+								// serialize generic type (can this ever really happen?)
+							    $this->debug("calling serialize_val() for $v, $eName, false, false, false, false, $use");
+							    $xml .= $this->serialize_val($v, $eName, false, false, false, false, $use);
+							}
+						}
+					} else {
+						if (is_null($v) && isset($attrs['minOccurs']) && $attrs['minOccurs'] == '0') {
+							// do nothing
+						} elseif (is_null($v) && isset($attrs['nillable']) && $attrs['nillable'] == 'true') {
+							// TODO: serialize a nil correctly, but for now serialize schema-defined type
+						    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+						} elseif (isset($attrs['type']) || isset($attrs['ref'])) {
+							// serialize schema-defined type
+						    $xml .= $this->serializeType($eName, isset($attrs['type']) ? $attrs['type'] : $attrs['ref'], $v, $use, $encodingStyle, $unqualified);
+						} else {
+							// serialize generic type (can this ever really happen?)
+						    $this->debug("calling serialize_val() for $v, $eName, false, false, false, false, $use");
+						    $xml .= $this->serialize_val($v, $eName, false, false, false, false, $use);
+						}
+					}
+				}
+			} 
+		} else {
+			$this->debug("no elements to serialize for XML Schema type $ns:$uqType");
+		}
+		return $xml;
+	}
+
+	/**
+	* adds an XML Schema complex type to the WSDL types
+	*
+	* @param string	$name
+	* @param string $typeClass (complexType|simpleType|attribute)
+	* @param string $phpType currently supported are array and struct (php assoc array)
+	* @param string $compositor (all|sequence|choice)
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param array $elements e.g. array ( name => array(name=>'',type=>'') )
+	* @param array $attrs e.g. array(array('ref'=>'SOAP-ENC:arrayType','wsdl:arrayType'=>'xsd:string[]'))
+	* @param string $arrayType as namespace:name (xsd:string)
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addComplexType($name,$typeClass='complexType',$phpType='array',$compositor='',$restrictionBase='',$elements=array(),$attrs=array(),$arrayType='') {
+		if (count($elements) > 0) {
+			$eElements = array();
+	    	foreach($elements as $n => $e){
+	            // expand each element
+	            $ee = array();
+	            foreach ($e as $k => $v) {
+		            $k = strpos($k,':') ? $this->expandQname($k) : $k;
+		            $v = strpos($v,':') ? $this->expandQname($v) : $v;
+		            $ee[$k] = $v;
+		    	}
+	    		$eElements[$n] = $ee;
+	    	}
+	    	$elements = $eElements;
+		}
+		
+		if (count($attrs) > 0) {
+	    	foreach($attrs as $n => $a){
+	            // expand each attribute
+	            foreach ($a as $k => $v) {
+		            $k = strpos($k,':') ? $this->expandQname($k) : $k;
+		            $v = strpos($v,':') ? $this->expandQname($v) : $v;
+		            $aa[$k] = $v;
+		    	}
+	    		$eAttrs[$n] = $aa;
+	    	}
+	    	$attrs = $eAttrs;
+		}
+
+		$restrictionBase = strpos($restrictionBase,':') ? $this->expandQname($restrictionBase) : $restrictionBase;
+		$arrayType = strpos($arrayType,':') ? $this->expandQname($arrayType) : $arrayType;
+
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addComplexType($name,$typeClass,$phpType,$compositor,$restrictionBase,$elements,$attrs,$arrayType);
+	}
+
+	/**
+	* adds an XML Schema simple type to the WSDL types
+	*
+	* @param string $name
+	* @param string $restrictionBase namespace:name (http://schemas.xmlsoap.org/soap/encoding/:Array)
+	* @param string $typeClass (should always be simpleType)
+	* @param string $phpType (should always be scalar)
+	* @param array $enumeration array of values
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addSimpleType($name, $restrictionBase='', $typeClass='simpleType', $phpType='scalar', $enumeration=array()) {
+		$restrictionBase = strpos($restrictionBase,':') ? $this->expandQname($restrictionBase) : $restrictionBase;
+
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addSimpleType($name, $restrictionBase, $typeClass, $phpType, $enumeration);
+	}
+
+	/**
+	* adds an element to the WSDL types
+	*
+	* @param array $attrs attributes that must include name and type
+	* @see nusoap_xmlschema
+	* @access public
+	*/
+	function addElement($attrs) {
+		$typens = isset($this->namespaces['types']) ? $this->namespaces['types'] : $this->namespaces['tns'];
+		$this->schemas[$typens][0]->addElement($attrs);
+	}
+
+	/**
+	* register an operation with the server
+	* 
+	* @param string $name operation (method) name
+	* @param array $in assoc array of input values: key = param name, value = param type
+	* @param array $out assoc array of output values: key = param name, value = param type
+	* @param string $namespace optional The namespace for the operation
+	* @param string $soapaction optional The soapaction for the operation
+	* @param string $style (rpc|document) optional The style for the operation Note: when 'document' is specified, parameter and return wrappers are created for you automatically
+	* @param string $use (encoded|literal) optional The use for the parameters (cannot mix right now)
+	* @param string $documentation optional The description to include in the WSDL
+	* @param string $encodingStyle optional (usually 'http://schemas.xmlsoap.org/soap/encoding/' for encoded)
+	* @access public 
+	*/
+	function addOperation($name, $in = false, $out = false, $namespace = false, $soapaction = false, $style = 'rpc', $use = 'encoded', $documentation = '', $encodingStyle = ''){
+		if ($use == 'encoded' && $encodingStyle == '') {
+			$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+		}
+
+		if ($style == 'document') {
+			$elements = array();
+			foreach ($in as $n => $t) {
+				$elements[$n] = array('name' => $n, 'type' => $t, 'form' => 'unqualified');
+			}
+			$this->addComplexType($name . 'RequestType', 'complexType', 'struct', 'all', '', $elements);
+			$this->addElement(array('name' => $name, 'type' => $name . 'RequestType'));
+			$in = array('parameters' => 'tns:' . $name . '^');
+
+			$elements = array();
+			foreach ($out as $n => $t) {
+				$elements[$n] = array('name' => $n, 'type' => $t, 'form' => 'unqualified');
+			}
+			$this->addComplexType($name . 'ResponseType', 'complexType', 'struct', 'all', '', $elements);
+			$this->addElement(array('name' => $name . 'Response', 'type' => $name . 'ResponseType', 'form' => 'qualified'));
+			$out = array('parameters' => 'tns:' . $name . 'Response' . '^');
+		}
+
+		// get binding
+		$this->bindings[ $this->serviceName . 'Binding' ]['operations'][$name] =
+		array(
+		'name' => $name,
+		'binding' => $this->serviceName . 'Binding',
+		'endpoint' => $this->endpoint,
+		'soapAction' => $soapaction,
+		'style' => $style,
+		'input' => array(
+			'use' => $use,
+			'namespace' => $namespace,
+			'encodingStyle' => $encodingStyle,
+			'message' => $name . 'Request',
+			'parts' => $in),
+		'output' => array(
+			'use' => $use,
+			'namespace' => $namespace,
+			'encodingStyle' => $encodingStyle,
+			'message' => $name . 'Response',
+			'parts' => $out),
+		'namespace' => $namespace,
+		'transport' => 'http://schemas.xmlsoap.org/soap/http',
+		'documentation' => $documentation); 
+		// add portTypes
+		// add messages
+		if($in)
+		{
+			foreach($in as $pName => $pType)
+			{
+				if(strpos($pType,':')) {
+					$pType = $this->getNamespaceFromPrefix($this->getPrefix($pType)).":".$this->getLocalPart($pType);
+				}
+				$this->messages[$name.'Request'][$pName] = $pType;
+			}
+		} else {
+            $this->messages[$name.'Request']= '0';
+        }
+		if($out)
+		{
+			foreach($out as $pName => $pType)
+			{
+				if(strpos($pType,':')) {
+					$pType = $this->getNamespaceFromPrefix($this->getPrefix($pType)).":".$this->getLocalPart($pType);
+				}
+				$this->messages[$name.'Response'][$pName] = $pType;
+			}
+		} else {
+            $this->messages[$name.'Response']= '0';
+        }
+		return true;
+	} 
+}
+?><?php
+
+
+
+/**
+*
+* nusoap_parser class parses SOAP XML messages into native PHP values
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_parser extends nusoap_base {
+
+	var $xml = '';
+	var $xml_encoding = '';
+	var $method = '';
+	var $root_struct = '';
+	var $root_struct_name = '';
+	var $root_struct_namespace = '';
+	var $root_header = '';
+    var $document = '';			// incoming SOAP body (text)
+	// determines where in the message we are (envelope,header,body,method)
+	var $status = '';
+	var $position = 0;
+	var $depth = 0;
+	var $default_namespace = '';
+	var $namespaces = array();
+	var $message = array();
+    var $parent = '';
+	var $fault = false;
+	var $fault_code = '';
+	var $fault_str = '';
+	var $fault_detail = '';
+	var $depth_array = array();
+	var $debug_flag = true;
+	var $soapresponse = NULL;	// parsed SOAP Body
+	var $soapheader = NULL;		// parsed SOAP Header
+	var $responseHeaders = '';	// incoming SOAP headers (text)
+	var $body_position = 0;
+	// for multiref parsing:
+	// array of id => pos
+	var $ids = array();
+	// array of id => hrefs => pos
+	var $multirefs = array();
+	// toggle for auto-decoding element content
+	var $decode_utf8 = true;
+
+	/**
+	* constructor that actually does the parsing
+	*
+	* @param    string $xml SOAP message
+	* @param    string $encoding character encoding scheme of message
+	* @param    string $method method for which XML is parsed (unused?)
+	* @param    string $decode_utf8 whether to decode UTF-8 to ISO-8859-1
+	* @access   public
+	*/
+	function nusoap_parser($xml,$encoding='UTF-8',$method='',$decode_utf8=true){
+		parent::nusoap_base();
+		$this->xml = $xml;
+		$this->xml_encoding = $encoding;
+		$this->method = $method;
+		$this->decode_utf8 = $decode_utf8;
+
+		// Check whether content has been read.
+		if(!empty($xml)){
+			// Check XML encoding
+			$pos_xml = strpos($xml, '<?xml');
+			if ($pos_xml !== FALSE) {
+				$xml_decl = substr($xml, $pos_xml, strpos($xml, '?>', $pos_xml + 2) - $pos_xml + 1);
+				if (preg_match("/encoding=[\"']([^\"']*)[\"']/", $xml_decl, $res)) {
+					$xml_encoding = $res[1];
+					if (strtoupper($xml_encoding) != $encoding) {
+						$err = "Charset from HTTP Content-Type '" . $encoding . "' does not match encoding from XML declaration '" . $xml_encoding . "'";
+						$this->debug($err);
+						if ($encoding != 'ISO-8859-1' || strtoupper($xml_encoding) != 'UTF-8') {
+							$this->setError($err);
+							return;
+						}
+						// when HTTP says ISO-8859-1 (the default) and XML says UTF-8 (the typical), assume the other endpoint is just sloppy and proceed
+					} else {
+						$this->debug('Charset from HTTP Content-Type matches encoding from XML declaration');
+					}
+				} else {
+					$this->debug('No encoding specified in XML declaration');
+				}
+			} else {
+				$this->debug('No XML declaration');
+			}
+			$this->debug('Entering nusoap_parser(), length='.strlen($xml).', encoding='.$encoding);
+			// Create an XML parser - why not xml_parser_create_ns?
+			$this->parser = xml_parser_create($this->xml_encoding);
+			// Set the options for parsing the XML data.
+			//xml_parser_set_option($parser, XML_OPTION_SKIP_WHITE, 1);
+			xml_parser_set_option($this->parser, XML_OPTION_CASE_FOLDING, 0);
+			xml_parser_set_option($this->parser, XML_OPTION_TARGET_ENCODING, $this->xml_encoding);
+			// Set the object for the parser.
+			xml_set_object($this->parser, $this);
+			// Set the element handlers for the parser.
+			xml_set_element_handler($this->parser, 'start_element','end_element');
+			xml_set_character_data_handler($this->parser,'character_data');
+
+			// Parse the XML file.
+			if(!xml_parse($this->parser,$xml,true)){
+			    // Display an error message.
+			    $err = sprintf('XML error parsing SOAP payload on line %d: %s',
+			    xml_get_current_line_number($this->parser),
+			    xml_error_string(xml_get_error_code($this->parser)));
+				$this->debug($err);
+				$this->debug("XML payload:\n" . $xml);
+				$this->setError($err);
+			} else {
+				$this->debug('in nusoap_parser ctor, message:');
+				$this->appendDebug($this->varDump($this->message));
+				$this->debug('parsed successfully, found root struct: '.$this->root_struct.' of name '.$this->root_struct_name);
+				// get final value
+				$this->soapresponse = $this->message[$this->root_struct]['result'];
+				// get header value
+				if($this->root_header != '' && isset($this->message[$this->root_header]['result'])){
+					$this->soapheader = $this->message[$this->root_header]['result'];
+				}
+				// resolve hrefs/ids
+				if(sizeof($this->multirefs) > 0){
+					foreach($this->multirefs as $id => $hrefs){
+						$this->debug('resolving multirefs for id: '.$id);
+						$idVal = $this->buildVal($this->ids[$id]);
+						if (is_array($idVal) && isset($idVal['!id'])) {
+							unset($idVal['!id']);
+						}
+						foreach($hrefs as $refPos => $ref){
+							$this->debug('resolving href at pos '.$refPos);
+							$this->multirefs[$id][$refPos] = $idVal;
+						}
+					}
+				}
+			}
+			xml_parser_free($this->parser);
+		} else {
+			$this->debug('xml was empty, didn\'t parse!');
+			$this->setError('xml was empty, didn\'t parse!');
+		}
+	}
+
+	/**
+	* start-element handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $name element name
+	* @param    array $attrs associative array of attributes
+	* @access   private
+	*/
+	function start_element($parser, $name, $attrs) {
+		// position in a total number of elements, starting from 0
+		// update class level pos
+		$pos = $this->position++;
+		// and set mine
+		$this->message[$pos] = array('pos' => $pos,'children'=>'','cdata'=>'');
+		// depth = how many levels removed from root?
+		// set mine as current global depth and increment global depth value
+		$this->message[$pos]['depth'] = $this->depth++;
+
+		// else add self as child to whoever the current parent is
+		if($pos != 0){
+			$this->message[$this->parent]['children'] .= '|'.$pos;
+		}
+		// set my parent
+		$this->message[$pos]['parent'] = $this->parent;
+		// set self as current parent
+		$this->parent = $pos;
+		// set self as current value for this depth
+		$this->depth_array[$this->depth] = $pos;
+		// get element prefix
+		if(strpos($name,':')){
+			// get ns prefix
+			$prefix = substr($name,0,strpos($name,':'));
+			// get unqualified name
+			$name = substr(strstr($name,':'),1);
+		}
+		// set status
+		if ($name == 'Envelope' && $this->status == '') {
+			$this->status = 'envelope';
+		} elseif ($name == 'Header' && $this->status == 'envelope') {
+			$this->root_header = $pos;
+			$this->status = 'header';
+		} elseif ($name == 'Body' && $this->status == 'envelope'){
+			$this->status = 'body';
+			$this->body_position = $pos;
+		// set method
+		} elseif($this->status == 'body' && $pos == ($this->body_position+1)) {
+			$this->status = 'method';
+			$this->root_struct_name = $name;
+			$this->root_struct = $pos;
+			$this->message[$pos]['type'] = 'struct';
+			$this->debug("found root struct $this->root_struct_name, pos $this->root_struct");
+		}
+		// set my status
+		$this->message[$pos]['status'] = $this->status;
+		// set name
+		$this->message[$pos]['name'] = htmlspecialchars($name);
+		// set attrs
+		$this->message[$pos]['attrs'] = $attrs;
+
+		// loop through atts, logging ns and type declarations
+        $attstr = '';
+		foreach($attrs as $key => $value){
+        	$key_prefix = $this->getPrefix($key);
+			$key_localpart = $this->getLocalPart($key);
+			// if ns declarations, add to class level array of valid namespaces
+            if($key_prefix == 'xmlns'){
+				if(preg_match('/^http:\/\/www.w3.org\/[0-9]{4}\/XMLSchema$/',$value)){
+					$this->XMLSchemaVersion = $value;
+					$this->namespaces['xsd'] = $this->XMLSchemaVersion;
+					$this->namespaces['xsi'] = $this->XMLSchemaVersion.'-instance';
+				}
+                $this->namespaces[$key_localpart] = $value;
+				// set method namespace
+				if($name == $this->root_struct_name){
+					$this->methodNamespace = $value;
+				}
+			// if it's a type declaration, set type
+        } elseif($key_localpart == 'type'){
+        		if (isset($this->message[$pos]['type']) && $this->message[$pos]['type'] == 'array') {
+        			// do nothing: already processed arrayType
+        		} else {
+	            	$value_prefix = $this->getPrefix($value);
+	                $value_localpart = $this->getLocalPart($value);
+					$this->message[$pos]['type'] = $value_localpart;
+					$this->message[$pos]['typePrefix'] = $value_prefix;
+	                if(isset($this->namespaces[$value_prefix])){
+	                	$this->message[$pos]['type_namespace'] = $this->namespaces[$value_prefix];
+	                } else if(isset($attrs['xmlns:'.$value_prefix])) {
+						$this->message[$pos]['type_namespace'] = $attrs['xmlns:'.$value_prefix];
+	                }
+					// should do something here with the namespace of specified type?
+				}
+			} elseif($key_localpart == 'arrayType'){
+				$this->message[$pos]['type'] = 'array';
+				/* do arrayType ereg here
+				[1]    arrayTypeValue    ::=    atype asize
+				[2]    atype    ::=    QName rank*
+				[3]    rank    ::=    '[' (',')* ']'
+				[4]    asize    ::=    '[' length~ ']'
+				[5]    length    ::=    nextDimension* Digit+
+				[6]    nextDimension    ::=    Digit+ ','
+				*/
+				$expr = '/([A-Za-z0-9_]+):([A-Za-z]+[A-Za-z0-9_]+)\[([0-9]+),?([0-9]*)\]/';
+				if(preg_match($expr,$value,$regs)){
+					$this->message[$pos]['typePrefix'] = $regs[1];
+					$this->message[$pos]['arrayTypePrefix'] = $regs[1];
+	                if (isset($this->namespaces[$regs[1]])) {
+	                	$this->message[$pos]['arrayTypeNamespace'] = $this->namespaces[$regs[1]];
+	                } else if (isset($attrs['xmlns:'.$regs[1]])) {
+						$this->message[$pos]['arrayTypeNamespace'] = $attrs['xmlns:'.$regs[1]];
+	                }
+					$this->message[$pos]['arrayType'] = $regs[2];
+					$this->message[$pos]['arraySize'] = $regs[3];
+					$this->message[$pos]['arrayCols'] = $regs[4];
+				}
+			// specifies nil value (or not)
+			} elseif ($key_localpart == 'nil'){
+				$this->message[$pos]['nil'] = ($value == 'true' || $value == '1');
+			// some other attribute
+			} elseif ($key != 'href' && $key != 'xmlns' && $key_localpart != 'encodingStyle' && $key_localpart != 'root') {
+				$this->message[$pos]['xattrs']['!' . $key] = $value;
+			}
+
+			if ($key == 'xmlns') {
+				$this->default_namespace = $value;
+			}
+			// log id
+			if($key == 'id'){
+				$this->ids[$value] = $pos;
+			}
+			// root
+			if($key_localpart == 'root' && $value == 1){
+				$this->status = 'method';
+				$this->root_struct_name = $name;
+				$this->root_struct = $pos;
+				$this->debug("found root struct $this->root_struct_name, pos $pos");
+			}
+            // for doclit
+            $attstr .= " $key=\"$value\"";
+		}
+        // get namespace - must be done after namespace atts are processed
+		if(isset($prefix)){
+			$this->message[$pos]['namespace'] = $this->namespaces[$prefix];
+			$this->default_namespace = $this->namespaces[$prefix];
+		} else {
+			$this->message[$pos]['namespace'] = $this->default_namespace;
+		}
+        if($this->status == 'header'){
+        	if ($this->root_header != $pos) {
+	        	$this->responseHeaders .= "<" . (isset($prefix) ? $prefix . ':' : '') . "$name$attstr>";
+	        }
+        } elseif($this->root_struct_name != ''){
+        	$this->document .= "<" . (isset($prefix) ? $prefix . ':' : '') . "$name$attstr>";
+        }
+	}
+
+	/**
+	* end-element handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $name element name
+	* @access   private
+	*/
+	function end_element($parser, $name) {
+		// position of current element is equal to the last value left in depth_array for my depth
+		$pos = $this->depth_array[$this->depth--];
+
+        // get element prefix
+		if(strpos($name,':')){
+			// get ns prefix
+			$prefix = substr($name,0,strpos($name,':'));
+			// get unqualified name
+			$name = substr(strstr($name,':'),1);
+		}
+		
+		// build to native type
+		if(isset($this->body_position) && $pos > $this->body_position){
+			// deal w/ multirefs
+			if(isset($this->message[$pos]['attrs']['href'])){
+				// get id
+				$id = substr($this->message[$pos]['attrs']['href'],1);
+				// add placeholder to href array
+				$this->multirefs[$id][$pos] = 'placeholder';
+				// add set a reference to it as the result value
+				$this->message[$pos]['result'] =& $this->multirefs[$id][$pos];
+            // build complexType values
+			} elseif($this->message[$pos]['children'] != ''){
+				// if result has already been generated (struct/array)
+				if(!isset($this->message[$pos]['result'])){
+					$this->message[$pos]['result'] = $this->buildVal($pos);
+				}
+			// build complexType values of attributes and possibly simpleContent
+			} elseif (isset($this->message[$pos]['xattrs'])) {
+				if (isset($this->message[$pos]['nil']) && $this->message[$pos]['nil']) {
+					$this->message[$pos]['xattrs']['!'] = null;
+				} elseif (isset($this->message[$pos]['cdata']) && trim($this->message[$pos]['cdata']) != '') {
+	            	if (isset($this->message[$pos]['type'])) {
+						$this->message[$pos]['xattrs']['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+					} else {
+						$parent = $this->message[$pos]['parent'];
+						if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+							$this->message[$pos]['xattrs']['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+						} else {
+							$this->message[$pos]['xattrs']['!'] = $this->message[$pos]['cdata'];
+						}
+					}
+				}
+				$this->message[$pos]['result'] = $this->message[$pos]['xattrs'];
+			// set value of simpleType (or nil complexType)
+			} else {
+            	//$this->debug('adding data for scalar value '.$this->message[$pos]['name'].' of value '.$this->message[$pos]['cdata']);
+				if (isset($this->message[$pos]['nil']) && $this->message[$pos]['nil']) {
+					$this->message[$pos]['xattrs']['!'] = null;
+				} elseif (isset($this->message[$pos]['type'])) {
+					$this->message[$pos]['result'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				} else {
+					$parent = $this->message[$pos]['parent'];
+					if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+						$this->message[$pos]['result'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+					} else {
+						$this->message[$pos]['result'] = $this->message[$pos]['cdata'];
+					}
+				}
+
+				/* add value to parent's result, if parent is struct/array
+				$parent = $this->message[$pos]['parent'];
+				if($this->message[$parent]['type'] != 'map'){
+					if(strtolower($this->message[$parent]['type']) == 'array'){
+						$this->message[$parent]['result'][] = $this->message[$pos]['result'];
+					} else {
+						$this->message[$parent]['result'][$this->message[$pos]['name']] = $this->message[$pos]['result'];
+					}
+				}
+				*/
+			}
+		}
+		
+        // for doclit
+        if($this->status == 'header'){
+        	if ($this->root_header != $pos) {
+	        	$this->responseHeaders .= "</" . (isset($prefix) ? $prefix . ':' : '') . "$name>";
+	        }
+        } elseif($pos >= $this->root_struct){
+        	$this->document .= "</" . (isset($prefix) ? $prefix . ':' : '') . "$name>";
+        }
+		// switch status
+		if ($pos == $this->root_struct){
+			$this->status = 'body';
+			$this->root_struct_namespace = $this->message[$pos]['namespace'];
+		} elseif ($pos == $this->root_header) {
+			$this->status = 'envelope';
+		} elseif ($name == 'Body' && $this->status == 'body') {
+			$this->status = 'envelope';
+		} elseif ($name == 'Header' && $this->status == 'header') { // will never happen
+			$this->status = 'envelope';
+		} elseif ($name == 'Envelope' && $this->status == 'envelope') {
+			$this->status = '';
+		}
+		// set parent back to my parent
+		$this->parent = $this->message[$pos]['parent'];
+	}
+
+	/**
+	* element content handler
+	*
+	* @param    resource $parser XML parser object
+	* @param    string $data element content
+	* @access   private
+	*/
+	function character_data($parser, $data){
+		$pos = $this->depth_array[$this->depth];
+		if ($this->xml_encoding=='UTF-8'){
+			// TODO: add an option to disable this for folks who want
+			// raw UTF-8 that, e.g., might not map to iso-8859-1
+			// TODO: this can also be handled with xml_parser_set_option($this->parser, XML_OPTION_TARGET_ENCODING, "ISO-8859-1");
+			if($this->decode_utf8){
+				$data = utf8_decode($data);
+			}
+		}
+        $this->message[$pos]['cdata'] .= $data;
+        // for doclit
+        if($this->status == 'header'){
+        	$this->responseHeaders .= $data;
+        } else {
+        	$this->document .= $data;
+        }
+	}
+
+	/**
+	* get the parsed message (SOAP Body)
+	*
+	* @return	mixed
+	* @access   public
+	* @deprecated	use get_soapbody instead
+	*/
+	function get_response(){
+		return $this->soapresponse;
+	}
+
+	/**
+	* get the parsed SOAP Body (NULL if there was none)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function get_soapbody(){
+		return $this->soapresponse;
+	}
+
+	/**
+	* get the parsed SOAP Header (NULL if there was none)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function get_soapheader(){
+		return $this->soapheader;
+	}
+
+	/**
+	* get the unparsed SOAP Header
+	*
+	* @return	string XML or empty if no Header
+	* @access   public
+	*/
+	function getHeaders(){
+	    return $this->responseHeaders;
+	}
+
+	/**
+	* decodes simple types into PHP variables
+	*
+	* @param    string $value value to decode
+	* @param    string $type XML type to decode
+	* @param    string $typens XML type namespace to decode
+	* @return	mixed PHP value
+	* @access   private
+	*/
+	function decodeSimple($value, $type, $typens) {
+		// TODO: use the namespace!
+		if ((!isset($type)) || $type == 'string' || $type == 'long' || $type == 'unsignedLong') {
+			return (string) $value;
+		}
+		if ($type == 'int' || $type == 'integer' || $type == 'short' || $type == 'byte') {
+			return (int) $value;
+		}
+		if ($type == 'float' || $type == 'double' || $type == 'decimal') {
+			return (double) $value;
+		}
+		if ($type == 'boolean') {
+			if (strtolower($value) == 'false' || strtolower($value) == 'f') {
+				return false;
+			}
+			return (boolean) $value;
+		}
+		if ($type == 'base64' || $type == 'base64Binary') {
+			$this->debug('Decode base64 value');
+			return base64_decode($value);
+		}
+		// obscure numeric types
+		if ($type == 'nonPositiveInteger' || $type == 'negativeInteger'
+			|| $type == 'nonNegativeInteger' || $type == 'positiveInteger'
+			|| $type == 'unsignedInt'
+			|| $type == 'unsignedShort' || $type == 'unsignedByte') {
+			return (int) $value;
+		}
+		// bogus: parser treats array with no elements as a simple type
+		if ($type == 'array') {
+			return array();
+		}
+		// everything else
+		return (string) $value;
+	}
+
+	/**
+	* builds response structures for compound values (arrays/structs)
+	* and scalars
+	*
+	* @param    integer $pos position in node tree
+	* @return	mixed	PHP value
+	* @access   private
+	*/
+	function buildVal($pos){
+		if(!isset($this->message[$pos]['type'])){
+			$this->message[$pos]['type'] = '';
+		}
+		$this->debug('in buildVal() for '.$this->message[$pos]['name']."(pos $pos) of type ".$this->message[$pos]['type']);
+		// if there are children...
+		if($this->message[$pos]['children'] != ''){
+			$this->debug('in buildVal, there are children');
+			$children = explode('|',$this->message[$pos]['children']);
+			array_shift($children); // knock off empty
+			// md array
+			if(isset($this->message[$pos]['arrayCols']) && $this->message[$pos]['arrayCols'] != ''){
+            	$r=0; // rowcount
+            	$c=0; // colcount
+            	foreach($children as $child_pos){
+					$this->debug("in buildVal, got an MD array element: $r, $c");
+					$params[$r][] = $this->message[$child_pos]['result'];
+				    $c++;
+				    if($c == $this->message[$pos]['arrayCols']){
+				    	$c = 0;
+						$r++;
+				    }
+                }
+            // array
+			} elseif($this->message[$pos]['type'] == 'array' || $this->message[$pos]['type'] == 'Array'){
+                $this->debug('in buildVal, adding array '.$this->message[$pos]['name']);
+                foreach($children as $child_pos){
+                	$params[] = &$this->message[$child_pos]['result'];
+                }
+            // apache Map type: java hashtable
+            } elseif($this->message[$pos]['type'] == 'Map' && $this->message[$pos]['type_namespace'] == 'http://xml.apache.org/xml-soap'){
+                $this->debug('in buildVal, Java Map '.$this->message[$pos]['name']);
+                foreach($children as $child_pos){
+                	$kv = explode("|",$this->message[$child_pos]['children']);
+                   	$params[$this->message[$kv[1]]['result']] = &$this->message[$kv[2]]['result'];
+                }
+            // generic compound type
+            //} elseif($this->message[$pos]['type'] == 'SOAPStruct' || $this->message[$pos]['type'] == 'struct') {
+		    } else {
+	    		// Apache Vector type: treat as an array
+                $this->debug('in buildVal, adding Java Vector or generic compound type '.$this->message[$pos]['name']);
+				if ($this->message[$pos]['type'] == 'Vector' && $this->message[$pos]['type_namespace'] == 'http://xml.apache.org/xml-soap') {
+					$notstruct = 1;
+				} else {
+					$notstruct = 0;
+	            }
+            	//
+            	foreach($children as $child_pos){
+            		if($notstruct){
+            			$params[] = &$this->message[$child_pos]['result'];
+            		} else {
+            			if (isset($params[$this->message[$child_pos]['name']])) {
+            				// de-serialize repeated element name into an array
+            				if ((!is_array($params[$this->message[$child_pos]['name']])) || (!isset($params[$this->message[$child_pos]['name']][0]))) {
+            					$params[$this->message[$child_pos]['name']] = array($params[$this->message[$child_pos]['name']]);
+            				}
+            				$params[$this->message[$child_pos]['name']][] = &$this->message[$child_pos]['result'];
+            			} else {
+					    	$params[$this->message[$child_pos]['name']] = &$this->message[$child_pos]['result'];
+					    }
+                	}
+                }
+			}
+			if (isset($this->message[$pos]['xattrs'])) {
+                $this->debug('in buildVal, handling attributes');
+				foreach ($this->message[$pos]['xattrs'] as $n => $v) {
+					$params[$n] = $v;
+				}
+			}
+			// handle simpleContent
+			if (isset($this->message[$pos]['cdata']) && trim($this->message[$pos]['cdata']) != '') {
+                $this->debug('in buildVal, handling simpleContent');
+            	if (isset($this->message[$pos]['type'])) {
+					$params['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				} else {
+					$parent = $this->message[$pos]['parent'];
+					if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+						$params['!'] = $this->decodeSimple($this->message[$pos]['cdata'], $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+					} else {
+						$params['!'] = $this->message[$pos]['cdata'];
+					}
+				}
+			}
+			$ret = is_array($params) ? $params : array();
+			$this->debug('in buildVal, return:');
+			$this->appendDebug($this->varDump($ret));
+			return $ret;
+		} else {
+        	$this->debug('in buildVal, no children, building scalar');
+			$cdata = isset($this->message[$pos]['cdata']) ? $this->message[$pos]['cdata'] : '';
+        	if (isset($this->message[$pos]['type'])) {
+				$ret = $this->decodeSimple($cdata, $this->message[$pos]['type'], isset($this->message[$pos]['type_namespace']) ? $this->message[$pos]['type_namespace'] : '');
+				$this->debug("in buildVal, return: $ret");
+				return $ret;
+			}
+			$parent = $this->message[$pos]['parent'];
+			if (isset($this->message[$parent]['type']) && ($this->message[$parent]['type'] == 'array') && isset($this->message[$parent]['arrayType'])) {
+				$ret = $this->decodeSimple($cdata, $this->message[$parent]['arrayType'], isset($this->message[$parent]['arrayTypeNamespace']) ? $this->message[$parent]['arrayTypeNamespace'] : '');
+				$this->debug("in buildVal, return: $ret");
+				return $ret;
+			}
+           	$ret = $this->message[$pos]['cdata'];
+			$this->debug("in buildVal, return: $ret");
+           	return $ret;
+		}
+	}
+}
+
+/**
+ * Backward compatibility
+ */
+class soap_parser extends nusoap_parser {
+}
+
+?><?php
+
+
+
+/**
+*
+* [nu]soapclient higher level class for easy usage.
+*
+* usage:
+*
+* // instantiate client with server info
+* $soapclient = new nusoap_client( string path [ ,mixed wsdl] );
+*
+* // call method, get results
+* echo $soapclient->call( string methodname [ ,array parameters] );
+*
+* // bye bye client
+* unset($soapclient);
+*
+* @author   Dietrich Ayala <dietrich@ganx4.com>
+* @author   Scott Nichol <snichol@users.sourceforge.net>
+* @version  $Id: nusoap.php,v 1.123 2010/04/26 20:15:08 snichol Exp $
+* @access   public
+*/
+class nusoap_client extends nusoap_base  {
+
+	var $username = '';				// Username for HTTP authentication
+	var $password = '';				// Password for HTTP authentication
+	var $authtype = '';				// Type of HTTP authentication
+	var $certRequest = array();		// Certificate for HTTP SSL authentication
+	var $requestHeaders = false;	// SOAP headers in request (text)
+	var $responseHeaders = '';		// SOAP headers from response (incomplete namespace resolution) (text)
+	var $responseHeader = NULL;		// SOAP Header from response (parsed)
+	var $document = '';				// SOAP body response portion (incomplete namespace resolution) (text)
+	var $endpoint;
+	var $forceEndpoint = '';		// overrides WSDL endpoint
+    var $proxyhost = '';
+    var $proxyport = '';
+	var $proxyusername = '';
+	var $proxypassword = '';
+	var $portName = '';				// port name to use in WSDL
+    var $xml_encoding = '';			// character set encoding of incoming (response) messages
+	var $http_encoding = false;
+	var $timeout = 0;				// HTTP connection timeout
+	var $response_timeout = 30;		// HTTP response timeout
+	var $endpointType = '';			// soap|wsdl, empty for WSDL initialization error
+	var $persistentConnection = false;
+	var $defaultRpcParams = false;	// This is no longer used
+	var $request = '';				// HTTP request
+	var $response = '';				// HTTP response
+	var $responseData = '';			// SOAP payload of response
+	var $cookies = array();			// Cookies from response or for request
+    var $decode_utf8 = true;		// toggles whether the parser decodes element content w/ utf8_decode()
+	var $operations = array();		// WSDL operations, empty for WSDL initialization error
+	var $curl_options = array();	// User-specified cURL options
+	var $bindingType = '';			// WSDL operation binding type
+	var $use_curl = false;			// whether to always try to use cURL
+
+	/*
+	 * fault related variables
+	 */
+	/**
+	 * @var      fault
+	 * @access   public
+	 */
+	var $fault;
+	/**
+	 * @var      faultcode
+	 * @access   public
+	 */
+	var $faultcode;
+	/**
+	 * @var      faultstring
+	 * @access   public
+	 */
+	var $faultstring;
+	/**
+	 * @var      faultdetail
+	 * @access   public
+	 */
+	var $faultdetail;
+
+	/**
+	* constructor
+	*
+	* @param    mixed $endpoint SOAP server or WSDL URL (string), or wsdl instance (object)
+	* @param    mixed $wsdl optional, set to 'wsdl' or true if using WSDL
+	* @param    string $proxyhost optional
+	* @param    string $proxyport optional
+	* @param	string $proxyusername optional
+	* @param	string $proxypassword optional
+	* @param	integer $timeout set the connection timeout
+	* @param	integer $response_timeout set the response timeout
+	* @param	string $portName optional portName in WSDL document
+	* @access   public
+	*/
+	function nusoap_client($endpoint,$wsdl = false,$proxyhost = false,$proxyport = false,$proxyusername = false, $proxypassword = false, $timeout = 0, $response_timeout = 30, $portName = ''){
+		parent::nusoap_base();
+		$this->endpoint = $endpoint;
+		$this->proxyhost = $proxyhost;
+		$this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+		$this->timeout = $timeout;
+		$this->response_timeout = $response_timeout;
+		$this->portName = $portName;
+
+		$this->debug("ctor wsdl=$wsdl timeout=$timeout response_timeout=$response_timeout");
+		$this->appendDebug('endpoint=' . $this->varDump($endpoint));
+
+		// make values
+		if($wsdl){
+			if (is_object($endpoint) && (get_class($endpoint) == 'wsdl')) {
+				$this->wsdl = $endpoint;
+				$this->endpoint = $this->wsdl->wsdl;
+				$this->wsdlFile = $this->endpoint;
+				$this->debug('existing wsdl instance created from ' . $this->endpoint);
+				$this->checkWSDL();
+			} else {
+				$this->wsdlFile = $this->endpoint;
+				$this->wsdl = null;
+				$this->debug('will use lazy evaluation of wsdl from ' . $this->endpoint);
+			}
+			$this->endpointType = 'wsdl';
+		} else {
+			$this->debug("instantiate SOAP with endpoint at $endpoint");
+			$this->endpointType = 'soap';
+		}
+	}
+
+	/**
+	* calls method, returns PHP native type
+	*
+	* @param    string $operation SOAP server URL or path
+	* @param    mixed $params An array, associative or simple, of the parameters
+	*			              for the method call, or a string that is the XML
+	*			              for the call.  For rpc style, this call will
+	*			              wrap the XML in a tag named after the method, as
+	*			              well as the SOAP Envelope and Body.  For document
+	*			              style, this will only wrap with the Envelope and Body.
+	*			              IMPORTANT: when using an array with document style,
+	*			              in which case there
+	*                         is really one parameter, the root of the fragment
+	*                         used in the call, which encloses what programmers
+	*                         normally think of parameters.  A parameter array
+	*                         *must* include the wrapper.
+	* @param	string $namespace optional method namespace (WSDL can override)
+	* @param	string $soapAction optional SOAPAction value (WSDL can override)
+	* @param	mixed $headers optional string of XML with SOAP header content, or array of soapval objects for SOAP headers, or associative array
+	* @param	boolean $rpcParams optional (no longer used)
+	* @param	string	$style optional (rpc|document) the style to use when serializing parameters (WSDL can override)
+	* @param	string	$use optional (encoded|literal) the use when serializing parameters (WSDL can override)
+	* @return	mixed	response from SOAP call, normally an associative array mirroring the structure of the XML response, false for certain fatal errors
+	* @access   public
+	*/
+	function call($operation,$params=array(),$namespace='http://tempuri.org',$soapAction='',$headers=false,$rpcParams=null,$style='rpc',$use='encoded'){
+		$this->operation = $operation;
+		$this->fault = false;
+		$this->setError('');
+		$this->request = '';
+		$this->response = '';
+		$this->responseData = '';
+		$this->faultstring = '';
+		$this->faultcode = '';
+		$this->opData = array();
+		
+		$this->debug("call: operation=$operation, namespace=$namespace, soapAction=$soapAction, rpcParams=$rpcParams, style=$style, use=$use, endpointType=$this->endpointType");
+		$this->appendDebug('params=' . $this->varDump($params));
+		$this->appendDebug('headers=' . $this->varDump($headers));
+		if ($headers) {
+			$this->requestHeaders = $headers;
+		}
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError())
+				return false;
+		}
+		// serialize parameters
+		if($this->endpointType == 'wsdl' && $opData = $this->getOperationData($operation)){
+			// use WSDL for operation
+			$this->opData = $opData;
+			$this->debug("found operation");
+			$this->appendDebug('opData=' . $this->varDump($opData));
+			if (isset($opData['soapAction'])) {
+				$soapAction = $opData['soapAction'];
+			}
+			if (! $this->forceEndpoint) {
+				$this->endpoint = $opData['endpoint'];
+			} else {
+				$this->endpoint = $this->forceEndpoint;
+			}
+			$namespace = isset($opData['input']['namespace']) ? $opData['input']['namespace'] :	$namespace;
+			$style = $opData['style'];
+			$use = $opData['input']['use'];
+			// add ns to ns array
+			if($namespace != '' && !isset($this->wsdl->namespaces[$namespace])){
+				$nsPrefix = 'ns' . rand(1000, 9999);
+				$this->wsdl->namespaces[$nsPrefix] = $namespace;
+			}
+            $nsPrefix = $this->wsdl->getPrefixFromNamespace($namespace);
+			// serialize payload
+			if (is_string($params)) {
+				$this->debug("serializing param string for WSDL operation $operation");
+				$payload = $params;
+			} elseif (is_array($params)) {
+				$this->debug("serializing param array for WSDL operation $operation");
+				$payload = $this->wsdl->serializeRPCParameters($operation,'input',$params,$this->bindingType);
+			} else {
+				$this->debug('params must be array or string');
+				$this->setError('params must be array or string');
+				return false;
+			}
+            $usedNamespaces = $this->wsdl->usedNamespaces;
+			if (isset($opData['input']['encodingStyle'])) {
+				$encodingStyle = $opData['input']['encodingStyle'];
+			} else {
+				$encodingStyle = '';
+			}
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			if ($errstr = $this->wsdl->getError()) {
+				$this->debug('got wsdl error: '.$errstr);
+				$this->setError('wsdl error: '.$errstr);
+				return false;
+			}
+		} elseif($this->endpointType == 'wsdl') {
+			// operation not in WSDL
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->setError('operation '.$operation.' not present in WSDL.');
+			$this->debug("operation '$operation' not present in WSDL.");
+			return false;
+		} else {
+			// no WSDL
+			//$this->namespaces['ns1'] = $namespace;
+			$nsPrefix = 'ns' . rand(1000, 9999);
+			// serialize 
+			$payload = '';
+			if (is_string($params)) {
+				$this->debug("serializing param string for operation $operation");
+				$payload = $params;
+			} elseif (is_array($params)) {
+				$this->debug("serializing param array for operation $operation");
+				foreach($params as $k => $v){
+					$payload .= $this->serialize_val($v,$k,false,false,false,false,$use);
+				}
+			} else {
+				$this->debug('params must be array or string');
+				$this->setError('params must be array or string');
+				return false;
+			}
+			$usedNamespaces = array();
+			if ($use == 'encoded') {
+				$encodingStyle = 'http://schemas.xmlsoap.org/soap/encoding/';
+			} else {
+				$encodingStyle = '';
+			}
+		}
+		// wrap RPC calls with method element
+		if ($style == 'rpc') {
+			if ($use == 'literal') {
+				$this->debug("wrapping RPC request with literal method element");
+				if ($namespace) {
+					// http://www.ws-i.org/Profiles/BasicProfile-1.1-2004-08-24.html R2735 says rpc/literal accessor elements should not be in a namespace
+					$payload = "<$nsPrefix:$operation xmlns:$nsPrefix=\"$namespace\">" .
+								$payload .
+								"</$nsPrefix:$operation>";
+				} else {
+					$payload = "<$operation>" . $payload . "</$operation>";
+				}
+			} else {
+				$this->debug("wrapping RPC request with encoded method element");
+				if ($namespace) {
+					$payload = "<$nsPrefix:$operation xmlns:$nsPrefix=\"$namespace\">" .
+								$payload .
+								"</$nsPrefix:$operation>";
+				} else {
+					$payload = "<$operation>" .
+								$payload .
+								"</$operation>";
+				}
+			}
+		}
+		// serialize envelope
+		$soapmsg = $this->serializeEnvelope($payload,$this->requestHeaders,$usedNamespaces,$style,$use,$encodingStyle);
+		$this->debug("endpoint=$this->endpoint, soapAction=$soapAction, namespace=$namespace, style=$style, use=$use, encodingStyle=$encodingStyle");
+		$this->debug('SOAP message length=' . strlen($soapmsg) . ' contents (max 1000 bytes)=' . substr($soapmsg, 0, 1000));
+		// send
+		$return = $this->send($this->getHTTPBody($soapmsg),$soapAction,$this->timeout,$this->response_timeout);
+		if($errstr = $this->getError()){
+			$this->debug('Error: '.$errstr);
+			return false;
+		} else {
+			$this->return = $return;
+			$this->debug('sent message successfully and got a(n) '.gettype($return));
+           	$this->appendDebug('return=' . $this->varDump($return));
+			
+			// fault?
+			if(is_array($return) && isset($return['faultcode'])){
+				$this->debug('got fault');
+				$this->setError($return['faultcode'].': '.$return['faultstring']);
+				$this->fault = true;
+				foreach($return as $k => $v){
+					$this->$k = $v;
+					$this->debug("$k = $v<br>");
+				}
+				return $return;
+			} elseif ($style == 'document') {
+				// NOTE: if the response is defined to have multiple parts (i.e. unwrapped),
+				// we are only going to return the first part here...sorry about that
+				return $return;
+			} else {
+				// array of return values
+				if(is_array($return)){
+					// multiple 'out' parameters, which we return wrapped up
+					// in the array
+					if(sizeof($return) > 1){
+						return $return;
+					}
+					// single 'out' parameter (normally the return value)
+					$return = array_shift($return);
+					$this->debug('return shifted value: ');
+					$this->appendDebug($this->varDump($return));
+           			return $return;
+				// nothing returned (ie, echoVoid)
+				} else {
+					return "";
+				}
+			}
+		}
+	}
+
+	/**
+	* check WSDL passed as an instance or pulled from an endpoint
+	*
+	* @access   private
+	*/
+	function checkWSDL() {
+		$this->appendDebug($this->wsdl->getDebug());
+		$this->wsdl->clearDebug();
+		$this->debug('checkWSDL');
+		// catch errors
+		if ($errstr = $this->wsdl->getError()) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->debug('got wsdl error: '.$errstr);
+			$this->setError('wsdl error: '.$errstr);
+		} elseif ($this->operations = $this->wsdl->getOperations($this->portName, 'soap')) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->bindingType = 'soap';
+			$this->debug('got '.count($this->operations).' operations from wsdl '.$this->wsdlFile.' for binding type '.$this->bindingType);
+		} elseif ($this->operations = $this->wsdl->getOperations($this->portName, 'soap12')) {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->bindingType = 'soap12';
+			$this->debug('got '.count($this->operations).' operations from wsdl '.$this->wsdlFile.' for binding type '.$this->bindingType);
+			$this->debug('**************** WARNING: SOAP 1.2 BINDING *****************');
+		} else {
+			$this->appendDebug($this->wsdl->getDebug());
+			$this->wsdl->clearDebug();
+			$this->debug('getOperations returned false');
+			$this->setError('no operations defined in the WSDL document!');
+		}
+	}
+
+	/**
+	 * instantiate wsdl object and parse wsdl file
+	 *
+	 * @access	public
+	 */
+	function loadWSDL() {
+		$this->debug('instantiating wsdl class with doc: '.$this->wsdlFile);
+		$this->wsdl = new wsdl('',$this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword,$this->timeout,$this->response_timeout,$this->curl_options,$this->use_curl);
+		$this->wsdl->setCredentials($this->username, $this->password, $this->authtype, $this->certRequest);
+		$this->wsdl->fetchWSDL($this->wsdlFile);
+		$this->checkWSDL();
+	}
+
+	/**
+	* get available data pertaining to an operation
+	*
+	* @param    string $operation operation name
+	* @return	array array of data pertaining to the operation
+	* @access   public
+	*/
+	function getOperationData($operation){
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError())
+				return false;
+		}
+		if(isset($this->operations[$operation])){
+			return $this->operations[$operation];
+		}
+		$this->debug("No data for operation: $operation");
+	}
+
+    /**
+    * send the SOAP message
+    *
+    * Note: if the operation has multiple return values
+    * the return value of this method will be an array
+    * of those values.
+    *
+	* @param    string $msg a SOAPx4 soapmsg object
+	* @param    string $soapaction SOAPAction value
+	* @param    integer $timeout set connection timeout in seconds
+	* @param	integer $response_timeout set response timeout in seconds
+	* @return	mixed native PHP types.
+	* @access   private
+	*/
+	function send($msg, $soapaction = '', $timeout=0, $response_timeout=30) {
+		$this->checkCookies();
+		// detect transport
+		switch(true){
+			// http(s)
+			case preg_match('/^http/',$this->endpoint):
+				$this->debug('transporting via HTTP');
+				if($this->persistentConnection == true && is_object($this->persistentConnection)){
+					$http =& $this->persistentConnection;
+				} else {
+					$http = new soap_transport_http($this->endpoint, $this->curl_options, $this->use_curl);
+					if ($this->persistentConnection) {
+						$http->usePersistentConnection();
+					}
+				}
+				$http->setContentType($this->getHTTPContentType(), $this->getHTTPContentTypeCharset());
+				$http->setSOAPAction($soapaction);
+				if($this->proxyhost && $this->proxyport){
+					$http->setProxy($this->proxyhost,$this->proxyport,$this->proxyusername,$this->proxypassword);
+				}
+                if($this->authtype != '') {
+					$http->setCredentials($this->username, $this->password, $this->authtype, array(), $this->certRequest);
+				}
+				if($this->http_encoding != ''){
+					$http->setEncoding($this->http_encoding);
+				}
+				$this->debug('sending message, length='.strlen($msg));
+				if(preg_match('/^http:/',$this->endpoint)){
+				//if(strpos($this->endpoint,'http:')){
+					$this->responseData = $http->send($msg,$timeout,$response_timeout,$this->cookies);
+				} elseif(preg_match('/^https/',$this->endpoint)){
+				//} elseif(strpos($this->endpoint,'https:')){
+					//if(phpversion() == '4.3.0-dev'){
+						//$response = $http->send($msg,$timeout,$response_timeout);
+                   		//$this->request = $http->outgoing_payload;
+						//$this->response = $http->incoming_payload;
+					//} else
+					$this->responseData = $http->sendHTTPS($msg,$timeout,$response_timeout,$this->cookies);
+				} else {
+					$this->setError('no http/s in endpoint url');
+				}
+				$this->request = $http->outgoing_payload;
+				$this->response = $http->incoming_payload;
+				$this->appendDebug($http->getDebug());
+				$this->UpdateCookies($http->incoming_cookies);
+
+				// save transport object if using persistent connections
+				if ($this->persistentConnection) {
+					$http->clearDebug();
+					if (!is_object($this->persistentConnection)) {
+						$this->persistentConnection = $http;
+					}
+				}
+				
+				if($err = $http->getError()){
+					$this->setError('HTTP Error: '.$err);
+					return false;
+				} elseif($this->getError()){
+					return false;
+				} else {
+					$this->debug('got response, length='. strlen($this->responseData).' type='.$http->incoming_headers['content-type']);
+					return $this->parseResponse($http->incoming_headers, $this->responseData);
+				}
+			break;
+			default:
+				$this->setError('no transport found, or selected transport is not yet supported!');
+			return false;
+			break;
+		}
+	}
+
+	/**
+	* processes SOAP message returned from server
+	*
+	* @param	array	$headers	The HTTP headers
+	* @param	string	$data		unprocessed response data from server
+	* @return	mixed	value of the message, decoded into a PHP type
+	* @access   private
+	*/
+    function parseResponse($headers, $data) {
+		$this->debug('Entering parseResponse() for data of length ' . strlen($data) . ' headers:');
+		$this->appendDebug($this->varDump($headers));
+    	if (!isset($headers['content-type'])) {
+			$this->setError('Response not of type text/xml (no content-type header)');
+			return false;
+    	}
+		if (!strstr($headers['content-type'], 'text/xml')) {
+			$this->setError('Response not of type text/xml: ' . $headers['content-type']);
+			return false;
+		}
+		if (strpos($headers['content-type'], '=')) {
+			$enc = str_replace('"', '', substr(strstr($headers["content-type"], '='), 1));
+			$this->debug('Got response encoding: ' . $enc);
+			if(preg_match('/^(ISO-8859-1|US-ASCII|UTF-8)$/i',$enc)){
+				$this->xml_encoding = strtoupper($enc);
+			} else {
+				$this->xml_encoding = 'US-ASCII';
+			}
+		} else {
+			// should be US-ASCII for HTTP 1.0 or ISO-8859-1 for HTTP 1.1
+			$this->xml_encoding = 'ISO-8859-1';
+		}
+		$this->debug('Use encoding: ' . $this->xml_encoding . ' when creating nusoap_parser');
+		$parser = new nusoap_parser($data,$this->xml_encoding,$this->operation,$this->decode_utf8);
+		// add parser debug data to our debug
+		$this->appendDebug($parser->getDebug());
+		// if parse errors
+		if($errstr = $parser->getError()){
+			$this->setError( $errstr);
+			// destroy the parser object
+			unset($parser);
+			return false;
+		} else {
+			// get SOAP headers
+			$this->responseHeaders = $parser->getHeaders();
+			// get SOAP headers
+			$this->responseHeader = $parser->get_soapheader();
+			// get decoded message
+			$return = $parser->get_soapbody();
+            // add document for doclit support
+            $this->document = $parser->document;
+			// destroy the parser object
+			unset($parser);
+			// return decode message
+			return $return;
+		}
+	 }
+
+	/**
+	* sets user-specified cURL options
+	*
+	* @param	mixed $option The cURL option (always integer?)
+	* @param	mixed $value The cURL option value
+	* @access   public
+	*/
+	function setCurlOption($option, $value) {
+		$this->debug("setCurlOption option=$option, value=");
+		$this->appendDebug($this->varDump($value));
+		$this->curl_options[$option] = $value;
+	}
+
+	/**
+	* sets the SOAP endpoint, which can override WSDL
+	*
+	* @param	string $endpoint The endpoint URL to use, or empty string or false to prevent override
+	* @access   public
+	*/
+	function setEndpoint($endpoint) {
+		$this->debug("setEndpoint(\"$endpoint\")");
+		$this->forceEndpoint = $endpoint;
+	}
+
+	/**
+	* set the SOAP headers
+	*
+	* @param	mixed $headers String of XML with SOAP header content, or array of soapval objects for SOAP headers
+	* @access   public
+	*/
+	function setHeaders($headers){
+		$this->debug("setHeaders headers=");
+		$this->appendDebug($this->varDump($headers));
+		$this->requestHeaders = $headers;
+	}
+
+	/**
+	* get the SOAP response headers (namespace resolution incomplete)
+	*
+	* @return	string
+	* @access   public
+	*/
+	function getHeaders(){
+		return $this->responseHeaders;
+	}
+
+	/**
+	* get the SOAP response Header (parsed)
+	*
+	* @return	mixed
+	* @access   public
+	*/
+	function getHeader(){
+		return $this->responseHeader;
+	}
+
+	/**
+	* set proxy info here
+	*
+	* @param    string $proxyhost
+	* @param    string $proxyport
+	* @param	string $proxyusername
+	* @param	string $proxypassword
+	* @access   public
+	*/
+	function setHTTPProxy($proxyhost, $proxyport, $proxyusername = '', $proxypassword = '') {
+		$this->proxyhost = $proxyhost;
+		$this->proxyport = $proxyport;
+		$this->proxyusername = $proxyusername;
+		$this->proxypassword = $proxypassword;
+	}
+
+	/**
+	* if authenticating, set user credentials here
+	*
+	* @param    string $username
+	* @param    string $password
+	* @param	string $authtype (basic|digest|certificate|ntlm)
+	* @param	array $certRequest (keys must be cainfofile (optional), sslcertfile, sslkeyfile, passphrase, verifypeer (optional), verifyhost (optional): see corresponding options in cURL docs)
+	* @access   public
+	*/
+	function setCredentials($username, $password, $authtype = 'basic', $certRequest = array()) {
+		$this->debug("setCredentials username=$username authtype=$authtype certRequest=");
+		$this->appendDebug($this->varDump($certRequest));
+		$this->username = $username;
+		$this->password = $password;
+		$this->authtype = $authtype;
+		$this->certRequest = $certRequest;
+	}
+	
+	/**
+	* use HTTP encoding
+	*
+	* @param    string $enc HTTP encoding
+	* @access   public
+	*/
+	function setHTTPEncoding($enc='gzip, deflate'){
+		$this->debug("setHTTPEncoding(\"$enc\")");
+		$this->http_encoding = $enc;
+	}
+	
+	/**
+	* Set whether to try to use cURL connections if possible
+	*
+	* @param	boolean $use Whether to try to use cURL
+	* @access   public
+	*/
+	function setUseCURL($use) {
+		$this->debug("setUseCURL($use)");
+		$this->use_curl = $use;
+	}
+
+	/**
+	* use HTTP persistent connections if possible
+	*
+	* @access   public
+	*/
+	function useHTTPPersistentConnection(){
+		$this->debug("useHTTPPersistentConnection");
+		$this->persistentConnection = true;
+	}
+	
+	/**
+	* gets the default RPC parameter setting.
+	* If true, default is that call params are like RPC even for document style.
+	* Each call() can override this value.
+	*
+	* This is no longer used.
+	*
+	* @return boolean
+	* @access public
+	* @deprecated
+	*/
+	function getDefaultRpcParams() {
+		return $this->defaultRpcParams;
+	}
+
+	/**
+	* sets the default RPC parameter setting.
+	* If true, default is that call params are like RPC even for document style
+	* Each call() can override this value.
+	*
+	* This is no longer used.
+	*
+	* @param    boolean $rpcParams
+	* @access public
+	* @deprecated
+	*/
+	function setDefaultRpcParams($rpcParams) {
+		$this->defaultRpcParams = $rpcParams;
+	}
+	
+	/**
+	* dynamically creates an instance of a proxy class,
+	* allowing user to directly call methods from wsdl
+	*
+	* @return   object soap_proxy object
+	* @access   public
+	*/
+	function getProxy() {
+		$r = rand();
+		$evalStr = $this->_getProxyClassCode($r);
+		//$this->debug("proxy class: $evalStr");
+		if ($this->getError()) {
+			$this->debug("Error from _getProxyClassCode, so return NULL");
+			return null;
+		}
+		// eval the class
+		eval($evalStr);
+		// instantiate proxy object
+		eval("\$proxy = new nusoap_proxy_$r('');");
+		// transfer current wsdl data to the proxy thereby avoiding parsing the wsdl twice
+		$proxy->endpointType = 'wsdl';
+		$proxy->wsdlFile = $this->wsdlFile;
+		$proxy->wsdl = $this->wsdl;
+		$proxy->operations = $this->operations;
+		$proxy->defaultRpcParams = $this->defaultRpcParams;
+		// transfer other state
+		$proxy->soap_defencoding = $this->soap_defencoding;
+		$proxy->username = $this->username;
+		$proxy->password = $this->password;
+		$proxy->authtype = $this->authtype;
+		$proxy->certRequest = $this->certRequest;
+		$proxy->requestHeaders = $this->requestHeaders;
+		$proxy->endpoint = $this->endpoint;
+		$proxy->forceEndpoint = $this->forceEndpoint;
+		$proxy->proxyhost = $this->proxyhost;
+		$proxy->proxyport = $this->proxyport;
+		$proxy->proxyusername = $this->proxyusername;
+		$proxy->proxypassword = $this->proxypassword;
+		$proxy->http_encoding = $this->http_encoding;
+		$proxy->timeout = $this->timeout;
+		$proxy->response_timeout = $this->response_timeout;
+		$proxy->persistentConnection = &$this->persistentConnection;
+		$proxy->decode_utf8 = $this->decode_utf8;
+		$proxy->curl_options = $this->curl_options;
+		$proxy->bindingType = $this->bindingType;
+		$proxy->use_curl = $this->use_curl;
+		return $proxy;
+	}
+
+	/**
+	* dynamically creates proxy class code
+	*
+	* @return   string PHP/NuSOAP code for the proxy class
+	* @access   private
+	*/
+	function _getProxyClassCode($r) {
+		$this->debug("in getProxy endpointType=$this->endpointType");
+		$this->appendDebug("wsdl=" . $this->varDump($this->wsdl));
+		if ($this->endpointType != 'wsdl') {
+			$evalStr = 'A proxy can only be created for a WSDL client';
+			$this->setError($evalStr);
+			$evalStr = "echo \"$evalStr\";";
+			return $evalStr;
+		}
+		if ($this->endpointType == 'wsdl' && is_null($this->wsdl)) {
+			$this->loadWSDL();
+			if ($this->getError()) {
+				return "echo \"" . $this->getError() . "\";";
+			}
+		}
+		$evalStr = '';
+		foreach ($this->operations as $operation => $opData) {
+			if ($operation != '') {
+				// create param string and param comment string
+				if (sizeof($opData['input']['parts']) > 0) {
+					$paramStr = '';
+					$paramArrayStr = '';
+					$paramCommentStr = '';
+					foreach ($opData['input']['parts'] as $name => $type) {
+						$paramStr .= "\$$name, ";
+						$paramArrayStr .= "'$name' => \$$name, ";
+						$paramCommentStr .= "$type \$$name, ";
+					}
+					$paramStr = substr($paramStr, 0, strlen($paramStr)-2);
+					$paramArrayStr = substr($paramArrayStr, 0, strlen($paramArrayStr)-2);
+					$paramCommentStr = substr($paramCommentStr, 0, strlen($paramCommentStr)-2);
+				} else {
+					$paramStr = '';
+					$paramArrayStr = '';
+					$paramCommentStr = 'void';
+				}
+				$opData['namespace'] = !isset($opData['namespace']) ? 'http://testuri.com' : $opData['namespace'];
+				$evalStr .= "// $paramCommentStr
+	function " . str_replace('.', '__', $operation) . "($paramStr) {
+		\$params = array($paramArrayStr);
+		return \$this->call('$operation', \$params, '".$opData['namespace']."', '".(isset($opData['soapAction']) ? $opData['soapAction'] : '')."');
+	}
+	";
+				unset($paramStr);
+				unset($paramCommentStr);
+			}
+		}
+		$evalStr = 'class nusoap_proxy_'.$r.' extends nusoap_client {
+	'.$evalStr.'
+}';
+		return $evalStr;
+	}
+
+	/**
+	* dynamically creates proxy class code
+	*
+	* @return   string PHP/NuSOAP code for the proxy class
+	* @access   public
+	*/
+	function getProxyClassCode() {
+		$r = rand();
+		return $this->_getProxyClassCode($r);
+	}
+
+	/**
+	* gets the HTTP body for the current request.
+	*
+	* @param string $soapmsg The SOAP payload
+	* @return string The HTTP body, which includes the SOAP payload
+	* @access private
+	*/
+	function getHTTPBody($soapmsg) {
+		return $soapmsg;
+	}
+	
+	/**
+	* gets the HTTP content type for the current request.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type for the current request.
+	* @access private
+	*/
+	function getHTTPContentType() {
+		return 'text/xml';
+	}
+	
+	/**
+	* gets the HTTP content type charset for the current request.
+	* returns false for non-text content types.
+	*
+	* Note: getHTTPBody must be called before this.
+	*
+	* @return string the HTTP content type charset for the current request.
+	* @access private
+	*/
+	function getHTTPContentTypeCharset() {
+		return $this->soap_defencoding;
+	}
+
+	/*
+	* whether or not parser should decode utf8 element content
+    *
+    * @return   always returns true
+    * @access   public
+    */
+    function decodeUTF8($bool){
+		$this->decode_utf8 = $bool;
+		return true;
+    }
+
+	/**
+	 * adds a new Cookie into $this->cookies array
+	 *
+	 * @param	string $name Cookie Name
+	 * @param	string $value Cookie Value
+	 * @return	boolean if cookie-set was successful returns true, else false
+	 * @access	public
+	 */
+	function setCookie($name, $value) {
+		if (strlen($name) == 0) {
+			return false;
+		}
+		$this->cookies[] = array('name' => $name, 'value' => $value);
+		return true;
+	}
+
+	/**
+	 * gets all Cookies
+	 *
+	 * @return   array with all internal cookies
+	 * @access   public
+	 */
+	function getCookies() {
+		return $this->cookies;
+	}
+
+	/**
+	 * checks all Cookies and delete those which are expired
+	 *
+	 * @return   boolean always return true
+	 * @access   private
+	 */
+	function checkCookies() {
+		if (sizeof($this->cookies) == 0) {
+			return true;
+		}
+		$this->debug('checkCookie: check ' . sizeof($this->cookies) . ' cookies');
+		$curr_cookies = $this->cookies;
+		$this->cookies = array();
+		foreach ($curr_cookies as $cookie) {
+			if (! is_array($cookie)) {
+				$this->debug('Remove cookie that is not an array');
+				continue;
+			}
+			if ((isset($cookie['expires'])) && (! empty($cookie['expires']))) {
+				if (strtotime($cookie['expires']) > time()) {
+					$this->cookies[] = $cookie;
+				} else {
+					$this->debug('Remove expired cookie ' . $cookie['name']);
+				}
+			} else {
+				$this->cookies[] = $cookie;
+			}
+		}
+		$this->debug('checkCookie: '.sizeof($this->cookies).' cookies left in array');
+		return true;
+	}
+
+	/**
+	 * updates the current cookies with a new set
+	 *
+	 * @param	array $cookies new cookies with which to update current ones
+	 * @return	boolean always return true
+	 * @access	private
+	 */
+	function UpdateCookies($cookies) {
+		if (sizeof($this->cookies) == 0) {
+			// no existing cookies: take whatever is new
+			if (sizeof($cookies) > 0) {
+				$this->debug('Setting new cookie(s)');
+				$this->cookies = $cookies;
+			}
+			return true;
+		}
+		if (sizeof($cookies) == 0) {
+			// no new cookies: keep what we've got
+			return true;
+		}
+		// merge
+		foreach ($cookies as $newCookie) {
+			if (!is_array($newCookie)) {
+				continue;
+			}
+			if ((!isset($newCookie['name'])) || (!isset($newCookie['value']))) {
+				continue;
+			}
+			$newName = $newCookie['name'];
+
+			$found = false;
+			for ($i = 0; $i < count($this->cookies); $i++) {
+				$cookie = $this->cookies[$i];
+				if (!is_array($cookie)) {
+					continue;
+				}
+				if (!isset($cookie['name'])) {
+					continue;
+				}
+				if ($newName != $cookie['name']) {
+					continue;
+				}
+				$newDomain = isset($newCookie['domain']) ? $newCookie['domain'] : 'NODOMAIN';
+				$domain = isset($cookie['domain']) ? $cookie['domain'] : 'NODOMAIN';
+				if ($newDomain != $domain) {
+					continue;
+				}
+				$newPath = isset($newCookie['path']) ? $newCookie['path'] : 'NOPATH';
+				$path = isset($cookie['path']) ? $cookie['path'] : 'NOPATH';
+				if ($newPath != $path) {
+					continue;
+				}
+				$this->cookies[$i] = $newCookie;
+				$found = true;
+				$this->debug('Update cookie ' . $newName . '=' . $newCookie['value']);
+				break;
+			}
+			if (! $found) {
+				$this->debug('Add cookie ' . $newName . '=' . $newCookie['value']);
+				$this->cookies[] = $newCookie;
+			}
+		}
+		return true;
+	}
+}
+
+if (!extension_loaded('soap')) {
+	/**
+	 *	For backwards compatiblity, define soapclient unless the PHP SOAP extension is loaded.
+	 */
+	class soapclient extends nusoap_client {
+	}
+}
+?>
diff -rNU5 phpBB3-init/novaforge_functions.php phpBB3/novaforge_functions.php
--- phpBB3-init/novaforge_functions.php	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/novaforge_functions.php	2013-01-28 17:31:47.740708651 +0100
@@ -0,0 +1,154 @@
+<?php
+
+/**
+ * NovaForge(TM) is a web-based forge offering a Collaborative Development and 
+ * Project Management Environment.
+ *
+ * Copyright (C) 2007-2012  BULL SAS
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU Affero General Public License as
+ * published by the Free Software Foundation, either version 3 of the
+ * License, or (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU Affero General Public License for more details.
+ *
+ * You should have received a copy of the GNU Affero General Public License
+ * along with this program.  If not, see http://www.gnu.org/licenses/.
+ */
+
+require_once(dirname(__FILE__).'/library/nusoap/nusoap.php' );
+require_once(dirname(__FILE__).'/forge.conf.admin.php');
+
+ 	
+
+  
+function getPhpBBForumId($p_instance)
+{
+	global $forgeconf;
+		
+	ini_set("soap.wsdl_cache_enabled", "0");
+							
+    $clientSOAP = new nusoap_client($forgeconf['forge']['instance']['endpoint'],true);
+    $entities = array();
+    
+    $clientSOAP->setUseCurl(false);
+    $result = $clientSOAP->call($forgeconf['forge']['instance']['method'], array('arg0' => $p_instance));
+         
+	// Check for a fault
+	if ($clientSOAP->fault) {
+		error_log( "fault :'" . $result['faultstring'] ."'");
+		return false;
+	} else {
+		// Check for errors
+		$err = $clientSOAP->getError();
+		if ($err) {
+		        // Display the error
+			error_log( "err :'" . $err ."'");
+			return false;
+		} 
+	}
+    return $result['return'];
+  
+}
+  
+function forge_login($username, $autologin = false, $viewonline = 1, $admin = 0)
+	{
+		global $config, $db, $user, $phpbb_root_path, $phpEx;
+
+
+
+		$sql = 'SELECT user_id, username, user_password, user_passchg, user_email, user_type
+			FROM ' . USERS_TABLE . "
+			WHERE username_clean = '" . $db->sql_escape(utf8_clean_string($username)) . "'";
+		$result = $db->sql_query($sql);
+		$user_row = $db->sql_fetchrow($result);
+		$db->sql_freeresult($result);
+
+		if (!$user_row)
+		{
+			return array(
+				'status'		=> LOGIN_ERROR_EXTERNAL_AUTH,
+				'error_msg'		=> 'AUTH_NO_PROFILE_CREATED',
+				'user_row'		=> array('user_id' => ANONYMOUS),
+			);
+		}
+				
+		
+		$old_session_id = $user->session_id;
+		if ($admin)
+		{
+			global $SID, $_SID;
+
+			$cookie_expire = time() - 31536000;
+			$user->set_cookie('u', '', $cookie_expire);
+			$user->set_cookie('sid', '', $cookie_expire);
+			unset($cookie_expire);
+
+			$SID = '?sid=';
+			$user->session_id = $_SID = '';
+		}
+
+		$result = $user->session_create(getUserId($username), $admin, $autologin, $viewonline);
+
+		// Successful session creation
+		if ($result === true)
+		{
+			// If admin re-authentication we remove the old session entry because a new one has been created...
+			if ($admin)
+			{
+				// the login array is used because the user ids do not differ for re-authentication
+				$sql = 'DELETE FROM ' . SESSIONS_TABLE . "
+					WHERE session_id = '" . $db->sql_escape($old_session_id) . "'
+					AND session_user_id = {$login['user_row']['user_id']}";
+				$db->sql_query($sql);
+			}
+
+			return array(
+				'status'		=> LOGIN_SUCCESS,
+				'error_msg'		=> false,
+				'user_row'		=> $user_row,
+			);
+		}
+
+		return array(
+			'status'		=> LOGIN_BREAK,
+			'error_msg'		=> $result,
+			'user_row'		=> $user_row,
+		);
+	
+	}
+	
+function getUserId($userName)
+{
+	global $db, $lang, $phpbb_root_path, $phpEx;
+
+	$userId=-1;
+	$sqlGetUserId = 'SELECT user_id, username
+		FROM ' . USERS_TABLE . "
+		WHERE username='" . $userName . "'";
+	
+	
+	$result = $db->sql_query($sqlGetUserId);
+	
+	if (!($row = $db->sql_fetchrow($result)))
+	{
+		$db->sql_freeresult($result);
+		return 'NO_USERS';
+	}
+	do
+	{
+		$userId = $row['user_id'];
+	}
+	while ($row = $db->sql_fetchrow($result));
+	$db->sql_freeresult($result);
+	
+	
+	return $userId;
+}	
+	
+	
+?>
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_pm_forward.gif et phpBB3/styles/prosilver/imageset/fr/button_pm_forward.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_pm_new.gif et phpBB3/styles/prosilver/imageset/fr/button_pm_new.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_pm_reply.gif et phpBB3/styles/prosilver/imageset/fr/button_pm_reply.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_topic_locked.gif et phpBB3/styles/prosilver/imageset/fr/button_topic_locked.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_topic_new.gif et phpBB3/styles/prosilver/imageset/fr/button_topic_new.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/button_topic_reply.gif et phpBB3/styles/prosilver/imageset/fr/button_topic_reply.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/icon_contact_pm.gif et phpBB3/styles/prosilver/imageset/fr/icon_contact_pm.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/icon_post_edit.gif et phpBB3/styles/prosilver/imageset/fr/icon_post_edit.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/icon_post_quote.gif et phpBB3/styles/prosilver/imageset/fr/icon_post_quote.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/prosilver/imageset/fr/icon_user_online.gif et phpBB3/styles/prosilver/imageset/fr/icon_user_online.gif sont diffrents
diff -rNU5 phpBB3-init/styles/prosilver/imageset/fr/imageset.cfg phpBB3/styles/prosilver/imageset/fr/imageset.cfg
--- phpBB3-init/styles/prosilver/imageset/fr/imageset.cfg	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/styles/prosilver/imageset/fr/imageset.cfg	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,35 @@
+#
+# phpBB Imageset Configuration File
+#
+# @package phpBB3
+# @copyright (c) 2006 phpBB Group 
+# @license http://opensource.org/licenses/gpl-license.php GNU Public License 
+#
+#
+# At the left is the name, please do not change this
+# At the right the value is entered
+# For on/off options the valid values are on, off, 1, 0, true and false
+#
+# Values get trimmed, if you want to add a space in front or at the end of
+# the value, then enclose the value with single or double quotes. 
+# Single and double quotes do not need to be escaped.
+#
+# 
+
+# Images
+img_icon_contact_pm = icon_contact_pm.gif*20*28
+
+img_icon_post_edit = icon_post_edit.gif*20*54
+img_icon_post_quote = icon_post_quote.gif*20*49
+
+img_icon_user_online = icon_user_online.gif*58*58
+img_icon_user_offline = 
+img_icon_user_search = 
+
+img_button_pm_forward = button_pm_forward.gif*25*116
+img_button_pm_new = button_pm_new.gif*25*113
+img_button_pm_reply = button_pm_reply.gif*25*98
+
+img_button_topic_locked = button_topic_locked.gif*25*113
+img_button_topic_new = button_topic_new.gif*25*133
+img_button_topic_reply = button_topic_reply.gif*25*98
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/button_pm_new.gif et phpBB3/styles/subsilver2/imageset/fr/button_pm_new.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/button_pm_reply.gif et phpBB3/styles/subsilver2/imageset/fr/button_pm_reply.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/button_topic_locked.gif et phpBB3/styles/subsilver2/imageset/fr/button_topic_locked.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/button_topic_new.gif et phpBB3/styles/subsilver2/imageset/fr/button_topic_new.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/button_topic_reply.gif et phpBB3/styles/subsilver2/imageset/fr/button_topic_reply.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_aim.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_aim.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_email.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_email.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_icq.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_icq.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_jabber.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_jabber.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_msnm.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_msnm.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_pm.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_pm.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_www.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_www.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_contact_yahoo.gif et phpBB3/styles/subsilver2/imageset/fr/icon_contact_yahoo.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_post_delete.gif et phpBB3/styles/subsilver2/imageset/fr/icon_post_delete.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_post_edit.gif et phpBB3/styles/subsilver2/imageset/fr/icon_post_edit.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_post_info.gif et phpBB3/styles/subsilver2/imageset/fr/icon_post_info.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_post_quote.gif et phpBB3/styles/subsilver2/imageset/fr/icon_post_quote.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_post_report.gif et phpBB3/styles/subsilver2/imageset/fr/icon_post_report.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_user_offline.gif et phpBB3/styles/subsilver2/imageset/fr/icon_user_offline.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_user_online.gif et phpBB3/styles/subsilver2/imageset/fr/icon_user_online.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_user_profile.gif et phpBB3/styles/subsilver2/imageset/fr/icon_user_profile.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_user_search.gif et phpBB3/styles/subsilver2/imageset/fr/icon_user_search.gif sont diffrents
Les fichiers binaires phpBB3-init/styles/subsilver2/imageset/fr/icon_user_warn.gif et phpBB3/styles/subsilver2/imageset/fr/icon_user_warn.gif sont diffrents
diff -rNU5 phpBB3-init/styles/subsilver2/imageset/fr/imageset.cfg phpBB3/styles/subsilver2/imageset/fr/imageset.cfg
--- phpBB3-init/styles/subsilver2/imageset/fr/imageset.cfg	1970-01-01 01:00:00.000000000 +0100
+++ phpBB3/styles/subsilver2/imageset/fr/imageset.cfg	2011-08-23 19:32:54.000000000 +0200
@@ -0,0 +1,47 @@
+#
+# phpBB Imageset Configuration File
+#
+# @package phpBB3
+# @copyright (c) 2005 phpBB Group 
+# @license http://opensource.org/licenses/gpl-license.php GNU Public License 
+#
+#
+# At the left is the name, please do not change this
+# At the right the value is entered
+# For on/off options the valid values are on, off, 1, 0, true and false
+#
+# Values get trimmed, if you want to add a space in front or at the end of
+# the value, then enclose the value with single or double quotes. 
+# Single and double quotes do not need to be escaped.
+#
+#
+
+# Images 
+img_icon_contact_aim = icon_contact_aim.gif
+img_icon_contact_email = icon_contact_email.gif
+img_icon_contact_icq = icon_contact_icq.gif
+img_icon_contact_jabber = icon_contact_jabber.gif
+img_icon_contact_msnm = icon_contact_msnm.gif
+img_icon_contact_pm = icon_contact_pm.gif
+img_icon_contact_yahoo = icon_contact_yahoo.gif
+img_icon_contact_www = icon_contact_www.gif
+
+img_icon_post_delete = icon_post_delete.gif
+img_icon_post_edit = icon_post_edit.gif
+img_icon_post_info = icon_post_info.gif
+img_icon_post_quote = icon_post_quote.gif
+img_icon_post_report = icon_post_report.gif
+
+img_icon_user_online = icon_user_online.gif
+img_icon_user_offline = icon_user_offline.gif
+img_icon_user_profile = icon_user_profile.gif
+img_icon_user_search = icon_user_search.gif
+img_icon_user_warn = icon_user_warn.gif
+
+img_button_pm_forward =
+img_button_pm_new = button_pm_new.gif
+img_button_pm_reply = button_pm_reply.gif
+img_button_topic_locked = button_topic_locked.gif
+img_button_topic_new = button_topic_new.gif
+img_button_topic_reply = button_topic_reply.gif
+
