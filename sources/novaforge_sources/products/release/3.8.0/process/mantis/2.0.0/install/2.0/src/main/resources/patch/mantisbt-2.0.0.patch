diff -rNU5 mantisbt/account_page.php mantisbt-2.0.0/account_page.php
--- mantisbt/account_page.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/account_page.php	2017-02-21 11:35:53.000000000 +0100
@@ -38,10 +38,11 @@
  * - The user's account must not be protected
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses core.php
  * @uses authentication_api.php
  * @uses config_api.php
@@ -94,11 +95,11 @@
 $t_row = user_get_row( auth_get_current_user_id() );
 
 extract( $t_row, EXTR_PREFIX_ALL, 'u' );
 
 $t_ldap = ( LDAP == config_get( 'login_method' ) );
-
+$t_cas_auth = ( CAS_AUTH == config_get( 'login_method' ) );
 # In case we're using LDAP to get the email address... this will pull out
 #  that version instead of the one in the DB
 $u_email = user_get_email( $u_id );
 
 # If the password is the default password, then prompt user to change it.
@@ -214,11 +215,16 @@
 				<td>
 				<?php
 				if( $t_ldap && ON == config_get( 'use_ldap_email' ) ) {
 					# With LDAP
 					echo string_display_line( $u_email );
-				} else {
+				} 
+				// With CAS AUTH
+				else if ( $t_cas_auth ) {
+					echo string_display_line( $u_email );
+				}
+				else {
 					# Without LDAP
 					$t_show_update_button = true;
 					print_email_input( 'email', $u_email );
 				} ?>
 				</td>
@@ -228,11 +234,19 @@
 					# With LDAP
 					echo '<td class="category">' . lang_get( 'realname' ) . '</td>';
 					echo '<td>';
 					echo string_display_line( ldap_realname_from_username( $u_username ) );
 					echo '</td>';
-				} else {
+				} 
+				// With CAS AUTH
+				else if ( $t_cas_auth ) {
+					echo '<td class="category">' . lang_get( 'realname' ) . '</td>';
+					echo '<td>';
+					echo string_display_line( $u_username );
+					echo '</td>';
+				}
+				else {
 					# Without LDAP
 					$t_show_update_button = true;
 					echo '<td class="category">' . lang_get( 'realname' ) . '</td>';
 					echo '<td>';
 					echo '<input class="input-sm" id="realname" type="text" size="32" maxlength="' . DB_FIELD_SIZE_REALNAME . '" name="realname" value="' . string_attribute( $u_realname ) . '" />';
diff -rNU5 mantisbt/api/soap/mantisconnect.wsdl mantisbt-2.0.0/api/soap/mantisconnect.wsdl
--- mantisbt/api/soap/mantisconnect.wsdl	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mantisconnect.wsdl	2017-03-09 16:22:15.000000000 +0100
@@ -36,10 +36,12 @@
   <xsd:all>
    <xsd:element name="id" type="xsd:integer" minOccurs="0"/>
    <xsd:element name="name" type="xsd:string" minOccurs="0"/>
    <xsd:element name="real_name" type="xsd:string" minOccurs="0"/>
    <xsd:element name="email" type="xsd:string" minOccurs="0"/>
+   <xsd:element name="access" type="xsd:integer" minOccurs="0" />
+   <xsd:element name="language" type="xsd:string" minOccurs="0" />
   </xsd:all>
  </xsd:complexType>
  <xsd:complexType name="UserData">
   <xsd:all>
    <xsd:element name="account_data" type="tns:AccountData" minOccurs="0"/>
@@ -189,10 +191,65 @@
    <xsd:restriction base="SOAP-ENC:Array">
     <xsd:attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="tns:HistoryData[]"/>
    </xsd:restriction>
   </xsd:complexContent>
  </xsd:complexType>
+ 
+ <xsd:complexType name="ConfigData">
+  <xsd:all>
+   <xsd:element name="config_id" type="xsd:string" minOccurs="0" />
+   <xsd:element name="config_option" type="xsd:string" minOccurs="0" />
+  </xsd:all>
+ </xsd:complexType>
+ <xsd:complexType name="ConfigDataArray">
+   <xsd:complexContent>
+    <xsd:restriction base="SOAP-ENC:Array">
+	<xsd:attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="tns:ConfigData[]" />
+	</xsd:restriction>
+   </xsd:complexContent>
+ </xsd:complexType>
+ <xsd:complexType name="ProjectStatusData">
+  <xsd:all>
+   <xsd:element name="id" type="xsd:integer" minOccurs="0" />
+   <xsd:element name="key" type="xsd:string" minOccurs="0" />
+   <xsd:element name="name" type="xsd:string" minOccurs="0" />
+   <xsd:element name="title" type="xsd:string" minOccurs="0" />
+  </xsd:all>
+ </xsd:complexType>
+ <xsd:complexType name="ProjectStatusDataArray">
+   <xsd:complexContent>
+    <xsd:restriction base="SOAP-ENC:Array">
+	<xsd:attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="tns:ProjectStatusData[]" />
+    </xsd:restriction>
+   </xsd:complexContent>
+ </xsd:complexType>
+ <xsd:complexType name="IssueHistoryData">
+   <xsd:all>
+    <xsd:element name="time" type="xsd:dateTime" minOccurs="0" />
+	<xsd:element name="value" type="xsd:integer" minOccurs="0" />
+   </xsd:all>
+ </xsd:complexType>
+ <xsd:complexType name="IssueHistoryDataArray">
+  <xsd:complexContent>
+   <xsd:restriction base="SOAP-ENC:Array">
+  	<xsd:attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="tns:IssueHistoryData[]" />
+   </xsd:restriction>
+  </xsd:complexContent>
+ </xsd:complexType>
+ <xsd:complexType name="IssueHistoryStatusData">
+  <xsd:all>
+   <xsd:element name="status" type="xsd:integer" minOccurs="0" />
+   <xsd:element name="history" type="tns:IssueHistoryDataArray" minOccurs="0" />
+  </xsd:all>
+ </xsd:complexType>
+ <xsd:complexType name="IssueHistoryStatusDataArray">
+  <xsd:complexContent>
+   <xsd:restriction base="SOAP-ENC:Array">
+   <xsd:attribute ref="SOAP-ENC:arrayType" wsdl:arrayType="tns:IssueHistoryStatusData[]" />
+   </xsd:restriction>
+  </xsd:complexContent>
+ </xsd:complexType>
  <xsd:complexType name="IssueHeaderData">
   <xsd:all>
    <xsd:element name="id" type="xsd:integer"/>
    <xsd:element name="view_state" type="xsd:integer"/>
    <xsd:element name="last_updated" type="xsd:dateTime"/>
@@ -217,10 +274,11 @@
   </xsd:complexContent>
  </xsd:complexType>
  <xsd:complexType name="ProjectData">
   <xsd:all>
    <xsd:element name="id" type="xsd:integer" minOccurs="0"/>
+   <xsd:element name="parent_id" type="xsd:integer" minOccurs="0" />
    <xsd:element name="name" type="xsd:string" minOccurs="0"/>
    <xsd:element name="status" type="tns:ObjectRef" minOccurs="0"/>
    <xsd:element name="enabled" type="xsd:boolean" minOccurs="0"/>
    <xsd:element name="view_state" type="tns:ObjectRef" minOccurs="0"/>
    <xsd:element name="access_min" type="tns:ObjectRef" minOccurs="0"/>
@@ -606,10 +664,22 @@
   <part name="name" type="xsd:string" />
   <part name="file_type" type="xsd:string" />
   <part name="content" type="xsd:base64Binary" /></message>
 <message name="mc_issue_attachment_addResponse">
   <part name="return" type="xsd:integer" /></message>
+<message name="mc_issue_attachment_uploader_addRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="user_uploader" type="tns:AccountData" />
+  <part name="name" type="xsd:string" />
+  <part name="file_type" type="xsd:string" />
+  <part name="content" type="xsd:base64Binary" />
+</message>
+<message name="mc_issue_attachment_uploader_addResponse">
+  <part name="return" type="xsd:integer" />
+</message>
 <message name="mc_issue_attachment_deleteRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="issue_attachment_id" type="xsd:integer" /></message>
 <message name="mc_issue_attachment_deleteResponse">
@@ -618,10 +688,45 @@
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="issue_attachment_id" type="xsd:integer" /></message>
 <message name="mc_issue_attachment_getResponse">
   <part name="return" type="xsd:base64Binary" /></message>
+<message name="mc_account_addRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="account" type="tns:AccountData" />
+  <part name="account_password" type="xsd:string" />
+</message>
+<message name="mc_account_addResponse">
+  <part name="return" type="xsd:integer" />
+</message>
+<message name="mc_account_getRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="account_username" type="xsd:string" />
+</message>
+<message name="mc_account_getResponse">
+  <part name="return" type="xsd:integer" />
+</message>
+<message name="mc_account_updateRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="account_id" type="xsd:integer" />
+  <part name="account" type="tns:AccountData" />
+  <part name="account_password" type="xsd:string" />
+</message>
+<message name="mc_account_updateResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_account_deleteRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="user_id" type="xsd:integer" />
+</message>
+<message name="mc_account_deleteResponse">
+  <part name="return" type="xsd:boolean" />
+</message> 
 <message name="mc_project_addRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="project" type="tns:ProjectData" /></message>
 <message name="mc_project_addResponse">
@@ -669,10 +774,29 @@
   <part name="project_id" type="xsd:integer" />
   <part name="page_number" type="xsd:integer" />
   <part name="per_page" type="xsd:integer" /></message>
 <message name="mc_project_get_issue_headersResponse">
   <part name="return" type="tns:IssueHeaderDataArray" /></message>
+<message name="mc_project_add_userRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="user_id" type="xsd:integer" />
+  <part name="access" type="xsd:integer" />
+</message>
+<message name="mc_project_add_userResponse">
+  <part name="return" type="xsd:integer" />
+</message>
+<message name="mc_project_remove_userRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="user_id" type="xsd:integer" />
+</message>
+<message name="mc_project_remove_userResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
 <message name="mc_project_get_usersRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="project_id" type="xsd:integer" />
   <part name="access" type="xsd:integer" /></message>
@@ -681,10 +805,17 @@
 <message name="mc_projects_get_user_accessibleRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" /></message>
 <message name="mc_projects_get_user_accessibleResponse">
   <part name="return" type="tns:ProjectDataArray" /></message>
+<message name="mc_projects_get_names_user_accessibleRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+</message>
+<message name="mc_projects_get_names_user_accessibleResponse">
+  <part name="return" type="tns:ProjectDataArray" />
+</message>
 <message name="mc_project_get_categoriesRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="project_id" type="xsd:integer" /></message>
 <message name="mc_project_get_categoriesResponse">
@@ -812,10 +943,26 @@
   <part name="filter_id" type="xsd:integer" />
   <part name="page_number" type="xsd:integer" />
   <part name="per_page" type="xsd:integer" /></message>
 <message name="mc_filter_get_issue_headersResponse">
   <part name="return" type="tns:IssueHeaderDataArray" /></message>
+<message name="mc_filter_addRequest">
+  <part name="username" type="xsd:string"/>
+  <part name="password" type="xsd:string"/>
+  <part name="project_id" type="xsd:integer"/>
+  <part name="is_public" type="xsd:boolean"/>
+  <part name="name" type="xsd:string"/>
+  <part name="filter_string" type="xsd:string"/></message>
+<message name="mc_filter_addResponse">
+  <part name="return" type="xsd:integer"/></message>
+<message name="mc_filter_deleteRequest">
+  <part name="username" type="xsd:string"/>
+  <part name="password" type="xsd:string"/>
+  <part name="project_id" type="xsd:integer"/>
+  <part name="filter_id" type="xsd:integer"/></message>
+<message name="mc_filter_deleteResponse">
+  <part name="return" type="xsd:boolean"/></message>
 <message name="mc_filter_search_issue_headersRequest">
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="filter" type="tns:FilterSearchData" />
   <part name="page_number" type="xsd:integer" />
@@ -883,10 +1030,168 @@
   <part name="username" type="xsd:string" />
   <part name="password" type="xsd:string" />
   <part name="tag_id" type="xsd:integer" /></message>
 <message name="mc_tag_deleteResponse">
   <part name="return" type="xsd:boolean" /></message>
+<message name="mc_issue_add_historyRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="issue_data" type="tns:HistoryData" />
+</message>
+<message name="mc_issue_add_historyResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_delete_historyRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+</message>
+<message name="mc_issue_delete_historyResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_delete_last_historyRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+</message>
+<message name="mc_issue_delete_last_historyResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_update_history_new_valueRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="old_new_value" type="xsd:integer" />
+  <part name="new_new_value" type="xsd:integer" />
+</message>
+<message name="mc_issue_update_history_new_valueResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_note_update_datesRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="note" type="tns:IssueNoteData" />
+</message>
+<message name="mc_issue_note_update_datesResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_note_update_reporterRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="note" type="tns:IssueNoteData" />
+</message>
+<message name="mc_issue_note_update_reporterResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_note_get_textRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="bug_note_id" type="xsd:integer" />
+</message>
+<message name="mc_issue_note_get_textResponse">
+  <part name="return" type="xsd:string" />
+</message>
+<message name="mc_issue_note_update_textRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="bug_note_id" type="xsd:integer" />
+  <part name="note_text" type="xsd:string" />
+</message>
+<message name="mc_issue_note_update_textResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_update_last_updatedRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="last_modified" type="xsd:dateTime" />
+</message>
+<message name="mc_issue_update_last_updatedResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_update_date_submittedRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="date_submitted" type="xsd:dateTime" />
+</message>
+<message name="mc_issue_update_date_submittedResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_add_custom_fieldRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="custom_field" type="tns:CustomFieldDefinitionData" />
+</message>
+<message name="mc_add_custom_fieldResponse">
+  <part name="return" type="xsd:integer" />
+</message>
+<message name="mc_link_custom_field_to_projectRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="custom_field_id" type="xsd:integer" />
+</message>
+<message name="mc_link_custom_field_to_projectResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_config_get_all_projectRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+</message>
+<message name="mc_config_get_all_projectResponse">
+  <part name="return" type="tns:ConfigDataArray" />
+</message>
+<message name="mc_config_set_projectRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="config" type="tns:ConfigData" />
+</message>
+<message name="mc_config_set_projectResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_config_delete_all_projectRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+</message>
+<message name="mc_config_delete_all_projectResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_issue_update_descriptionRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="issue_id" type="xsd:integer" />
+  <part name="description" type="xsd:string" />
+</message>
+<message name="mc_issue_update_descriptionResponse">
+  <part name="return" type="xsd:boolean" />
+</message>
+<message name="mc_project_get_statusesRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="locale" type="xsd:string" />
+</message>
+<message name="mc_project_get_statusesResponse">
+  <part name="return" type="tns:ProjectStatusDataArray" />
+</message>
+<message name="mc_project_get_issues_history_by_statusRequest">
+  <part name="username" type="xsd:string" />
+  <part name="password" type="xsd:string" />
+  <part name="project_id" type="xsd:integer" />
+  <part name="start" type="xsd:dateTime" />
+  <part name="end" type="xsd:dateTime" />
+  <part name="incr" type="xsd:integer" />
+  <part name="filter" type="tns:FilterDataArray" />
+</message>
+<message name="mc_project_get_issues_history_by_statusResponse">
+  <part name="return" type="tns:IssueHistoryStatusDataArray" />
+</message>
 <portType name="MantisConnectPortType">
   <operation name="mc_version">
     <input message="tns:mc_versionRequest"/>
     <output message="tns:mc_versionResponse"/>
   </operation>
@@ -983,10 +1288,101 @@
   <operation name="mc_issue_get_history">
     <documentation>Get the history of the issue with the specified id.</documentation>
     <input message="tns:mc_issue_get_historyRequest"/>
     <output message="tns:mc_issue_get_historyResponse"/>
   </operation>
+    <operation name="mc_issue_add_history">
+    <documentation>Log an history of the issue with the specified id.</documentation>
+    <input message="tns:mc_issue_add_historyRequest"/>
+    <output message="tns:mc_issue_add_historyResponse"/>
+  </operation>
+  <operation name="mc_issue_delete_history">
+    <documentation>Delete the whole history of the issue with the specified id.
+    </documentation>
+    <input message="tns:mc_issue_delete_historyRequest"/>
+    <output message="tns:mc_issue_delete_historyResponse"/>
+  </operation>
+  <operation name="mc_issue_delete_last_history">
+    <documentation>Delete the last history of the issue with the specified id.</documentation>
+    <input message="tns:mc_issue_delete_last_historyRequest"/>
+    <output message="tns:mc_issue_delete_last_historyResponse"/>
+  </operation>
+  <operation name="mc_issue_update_history_new_value">
+    <documentation>Update the field new value of an history.</documentation>
+    <input message="tns:mc_issue_update_history_new_valueRequest"/>
+    <output message="tns:mc_issue_update_history_new_valueResponse"/>
+  </operation>
+  <operation name="mc_issue_note_update_dates">
+    <documentation>Update last_modified and date_submitted field from a bugnote .</documentation>
+    <input message="tns:mc_issue_note_update_datesRequest"/>
+    <output message="tns:mc_issue_note_update_datesResponse"/>
+  </operation>
+  <operation name="mc_issue_note_update_reporter">
+    <documentation>Update the reporter of a bugnote.</documentation>
+    <input message="tns:mc_issue_note_update_reporterRequest"/>
+    <output message="tns:mc_issue_note_update_reporterResponse"/>
+ </operation>
+ <operation name="mc_issue_note_get_text">
+    <documentation>Get the text of a bugnote.</documentation>
+    <input message="tns:mc_issue_note_get_textRequest"/>
+    <output message="tns:mc_issue_note_get_textResponse"/>
+  </operation>
+  <operation name="mc_issue_note_update_text">
+    <documentation>Update the text of a bugnote.</documentation>
+    <input message="tns:mc_issue_note_update_textRequest"/>
+    <output message="tns:mc_issue_note_update_textResponse"/>
+  </operation>
+    <operation name="mc_issue_update_last_updated">
+    <documentation>Update the last_updated field of an issue.</documentation>
+    <input message="tns:mc_issue_update_last_updatedRequest"/>
+    <output message="tns:mc_issue_update_last_updatedResponse"/>
+  </operation>
+    <operation name="mc_issue_update_date_submitted">
+    <documentation>Update the date_submitted of an issue.</documentation>
+    <input message="tns:mc_issue_update_date_submittedRequest"/>
+    <output message="tns:mc_issue_update_date_submittedResponse"/>
+  </operation>
+  <operation name="mc_add_custom_field">
+    <documentation>Create a custom field.</documentation>
+    <input message="tns:mc_add_custom_fieldRequest"/>
+    <output message="tns:mc_add_custom_fieldResponse"/>
+  </operation>
+    <operation name="mc_link_custom_field_to_project">
+    <documentation>Link a custom field to a project.</documentation>
+    <input message="tns:mc_link_custom_field_to_projectRequest"/>
+    <output message="tns:mc_link_custom_field_to_projectResponse"/>
+  </operation>
+  <operation name="mc_config_get_all_project">
+    <documentation>Get all the configuration linked to a project.</documentation>
+    <input message="tns:mc_config_get_all_projectRequest"/>
+    <output message="tns:mc_config_get_all_projectResponse"/>
+  </operation>
+    <operation name="mc_config_set_project">
+    <documentation>Create a custom config.</documentation>
+    <input message="tns:mc_config_set_projectRequest"/>
+    <output message="tns:mc_config_set_projectResponse"/>
+    </operation>
+  <operation name="mc_config_delete_all_project">
+    <documentation>Delete all config from project.</documentation>
+    <input message="tns:mc_config_delete_all_projectRequest"/>
+    <output message="tns:mc_config_delete_all_projectResponse"/>
+  </operation>
+  <operation name="mc_issue_update_description">
+    <documentation>Update the summary of an issue.</documentation>
+    <input message="tns:mc_issue_update_descriptionRequest"/>
+    <output message="tns:mc_issue_update_descriptionResponse"/>
+  </operation>
+    <operation name="mc_project_get_statuses">
+    <documentation>Get all the status used by the project.</documentation>
+    <input message="tns:mc_project_get_statusesRequest"/>
+    <output message="tns:mc_project_get_statusesResponse"/>
+  </operation>
+  <operation name="mc_project_get_issues_history_by_status">
+    <documentation>Get all the status used by the project.</documentation>
+    <input message="tns:mc_project_get_issues_history_by_statusRequest"/>
+    <output message="tns:mc_project_get_issues_history_by_statusResponse"/>
+  </operation>
   <operation name="mc_issue_get_biggest_id">
     <documentation>Get the latest submitted issue in the specified project.</documentation>
     <input message="tns:mc_issue_get_biggest_idRequest"/>
     <output message="tns:mc_issue_get_biggest_idResponse"/>
   </operation>
@@ -1043,20 +1439,45 @@
   <operation name="mc_issue_attachment_add">
     <documentation>Submit a new issue attachment.</documentation>
     <input message="tns:mc_issue_attachment_addRequest"/>
     <output message="tns:mc_issue_attachment_addResponse"/>
   </operation>
+  <operation name="mc_issue_attachment_uploader_add">
+    <documentation>Submit a new issue attachment with a specific uploader.</documentation>
+    <input message="tns:mc_issue_attachment_uploader_addRequest"/>
+    <output message="tns:mc_issue_attachment_uploader_addResponse"/>
+  </operation> 
   <operation name="mc_issue_attachment_delete">
     <documentation>Delete the issue attachment with the specified id.</documentation>
     <input message="tns:mc_issue_attachment_deleteRequest"/>
     <output message="tns:mc_issue_attachment_deleteResponse"/>
   </operation>
   <operation name="mc_issue_attachment_get">
     <documentation>Get the data for the specified issue attachment.</documentation>
     <input message="tns:mc_issue_attachment_getRequest"/>
     <output message="tns:mc_issue_attachment_getResponse"/>
   </operation>
+  <operation name="mc_account_add">
+    <documentation>Add a new user to the tracker (must have admin privileges)</documentation>
+    <input message="tns:mc_account_addRequest"/>
+    <output message="tns:mc_account_addResponse"/>
+  </operation>
+  <operation name="mc_account_get">
+    <documentation>Get a user account id from username on the tracker (must have admin privileges)</documentation>
+    <input message="tns:mc_account_getRequest"/>
+    <output message="tns:mc_account_getResponse"/>
+  </operation>
+  <operation name="mc_account_update">
+    <documentation>Update a user account on the tracker (must have admin privileges)</documentation>
+    <input message="tns:mc_account_updateRequest"/>
+    <output message="tns:mc_account_updateResponse"/>
+ </operation>
+ <operation name="mc_account_delete">
+    <documentation>Delete a user account on the tracker (must have admin privileges)</documentation>
+    <input message="tns:mc_account_deleteRequest"/>
+    <output message="tns:mc_account_deleteResponse"/>
+  </operation>  
   <operation name="mc_project_add">
     <documentation>Add a new project to the tracker (must have admin privileges)</documentation>
     <input message="tns:mc_project_addRequest"/>
     <output message="tns:mc_project_addResponse"/>
   </operation>
@@ -1088,20 +1509,35 @@
   <operation name="mc_project_get_issue_headers">
     <documentation>Get the issue headers that match the specified project id and paging details. Pass &quot;-1&quot; for the per_page parameter to get all issues.</documentation>
     <input message="tns:mc_project_get_issue_headersRequest"/>
     <output message="tns:mc_project_get_issue_headersResponse"/>
   </operation>
+   <operation name="mc_project_add_user">
+    <documentation>Add a user to a project with access level.</documentation>
+    <input message="tns:mc_project_add_userRequest"/>
+    <output message="tns:mc_project_add_userResponse"/>
+  </operation>
+  <operation name="mc_project_remove_user">
+    <documentation>Remove a user from a project.</documentation>
+    <input message="tns:mc_project_remove_userRequest"/>
+    <output message="tns:mc_project_remove_userResponse"/>
+  </operation> 
   <operation name="mc_project_get_users">
     <documentation>Get appropriate users assigned to a project by access level.</documentation>
     <input message="tns:mc_project_get_usersRequest"/>
     <output message="tns:mc_project_get_usersResponse"/>
   </operation>
   <operation name="mc_projects_get_user_accessible">
     <documentation>Get the list of projects that are accessible to the logged in user.</documentation>
     <input message="tns:mc_projects_get_user_accessibleRequest"/>
     <output message="tns:mc_projects_get_user_accessibleResponse"/>
   </operation>
+  <operation name="mc_projects_get_names_user_accessible">
+    <documentation>Get the list of name/id of projects that are accessible to the logged in user.</documentation>
+    <input message="tns:mc_projects_get_names_user_accessibleRequest" />
+    <output message="tns:mc_projects_get_names_user_accessibleResponse" />
+  </operation>
   <operation name="mc_project_get_categories">
     <documentation>Get the categories belonging to the specified project.</documentation>
     <input message="tns:mc_project_get_categoriesRequest"/>
     <output message="tns:mc_project_get_categoriesResponse"/>
   </operation>
@@ -1193,10 +1629,20 @@
   <operation name="mc_filter_get_issue_headers">
     <documentation>Get the issue headers that match the specified filter and paging details.  Pass &quot;-1&quot; for the per_page parameter to get all issues.</documentation>
     <input message="tns:mc_filter_get_issue_headersRequest"/>
     <output message="tns:mc_filter_get_issue_headersResponse"/>
   </operation>
+  <operation name="mc_filter_add">
+    <documentation>Add the filter defined for the specified project.</documentation>
+    <input message="tns:mc_filter_addRequest"/>
+    <output message="tns:mc_filter_addResponse"/>
+  </operation>
+  <operation name="mc_filter_delete">
+    <documentation>Delete the filter with a given id.</documentation>
+    <input message="tns:mc_filter_deleteRequest"/>
+    <output message="tns:mc_filter_deleteResponse"/>
+  </operation>
   <operation name="mc_filter_search_issue_headers">
     <documentation>Get the issue headers that match the custom filter and paging details.</documentation>
     <input message="tns:mc_filter_search_issue_headersRequest"/>
     <output message="tns:mc_filter_search_issue_headersResponse"/>
   </operation>
@@ -1247,371 +1693,511 @@
   </operation>
 </portType>
 <binding name="MantisConnectBinding" type="tns:MantisConnectPortType">
   <soap:binding style="rpc" transport="http://schemas.xmlsoap.org/soap/http"/>
   <operation name="mc_version">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_version" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_version" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_login">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_login" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_login" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_status">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_status" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_status" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_priorities">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_priorities" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_priorities" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_severities">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_severities" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_severities" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_reproducibilities">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_reproducibilities" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_reproducibilities" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_projections">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_projections" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_projections" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_etas">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_etas" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_etas" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_resolutions">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_resolutions" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_resolutions" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_access_levels">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_access_levels" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_access_levels" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_project_status">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_project_status" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_project_status" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_project_view_states">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_project_view_states" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_project_view_states" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_view_states">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_view_states" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_view_states" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_custom_field_types">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_custom_field_types" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_custom_field_types" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_enum_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_enum_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_enum_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_exists">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_exists" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_exists" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issues_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issues_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issues_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issues_get_header">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issues_get_header" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issues_get_header" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_get_history">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_get_history" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_get_history" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_get_biggest_id">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_get_biggest_id" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_get_biggest_id" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_get_id_from_summary">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_get_id_from_summary" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_get_id_from_summary" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_update">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_update" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_update" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_set_tags">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_set_tags" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_set_tags" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_note_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_note_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_note_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_note_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_note_update">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_note_update" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_update" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_relationship_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_relationship_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_relationship_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_relationship_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_relationship_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_relationship_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_attachment_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_attachment_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_attachment_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_attachment_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_attachment_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_attachment_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_attachment_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_attachment_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_attachment_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_update">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_update" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_update" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_id_from_name">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_id_from_name" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_id_from_name" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_issues_for_user">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_issues_for_user" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_issues_for_user" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_issues">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_issues" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_issues" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_issue_headers">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_issue_headers" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_issue_headers" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
+    <operation name="mc_project_add_user">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_add_user" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_project_remove_user">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_remove_user" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
   <operation name="mc_project_get_users">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_users" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_users" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_projects_get_user_accessible">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_projects_get_user_accessible" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_projects_get_user_accessible" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
+  <operation name="mc_projects_get_names_user_accessible">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_projects_get_names_user_accessible" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
   <operation name="mc_project_get_categories">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_categories" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_categories" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_add_category">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_add_category" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_add_category" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_delete_category">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_delete_category" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_delete_category" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_rename_category_by_name">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_rename_category_by_name" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_rename_category_by_name" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_versions">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_versions" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_versions" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_version_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_version_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_version_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_version_update">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_version_update" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_version_update" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_version_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_version_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_version_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_released_versions">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_released_versions" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_released_versions" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_unreleased_versions">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_unreleased_versions" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_unreleased_versions" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_attachments">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_attachments" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_attachments" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_custom_fields">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_custom_fields" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_custom_fields" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_attachment_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_attachment_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_attachment_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_attachment_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_attachment_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_attachment_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_attachment_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_attachment_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_attachment_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_project_get_all_subprojects">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_project_get_all_subprojects" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_all_subprojects" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_get">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_get" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_get" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_get_issues">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_get_issues" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_get_issues" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_get_issue_headers">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_get_issue_headers" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_get_issue_headers" style="rpc"/>
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
+  </operation>
+  <operation name="mc_filter_add">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_add" style="rpc"/>
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
+  </operation>
+  <operation name="mc_filter_delete">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_search_issue_headers">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_search_issue_headers" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_search_issue_headers" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_search_issues">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_search_issues" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_search_issues" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_filter_search_issue_ids">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_filter_search_issue_ids" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_filter_search_issue_ids" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_config_get_string">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_config_get_string" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_config_get_string" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_issue_checkin">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_issue_checkin" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_checkin" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_user_pref_get_pref">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_user_pref_get_pref" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_user_pref_get_pref" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_user_profiles_get_all">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_user_profiles_get_all" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_user_profiles_get_all" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_tag_get_all">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_tag_get_all" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_tag_get_all" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_tag_add">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_tag_add" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_tag_add" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
   <operation name="mc_tag_delete">
-    <soap:operation soapAction="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php/mc_tag_delete" style="rpc"/>
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_tag_delete" style="rpc"/>
     <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></input>
     <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"/></output>
   </operation>
+  <operation name="mc_issue_add_history">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_add_history" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_delete_history">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_delete_history" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_delete_last_history">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_delete_last_history" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_update_history_new_value">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_update_history_new_value" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_note_update_dates">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_update_dates" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_note_update_reporter">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_update_reporter" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_note_get_text">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_get_text" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_note_update_text">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_note_update_text" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_update_last_updated">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_update_last_updated" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_update_date_submitted">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_update_date_submitted" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_add_custom_field">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_add_custom_field" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_link_custom_field_to_project">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_link_custom_field_to_project" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_config_get_all_project">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_config_get_all_project" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_config_set_project">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_config_set_project" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_config_delete_all_project">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_config_delete_all_project" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_update_description">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_update_description" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_project_get_statuses">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_statuses" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_project_get_issues_history_by_status">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_project_get_issues_history_by_status" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_issue_attachment_uploader_add">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_issue_attachment_uploader_add" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_account_add">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_account_add" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_account_get">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_account_get" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_account_update">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_account_update" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>
+  <operation name="mc_account_delete">
+    <soap:operation soapAction="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php/mc_account_delete" style="rpc" />
+    <input><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></input>
+    <output><soap:body use="encoded" namespace="http://futureware.biz/mantisconnect" encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" /></output>
+  </operation>  
 </binding>
 <service name="MantisConnect">
   <port name="MantisConnectPort" binding="tns:MantisConnectBinding">
-    <soap:address location="http://www.mantisbt.org/bugs/api/soap/mantisconnect.php"/>
+    <soap:address location="http://localhost/mantis-default/mantis/api/soap/mantisconnect.php"/>
   </port>
 </service>
 </definitions>
diff -rNU5 mantisbt/api/soap/mc_account_api.php mantisbt-2.0.0/api/soap/mc_account_api.php
--- mantisbt/api/soap/mc_account_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_account_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 /**
  * Get username, realname and email from for a given user id
@@ -78,5 +79,192 @@
 		$t_result[] = mci_account_get_array_by_id( $t_user_id );
 	}
 
 	return $t_result;
 }
+
+/** 
+* Add a new user.
+*
+* @param string $p_username  The name of the user trying to create an account.
+* @param string $p_password  The password of the user.
+* @param Array $p_user A new AccountData structure
+* @return integer the new users's users_id
+*/
+function mc_account_add( $p_username, $p_password, $p_user, $p_pass ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );               
+	if ( $t_user_id === false ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access denied. Username/password combination was incorrect' );
+	}
+
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access denied. User does not have administrator access' );
+	}
+
+	//extract( $p_user, EXTR_PREFIX_ALL, 'v');
+
+	// validate user object
+	if ( is_blank($p_user->name) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "name" was missing');
+	if ( is_blank($p_user->real_name) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "real_name" was missing');
+	if ( is_blank($p_user->email) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "email" was missing');
+
+	if ( !user_is_name_valid( $p_user->name ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'user name invalid');
+	if ( !user_is_name_unique( $p_user->name ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'user name exists');
+	if ( !user_is_email_unique( $p_user->email ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Email exists');	
+	if ( !email_is_valid( $p_user->email ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Email invalid');
+
+	// set defaults
+	if ( is_null( $p_user->access ) ) $p_user->access = config_get( 'default_new_account_access_level' );
+
+	// create user account and get it's id
+	user_create($p_user->name, $p_pass, $p_user->email, $p_user->access, false, true, $p_user->real_name);
+	$t_user_id = user_get_id_by_name($p_user->name);
+
+	// Define user language
+	if ( !is_blank($p_user->language) )
+	{
+		if($p_user->language == "FR")
+			$mantis_language = "french";
+		else
+			$mantis_language = "english";
+		user_pref_set_pref( $t_user_id, 'language', $mantis_language );
+	}
+	// return id of new user back to caller
+	return $t_user_id;
+}
+
+/** 
+* Get user id from username
+*
+* @param string $p_username  The name of the user trying to create an account.
+* @param string $p_password  The password of the user.
+* @param string $p_user_account The username of the user account wanted
+* @return account's id
+
+*/
+function mc_account_get( $p_username, $p_password, $p_account_username ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );               
+	if ( $t_user_id === false ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access Denied. Username/password combination was incorrect');
+	}
+
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access Denied. User does not have administrator access');
+	}
+
+	if ( (is_null($p_account_username)) || (is_blank($p_account_username)) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "account_username" was missing');
+
+	//Get content user account information
+	$row = user_get_row_by_name($p_account_username);
+	$user_id = $row['id'];
+		
+	// Return whole information
+	return $user_id;
+}
+
+/** 
+* Update a user.
+*
+* @param string $p_username  The name of the user trying to create an account.
+* @param string $p_password  The password of the user.
+* @param integer $p_user_id A user's id
+* @param Array $p_user A new AccountData structure
+* @return boolean
+*/
+function mc_account_update( $p_username, $p_password, $p_user_id, $p_user, $p_pass ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );               
+	if ( $t_user_id === false ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access Denied. Username/password combination was incorrect');
+	}
+
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access denied. User does not have administrator access' );
+	}
+
+	if ( (is_null($p_user_id)) || (is_blank($p_user_id)) ) 
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "id" was missing');
+	//Add check if user exists
+	if ( !user_exists($p_user_id) ) 
+	return SoapObjectsFactory::newSoapFault( 'Client', 'The user id doesn t exist' );
+
+	
+	//Get content user account information
+	$row = user_get_row($p_user_id);
+	
+	//Check if username needs to be updated
+   	if ( (isset( $p_user->name )) && (!is_null($p_user->name)) && (!is_blank($p_user->name)) ) {
+    
+		if ( $row['username'] != $p_user->name ) {
+			if ( !user_is_name_valid( $p_user->name ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'user name invalid');
+			if ( !user_is_name_unique( $p_user->name ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'user name exists');
+			user_set_name( $p_user_id, $p_user->name );
+		}
+    	}
+	
+	//Check if real name needs to be updated
+   	if ( (isset( $p_user->real_name )) && (!is_null($p_user->real_name)) && (!is_blank($p_user->real_name)) ){
+		if ( $row['realname'] != $p_user->real_name) {
+			if ( !user_is_realname_valid( $p_user->real_name) ) return SoapObjectsFactory::newSoapFault( 'Client', 'real name invalid');
+			user_set_realname( $p_user_id, $p_user->real_name);
+		}
+	}
+	
+	//Check if email needs to be updated
+	if ( (isset( $p_user->email )) && (!is_null($p_user->email)) && (!is_blank($p_user->email)) ) {
+		if ( $row['email'] != $p_user->email ) {
+			if ( !email_is_valid( $p_user->email ) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Email invalid');
+			user_set_email( $p_user_id, $p_user->email );
+		}	
+	}
+	
+	//Check if access level needs to be updated
+	if ( (isset( $p_user->access )) &&(!is_null($p_user->access)) && (!is_blank($p_user->access)) && ($p_user->access != 0) ) {
+		if ( $row['access_level'] != $p_user->access ) {
+			user_set_field( $p_user_id, 'access_level', $p_user->access );
+		}
+	}
+	
+	//Check if password needs to be updated
+	if ( !is_blank($p_pass) ) {
+		user_set_password( $p_user_id, $p_pass, false );
+	}
+
+	// Update Language
+        if ( !is_blank($p_user->language) )
+        {
+                if($p_user->language == "FR")
+                        $mantis_language = "french";
+                else
+                        $mantis_language = "english";
+                user_pref_set_pref( $p_user_id, 'language', $mantis_language );
+        }
+
+	
+	// return id of user back to caller
+	return true;
+}
+
+/** 
+* Delete a user.
+*
+* @param string $p_username  The name of the user trying to create an account.
+* @param string $p_password  The password of the user.
+* @param Array $p_id the uers_id
+* @return boolean about success
+*/
+function mc_account_delete( $p_username, $p_password, $p_user_id ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );               
+	if ( $t_user_id === false ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access Denied. Username/password combination was incorrect');
+	}
+
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return SoapObjectsFactory::newSoapFault( 'Client', 'Access Denied. User does not have administrator access');
+	}
+
+	if ( (is_null($p_user_id)) || (is_blank($p_user_id)) ) return SoapObjectsFactory::newSoapFault( 'Client', 'Mandatory field "id" was missing');
+		
+	user_delete( $p_user_id );
+	
+	return true;
+}
+
diff -rNU5 mantisbt/api/soap/mc_api.php mantisbt-2.0.0/api/soap/mc_api.php
--- mantisbt/api/soap/mc_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 # set up error_handler() as the new default error handling function
 set_error_handler( 'mc_error_handler' );
@@ -421,11 +422,11 @@
 }
 
 /**
  * Gets the url for MantisBT.
  *
- * @return string MantisBT URL terminated by a /.
+ * @return MantisBT URL terminated by a /.
  */
 function mci_get_mantis_path() {
 	return config_get( 'path' );
 }
 
@@ -474,10 +475,24 @@
 	}
 
 	return $t_result;
 }
 
+# Gets the name/id of all sub-projects that are accessible to the specified user / project.
+function mci_user_get_names_accessible_subprojects( $p_user_id, $p_parent_project_id ) {
+	$t_result = array();
+	foreach( user_get_accessible_subprojects( $p_user_id, $p_parent_project_id ) as $t_subproject_id ) {
+		$t_subproject_row = project_cache_row( $t_subproject_id );
+		$t_subproject = array();
+		$t_subproject['id'] = $t_subproject_id;
+		$t_subproject['name'] = $t_subproject_row['name'];
+		$t_subproject['subprojects'] = mci_user_get_names_accessible_subprojects( $p_user_id, $t_subproject_id );
+		$t_result[] = $t_subproject;
+	}
+	return $t_result;
+}
+
 /**
  * Convert a category name to a category id for a given project
  * @param string  $p_category_name Category name.
  * @param integer $p_project_id    Project id.
  * @return integer category id or 0 if not found
diff -rNU5 mantisbt/api/soap/mc_config_api.php mantisbt-2.0.0/api/soap/mc_config_api.php
--- mantisbt/api/soap/mc_config_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_config_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 /**
  * Get config string
@@ -49,5 +50,93 @@
 	}
 
 	return config_get( $p_config_var );
 }
 
+/* ***** Novaforge ***** */
+/**
+ * Get all the configs linked to a project
+ *
+ * @param string $p_username  The name of the user.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_project_id  The project linked to the configs to get.
+ * @return array of mantis configuration
+ */
+function mc_config_get_all_project( $p_username, $p_password, $p_project_id ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !mci_has_readonly_access( $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$t_result = array();
+	foreach ( config_get_all_project( $p_project_id ) as $config_id => $config_option) {
+		$t_config = array();
+		$t_config['config_id'] = $config_id;
+		if (gettype($config_option) == 'array'){
+			$config_option = serialize($config_option);
+		}
+		$t_config['config_option'] = $config_option;
+		$t_result[] = $t_config;
+	}
+
+	return $t_result;
+}
+
+/**
+ * Add a custom config to a project
+ *
+ * @param string $p_username  The name of the user.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_project_id  The project linked to the configs to add.
+ * @param object $p_config The config to add
+ * @return true
+ */
+function mc_config_set_project( $p_username, $p_password, $p_project_id, $p_config ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !mci_has_readonly_access( $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	$p_config = (array) $p_config;
+	$pos = strpos($p_config['config_option'], ";");
+	if ($pos !== false){
+		$p_config['config_option'] = unserialize($p_config['config_option']);
+	}
+	config_set($p_config['config_id'], $p_config['config_option'], NO_USER, $p_project_id, 90);
+	
+	config_flush_cache();
+	
+	return true;
+}
+
+/**
+ * Delete all the configuration of a project
+ *
+ * @param string $p_username  The name of the user.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_project_id  The project linked to the configs to delete.
+ * @return true
+ */
+function mc_config_delete_all_project( $p_username, $p_password, $p_project_id) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !mci_has_readonly_access( $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	config_delete_project($p_project_id);
+	
+	return true;
+}
+/* ***** Novaforge ***** */
+
+
diff -rNU5 mantisbt/api/soap/mc_core.php mantisbt-2.0.0/api/soap/mc_core.php
--- mantisbt/api/soap/mc_core.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_core.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 # constants and configurations
 $t_current_dir = dirname( __FILE__ ) . '/';
@@ -41,7 +42,8 @@
 require_once( $t_current_dir . 'mc_config_api.php' );
 require_once( $t_current_dir . 'mc_custom_field_api.php' );
 require_once( $t_current_dir . 'mc_user_pref_api.php' );
 require_once( $t_current_dir . 'mc_tag_api.php' );
 require_once( $t_current_dir . 'mc_user_profile_api.php' );
+require_once( $t_current_dir . 'mc_history_api.php' );
 
 unset( $t_current_dir );
diff -rNU5 mantisbt/api/soap/mc_custom_field_api.php mantisbt-2.0.0/api/soap/mc_custom_field_api.php
--- mantisbt/api/soap/mc_custom_field_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_custom_field_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 /**
  * Get the custom field id given an object ref.  The id is set based on the following algorithm:
@@ -45,5 +46,52 @@
 		}
 	}
 
 	return $t_id;
 }
+
+/* ***** Novaforge ***** */
+
+/**
+ * Add a custom field given an object ref.
+ *
+ * @param string $p_username  The name of the user.
+ * @param string $p_password  The password of the user.
+ * @param CustomFieldDefinitionData  $p_object_ref.
+ */
+function mc_add_custom_field( $p_username, $p_password, $p_object_ref ) {
+	
+	$p_object_ref = (array) $p_object_ref;
+    $p_object_ref['field'] = (array) $p_object_ref['field'];
+	if ( custom_field_is_name_unique($p_object_ref['field']['name']) == true ){
+		// Create the custom field and get it's id.
+		$t_custom_field_id = custom_field_create($p_object_ref['field']['name']);
+	} else {
+		// Get custum field ID
+		$t_custom_field_id = custom_field_get_id_from_name($p_object_ref['field']['name']);
+	}
+	
+	$p_object_ref['name'] = $p_object_ref['field']['name'];
+	unset($p_object_ref['field']);
+	unset($p_object_ref['advanced']);
+	
+	// Update the custom field.
+	custom_field_update($t_custom_field_id, $p_object_ref);
+		
+	return $t_custom_field_id;
+}
+
+/**
+ * Link a custom field to a project.
+ * 
+ * @param string $p_username  The name of the user.
+ * @param string $p_password  The password of the user.
+ * @param int $p_project_id The id of the project to link with the custom field.
+ * @param int $p_custum_field_id The project id tho link with the project
+ */
+function mc_link_custom_field_to_project( $p_username, $p_password, $p_project_id, $p_custum_field_id ) {
+	
+	custom_field_link($p_custum_field_id, $p_project_id);
+	
+	return true;
+}
+/* ***** Novaforge ***** */
\ No newline at end of file
diff -rNU5 mantisbt/api/soap/mc_issue_api.php mantisbt-2.0.0/api/soap/mc_issue_api.php
--- mantisbt/api/soap/mc_issue_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_issue_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 require_once( dirname( __FILE__ ) . '/mc_core.php' );
 
@@ -710,16 +711,18 @@
 	$t_category_id = translate_category_name_to_id( $t_category, $t_project_id );
 	if( $t_category_id == 0 && !config_get( 'allow_no_category' ) ) {
 		if( !isset( $p_issue['category'] ) || is_blank( $p_issue['category'] ) ) {
 			return SoapObjectsFactory::newSoapFault( 'Client', 'Category field must be supplied.' );
 		} else {
-			return SoapObjectsFactory::newSoapFault( 'Client', 'Category \'' . $p_issue['category'] . '\' not found for project \'' . $t_project_id . '\'.' );
+			category_add( $t_project_id, $t_category );
+			$t_category_id = translate_category_name_to_id( $t_category, $t_project_id );
 		}
 	}
 
 	if( isset( $p_issue['version'] ) && !is_blank( $p_issue['version'] ) && !version_get_id( $p_issue['version'], $t_project_id ) ) {
-		$t_version = $p_issue['version'];
+		$t_date_submitted = $p_issue['date_submitted'];
+		$t_version = isset($p_issue['version']) ? $p_issue['version'] : '';
 
 		$t_error_when_version_not_found = config_get( 'webservice_error_when_version_not_found' );
 		if( $t_error_when_version_not_found == ON ) {
 			$t_project_name = project_get_name( $t_project_id );
 			return SoapObjectsFactory::newSoapFault( 'Client', 'Version \'' . $t_version . '\' does not exist in project \'' . $t_project_name . '\'.' );
@@ -790,14 +793,13 @@
 	$t_bug_data->process_mentions();
 
 	log_event( LOG_WEBSERVICE, 'created new issue id \'' . $t_issue_id . '\'' );
 
 	$t_set_custom_field_error = mci_issue_set_custom_fields( $t_issue_id, $p_issue['custom_fields'], false );
-	if( $t_set_custom_field_error != null ) {
-		return $t_set_custom_field_error;
-	}
-
+    if ($t_set_custom_field_error) {
+	        return SoapObjectsFactory::newSoapFault('Client', "mci_issue_set_custom_fields failed" . $t_set_custom_field_error);
+    }
 	if( isset( $p_issue['monitors'] ) ) {
 		mci_issue_set_monitors( $t_issue_id, $t_user_id, $p_issue['monitors'] );
 	}
 
 	if( isset( $t_notes ) && is_array( $t_notes ) ) {
@@ -819,11 +821,11 @@
 				$t_note['text'],
 				mci_get_time_tracking_from_note( $t_issue_id, $t_note ),
 				$t_view_state_id == VS_PRIVATE,
 				$t_note_type,
 				$t_note_attr,
-				$t_user_id,
+				$t_reporter_id,
 				false ); # don't send mail
 
 			bugnote_process_mentions( $t_issue_id, $t_note_id, $t_note['text'] );
 
 			log_event( LOG_WEBSERVICE, 'bugnote id \'' . $t_note_id . '\' added to issue \'' . $t_issue_id . '\'' );
@@ -906,12 +908,12 @@
 	$t_category_id = translate_category_name_to_id( $t_category, $t_project_id );
 	if( $t_category_id == 0 && !config_get( 'allow_no_category' ) ) {
 		if( isset( $p_issue['category'] ) && !is_blank( $p_issue['category'] ) ) {
 			return SoapObjectsFactory::newSoapFault( 'Client', 'Category field must be supplied.' );
 		} else {
-			$t_project_name = project_get_name( $t_project_id );
-			return SoapObjectsFactory::newSoapFault( 'Client', 'Category \'' . $p_issue['category'] . '\' not found for project \'' . $t_project_name . '\'.' );
+			category_add( $t_project_id, $t_category );
+			$t_category_id = translate_category_name_to_id( $t_category, $t_project_id );
 		}
 	}
 
 	if( isset( $p_issue['version'] ) && !is_blank( $p_issue['version'] ) && !version_get_id( $p_issue['version'], $t_project_id ) ) {
 		$t_error_when_version_not_found = config_get( 'webservice_error_when_version_not_found' );
@@ -1751,5 +1753,507 @@
         $t_result[] = mci_issue_data_as_header_array( $t_issue_data );
     }
 
     return $t_result;
 }
+
+
+/**
+* Add an history details about an issue.
+*
+* @param string $p_username  The name of the user trying to access the issue.
+* @param string $p_password  The password of the user.
+* @param integer $p_issue_id  The id of the issue to log.
+* @param $p_object_ref $p_history_data  The history data to add.
+* @return a boolean
+*/
+function mc_issue_add_history( $p_username, $p_password, $p_issue_id, $p_history_data ) {
+    global $g_project_override;
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return SoapObjectsFactory::newSoapFault('Client', 'Issue does not exist');
+	}
+
+	$t_project_id = bug_get_field( $p_issue_id, 'project_id' );
+	if( !mci_has_readonly_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	$g_project_override = $t_project_id;
+
+	if( !access_has_bug_level( VIEWER, $p_issue_id, $t_user_id ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	$t_user_access_level = user_get_access_level( $t_user_id, $t_project_id );
+	if( !access_compare_level( $t_user_access_level, config_get( 'view_history_threshold' ) ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$p_history_data = (array) $p_history_data;
+
+	history_log_event_direct_with_date( $p_issue_id, $p_history_data['field'], $p_history_data['old_value'], $p_history_data['new_value'], $p_history_data['userid'], $p_history_data['type'], $p_history_data['date'] );
+
+	return TRUE;
+}
+
+/**
+* Delete the whole history details about an issue.
+*
+* @param string $p_username  The name of the user trying to access the issue.
+* @param string $p_password  The password of the user.
+* @param integer $p_issue_id  The id of the issue to log.
+* @return a boolean
+*/
+function mc_issue_delete_history( $p_username, $p_password, $p_issue_id ) {
+    global $g_project_override;
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return SoapObjectsFactory::newSoapFault('Client', 'Issue does not exist');
+	}
+
+	$t_project_id = bug_get_field( $p_issue_id, 'project_id' );
+	if( !mci_has_readonly_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	$g_project_override = $t_project_id;
+
+	if( !access_has_bug_level( VIEWER, $p_issue_id, $t_user_id ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	$t_user_access_level = user_get_access_level( $t_user_id, $t_project_id );
+	if( !access_compare_level( $t_user_access_level, config_get( 'view_history_threshold' ) ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	history_delete( $p_issue_id );
+
+	return TRUE;
+}
+
+/**
+* Delete the last history details about an issue.
+*
+* @param string $p_username  The name of the user trying to access the issue.
+* @param string $p_password  The password of the user.
+* @param integer $p_issue_id  The id of the issue to log.
+* @return a boolean
+*/
+function mc_issue_delete_last_history( $p_username, $p_password, $p_issue_id ) {
+    global $g_project_override;
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return SoapObjectsFactory::newSoapFault('Client', 'Issue does not exist');
+	}
+
+	$t_project_id = bug_get_field( $p_issue_id, 'project_id' );
+	if( !mci_has_readonly_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	$g_project_override = $t_project_id;
+
+	if( !access_has_bug_level( VIEWER, $p_issue_id, $t_user_id ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	$t_user_access_level = user_get_access_level( $t_user_id, $t_project_id );
+	if( !access_compare_level( $t_user_access_level, config_get( 'view_history_threshold' ) ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	history_delete_last( $p_issue_id );
+
+	return TRUE;
+}
+
+/**
+* Delete the last history details about an issue.
+*
+* @param string $p_username  The name of the user trying to access the issue.
+* @param string $p_password  The password of the user.
+* @param integer $p_issue_id  The id of the issue to log.
+* @param string $p_old_new_value The old value to be updated
+* @param string $p_new_new_value The old value to update
+* @return a boolean
+*/
+function mc_issue_update_history_new_value( $p_username, $p_password, $p_issue_id, $p_old_new_value, $p_new_new_value) {
+    global $g_project_override;
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return SoapObjectsFactory::newSoapFault('Client', 'Issue does not exist');
+	}
+
+	$t_project_id = bug_get_field( $p_issue_id, 'project_id' );
+	if( !mci_has_readonly_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	$g_project_override = $t_project_id;
+
+	if( !access_has_bug_level( VIEWER, $p_issue_id, $t_user_id ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	$t_user_access_level = user_get_access_level( $t_user_id, $t_project_id );
+	if( !access_compare_level( $t_user_access_level, config_get( 'view_history_threshold' ) ) ){
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+	
+	history_update_new_value( $p_issue_id, $p_old_new_value, $p_new_new_value );
+
+	return TRUE;
+}
+
+/**
+ * Update bugnote dates
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param IssueNoteData $p_note  The note to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_note_update_dates( $p_username, $p_password, $p_note) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+
+	if ( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	$p_note = (array) $p_note;
+	$t_issue_note_id = $p_note['id'];
+
+	if ( !bugnote_exists( $t_issue_note_id ) ) {
+		return new soap_fault( 'Server', '', "Issue note '$t_issue_note_id' does not exist." );
+	}
+
+	$t_issue_id = bugnote_get_field( $t_issue_note_id, 'bug_id' );
+	$t_project_id = bug_get_field( $t_issue_id, 'project_id' );
+
+	if ( !mci_has_readwrite_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$t_issue_author_id = bugnote_get_field( $t_issue_note_id, 'reporter_id' );
+
+	# Check if the user owns the bugnote and is allowed to update their own bugnotes
+	# regardless of the update_bugnote_threshold level.
+	$t_user_owns_the_bugnote = bugnote_is_user_reporter( $t_issue_note_id, $t_user_id );
+	$t_user_can_update_own_bugnote = config_get( 'bugnote_user_delete_threshold', null, $t_user_id, $t_project_id );
+	if ( $t_user_owns_the_bugnote && !$t_user_can_update_own_bugnote ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the user has an access level beyond update_bugnote_threshold for the
+	# project containing the bugnote to update.
+	$t_update_bugnote_threshold = config_get( 'update_bugnote_threshold', null, $t_user_id, $t_project_id );
+	if ( !$t_user_owns_the_bugnote && !access_has_bugnote_level( $t_update_bugnote_threshold, $t_issue_note_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the bug is readonly
+	if ( bug_is_readonly( $t_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue ' . $t_issue_id . ' is readonly" );
+	}
+
+	if ( isset( $p_note['view_state'] ) ) {
+		$t_view_state = $p_note['view_state'];
+		$t_view_state_id = mci_get_enum_id_from_objectref( 'view_state', $t_view_state );
+		bugnote_set_view_state( $t_issue_note_id, $t_view_state_id == VS_PRIVATE );
+	}
+		
+	$t_date_submitted = SoapObjectsFactory::parseDateTimeString($p_note['date_submitted']); 
+	$t_last_modified = SoapObjectsFactory::parseDateTimeString($p_note['last_modified']);
+	
+	return bugnote_update_dates( $t_issue_note_id, $t_date_submitted, $t_last_modified);
+}
+
+/**
+ * Update bugnote reporter
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param IssueNoteData $p_note  The note to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_note_update_reporter( $p_username, $p_password, $p_note) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	$p_note = (array) $p_note;
+	if ( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	$t_issue_note_id = $p_note['id'];
+
+	if ( !bugnote_exists( $t_issue_note_id ) ) {
+		return new SoapFault( 'Server', '', "Issue note '$t_issue_note_id' does not exist." );
+	}
+
+	$t_issue_id = bugnote_get_field( $t_issue_note_id, 'bug_id' );
+	$t_project_id = bug_get_field( $t_issue_id, 'project_id' );
+
+	if ( !mci_has_readwrite_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$t_issue_author_id = bugnote_get_field( $t_issue_note_id, 'reporter_id' );
+
+	# Check if the user owns the bugnote and is allowed to update their own bugnotes
+	# regardless of the update_bugnote_threshold level.
+	$t_user_owns_the_bugnote = bugnote_is_user_reporter( $t_issue_note_id, $t_user_id );
+	$t_user_can_update_own_bugnote = config_get( 'bugnote_user_delete_threshold', null, $t_user_id, $t_project_id );
+	if ( $t_user_owns_the_bugnote && !$t_user_can_update_own_bugnote ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the user has an access level beyond update_bugnote_threshold for the
+	# project containing the bugnote to update.
+	$t_update_bugnote_threshold = config_get( 'update_bugnote_threshold', null, $t_user_id, $t_project_id );
+	if ( !$t_user_owns_the_bugnote && !access_has_bugnote_level( $t_update_bugnote_threshold, $t_issue_note_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the bug is readonly
+	if ( bug_is_readonly( $t_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue ' . $t_issue_id . ' is readonly" );
+	}
+
+	if ( isset( $p_note['view_state'] ) ) {
+		$t_view_state = $p_note['view_state'];
+		$t_view_state_id = mci_get_enum_id_from_objectref( 'view_state', $t_view_state );
+		bugnote_set_view_state( $t_issue_note_id, $t_view_state_id == VS_PRIVATE );
+	}
+    
+    $p_note['reporter'] = (array) $p_note['reporter'];		
+	return bugnote_update_reporter( $t_issue_note_id, $p_note['reporter']['id'] );
+	
+}
+
+/**
+ * Update bugnote text
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param int $p_bugnote_id   The id of the bugnote to update
+ * @param text $p_note_text  The note text to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_note_update_text( $p_username, $p_password, $p_bugnote_id,  $p_note_text) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+
+	if ( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	$t_issue_note_id = $p_bugnote_id;
+
+	if ( !bugnote_exists( $t_issue_note_id ) ) {
+		return new soap_fault( 'Server', '', "Issue note '$t_issue_note_id' does not exist." );
+	}
+
+	$t_issue_id = bugnote_get_field( $t_issue_note_id, 'bug_id' );
+	$t_project_id = bug_get_field( $t_issue_id, 'project_id' );
+
+	if ( !mci_has_readwrite_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$t_issue_author_id = bugnote_get_field( $t_issue_note_id, 'reporter_id' );
+
+	# Check if the user owns the bugnote and is allowed to update their own bugnotes
+	# regardless of the update_bugnote_threshold level.
+	$t_user_owns_the_bugnote = bugnote_is_user_reporter( $t_issue_note_id, $t_user_id );
+	$t_user_can_update_own_bugnote = config_get( 'bugnote_user_delete_threshold', null, $t_user_id, $t_project_id );
+	if ( $t_user_owns_the_bugnote && !$t_user_can_update_own_bugnote ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the user has an access level beyond update_bugnote_threshold for the
+	# project containing the bugnote to update.
+	$t_update_bugnote_threshold = config_get( 'update_bugnote_threshold', null, $t_user_id, $t_project_id );
+	if ( !$t_user_owns_the_bugnote && !access_has_bugnote_level( $t_update_bugnote_threshold, $t_issue_note_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the bug is readonly
+	if ( bug_is_readonly( $t_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue ' . $t_issue_id . ' is readonly" );
+	}
+
+	return bugnote_update_text($p_bugnote_id ,$p_note_text);
+}
+
+/**
+ * Get bugnote text
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * param string $p_password  The password of the user.
+ * @param integer $p_bugnote_id  The note id to get.
+ * @return string
+ */
+function mc_issue_note_get_text( $p_username, $p_password, $p_bugnote_id) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+
+	if ( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	$t_issue_note_id = $p_bugnote_id;
+
+	if ( !bugnote_exists( $t_issue_note_id ) ) {
+		return new soap_fault( 'Server', '', "Issue note '$t_issue_note_id' does not exist." );
+	}
+
+	$t_issue_id = bugnote_get_field( $t_issue_note_id, 'bug_id' );
+	$t_project_id = bug_get_field( $t_issue_id, 'project_id' );
+
+	if ( !mci_has_readwrite_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	$t_issue_author_id = bugnote_get_field( $t_issue_note_id, 'reporter_id' );
+
+	# Check if the user owns the bugnote and is allowed to update their own bugnotes
+	# regardless of the update_bugnote_threshold level.
+	$t_user_owns_the_bugnote = bugnote_is_user_reporter( $t_issue_note_id, $t_user_id );
+	$t_user_can_update_own_bugnote = config_get( 'bugnote_user_delete_threshold', null, $t_user_id, $t_project_id );
+	if ( $t_user_owns_the_bugnote && !$t_user_can_update_own_bugnote ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the user has an access level beyond update_bugnote_threshold for the
+	# project containing the bugnote to update.
+	$t_update_bugnote_threshold = config_get( 'update_bugnote_threshold', null, $t_user_id, $t_project_id );
+	if ( !$t_user_owns_the_bugnote && !access_has_bugnote_level( $t_update_bugnote_threshold, $t_issue_note_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	# Check if the bug is readonly
+	if ( bug_is_readonly( $t_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue ' . $t_issue_id . ' is readonly" );
+	}
+
+	return bugnote_get_text($p_bugnote_id);
+}
+
+
+/**
+ * Update issue last_updated date
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_issue_id  The issue id to update.
+ * @param string $p_last_updated The value to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_update_last_updated( $p_username, $p_password, $p_issue_id, $p_last_updated) {
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return new soap_fault( 'Client', '', "Issue '$p_issue_id' does not exist." );
+	}
+
+	if( bug_is_readonly( $p_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue '$p_issue_id' is readonly" );
+	}
+
+	$t_project_id = bug_get_field( $p_issue_id, 'project_id' );
+
+	if( !mci_has_readwrite_access( $t_user_id, $t_project_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id );
+	}
+
+	if( !access_has_bug_level( config_get( 'update_bug_threshold' ), $p_issue_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id,  "Not enough rights to update issues" );
+	}
+	
+	$t_last_updated = SoapObjectsFactory::parseDateTimeString($p_last_updated);
+		
+	return bug_update_date_custom($p_issue_id, $t_last_updated, 'last_updated' );
+}
+
+/**
+ * Update issue date_submitted date
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_issue_id  The issue id to update.
+ * @param string $p_date_submitted The value to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_update_date_submitted( $p_username, $p_password, $p_issue_id, $p_date_submitted) {
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return new soap_fault( 'Client', '', "Issue '$p_issue_id' does not exist." );
+	}
+
+	if( bug_is_readonly( $p_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue '$p_issue_id' is readonly" );
+	}
+
+	if( !access_has_bug_level( config_get( 'update_bug_threshold' ), $p_issue_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id,  "Not enough rights to update issues" );
+	}
+	
+	$t_date_submitted = SoapObjectsFactory::parseDateTimeString($p_date_submitted); 
+	return bug_update_date_custom($p_issue_id, $t_date_submitted, 'date_submitted' );
+}
+
+/**
+ * Update issue description
+ *
+ * @param string $p_username  The name of the user trying to add a note to an issue.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_issue_id  The issue id to update.
+ * @param string $p_issue_description The value of the description to update.
+ * @return true on success, false on failure
+ */
+function mc_issue_update_description( $p_username, $p_password, $p_issue_id, $p_issue_description) {
+	
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+
+	if( !bug_exists( $p_issue_id ) ) {
+		return new soap_fault( 'Client', '', "Issue '$p_issue_id' does not exist." );
+	}
+
+	if( bug_is_readonly( $p_issue_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id, "Issue '$p_issue_id' is readonly" );
+	}
+
+	if( !access_has_bug_level( config_get( 'update_bug_threshold' ), $p_issue_id, $t_user_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_id,  "Not enough rights to update issues" );
+	}
+	
+	return bug_update_description($p_issue_id, $p_issue_description);
+}
+
+/* ***** Novaforge ***** */
\ No newline at end of file
diff -rNU5 mantisbt/api/soap/mc_issue_attachment_api.php mantisbt-2.0.0/api/soap/mc_issue_attachment_api.php
--- mantisbt/api/soap/mc_issue_attachment_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_issue_attachment_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
  * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 require_once( dirname( __FILE__ ) . '/mc_core.php' );
 
@@ -70,10 +71,37 @@
 	}
 	return mci_file_add( $p_issue_id, $p_name, $p_content, $p_file_type, 'bug', '', '', $t_user_id );
 }
 
 /**
+ * Add an attachment to an existing issue.
+ *
+ * @param string $p_username  The name of the user trying to add an attachment to an issue.
+ * @param string $p_password  The password of the user.
+ * @param integer $p_issue_id  The id of the issue to add the attachment to.
+ * @param integer $t_user_uploader  The user who upload the attachment.
+ * @param string $p_name  The name of the file.
+ * @param string $p_file_type The mime type of the file.
+ * @param base64Binary $p_content  The attachment to add.
+ * @return integer The id of the added attachment.
+ */
+function mc_issue_attachment_uploader_add( $p_username, $p_password, $p_issue_id, $t_user_uploader, $p_name, $p_file_type, $p_content ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+	$t_user_uploader_id = isset( $t_user_uploader ) ? mci_get_user_id( $t_user_uploader )  : $t_user_id;
+
+	if( !file_allow_bug_upload( $p_issue_id, $t_user_uploader_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_uploader_id );
+	}
+	if( !access_has_bug_level( config_get( 'upload_bug_file_threshold' ), $p_issue_id, $t_user_uploader_id ) ) {
+		return mci_soap_fault_access_denied( $t_user_uploader_id );
+	}
+	return mci_file_add( $p_issue_id, $p_name, $p_content, $p_file_type, 'bug', '', '', $t_user_uploader_id );
+}
+/**
  * Delete an issue attachment given its id.
  *
  * @param string  $p_username            The name of the user trying to add an attachment to an issue.
  * @param string  $p_password            The password of the user.
  * @param integer $p_issue_attachment_id The id of the attachment to be deleted.
diff -rNU5 mantisbt/api/soap/mc_project_api.php mantisbt-2.0.0/api/soap/mc_project_api.php
--- mantisbt/api/soap/mc_project_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/api/soap/mc_project_api.php	2017-07-17 17:16:17.000000000 +0200
@@ -17,11 +17,12 @@
 /**
  * A webservice interface to Mantis Bug Tracker
  *
  * @package MantisBT
  * @copyright Copyright 2004  Victor Boctor - vboctor@users.sourceforge.net
- * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2005  MantisBT Team - mantisbt-dev@lists.sourceforge.
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  */
 
 /**
  * Use a standard filter to get issues associated with the specified user.
@@ -178,10 +179,42 @@
 
 	return $t_result;
 }
 
 /**
+ * Get (only) the id and name for all projects accessible by the given user.
+ *
+ * @param string $p_username  The name of the user trying to access the project list.
+ * @param string $p_password  The password of the user.
+ * @return Array  suitable to be converted into a ProjectDataArray
+ */
+function mc_projects_get_names_user_accessible( $p_username, $p_password ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if( $t_user_id === false ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+
+	if( !mci_has_readonly_access( $t_user_id ) ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+
+	$t_lang = mci_get_user_lang( $t_user_id );
+
+	$t_result = array();
+	foreach( user_get_accessible_projects( $t_user_id ) as $t_project_id ) {
+		$t_project_row = project_cache_row( $t_project_id );
+		$t_project = array();
+		$t_project['id'] = $t_project_id;
+		$t_project['name'] = $t_project_row['name'];
+		$t_project['subprojects'] = mci_user_get_names_accessible_subprojects( $t_user_id, $t_project_id, $t_lang );
+		$t_result[] = $t_project;
+	}
+
+	return $t_result;
+}
+
+/**
  * Get all categories of a project.
  *
  * @param string  $p_username   The name of the user trying to access the categories.
  * @param string  $p_password   The password of the user.
  * @param integer $p_project_id The id of the project to retrieve the categories for.
@@ -858,11 +891,11 @@
 	} else {
 		$t_status = array( 'name' => 'development' ); # development
 	}
 
 	if( isset( $p_project['view_state'] ) ) {
-		$t_view_state = $p_project['view_state'];
+		$t_view_state = array('id' => $p_project['view_state']->id);		
 	} else {
 		$t_view_state = array( 'id' => VS_PUBLIC );
 	}
 
 	if( isset( $p_project['enabled'] ) ) {
@@ -886,21 +919,42 @@
 	if( isset( $p_project['inherit_global'] ) ) {
 		$t_inherit_global = $p_project['inherit_global'];
 	} else {
 		$t_inherit_global = true;
 	}
-
+	
+	if ( isset( $p_project['parent_id'] ) ) {
+		$t_parent_id = $p_project['parent_id'];
+		if ( !project_exists( $t_parent_id ) ) {
+			return new soap_fault( 'Client', '', 'Parent project does not exist', '');
+		}
+	} else {
+		$t_parent_id = false;
+	}
 	# check to make sure project doesn't already exist
 	if( !project_is_name_unique( $t_name ) ) {
 		return SoapObjectsFactory::newSoapFault( 'Client', 'Project name exists' );
 	}
 
 	$t_project_status = mci_get_project_status_id( $t_status );
-	$t_project_view_state = mci_get_project_view_state_id( $t_view_state );
+	//$t_project_view_state = mci_get_project_view_state_id( $t_view_state );
+	$t_project_view_state = db_prepare_int( $t_view_state['id'] );
 
-	# project_create returns the new project's id, spit that out to web service caller
-	return project_create( $t_name, $t_description, $t_project_status, $t_project_view_state, $t_file_path, $t_enabled, $t_inherit_global );
+	// project_create returns the new project's id
+	$t_project_id = project_create( $t_name, $t_description, $t_project_status, $t_project_view_state, $t_file_path, $t_enabled, $t_inherit_global );
+
+	// link new project to a parent project, if one has been specified
+	if ( $t_parent_id ) {
+		// link to parent
+		project_hierarchy_add($t_project_id, $t_parent_id);
+
+		// copy custom fields from parent
+		project_copy_custom_fields($t_project_id, $t_parent_id);
+	}
+	instance_configuration_create($t_project_id);
+	// return id of new project back to caller
+	return $t_project_id;
 }
 
 /**
  * Update a project
  *
@@ -948,20 +1002,20 @@
 	} else {
 		$t_description = $p_project['description'];
 	}
 
 	if( !isset( $p_project['status'] ) ) {
-		$t_status = project_get_field( $p_project_id, 'status' );
+		$t_project_status = project_get_field( $p_project_id, 'status' );
 	} else {
-		$t_status = $p_project['status'];
+		$t_project_status = mci_get_project_status_id( $p_project['status'] );
 	}
 
-	if( !isset( $p_project['view_state'] ) ) {
-		$t_view_state = project_get_field( $p_project_id, 'view_state' );
-	} else {
-		$t_view_state = $p_project['view_state'];
-	}
+	if ( !isset( $p_project['view_state'] ) ) {
+        $t_project_view_state = project_get_field( $p_project_id, 'view_state' );
+    } else {
+    	$t_project_view_state = mci_get_project_view_state_id( $p_project['view_state'] );
+    }
 
 	if( !isset( $p_project['file_path'] ) ) {
 		$t_file_path = project_get_field( $p_project_id, 'file_path' );
 	} else {
 		$t_file_path = $p_project['file_path'];
@@ -977,13 +1031,10 @@
 		$t_inherit_global = project_get_field( $p_project_id, 'inherit_global' );
 	} else {
 		$t_inherit_global = $p_project['inherit_global'];
 	}
 
-	$t_project_status = mci_get_project_status_id( $t_status );
-	$t_project_view_state = mci_get_project_view_state_id( $t_view_state );
-
 	project_update( $p_project_id, $t_name, $t_description, $t_project_status, $t_project_view_state, $t_file_path, $t_enabled, $t_inherit_global );
 
 	return true;
 }
 
@@ -1058,11 +1109,72 @@
 		$t_result[] = mci_issue_data_as_header_array( $t_issue_data );
 	}
 
 	return $t_result;
 }
+/**
+ * Link a user to a project with a specified access level.
+ *
+ * @param string $p_username  The name of the user trying to add the user (must be administrator)
+ * @param string $p_password  The password of the user.
+ * @param integer $p_project_id  The id of the project to link user to.
+ * @param integer $p_user_id  The id of the user to link to the project.
+ * @param integer $p_access access level.
+ * @return bool returns true or false depending on the success of the action
+ */
+function mc_project_add_user( $p_username, $p_password, $p_project_id, $p_user_id, $p_access ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if ( $t_user_id === false ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return new soap_fault( 'Client', '', 'Access Denied', 'User does not have administrator access');
+	}
+
+	if ( !project_exists( $p_project_id ) ) {
+		return new soap_fault( 'Client', '', "Project '$p_project_id' does not exist." );
+	}
+	if ( !user_exists( $p_user_id ) ) {
+		return new soap_fault( 'Client', '', "User '$p_user_id' does not exist." );
+	}
+
+	// add the user to the project
+	$t_status = project_set_user_access( $p_project_id, $p_user_id, $p_access );
+
+	return $t_status;
+}
+
+/**
+ * Remove a user from a project.
+ *
+ * @param string $p_username  The name of the user trying to add the user (must be administrator)
+ * @param string $p_password  The password of the user.
+ * @param integer $p_project_id  The id of the project to link user to.
+ * @param integer $p_user_id  The id of the user to link to the project.
+ * @return bool returns true or false depending on the success of the action
+ */
+function mc_project_remove_user( $p_username, $p_password, $p_project_id, $p_user_id ) {
+	$t_user_id = mci_check_login( $p_username, $p_password );
+	if ( $t_user_id === false ) {
+		return new soap_fault( 'Client', '', 'Access Denied' );
+	}
+	if ( !mci_has_administrator_access( $t_user_id ) ) {
+		return new soap_fault( 'Client', '', 'Access Denied', 'User does not have administrator access');
+	}
+
+	if ( !project_exists( $p_project_id ) ) {
+		return new soap_fault( 'Client', '', "Project '$p_project_id' does not exist." );
+	}
+	if ( !user_exists( $p_user_id ) ) {
+		return new soap_fault( 'Client', '', "User '$p_user_id' does not exist." );
+	}
+
+	// add the user to the project
+	project_remove_user( $p_project_id, $p_user_id );
 
+	return true;
+}
 /**
  * Get appropriate users assigned to a project by access level.
  *
  * @param string  $p_username   The name of the user trying to access the versions.
  * @param string  $p_password   The password of the user.
@@ -1113,5 +1225,80 @@
 		# contain email fields).
 		$t_result[] = mci_account_get_array_by_id( $t_row['id'] );
 	}
 	return $t_result;
 }
+
+function mc_project_get_statuses( $p_username, $p_password, $p_project_id, $p_locale ){
+	$t_user_id = mci_check_login( $p_username, $p_password );
+
+	if( $t_user_id === false ) {
+		return mci_soap_fault_login_failed();
+	}
+	
+	$p_locale = mci_get_user_lang( $t_user_id );
+
+	# if config_status_id.php is present load the custom status, else load the default one
+	if ( file_exists( dirname( dirname( dirname( __FILE__ ) ) ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$p_project_id.'.php' ) ) {
+		require_once( dirname( dirname( dirname( __FILE__ ) ) ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$p_project_id.'.php' );
+		$t_instance_inc_found = true;		
+		if (isset($g_status_enum_string)){
+			$t_enum_status = MantisEnum::getAssocArrayIndexedByValues( $g_status_enum_string );
+			switch ($p_locale) {
+			case 'english':
+				$t_enum_status_string = MantisEnum::getAssocArrayIndexedByValues( $s_status_enum_string_english );
+				break;
+			case 'french':
+				if (isset($g_status_enum_string_french)) {
+					$t_enum_status_string = MantisEnum::getAssocArrayIndexedByValues( $s_status_enum_string_french );
+				} else {
+					$t_enum_status_string = MantisEnum::getAssocArrayIndexedByValues( $s_status_enum_string_english );
+				}
+				break;
+			}
+		} else {
+			$t_instance_inc_found = false;
+			$t_enum_status = MantisEnum::getAssocArrayIndexedByValues( config_get( 'status_enum_string' ) );
+			$t_enum_status_string = MantisEnum::getAssocArrayIndexedByValues( lang_get('status_enum_string', $p_locale) );
+		}	
+	} else {
+		$t_instance_inc_found = false;
+		$t_enum_status = MantisEnum::getAssocArrayIndexedByValues( config_get( 'status_enum_string' ) );
+		$t_enum_status_string = MantisEnum::getAssocArrayIndexedByValues( lang_get('status_enum_string', $p_locale) );
+	}
+
+	$t_result = array();
+	foreach ( $t_enum_status as $t_to_status_id => $t_to_status_label ) {
+		if ( $t_instance_inc_found == true ) {
+		
+			switch ($p_locale) {
+				case 'english':
+				    if (isset(${'s_'.$t_to_status_label.'_bug_title_english'})){
+						$t_title = ${'s_'.$t_to_status_label.'_bug_title_english'};
+					}  else if ( isset(${'s_'.$t_to_status_label.'_bug_title_french'})){
+					    $t_title = ${'s_'.$t_to_status_label.'_bug_title_french'};
+					} else {
+						$t_title ='';
+					}
+				case 'french' : 
+					if (isset(${'s_'.$t_to_status_label.'_bug_title_french'})){
+						$t_title = ${'s_'.$t_to_status_label.'_bug_title_french'};
+					}  else if ( isset(${'s_'.$t_to_status_label.'_bug_title_english'})){
+					    $t_title = ${'s_'.$t_to_status_label.'_bug_title_english'};
+					} else {
+						$t_title ='';
+					}
+			}		
+		} else {
+			$t_title = lang_get( $t_to_status_label.'_bug_title', $p_locale );
+		}
+		$t_result[] = array (
+			'id' 		=> $t_to_status_id, 
+			'key' 		=> $t_to_status_label, 
+			'name' 		=> $t_enum_status_string[$t_to_status_id],
+			'title' 	=> $t_title
+		);
+	}
+
+	return $t_result;
+}
+
diff -rNU5 mantisbt/bug_report.php mantisbt-2.0.0/bug_report.php
--- mantisbt/bug_report.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/bug_report.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * This page stores the reported bug
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses core.php
  * @uses access_api.php
  * @uses authentication_api.php
@@ -315,11 +316,12 @@
 
 	$t_report_more_bugs_url = string_get_bug_report_url() . '?' . http_build_query($t_data);
 
 	html_meta_redirect( $t_report_more_bugs_url );
 } else {
-	html_meta_redirect( 'view_all_bug_page.php' );
+		// Mantis-427: add current project id in the redirect url
+		html_meta_redirect( 'view_all_bug_page.php?cur_project_id='.$t_project_id);
 }
 
 layout_page_header_end();
 
 layout_page_begin( 'bug_report_page.php' );
diff -rNU5 mantisbt/core/authentication_api.php mantisbt-2.0.0/core/authentication_api.php
--- mantisbt/core/authentication_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/authentication_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage AuthenticationAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses config_api.php
  * @uses constant_inc.php
@@ -73,21 +74,212 @@
 
 # @global int $g_cache_current_user_id
 $g_cache_current_user_id = null;
 
 /**
+ * Initialize phpCAS.
+ */
+function auth_cas_init() {
+        # phpCAS must be installed in the include path
+        # or in the Mantis directory.
+        require_once('CAS/CAS.php');
+
+        static $s_initialized=false;
+
+        if (! $s_initialized ) {
+                phpCAS::setDebug( config_get( 'cas_debug' ) );
+        ## These should be set in config_inc.php
+                $t_server_version = config_get( 'cas_version' );
+                $t_server_cas_server = config_get( 'cas_server' );
+                $t_server_port = config_get( 'cas_port' );
+                $t_server_uri = config_get( 'cas_uri' );
+
+                phpCAS::client($t_server_version, $t_server_cas_server, $t_server_port, $t_server_uri);
+		phpCAS::handleLogoutRequests(false);
+
+                if ($t_server_version == "S1")
+                        phpCAS::setServerSamlValidateURL( config_get( 'cas_validate' ) );
+                else
+                        phpCAS::setServerProxyValidateURL( config_get( 'cas_validate' ) );
+                if (method_exists('phpCAS', 'setNoCasServerValidation')) {
+                        // no SSL validation for the CAS server
+                        phpCAS::setNoCasServerValidation();
+                }
+
+                $s_initialized = true;
+        }
+
+}
+
+
+/**
+ * Fetches the user's CAS name, authenticating if needed.
+ * Can translate CAS login name to Mantis username through LDAP.
+ */
+function auth_cas_get_name()
+{
+        # Get CAS username from phpCAS
+        auth_cas_init();
+        phpCAS::forceAuthentication();
+        $t_cas_id = phpCAS::getUser();
+        $t_cas_attribs = phpCAS::getAttributes();
+
+        # If needed, translate the CAS username through LDAP
+        $t_username = $t_cas_id;
+        if (config_get( 'cas_use_ldap', false )) {
+                $t_username = auth_cas_ldap_translate( $t_cas_id );
+        }
+        elseif (config_get( 'cas_saml_attributes', false )) {
+                $t_cas_attribmap = config_get( 'cas_saml_map', array() );
+                $t_cas_attrib_name = $t_cas_attribs[$t_cas_attribmap['name']];
+                $t_cas_attrib_mail = $t_cas_attribs[$t_cas_attribmap['mail']];
+                if ( user_get_id_by_name($t_cas_id) == false ) {
+                        user_create( $t_cas_id, '', $t_cas_attrib_mail, null, false, true, $t_cas_attrib_name );
+	         }
+        }
+                                
+        return $t_username;
+}
+
+/**
+ * Takes an ID string, and looks up the LDAP directory to find
+ * the matching username for Mantis.
+ *
+ * Optionally, also update the user information in the Mantis user
+ * table.
+ *
+ * @param $p_cas_id string Typically, the username given by phpCAS.
+ * @param $p_update_user bool Whether or not to update user details from LDAP.
+ */
+function auth_cas_ldap_translate( $p_cas_id, $p_update_user='' )
+{
+
+        # Please make sure the Mantis CAS and LDAP settings are set in config_inc.php
+
+        $t_ldap_organization    = config_get( 'ldap_organization' );
+        $t_ldap_root_dn         = config_get( 'ldap_root_dn' );
+
+        # Required fields in LDAP for CAS
+        $t_ldap_language_field = config_get( 'ldap_language_field', '' );
+        $t_ldap_uid_field = config_get( 'ldap_uid_field', 'uid' ) ;
+        $t_ldap_mantis_uid = config_get( 'ldap_mantis_uid', 'uid' );
+        $t_ldap_required = array( $t_ldap_uid_field, $t_ldap_mantis_uid, 'dn' );
+        if ($t_ldap_language_field) {
+                // Add language field to attributes list only if it is configured.
+                $t_ldap_required[] = $t_ldap_language_field;
+        }
+        $t_ldap_required = array_combine( $t_ldap_required, $t_ldap_required );
+
+        # User-defined fields to fetch from LDAP...
+        $t_ldap_fields = explode( ',', config_get( 'cas_ldap_update_fields' ) );
+        $t_ldap_fields = array_combine( $t_ldap_fields, $t_ldap_fields );
+        # ...which are mapped to Mantis user fields
+        $t_ldap_map = explode( ',', config_get( 'cas_ldap_update_map' ) );
+        $t_ldap_map = array_combine( $t_ldap_map, $t_ldap_map );
+
+        # Build LDAP search filter, attribute list from CAS ID
+        $t_search_filter = "(&$t_ldap_organization($t_ldap_uid_field=$p_cas_id))";
+        $t_search_attrs = array_values($t_ldap_required + $t_ldap_fields);      # array union
+
+        # Use Mantis ldap_api to connect to LDAP
+        $t_ds = ldap_connect_bind();
+        $t_sr   = ldap_search( $t_ds, $t_ldap_root_dn, $t_search_filter, $t_search_attrs );
+        $t_info = ldap_get_entries( $t_ds, $t_sr );
+        # Parse the LDAP entry to find the Mantis username
+        if ( $t_info ) {
+                # Get Mantis username
+                $t_username = $t_info[0][$t_ldap_mantis_uid][0];
+
+                # @@@ The fact that we got here means the user is authenticated
+                # @@@ by CAS, and has an LDAP entry.
+                # @@@ We might as well update other user details since we are here.
+
+                # If no argument given, check settings
+                if ( '' == $p_update_user ) {
+                        $p_update_user = config_get( 'cas_ldap_update', FALSE );
+                }
+                # If there's a user record, then update it
+                if ( $p_update_user ) {
+                        # Only proceed if the field map arrays are the same length
+                        $t_field_map = array_combine( $t_ldap_fields, $t_ldap_map );
+                        if ($t_field_map) {
+                                # If user is new, then we must create their account before updating it
+                                # @@@ ( make sure $g_allow_blank_email == ON )
+                                $t_userid = user_get_id_by_name($t_username);
+                                if ( false == $t_userid ) {
+                                        user_create( $t_username, '' );
+                                        # @@@ Wow, this is pretty lame
+                                        $t_userid = user_get_id_by_name($t_username);
+                                }
+                                # @@@ maybe we can optimize this to write all fields at once?
+                                foreach ( $t_field_map as $key=>$t_userfield ) {
+                                        if (isset($t_info[0][$key][0])) {
+                                                user_set_field( $t_userid, $t_userfield, $t_info[0][$key][0] );
+                                        }
+                                }
+                        }
+
+                        // Update user's overall language preference
+                        if ($t_ldap_language_field) {
+                                $t_language = $t_info[0][$t_ldap_language_field][0];
+                                // Map the LDAP language field to Mantis' language field if needed
+                                $t_language_keys = config_get( 'ldap_language_keys', '');
+                                $t_language_values = config_get( 'ldap_language_values', '');
+                                $t_language_map = array_combine(
+                                        explode(',', $t_language_keys),
+                                        explode(',', $t_language_values)
+                                );
+                                if (isset($t_language_map[$t_language])) {
+                                        $t_language = $t_language_map[$t_language];
+                                }
+                                user_pref_set_pref($t_userid, 'language', $t_language);
+                        }
+                }
+        }
+        ldap_free_result( $t_sr );
+        ldap_unbind( $t_ds );
+
+        return $t_username;
+}
+
+
+/**
+ * Logs out of CAS, redirecting to Mantis on re-login.
+ * User should already be logged out of Mantis by the time this is called.
+ * @see auth_logout()
+ */
+function auth_cas_logout()
+{
+        $t_path = config_get('path');
+
+        auth_cas_init();
+        if (method_Exists('phpCAS', 'logoutWithUrl')) {
+                phpCAS::logoutWithUrl($t_path);
+        } else {
+                phpCAS::logout($t_path);
+        }
+}
+
+/**
  * Check that there is a user logged-in and authenticated
  * If the user's account is disabled they will be logged out
  * If there is no user logged in, redirect to the login page
  * If parameter is given it is used as a URL to redirect to following
  * successful login.  If none is given, the URL of the current page is used
  * @param string $p_return_page Page to redirect to following successful logon, defaults to current page.
  * @access public
  * @return void
  */
 function auth_ensure_user_authenticated( $p_return_page = '' ) {
+	global $g_cache_current_user_id;
 	# if logged in
+	if ( CAS_AUTH == config_get( 'login_method' ) ) {
+		# This will detour to the CAS login page if needed
+		$f_username = auth_cas_get_name();
+		auth_attempt_login($f_username,$f_password,$f_perm_login);
+		$g_cache_current_user_id = user_get_id_by_name( $f_username );
+	}
 	if( auth_is_user_authenticated() ) {
 		# check for access enabled
 		#  This also makes sure the cookie is valid
 		if( OFF == current_user_get_field( 'enabled' ) ) {
 			print_header_redirect( 'logout_page.php' );
@@ -197,12 +389,13 @@
  * @access private
  */
 function auth_auto_create_user( $p_username, $p_password ) {
 	$t_login_method = config_get( 'login_method' );
 
-	if( $t_login_method == BASIC_AUTH ) {
-		$t_auto_create = true;
+	if ( in_array( $t_login_method, array( BASIC_AUTH, CAS_AUTH ) ) ) {
+			# attempt to create the user if using BASIC_AUTH or CAS_AUTH
+			$t_auto_create = true;
 	} else if( $t_login_method == LDAP && ldap_authenticate_by_username( $p_username, $p_password ) ) {
 		$t_auto_create = true;
 	} else {
 		$t_auto_create = false;
 	}
@@ -447,10 +640,14 @@
 	}
 
 	if( HTTP_AUTH == config_get( 'login_method' ) ) {
 		auth_http_set_logout_pending( true );
 	}
+	elseif ( CAS_AUTH == config_get( 'login_method' ) ) {
+		# Redirect to CAS page to logout
+		auth_cas_logout();
+	}
 
 	session_clean();
 }
 
 /**
@@ -460,10 +657,12 @@
  */
 function auth_automatic_logon_bypass_form() {
 	switch( config_get( 'login_method' ) ) {
 		case HTTP_AUTH:
 			return true;
+		case CAS_AUTH:
+			return true;
 	}
 	return false;
 }
 
 /**
@@ -498,11 +697,15 @@
 	$t_configured_login_method = config_get( 'login_method' );
 
 	if( LDAP == $t_configured_login_method ) {
 		return ldap_authenticate( $p_user_id, $p_test_password );
 	}
-
+	elseif ( CAS_AUTH == $t_configured_login_method ) {
+		# CAS already took care of password verification for us
+		return true;
+	}
+	
 	$t_password = user_get_field( $p_user_id, 'password' );
 	$t_login_methods = array(
 		MD5,
 		CRYPT,
 		PLAIN,
@@ -759,11 +962,11 @@
  *
  * @return boolean
  * @access public
  */
 function auth_reauthenticate() {
-	if( config_get_global( 'reauthentication' ) == OFF || BASIC_AUTH == config_get( 'login_method' ) || HTTP_AUTH == config_get( 'login_method' ) ) {
+	if( config_get_global( 'reauthentication' ) == OFF || in_array(config_get('login_method'), array(BASIC_AUTH, HTTP_AUTH, CAS_AUTH)) ) {
 		return true;
 	}
 
 	$t_auth_token = token_get( TOKEN_AUTHENTICATED );
 	if( null != $t_auth_token ) {
@@ -890,11 +1093,11 @@
 	header( 'HTTP/1.0 401 Authorization Required' );
 	header( 'WWW-Authenticate: Basic realm="' . lang_get( 'http_auth_realm' ) . '"' );
 	header( 'status: 401 Unauthorized' );
 
 	echo '<p class="center error-msg">' . error_string( ERROR_ACCESS_DENIED ) . '</p>';
-	print_link_button( 'main_page.php', lang_get( 'proceed' ) );
+	print_bracket_link( 'main_page.php', lang_get( 'proceed' ) );
 
 	exit;
 }
 
 /**
diff -rNU5 mantisbt/core/bug_api.php mantisbt-2.0.0/core/bug_api.php
--- mantisbt/core/bug_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/bug_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage BugAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses antispam_api.php
  * @uses authentication_api.php
@@ -522,10 +523,12 @@
 			}
 		}
 
 		# Check if bug was pre-assigned or auto-assigned.
 		$t_status = bug_get_status_for_assign( NO_USER, $this->handler_id, $this->status);
+		
+		$t_date_submitted = !is_blank( $this->date_submitted ) ? $this->date_submitted : db_now();
 
 		# Insert the rest of the data
 		db_param_push();
 		$t_query = 'INSERT INTO {bug}
 					    ( project_id,reporter_id, handler_id,duplicate_id,
@@ -542,11 +545,11 @@
 					      ' . db_param() . ',' . db_param() . ',' . db_param() . ',' . db_param() . ',
 					      ' . db_param() . ',' . db_param() . ',' . db_param() . ',' . db_param() . ',
 					      ' . db_param() . ',' . db_param() . ',' . db_param() . ',' . db_param() . ',
 					      ' . db_param() . ',' . db_param() . ',' . db_param() . ',' . db_param() . ',
 					      ' . db_param() . ',' . db_param() . ',' . db_param() . ',' . db_param() . ')';
-		db_query( $t_query, array( $this->project_id, $this->reporter_id, $this->handler_id, $this->duplicate_id, $this->priority, $this->severity, $this->reproducibility, $t_status, $this->resolution, $this->projection, $this->category_id, $this->date_submitted, $this->last_updated, $this->eta, $t_text_id, $this->os, $this->os_build, $this->platform, $this->version, $this->build, $this->profile_id, $this->summary, $this->view_state, $this->sponsorship_total, $this->sticky, $this->fixed_in_version, $this->target_version, $this->due_date ) );
+		db_query( $t_query, array( $this->project_id, $this->reporter_id, $this->handler_id, $this->duplicate_id, $this->priority, $this->severity, $this->reproducibility, $t_status, $this->resolution, $this->projection, $this->category_id, $t_date_submitted, $this->last_updated, $this->eta, $t_text_id, $this->os, $this->os_build, $this->platform, $this->version, $this->build, $this->profile_id, $this->summary, $this->view_state, $this->sponsorship_total, $this->sticky, $this->fixed_in_version, $this->target_version, $this->due_date ) );
 
 		$this->id = db_insert_id( db_get_table( 'bug' ) );
 
 		# log new bug
 		history_log_event_special( $this->id, NEW_BUG );
@@ -2274,6 +2277,49 @@
 	}
 
 	if( !empty( $t_custom_field_ids ) ) {
 		custom_field_cache_values( $t_bug_ids, $t_custom_field_ids );
 	}
-}
\ No newline at end of file
+}
+
+/* ***** Novaforge ***** */
+/**
+ * Updates a date field (last_updated or date_submitted) of a bug
+ * @param int p_bug_id integer representing bug ids
+ * @param string $p_date_fields
+ * @param string $p_date_field
+ * @return bool (always true)
+ * @access public
+ * @uses database_api.php
+ */
+function bug_update_date_custom( $p_bug_id, $p_date_value, $p_date_field ) {
+	$c_bug_id = (int) $p_bug_id;
+
+	db_param_push();
+	$query = "UPDATE {bug} SET " . $p_date_field . "=" . db_param() . " WHERE id=" . db_param();
+	db_query( $query, Array( $p_date_value, $c_bug_id ) );
+
+	bug_clear_cache( $c_bug_id );
+
+	return true;
+}
+
+/**
+ * updates the field
+ * @param int p_bug_id integer representing bug ids
+ * @param string $p_bug_description
+ * @return bool (always true)
+ * @access public
+ * @uses database_api.php
+ */
+function bug_update_description( $p_bug_id, $p_bug_description) {
+	$c_bug_id = (int) $p_bug_id;
+	
+    db_param_push();
+	$query = "UPDATE {bug_text} SET description=" . db_param() . " WHERE id=" . db_param();
+	db_query( $query, Array( $p_bug_description, $c_bug_id ) );
+
+	bug_clear_cache( $c_bug_id );
+
+	return true;
+}
+/* ***** Novaforge ***** */
\ No newline at end of file
diff -rNU5 mantisbt/core/bugnote_api.php mantisbt-2.0.0/core/bugnote_api.php
--- mantisbt/core/bugnote_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/bugnote_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage BugnoteAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses antispam_api.php
  * @uses authentication_api.php
@@ -822,6 +823,62 @@
 			unset( $g_cache_bugnotes_by_bug_id[(int)$p_bug_id] );
 		}
 	}
 
 	return true;
-}
\ No newline at end of file
+}
+
+/* ***** Novaforge ***** */
+/**
+ * Update the reporter_id of the bugnote
+ * @param int $p_bugnote_id
+ * @param int $p_reporter_id
+ * @return bool
+ * @access public
+ */
+function bugnote_update_reporter( $p_bugnote_id, $p_reporter_id ) {
+	db_param_push();
+	$query = "UPDATE {bugnote}
+					SET reporter_id =" . db_param() . "
+					WHERE id=" . db_param();
+	db_query( $query, Array( $p_reporter_id, $p_bugnote_id) );
+
+	return true;
+}
+
+/**
+ * Updates both fields date last_modified and date_submitted) of a bugnote
+ * @param int $p_bugnote_id
+ * @param string $p_date_submitted timestamp of the bugnote submitted date
+ * @param string $p_date_last_modified timestamp of the bugnote last modified date
+ * @return bool
+ * @access public
+ */
+function bugnote_update_dates( $p_bugnote_id, $p_date_submitted, $p_date_last_modified ) {
+	db_param_push();
+	
+	$query = "UPDATE {bugnote}
+					SET last_modified =" . db_param() . ", date_submitted =" . db_param() . "
+					WHERE id=" . db_param();
+	db_query( $query, Array( $p_date_last_modified, $p_date_submitted, $p_bugnote_id) );
+
+	return true;
+}
+
+/**
+ * Update the text of the bugnote
+ * @param int $p_bugnote_id
+ * @param string $p_note_text the text to update
+ * @return bool
+ * @access public
+ */
+function bugnote_update_text( $p_bugnote_id, $p_note_text ) {
+	db_param_push();
+	
+	$query = "UPDATE {bugnote_text}
+					SET note =" . db_param() . "
+					WHERE id=" . db_param();
+	db_query( $query, Array( $p_note_text, $p_bugnote_id) );
+
+	return true;
+}
+/* ***** Novaforge ***** */
\ No newline at end of file
diff -rNU5 mantisbt/core/config_api.php mantisbt-2.0.0/core/config_api.php
--- mantisbt/core/config_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/config_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage ConfigurationAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses authentication_api.php
  * @uses constant_inc.php
  * @uses database_api.php
@@ -725,5 +726,28 @@
 	}
 
 	# Value not found in cache
 	return false;
 }
+
+/* ***** Novaforge ***** */
+
+# ------------------
+# Get all the option configuration for a project
+function config_get_all_project( $p_project_id ) {
+	global $g_cache_config, $g_cache_config_access;
+	$t_config_table = db_get_table( 'config' );
+	$c_project = db_prepare_int( $p_project_id );
+	$query = "SELECT config_id FROM $t_config_table
+				WHERE project_id=" . $c_project;
+	$result = db_query( $query );
+
+	// Initialize array to return.
+	$return_array = array();
+	
+	while( false <> ( $row = db_fetch_array( $result ) ) ) {
+		$return_array[$row['config_id']] = config_get($row['config_id'], null, null, $p_project_id);
+	}
+	
+	return $return_array;
+}
+/* ***** Novaforge ***** */
\ No newline at end of file
diff -rNU5 mantisbt/core/constant_inc.php mantisbt-2.0.0/core/constant_inc.php
--- mantisbt/core/constant_inc.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/constant_inc.php	2017-02-21 11:35:53.000000000 +0100
@@ -13,10 +13,11 @@
 #
 # You should have received a copy of the GNU General Public License
 # along with MantisBT.  If not, see <http://www.gnu.org/licenses/>.
 /**
  * MantisBT Constants
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  *
  */
 
 /**
  * Mantis Version
@@ -146,10 +147,11 @@
 define( 'CRYPT_FULL_SALT', 2 );
 define( 'MD5', 3 );
 define( 'LDAP', 4 );
 define( 'BASIC_AUTH', 5 );
 define( 'HTTP_AUTH', 6 );
+define( 'CAS_AUTH', 7);
 
 # file upload methods
 define( 'DISK', 1 );
 define( 'DATABASE', 2 );
 
@@ -429,10 +431,19 @@
 define( 'ERROR_CRYPTO_CAN_NOT_GENERATE_STRONG_RANDOMNESS', 2901 );
 
 # ERROR_API_TOKEN_*
 define( 'ERROR_API_TOKEN_NAME_NOT_UNIQUE', 3000 );
 
+# ERROR_STATUS_*
+define( 'ERROR_STATUS_DUPLICATE_LABEL', 5000 );
+define( 'ERROR_STATUS_INVALID_COLOR', 5003 );
+define( 'ERROR_STATUS_INVALID_LABEL', 5004 );
+define( 'ERROR_STATUS_OTHER_LANGUAGE_EMAIL', 5005 );
+define( 'ERROR_STATUS_CLASSIFICATION_NUMBER', 5006 );
+define( 'ERROR_STATUS_DELETE_WHEN_USE', 5008 );
+define( 'ERROR_STATUS_LANGUAGE', 5009 );
+
 # Generic position constants
 define( 'POSITION_NONE', 0 );
 define( 'POSITION_TOP', 1 );
 define( 'POSITION_BOTTOM', 2 );
 define( 'POSITION_BOTH', 3 ); # POSITION_TOP | POSITION_BOTTOM (bitwise OR)
diff -rNU5 mantisbt/core/csv_api.php mantisbt-2.0.0/core/csv_api.php
--- mantisbt/core/csv_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/csv_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage CSVAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses authentication_api.php
  * @uses bug_api.php
  * @uses category_api.php
@@ -279,11 +280,11 @@
  * @access public
  */
 function csv_format_date_submitted( BugData $p_bug ) {
 	static $s_date_format = null;
 	if( $s_date_format === null ) {
-		$s_date_format = config_get( 'short_date_format' );
+		$s_date_format = config_get( 'csv_export_date_format' );
 	}
 	return date( $s_date_format, $p_bug->date_submitted );
 }
 
 /**
@@ -353,11 +354,11 @@
  * @access public
  */
 function csv_format_last_updated( BugData $p_bug ) {
 	static $s_date_format = null;
 	if( $s_date_format === null ) {
-		$s_date_format = config_get( 'short_date_format' );
+		$s_date_format = config_get( 'csv_export_date_format' );
 	}
 	return date( $s_date_format, $p_bug->last_updated );
 }
 
 /**
@@ -459,11 +460,11 @@
  * @access public
  */
 function csv_format_due_date( BugData $p_bug ) {
 	static $s_date_format = null;
 	if( $s_date_format === null ) {
-		$s_date_format = config_get( 'short_date_format' );
+		$s_date_format = config_get( 'csv_export_date_format' );
 	}
 	
 	$t_value = '';
 	if ( !date_is_null( $p_bug->due_date ) && access_has_bug_level( config_get( 'due_date_view_threshold' ), $p_bug->id ) ) {
 		$t_value = date( $s_date_format, $p_bug->due_date );
diff -rNU5 mantisbt/core/helper_api.php mantisbt-2.0.0/core/helper_api.php
--- mantisbt/core/helper_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/helper_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage HelperAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses config_api.php
@@ -318,12 +319,17 @@
 		return $g_project_override;
 	}
 
 	if( $g_cache_current_project === null ) {
 		$t_cookie_name = config_get( 'project_cookie' );
-
-		$t_project_id = gpc_get_cookie( $t_cookie_name, null );
+		
+		//Mantis-427: try to get first the project id from a http parameter
+		$t_project_id	= gpc_get_string( 'cur_project_id' , '');
+		
+		if ($t_project_id === ''){
+			$t_project_id = gpc_get_cookie( $t_cookie_name, null );
+		}
 
 		if( null === $t_project_id ) {
 			$t_pref = user_pref_get( auth_get_current_user_id(), ALL_PROJECTS );
 			$t_project_id = $t_pref->default_project;
 		} else {
@@ -338,20 +344,57 @@
 	}
 	return $g_cache_current_project;
 }
 
 /**
+ * Return the current project id as stored in a cookie
+ *  If no cookie exists, the user's default project is returned
+ * @return int
+ */
+function helper_get_current_project_with_parent() {
+	global $g_project_override;
+
+	if( $g_project_override !== null ) {
+		return $g_project_override;
+	}
+
+	$t_cookie_name = config_get( 'project_cookie' );
+	
+	//Mantis-427: try to get first the project id from a http parameter
+	$t_project_id_with_parent	= gpc_get_string( 'cur_project_id' , '');
+	if ($t_project_id_with_parent === ''){
+		$t_project_id_with_parent = gpc_get_cookie( $t_cookie_name, null );
+	}
+	if( null === $t_project_id_with_parent ) {
+		$t_pref = user_pref_get( auth_get_current_user_id(), ALL_PROJECTS, false );
+		$t_project_id_with_parent = $t_pref->default_project;
+	} else {
+		$t_project_id = explode( ';', $t_project_id_with_parent );
+		$t_project_id = $t_project_id[count( $t_project_id_with_parent ) - 1];
+	}
+
+	if( !project_exists( $t_project_id ) || ( 0 == project_get_field( $t_project_id, 'enabled' ) ) || !access_has_project_level( VIEWER, $t_project_id ) ) {
+		$t_project_id_with_parent = ALL_PROJECTS;
+	}
+	return $t_project_id_with_parent;
+}
+
+/**
  * Return the current project id as stored in a cookie, in an Array
  * If no cookie exists, the user's default project is returned
  * If the current project is a subproject, the return value will include
  * any parent projects
  * @return array
  */
 function helper_get_current_project_trace() {
 	$t_cookie_name = config_get( 'project_cookie' );
 
-	$t_project_id = gpc_get_cookie( $t_cookie_name, null );
+	//Mantis-427: try to get first the project id from a http parameter
+	$t_project_id	= gpc_get_string( 'cur_project_id' , '');
+	if ($t_project_id === ''){
+		$t_project_id = gpc_get_cookie( $t_cookie_name, null );
+	}
 
 	if( null === $t_project_id ) {
 		$t_bottom = current_user_get_pref( 'default_project' );
 		$t_parent = $t_bottom;
 		$t_project_id = array(
diff -rNU5 mantisbt/core/history_api.php mantisbt-2.0.0/core/history_api.php
--- mantisbt/core/history_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/history_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage HistoryAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses bug_api.php
@@ -773,5 +774,82 @@
 function history_delete( $p_bug_id ) {
 	db_param_push();
 	$t_query = 'DELETE FROM {bug_history} WHERE bug_id=' . db_param();
 	db_query( $t_query, array( $p_bug_id ) );
 }
+
+
+/* ***** Novaforge ***** */
+
+/**
+ * Log an event with given dates
+ * events should be logged *after* the modification
+ * @param int $p_bug_id
+ * @param string $p_field_name
+ * @param string $p_old_value
+ * @param string $p_new_value
+ * @param int $p_user_id
+ * @param int $p_type
+ * @param string $p_date_modified
+ */
+function history_log_event_direct_with_date( $p_bug_id, $p_field_name, $p_old_value, $p_new_value, $p_user_id = null, $p_type = 0, $p_date_modified) {
+
+	if( null === $p_user_id ) {
+		$p_user_id = auth_get_current_user_id();
+	}
+
+	$c_field_name = $p_field_name;
+	$c_old_value = ( is_null( $p_old_value ) ? '' : $p_old_value );
+	$c_new_value = ( is_null( $p_new_value ) ? '' : $p_new_value );
+		
+	db_param_push();
+	$t_query = 'INSERT INTO {bug_history}
+						( user_id, bug_id, date_modified, field_name, old_value, new_value, type )
+					VALUES
+						( ' . db_param() . ', ' . db_param() . ', ' . db_param() . ', ' . db_param() . ', ' . db_param() . ', ' . db_param() . ', ' . db_param() . ' )';
+			
+	db_query( $t_query, array( $p_user_id, $p_bug_id, $p_date_modified, $c_field_name, $c_old_value, $c_new_value, $p_type ) );
+				
+}
+
+/**
+ * Delete the last history associated with a bug
+ * @param int $p_bug_id
+ * @return true
+ */
+function history_delete_last( $p_bug_id ) {
+    db_param_push();
+	$query = 'SELECT id FROM {bug_history}  WHERE bug_id=' . db_param() . ' ORDER BY date_modified DESC LIMIT 1'; 
+	$result = db_query( $query, Array( $p_bug_id ) );
+	
+	$t_row = db_fetch_array( $result );
+		
+	$query = 'DELETE FROM {bug_history} WHERE id=' . db_param();
+	db_query( $query, Array( $t_row['id'] ) );
+	
+	return true;
+}
+
+/**
+ * Update the field new_value of a bugnote
+ * @param int $p_bug_id
+ * @param string $p_old_new_value the old value to be updated
+ * @param string $p_new_new_value the old value to update 
+ * @return true
+ */
+function history_update_new_value( $p_bug_id, $p_old_new_value, $p_new_new_value ) {
+
+    db_param_push();
+	$query = 'SELECT id FROM {bug_history} WHERE bug_id=' . db_param() . ' AND new_value=' . db_param(); 
+	$results = db_query( $query, Array( $p_bug_id, $p_old_new_value ) );
+	
+	while (  $t_row  =  db_fetch_array($results) )  {
+		$message = $t_row['id'];
+		db_param_push();
+  		$query = 'UPDATE {bug_history} SET new_value=' . db_param() . ' WHERE id=' . db_param();
+		db_query( $query, Array( $p_new_new_value, $t_row['id'] ) );
+	}
+
+	return true;
+}
+
+/* ***** Novaforge ***** */
diff -rNU5 mantisbt/core/html_api.php mantisbt-2.0.0/core/html_api.php
--- mantisbt/core/html_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/html_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -22,10 +22,11 @@
  *
  * @package CoreAPI
  * @subpackage HTMLAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses bug_api.php
@@ -312,10 +313,14 @@
 	html_javascript_link( 'dropzone.min.js');
 	html_javascript_link( 'common.js' );
 	foreach ( $g_scripts_included as $t_script_path ) {
 		html_javascript_link( $t_script_path );
 	}
+	
+	//Mantis-427: insert the novaforge.js 
+	//which contains the code that will manipulate the DOM in order to add cur_project_id parameter
+	html_javascript_link( 'novaforge.js' );
 }
 
 /**
  * End the <head> section
  * @return void
@@ -671,10 +676,17 @@
 
 	if( config_get( 'relationship_graph_enable' ) ) {
 		$t_pages['manage_config_workflow_graph_page.php'] = array( 'url'   => 'manage_config_workflow_graph_page.php',
 		                                                           'label' => 'manage_workflow_graph' );
 	}
+	
+	$mantis_project_id = helper_get_current_project();			
+	if (file_exists( dirname( dirname( __FILE__ ) ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$mantis_project_id.'.php' ) )	
+	{
+		$t_pages['manage_config_status_page.php'] = array( 'url'   => 'manage_config_status_page.php',
+	                                                       'label' => 'manage_status_config' );
+	}
 
 	if( config_get( 'enable_email_notification' ) == ON ) {
 		$t_pages['manage_config_email_page.php'] = array( 'url'   => 'manage_config_email_page.php',
 		                                                  'label' => 'manage_email_config' );
 	}
diff -rNU5 mantisbt/core/http_api.php mantisbt-2.0.0/core/http_api.php
--- mantisbt/core/http_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/http_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -20,10 +20,12 @@
  * Provides functions to manage HTTP response headers.
  *
  * @package CoreAPI
  * @subpackage HTTPAPI
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses config_api.php
  */
 
@@ -38,11 +40,16 @@
 /**
  * Checks to see if script was queried through the HTTPS protocol
  * @return boolean True if protocol is HTTPS
  */
 function http_is_protocol_https() {
-	return !empty( $_SERVER['HTTPS'] ) && ( utf8_strtolower( $_SERVER['HTTPS'] ) != 'off' );
+	if ( !empty( $_SERVER['HTTP_X_FORWARDED_PROTO'] ) ) {
+		$t_protocol= $_SERVER['HTTP_X_FORWARDED_PROTO'];
+	} else if ( !empty( $_SERVER['HTTPS'] ) ) {
+		$t_protocol = $_SERVER['HTTPS'];
+	}
+	return isset( $t_protocol ) && !empty( $t_protocol ) && ( utf8_strtolower( $t_protocol ) != 'off' );
 }
 
 /**
  * Check to see if the client is using Microsoft Internet Explorer so we can
  * enable quirks and hacky non-standards-compliant workarounds.
@@ -206,18 +213,18 @@
  * Set security headers (frame busting, clickjacking/XSS/CSRF protection).
  * @return void
  */
 function http_security_headers() {
 	if( !headers_sent() ) {
-		header( 'X-Frame-Options: DENY' );
-
+		// Needed by mantis is shown inside an iFrame
+		#header( 'X-Frame-Options: DENY' );
 		# Define Content Security Policy
-		http_csp_add( 'default-src', "'self'" );
-		http_csp_add( 'frame-ancestors', "'none'" );
+		#http_csp_add( 'default-src', "'self'" );
+		#http_csp_add( 'frame-ancestors', "'none'" );
 		http_csp_add( 'style-src', "'self'" );
 		http_csp_add( 'style-src', "'unsafe-inline'" );
-		http_csp_add( 'script-src', "'self'" );
+		#http_csp_add( 'script-src', "'self'" );
 		http_csp_add( 'img-src', "'self'" );
 
 		# White list the CDN urls (if enabled)
 		if ( config_get_global( 'cdn_enabled' ) == ON ) {
 			http_csp_add( 'style-src', 'ajax.googleapis.com' );
diff -rNU5 mantisbt/core/lang_api.php mantisbt-2.0.0/core/lang_api.php
--- mantisbt/core/lang_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/lang_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage LanguageAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses authentication_api.php
  * @uses config_api.php
  * @uses constant_inc.php
@@ -53,11 +54,11 @@
  * @param string $p_lang Name of Language to load.
  * @param string $p_dir  Directory Containing language file.
  * @return void
  */
 function lang_load( $p_lang, $p_dir = null ) {
-	global $g_lang_strings, $g_active_language;
+	global $g_lang_strings, $g_active_language, $t_instance_inc_found;
 
 	$g_active_language = $p_lang;
 	if( isset( $g_lang_strings[$p_lang] ) && is_null( $p_dir ) ) {
 		return;
 	}
@@ -71,10 +72,17 @@
 	} else {
 		if( is_file( $p_dir . 'strings_' . $p_lang . '.txt' ) ) {
 			include_once( $p_dir . 'strings_' . $p_lang . '.txt' );
 		}
 	}
+	
+	if ($t_instance_inc_found)
+	{
+		$instance=session_get('project_id');
+		require( dirname( dirname( __FILE__ ) ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$instance.'.php' );	
+		
+	}
 
 	# Allow overriding strings declared in the language file.
 	# custom_strings_inc.php can use $g_active_language.
 	# Include file multiple times to allow for overrides per language.
 	global $g_config_path;
@@ -287,11 +295,16 @@
 	#  language files actually *contain* English strings if none has been
 	#  defined in the correct language
 	# @todo thraxisp - not sure if this is still true. Strings from last language loaded
 	#      may still be in memeory if a new language is loaded.
 
-	if( lang_exists( $p_string, $t_lang ) ) {
+	if( lang_exists( $p_string."_".$t_lang, $t_lang ) ) 
+	{			
+		return $g_lang_strings[$t_lang][$p_string."_".$t_lang];
+	}
+	else if( lang_exists( $p_string, $t_lang ) ) 
+	{
 		return $g_lang_strings[$t_lang][$p_string];
 	} else {
 		$t_plugin_current = plugin_get_current();
 		if( !is_null( $t_plugin_current ) ) {
 			lang_load( $t_lang, config_get( 'plugin_path' ) . $t_plugin_current . DIRECTORY_SEPARATOR . 'lang' . DIRECTORY_SEPARATOR );
diff -rNU5 mantisbt/core/layout_api.php mantisbt-2.0.0/core/layout_api.php
--- mantisbt/core/layout_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/layout_api.php	2017-02-21 11:30:52.000000000 +0100
@@ -32,10 +32,11 @@
  *
  *
  * @package CoreAPI
  * @subpackage LayoutAPI
  * @copyright Copyright 2014 MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses utility_api.php
  */
@@ -53,10 +54,27 @@
  * @return void
  */
 function layout_page_header( $p_page_title = null, $p_redirect_url = null, $p_page_id = null ) {
 	layout_page_header_begin( $p_page_title );
 	if( $p_redirect_url !== null ) {
+	    //Begin-NOVAFHELP-452 : Complete Mantis-427
+		if (strpos($p_redirect_url, 'cur_project_id') === false){
+			if ( isset($_POST['cur_project_id']) and $_POST['cur_project_id'] != "" ) {
+				$cur_project_id = $_POST['cur_project_id'];
+			}
+			if($cur_project_id !== null && $cur_project_id !=0){
+				if (strpos($p_redirect_url, 'php?') !== false)
+				{
+				   $p_redirect_url=$p_redirect_url.'&cur_project_id='.$cur_project_id;
+				}
+				else
+				{
+				   $p_redirect_url=$p_redirect_url.'?cur_project_id='.$cur_project_id;
+				}
+			}
+		}
+		//End-NOVAFHELP-452 :Complete Mantis-427
 		html_meta_redirect( $p_redirect_url );
 	}
 
 	layout_page_header_end( $p_page_id );
 }
@@ -532,11 +550,11 @@
 		}
 
 		echo ' <i class="ace-icon fa fa-angle-down bigger-110"></i>' . "\n";
 		echo '</a>' . "\n";
 
-		echo '<ul class="dropdown-menu dropdown-menu-right dropdown-yellow dropdown-caret dropdown-close scrollable-menu">' . "\n";
+		echo '<ul id = "ul-set-project" class="dropdown-menu dropdown-menu-right dropdown-yellow dropdown-caret dropdown-close scrollable-menu">' . "\n";
 		layout_navbar_projects_list( join( ';', helper_get_current_project_trace() ), true, null, true );
 		echo '</ul>' . "\n";
 		echo '</li>' . "\n";
 	} else {
 		# User has only one project, set it as both current and default
@@ -622,11 +640,11 @@
 		if( $p_can_report_only ) {
 			$t_report_bug_threshold = config_get( 'report_bug_threshold', null, $t_user_id, $t_id );
 			$t_can_report = access_has_project_level( $t_report_bug_threshold, $t_id, $t_user_id );
 		}
 
-		echo 0 == strcmp( $t_id, $p_project_id ) ? '<li class="active">' : '<li>';
+		echo 0 == strcmp( $t_id, $p_project_id ) ? '<li class="active" value="'. $t_id.'">' : '<li>';
 		echo '<a href="' . helper_mantis_url( 'set_project.php' ) . '?project_id=' . $t_id . '"';
 		check_selected( $p_project_id, $t_id, false );
 		check_disabled( $t_id == $p_filter_project_id || !$t_can_report );
 		echo '> ' . string_attribute( project_get_field( $t_id, 'name' ) ) . ' </a></li>' . "\n";
 		layout_navbar_subproject_option_list( $t_id, $p_project_id, $p_filter_project_id, $p_trace, $p_can_report_only );
@@ -1192,10 +1210,18 @@
 
 	# Print table of log events
 	log_print_to_page();
 
 	layout_footer_end();
+	
+	//Mantis-427: call novaforge.js script in order to add the current project id as parameter to each link and form.
+	echo '<script type="text/javascript">', "\n";
+	echo 'var project_id = getProjectId();', "\n";
+	//NOVAFHELP-452 : in case of there is only one project created in Mantis
+	echo ' if(!project_id) {project_id='. helper_get_current_project() .';}'.  "\n";
+	echo '	if (project_id){addProjectIdToRequest(project_id);}</script>', "\n";
+		
 }
 
 /**
  * Render opening markup for footer section
  * @return null
diff -rNU5 mantisbt/core/print_api.php mantisbt-2.0.0/core/print_api.php
--- mantisbt/core/print_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/print_api.php	2017-04-13 14:52:09.000000000 +0200
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage PrintAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses bug_group_action_api.php
@@ -97,11 +98,28 @@
  */
 function print_header_redirect( $p_url, $p_die = true, $p_sanitize = false, $p_absolute = false ) {
 	if( ON == config_get_global( 'stop_on_errors' ) && error_handled() ) {
 		return false;
 	}
-
+    //Begin-NOVAFHELP-452 : Complete Mantis-427
+	$cur_project_id = null;
+	if (strpos($p_url, 'cur_project_id') === false){
+		if ( isset($_POST['cur_project_id']) && $_POST['cur_project_id'] !== "") {
+			$cur_project_id = $_POST['cur_project_id'];
+		}
+		if($cur_project_id !== null && $cur_project_id !=0){
+			if (strpos($p_url, 'php?') !== false)
+			{
+			   $p_url=$p_url.'&cur_project_id='.$cur_project_id;
+			}
+			else
+			{
+			   $p_url=$p_url.'?cur_project_id='.$cur_project_id;
+			}
+		}
+	}
+	//End-NOVAFHELP-452 : Complete Mantis-427
 	# validate the url as part of this site before continuing
 	if( $p_absolute ) {
 		if( $p_sanitize ) {
 			$t_url = string_sanitize_url( $p_url );
 		} else {
@@ -1103,19 +1121,41 @@
 /**
  * Print option list of available language choices
  * @param string $p_language The current language.
  * @return void
  */
+/*
 function print_language_option_list( $p_language ) {
 	$t_arr = config_get( 'language_choices_arr' );
 	$t_enum_count = count( $t_arr );
 	for( $i = 0;$i < $t_enum_count;$i++ ) {
 		$t_language = string_attribute( $t_arr[$i] );
 		echo '<option value="' . $t_language . '"';
 		check_selected( $t_language, $p_language );
 		echo '>' . $t_language . '</option>';
 	}
+}
+*/
+function print_language_option_list( $p_language, $p_hidden_languages = null) {
+	if ( $p_hidden_languages != null ) {
+		$t_arr_custom = array_diff(config_get( 'language_choices_arr' ), $p_hidden_languages);
+		$i=0;
+		foreach ( $t_arr_custom as $key => $value ) {
+       		$t_arr[$i] = $value;
+       		$i++;
+		}
+	}
+	else {	
+		$t_arr = config_get( 'language_choices_arr' );
+	}
+	$enum_count = count( $t_arr );
+	for( $i = 0;$i < $enum_count;$i++ ) {
+		$t_language = string_attribute( $t_arr[$i] );
+		echo '<option value="' . $t_language . '"';
+		check_selected( $t_language, $p_language );
+		echo '>' . $t_language . '</option>';
+	}
 }
 
 /**
  * Print a dropdown list of all bug actions available to a user for a specified
  * set of projects.
diff -rNU5 mantisbt/core/project_api.php mantisbt-2.0.0/core/project_api.php
--- mantisbt/core/project_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/project_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage ProjectAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses bug_api.php
  * @uses category_api.php
  * @uses config_api.php
@@ -328,11 +329,11 @@
  * @param boolean $p_inherit_global Whether the project inherits global categories.
  * @return integer
  */
 function project_create( $p_name, $p_description, $p_status, $p_view_state = VS_PUBLIC, $p_file_path = '', $p_enabled = true, $p_inherit_global = true ) {
 	$c_enabled = (bool)$p_enabled;
-
+	
 	if( is_blank( $p_name ) ) {
 		trigger_error( ERROR_PROJECT_NAME_INVALID, ERROR );
 	}
 
 	project_ensure_name_unique( $p_name );
@@ -892,5 +893,69 @@
  */
 function project_format_id( $p_project_id ) {
 	$t_padding = config_get( 'display_project_padding' );
 	return( utf8_str_pad( $p_project_id, $t_padding, '0', STR_PAD_LEFT ) );
 }
+
+function instance_configuration_create($p_projectid)
+{
+	$file_path=dirname( dirname( __FILE__ ) ).DIRECTORY_SEPARATOR.'conf-instance';
+	$file_name=$file_path.DIRECTORY_SEPARATOR.'config_status_'.$p_projectid.'.php';
+	if (!file_exists($file_path))
+	{
+		mkdir($file_path,0777,TRUE);
+	}
+	
+	if (!file_exists($file_name))
+	{
+		$handle = fopen($file_name, "x+");
+		$somecontent = "<?php\n".
+		"/**\n".
+		 "* Custom Configuration Variables for project : ".$p_projectid."\n".
+		 "*\n*/\n\n\n";
+
+		 
+		 $somecontent .="/**\n".
+		 "* #status_enum_string#\n".
+		 "*/\n\n";
+
+		 
+		 $somecontent .="/**\n".
+		 "* status color codes, using the Tango color palette\n".
+		 "* #status_colors#\n".
+		 "*/\n\n";
+		 
+		 $somecontent .="/**\n".
+		 "* #enum_language#\n".
+		 "*/	\n\n";		 
+		 
+		 $somecontent .= "\n/**\n".
+		 "* #name#\n".
+		 "*/\n\n";
+		 		
+		 $somecontent .= "\n/**\n".
+		 "* #title#\n".
+		 "*/\n\n";
+		 
+
+		 $somecontent .= "/**\n".
+		 "* #button#\n".
+		 "*/\n\n";
+		 			 
+		 $somecontent .= "/**\n".
+		 "* #notification_email#\n".
+		 "*/	\n\n";
+		 	 
+		 
+		 $somecontent .= "/**\n".
+		 "* #email#\n".
+		 "*/\n\n";	
+		 
+		 
+		fwrite($handle,$somecontent);
+
+		fclose($handle);
+		
+		chmod($file_path,0777);
+	}	
+	return true;	
+}
diff -rNU5 mantisbt/core/string_api.php mantisbt-2.0.0/core/string_api.php
--- mantisbt/core/string_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/string_api.php	2017-07-13 15:28:40.000000000 +0200
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage StringProcessingAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses bug_api.php
@@ -922,5 +923,40 @@
 function string_prepare_header( $p_string ) {
 	$t_string= explode( "\n", $p_string, 2 );
 	$t_string= explode( "\r", $t_string[0], 2 );
 	return $t_string[0];
 }
+
+/**
+ * //Mantis-427: 
+ * Removes the given parameter from the given url
+ * @param string $p_parameter param to be removed
+ * @param string $url initial url
+ * @return the url without the parameter
+ */
+function string_remove_param_from_url($url, $p_parameter) {
+    //NOVAFHELP-452 : Complete Mantis-427
+   $pattern='/([?&])'.$p_parameter.'=[^&]+(&|$)/';
+   $t_url_len = strlen( $url);
+   $t_remove_car = false;
+   
+   if( preg_match($pattern,$url,$matches,PREG_OFFSET_CAPTURE)){
+		if ($matches!=null && $matches[1]!=null){
+			 // check if the caracter ? or & has to be removed from URL
+			 // It can be removed if the field to remove is at the end of the url
+			 if ( $matches[1][0] == '?' || $matches[1][0]== '&'){
+				//position du $1
+				$t_pos_match = $matches[0][1];
+				$t_len_match = strlen($matches[0][0]);
+				$t_end_match = $t_pos_match + $t_len_match;
+				if ($t_end_match == $t_url_len)
+					$t_remove_car = true;
+			}
+		}
+	}
+   if ($t_remove_car) {
+		return preg_replace('/([?&])'.$p_parameter.'=[^&]+(&|$)/','',$url);
+	}
+	else {
+	     return preg_replace('/([?&])'.$p_parameter.'=[^&]+(&|$)/','$1',$url);
+	}
+}
\ No newline at end of file
diff -rNU5 mantisbt/core/user_api.php mantisbt-2.0.0/core/user_api.php
--- mantisbt/core/user_api.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core/user_api.php	2017-02-21 11:35:53.000000000 +0100
@@ -19,10 +19,11 @@
  *
  * @package CoreAPI
  * @subpackage UserAPI
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses access_api.php
  * @uses authentication_api.php
  * @uses config_api.php
@@ -606,11 +607,11 @@
 	if( $p_protected ) {
 		user_set_field( $t_user_id, 'protected', (bool)$p_protected );
 	}
 
 	# Send notification email
-	if( !is_blank( $p_email ) ) {
+	if( (!is_blank( $p_email )) && ( config_get( 'create_user_notification' ) == ON ) ) {
 		$t_confirm_hash = auth_generate_confirm_hash( $t_user_id );
 		token_set( TOKEN_ACCOUNT_ACTIVATION, $t_confirm_hash, TOKEN_EXPIRY_ACCOUNT_ACTIVATION, $t_user_id );
 		email_signup( $t_user_id, $t_confirm_hash, $p_admin_name );
 	}
 
diff -rNU5 mantisbt/core.php mantisbt-2.0.0/core.php
--- mantisbt/core.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/core.php	2017-02-21 11:35:53.000000000 +0100
@@ -22,10 +22,11 @@
  * are required to be executed on every page load.
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses authentication_api.php
  * @uses collapse_api.php
  * @uses compress_api.php
@@ -229,10 +230,38 @@
 }
 
 # Register global shutdown function
 shutdown_functions_register();
 
+# PHP Sessions
+require_api( 'forge_api.php' );
+
+# Authentication and user setup
+$t_instance_inc_found = false;
+
+if ( auth_is_user_authenticated() )
+{	
+	$mantis_project_id = helper_get_current_project();	
+	session_set( 'project_id', $mantis_project_id );	
+	
+	if ($mantis_project_id != null && $mantis_project_id != 0)
+	{
+		# config_inc may not be present if this is a new install
+		if ( file_exists( dirname( __FILE__ ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$mantis_project_id.'.php' ) ) 
+		{
+			require_once( dirname( __FILE__ ).DIRECTORY_SEPARATOR.'conf-instance'.DIRECTORY_SEPARATOR.'config_status_'.$mantis_project_id.'.php' );	
+			$t_instance_inc_found = true;				
+		}
+	 }
+}
+
+
+# Load internationalization functions (needed before database_api, in case database connection fails)
+require_api( 'conf_instance_file_api.php' );
+require_api( 'lang_api.php' );
+require_api( 'status_api.php' );
+	
 # Initialise plugins
 require_api( 'plugin_api.php' );  // necessary for some upgrade steps
 if( !defined( 'PLUGINS_DISABLED' ) && !defined( 'MANTIS_MAINTENANCE_MODE' ) ) {
 	plugin_init_installed();
 }
diff -rNU5 mantisbt/lang/strings_english.txt mantisbt-2.0.0/lang/strings_english.txt
--- mantisbt/lang/strings_english.txt	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/lang/strings_english.txt	2017-02-21 11:35:53.000000000 +0100
@@ -33,10 +33,11 @@
  * See the qqq 'language' for message documentation incl. usage of parameters
  *
  * @ingroup Language
  * @file
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @author Adrian Spinei
  * @author Alexey Chumakov
  * @author Andr Eisenbach
@@ -479,10 +480,11 @@
 
 # bug_action_group_page
 $s_multiple_projects = 'The issues you have selected are from different projects. The parameters below reflect the settings for all projects. If this is incorrect, please retry your change with a smaller number of issues selected.';
 
 # bug_change_status_page.php
+$s_name_status = 'Name';
 $s_new_bug_title = 'New Issue';
 $s_feedback_bug_title = 'Request Feedback on Issue';
 $s_acknowledged_bug_title = 'Acknowledge Issue';
 $s_confirmed_bug_title = 'Confirm Issue';
 $s_assigned_bug_title = 'Assign Issue';
@@ -754,10 +756,11 @@
 $s_manage_global_profiles_link = 'Manage Global Profiles';
 $s_manage_plugin_link = 'Manage Plugins';
 $s_permissions_summary_report = 'Permissions Report';
 $s_manage_config_link = 'Manage Configuration';
 $s_manage_threshold_config = 'Workflow Thresholds';
+$s_manage_status_config = 'Bugs Status';
 $s_manage_email_config = 'E-mail Notifications';
 $s_manage_workflow_config = 'Workflow Transitions';
 $s_manage_workflow_graph = 'Workflow Graph';
 $s_manage_tags_link = 'Manage Tags';
 $s_create_new_account_link = 'Create New Account';
@@ -845,10 +848,34 @@
 # manage_config_revert_page
 $s_config_delete_sure = 'Are you sure you want to delete the settings for:';
 $s_in_project = 'in project';
 $s_delete_config_button = 'Delete Settings';
 
+# manage_config_status_page.php
+$s_list_status = 'Status list';
+$s_manage_status = 'Manage bugs status';
+$s_language_status = 'Language(s)';
+$s_label_status = 'Label';
+$s_label_condition = '(only alphanumeric characters)';
+$s_name_status = 'Name';
+$s_classification_status = 'Classification';
+$s_update_classification = 'Update classification';
+$s_warning_classification_status = 'Be carefull about update classification : it could affect workflow thresholds and workflow transitions !';
+$s_title_status = 'Title';
+$s_button_status = 'Status button';
+$s_color_status = 'Color';
+$s_color_condition = '(six hexadecimal characters)';
+$s_email_status = 'Email notification';
+$s_default_email_status = 'The following bug has been...';
+$s_add_language = 'Add a language';
+$s_delete_language = 'Delete a language';
+$s_create_status = 'Create a new status';
+$s_update_status = 'Update status';
+$s_delete = 'Suppression';
+$s_delete_status = 'Delete status';
+$s_delete_status_conf_msg = 'Are you sure you wish to delete this status?';
+
 # adm_config_report.php
 $s_configuration_report = 'Configuration Report';
 $s_database_configuration = 'Database Configuration';
 $s_configuration_option = 'Configuration Option';
 $s_configuration_option_type = 'Type';
@@ -1769,10 +1796,17 @@
 $MANTIS_ERROR[ERROR_TYPE_MISMATCH] = 'Data Type mismatch. Enable detailed error messages for further information.';
 $MANTIS_ERROR[ERROR_BUG_CONFLICTING_EDIT] = 'This issue has been updated by another user, please return to the issue and submit your changes again.';
 $MANTIS_ERROR[ERROR_SPAM_SUSPECTED] = 'You have reached the allowed activity limit of %d events within the last %d seconds; your action has been blocked to avoid spam, please try again later.';
 $MANTIS_ERROR[ERROR_FIELD_TOO_LONG] = 'Field "%1$s" must be shorter or equal to %2$d characters long.';
 $MANTIS_ERROR[ERROR_API_TOKEN_NAME_NOT_UNIQUE] = 'API token name "%s" is already being used. Please go back and select another one.';
+$MANTIS_ERROR[ERROR_STATUS_DUPLICATE_LABEL] = 'A status already exists with that label.';
+$MANTIS_ERROR[ERROR_STATUS_INVALID_COLOR] = 'This color has a wrong format.';
+$MANTIS_ERROR[ERROR_STATUS_INVALID_LABEL] = 'This label has a wrong format.';
+$MANTIS_ERROR[ERROR_STATUS_OTHER_LANGUAGE_EMAIL] = 'Missing english email field to add an email in other language.';
+$MANTIS_ERROR[ERROR_STATUS_CLASSIFICATION_NUMBER] = 'Two status have the same number.';
+$MANTIS_ERROR[ERROR_STATUS_DELETE_WHEN_USE] = 'Impossible to delete this status : it is used.';
+$MANTIS_ERROR[ERROR_STATUS_LANGUAGE] = 'Sorry : impossible to manage status with this default language.';
 
 # dropzone.js - placeholders format is defined by the library
 $s_dropzone_default_message = 'Drop files here to upload (or click)';
 $s_dropzone_fallback_message = 'Your browser does not support drag\'n\'drop file uploads.';
 $s_dropzone_fallback_text = '';
diff -rNU5 mantisbt/lang/strings_french.txt mantisbt-2.0.0/lang/strings_french.txt
--- mantisbt/lang/strings_french.txt	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/lang/strings_french.txt	2017-02-21 11:35:53.000000000 +0100
@@ -1,10 +1,11 @@
 <?php
 /** MantisBT - a php based bugtracking system
  *
  * Copyright (C) 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * Copyright (C) 2002 - 2016  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  *
  * MantisBT is free software: you can redistribute it and/or modify
  * it under the terms of the GNU General Public License as published by
  * the Free Software Foundation, either version 2 of the License, or
  * (at your option) any later version.
@@ -396,10 +397,11 @@
 $s_email_updated = 'Adresse de courriel mise  jour avec succs';
 $s_realname_duplicated = 'Ce nom rel est utilis par un autre utilisateur';
 $s_realname_updated = 'Nom rel mis  jour avec succs';
 $s_password_updated = 'Mot de passe mis  jour avec succs';
 $s_multiple_projects = 'Les bogues slectionns proviennent de diffrents projets. Les paramtres ci-dessous s\'appliquent  tous les projets. Si cela ne convient pas, slectionnez un plus petit nombre de bogues.';
+$s_name_status = 'Nom';
 $s_new_bug_title = 'Nouveau bogue';
 $s_feedback_bug_title = 'Demander des informations sur le bogue';
 $s_acknowledged_bug_title = 'Accepter le bogue';
 $s_confirmed_bug_title = 'Confirmer le bogue';
 $s_assigned_bug_title = 'Assigner le bogue';
@@ -591,10 +593,11 @@
 $s_manage_global_profiles_link = 'Grer les profils globaux';
 $s_manage_plugin_link = 'Grer les plugiciels';
 $s_permissions_summary_report = 'Rapport des permissions';
 $s_manage_config_link = 'Grer la configuration';
 $s_manage_threshold_config = 'Seuils du workflow';
+$s_manage_status_config = 'Etats des bogues';
 $s_manage_email_config = 'Notifications par courriel';
 $s_manage_workflow_config = 'Workflow';
 $s_manage_workflow_graph = 'Graphique d\'enchanement des actions';
 $s_manage_tags_link = 'Grer les balises';
 $s_create_new_account_link = 'Crer un nouveau compte';
@@ -1267,10 +1270,33 @@
 $s_timeline_issue_unassigned = '<span class="username">%1$s</span> problme non assign <span class="issue_id">%2$s</span>';
 $s_timeline_no_activity = 'Aucune activit dans lintervalle de temps.';
 $s_timeline_title = 'Chronologie';
 $s_timeline_more = 'Plus dvnements';
 $s_missing_error_string = 'Chane d\'erreur manquante :%1$s';
+# manage_config_status_page.php
+$s_list_status = 'Liste des statuts';
+$s_manage_status = 'Gestion des statuts';
+$s_language_status = 'Langage(s)';
+$s_label_status = 'Libell';
+$s_label_condition = '(seulement des caractres alphanumriques)';
+$s_name_status = 'Nom';
+$s_classification_status = 'Classification';
+$s_update_classification = 'Mis  jour de la classification';
+$s_warning_classification_status = 'Attention  la modification de la classification : cela peut affecter le cheminement de travail ou les seuils du cheminement de travail !';
+$s_title_status = 'Titre';
+$s_button_status = 'Bouton du statut';
+$s_color_status = 'Couleur';
+$s_color_condition = '(six caractres hxadcimaux)';
+$s_email_status = 'Notification par email';
+$s_default_email_status = 'Le bug suivant a t...';
+$s_add_language = 'Ajouter un langage';
+$s_delete_language = 'Supprimer un langage';
+$s_create_status = 'Crer un nouveau statut';
+$s_update_status = 'Mis  jour du statut';
+$s_delete = 'Suppression';
+$s_delete_status = 'Suppression du statut';
+$s_delete_status_conf_msg = 'Etes vous sre de vouloir supprimer ce statut?';
 $MANTIS_ERROR[ERROR_GENERIC] = 'Une erreur s\'est produite.  Merci de contacter votre administrateur.';
 $MANTIS_ERROR[ERROR_SQL] = 'Erreur SQL dtecte.';
 $MANTIS_ERROR[ERROR_REPORT] = 'Il y avait une erreur dans votre rapport.';
 $MANTIS_ERROR[ERROR_NO_FILE_SPECIFIED] = 'Aucun fichier spcifi';
 $MANTIS_ERROR[ERROR_FILE_DISALLOWED] = 'Type de fichier interdit';
@@ -1405,14 +1431,24 @@
 $MANTIS_ERROR[ERROR_TYPE_MISMATCH] = 'Incompatibilit de Type de donnes. Activez les messages d\'erreur dtaills pour plus d\'information.';
 $MANTIS_ERROR[ERROR_BUG_CONFLICTING_EDIT] = 'Ce problme a t mis  jour par un autre utilisateur, veuillez y revenir et soumettre de nouveau vos modifications.';
 $MANTIS_ERROR[ERROR_SPAM_SUSPECTED] = 'Vous avez atteint la limite dactivit autorise de %d vnements durant les %d dernires secondes; votre action a t bloque pour viter le spam, veuillez ressayer ultrieurement.';
 $MANTIS_ERROR[ERROR_FIELD_TOO_LONG] = 'Le champ %1$s doit faire moins de %2$d caractres de long.';
 $MANTIS_ERROR[ERROR_API_TOKEN_NAME_NOT_UNIQUE] = 'Le nom de jeton de lAPI %s est dj utilis. Veuillez revenir en arrire et en slectionner un autre.';
+$MANTIS_ERROR[ERROR_STATUS_DUPLICATE_LABEL] = 'Un statut existe dj avec ce label.';
+$MANTIS_ERROR[ERROR_STATUS_INVALID_COLOR] = 'Mauvais format de couleur.';
+$MANTIS_ERROR[ERROR_STATUS_INVALID_LABEL] = 'Mauvais format de label.';
+$MANTIS_ERROR[ERROR_STATUS_OTHER_LANGUAGE_EMAIL] = 'Il manque l\'email en anglais pour l\'ajouter dans d\'autre langage.';
+$MANTIS_ERROR[ERROR_STATUS_CLASSIFICATION_NUMBER] = 'Deux statuts ont le mme classement.';
+$MANTIS_ERROR[ERROR_STATUS_DELETE_WHEN_USE] = 'Impossible de supprimer ce statut : il est actuellement utilis.';
+$MANTIS_ERROR[ERROR_STATUS_LANGUAGE] = 'Dsol : impossible de grer les statut avec ce language par dfaut.';
 $s_dropzone_default_message = 'Dposer les fichiers ici pour les tlverser (ou cliquer)';
 $s_dropzone_fallback_message = 'Votre navigateur ne supporte pas le tlversement de fichiers par glisser-dposer.';
 $s_dropzone_file_too_big = 'Le fichier est trop gros ({{filesize}}MiB). Taille maximale du fichier : {{maxFilesize}}MiB.';
 $s_dropzone_invalid_file_type = 'Vous ne pouvez pas tlverser des fichiers de ce type.';
 $s_dropzone_response_error = 'Le serveur a rpondu avec le code {{statusCode}}.';
 $s_dropzone_cancel_upload = 'Annuler le tlversement';
 $s_dropzone_cancel_upload_confirmation = 'tes-vous sr de vouloir annuler ce tlversement ?';
 $s_dropzone_remove_file = 'Supprimer le fichier';
 $s_dropzone_max_files_exceeded = 'Vous ne pouvez plus tlverser de fichiers.';
+
+
+
diff -rNU5 mantisbt/login.php mantisbt-2.0.0/login.php
--- mantisbt/login.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/login.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * Check login then redirect to main_page.php or to login_page.php
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses core.php
  * @uses authentication_api.php
  * @uses config_api.php
@@ -50,10 +51,17 @@
 $f_from			= gpc_get_string( 'from', '' );
 $f_secure_session = gpc_get_bool( 'secure_session', false );
 $f_reauthenticate = gpc_get_bool( 'reauthenticate', false );
 $f_install = gpc_get_bool( 'install' );
 
+if ( CAS_AUTH == config_get( 'login_method' ) ) {
+	# This will detour to the CAS login page if needed
+	$f_password = '';
+	$f_username = auth_cas_get_name();
+	# User is always authenticated by this point
+}
+
 # If upgrade required, always redirect to install page.
 if( $f_install ) {
 	$t_return = 'admin/install.php';
 }
 
@@ -67,11 +75,15 @@
 
 	if( $f_username == 'administrator' && $f_password == 'root' && ( is_blank( $t_return ) || $t_return == 'index.php' ) ) {
 		$t_return = 'account_page.php';
 	}
 
-	$t_redirect_url = 'login_cookie_test.php?return=' . $t_return;
+	if (isset($_REQUEST['instance_id']))  {
+		$t_redirect_url = 'login_cookie_test.php?return=' .  get_project_return_url( gpc_get_string( 'instance_id' ) ) ;
+	} else {
+		$t_redirect_url = 'login_cookie_test.php?return=' . $t_return;
+	}
 } else {
 	$t_query_args = array(
 		'error' => 1,
 		'username' => $f_username,
 		'return' => $t_return,
diff -rNU5 mantisbt/set_project.php mantisbt-2.0.0/set_project.php
--- mantisbt/set_project.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/set_project.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * Set Active Project
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses core.php
  * @uses config_api.php
  * @uses constant_inc.php
@@ -74,11 +75,13 @@
 
 # redirect to 'same page' when switching projects.
 
 # for proxies that clear out HTTP_REFERER
 if( !is_blank( $c_ref ) ) {
-	$t_redirect_url = $c_ref;
+	// Mantis-427: the set_project.php file is called when setting the new project Id from the select input. 
+	// we must here remove any cur_project_id parameter which has been added by JS code manipulating the DOM  to avoid any confusion.
+	$t_redirect_url = string_remove_param_from_url($c_ref, 'cur_project_id');
 } else if( !isset( $_SERVER['HTTP_REFERER'] ) || is_blank( $_SERVER['HTTP_REFERER'] ) ) {
 	$t_redirect_url = config_get( 'default_home_page' );
 } else {
 	$t_home_page = config_get( 'default_home_page' );
 
@@ -106,13 +109,16 @@
 					break;
 				default:
 					$t_path = $t_referrer_page . $t_param;
 					break;
 			}
-			$t_redirect_url = $t_path;
+			// Mantis-427: Remove any cur_project_id parameter which has been added by JS code manipulating the DOM  to avoid any confusion.
+			$t_redirect_url = string_remove_param_from_url($t_path, 'cur_project_id');
 		} else if( $t_referrer_page == 'plugin.php' ) {
 			$t_redirect_url = $t_referrer_page . $t_param; # redirect to same plugin page
+			// Mantis-427: Remove any cur_project_id parameter which has been added by JS code manipulating the DOM  to avoid any confusion.
+			$t_redirect_url = string_remove_param_from_url($t_redirect_url, 'cur_project_id');
 		} else {
 			$t_redirect_url = $t_home_page;
 		}
 	} else {
 		$t_redirect_url = $t_home_page;
diff -rNU5 mantisbt/view_all_set.php mantisbt-2.0.0/view_all_set.php
--- mantisbt/view_all_set.php	2017-02-21 11:35:53.000000000 +0100
+++ mantisbt-2.0.0/view_all_set.php	2017-02-21 11:35:53.000000000 +0100
@@ -18,10 +18,11 @@
  * Set cookie for View all bugs page
  *
  * @package MantisBT
  * @copyright Copyright 2000 - 2002  Kenzaburo Ito - kenito@300baud.org
  * @copyright Copyright 2002  MantisBT Team - mantisbt-dev@lists.sourceforge.net
+ * @copyright Copyright 2017  Atos, NovaForge Version 3 and above.
  * @link http://www.mantisbt.org
  *
  * @uses core.php
  * @uses authentication_api.php
  * @uses config_api.php
@@ -60,10 +61,13 @@
 $f_type					= gpc_get_int( 'type', -1 );
 $f_source_query_id		= gpc_get_int( 'source_query_id', -1 );
 $f_print				= gpc_get_bool( 'print' );
 $f_temp_filter			= gpc_get_bool( 'temporary' );
 
+// Mantis-427: get current project id
+$t_cur_project_id	= helper_get_current_project_with_parent();
+
 # validate filter type
 $f_default_view_type = 'simple';
 if( ADVANCED_DEFAULT == config_get( 'view_filters' ) ) {
 	$f_default_view_type = 'advanced';
 }
@@ -362,11 +366,12 @@
 if( $f_temp_filter ) {
 	$f_type = 1;
 }
 
 if( $f_type < 0 ) {
-	print_header_redirect( 'view_all_bug_page.php' );
+	// Mantis-427: add current project id to the redirect url
+	print_header_redirect( 'view_all_bug_page.php?cur_project_id='.$t_cur_project_id);
 }
 
 $t_hide_status_default = config_get( 'hide_status_default' );
 
 # show bugs per page
@@ -605,13 +610,15 @@
 	gpc_set_cookie( config_get( 'view_all_cookie' ), $t_row_id, time()+config_get( 'cookie_time_length' ), config_get( 'cookie_path' ) );
 }
 
 # redirect to print_all or view_all page
 if( $f_print ) {
-	$t_redirect_url = 'print_all_bug_page.php';
+	// Mantis-427: add current project id to the redirect url
+	$t_redirect_url = 'print_all_bug_page.php?cur_project_id='.$t_cur_project_id;  
 } else {
-	$t_redirect_url = 'view_all_bug_page.php';
+	// Mantis-427: add current project id to the redirect url
+	$t_redirect_url = 'view_all_bug_page.php?cur_project_id='.$t_cur_project_id;
 }
 
 if( $f_temp_filter ) {
 	$t_token_id = token_set( TOKEN_FILTER, $t_settings_serialized );
 	$t_redirect_url = $t_redirect_url . '?filter=' . $t_token_id;
